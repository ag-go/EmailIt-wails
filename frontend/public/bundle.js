var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(t)}function o(e){return"function"==typeof e}function n(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,r,i){t.$$.on_destroy.push(function(t,...r){if(null==t)return e;const i=t.subscribe(...r);return i.unsubscribe?()=>i.unsubscribe():i}(r,i))}function a(e,t,r,i){if(e){const o=l(e,t,r,i);return e[0](o)}}function l(e,t,r,i){return e[1]&&i?function(e,t){for(const r in t)e[r]=t[r];return e}(r.ctx.slice(),e[1](i(t))):r.ctx}function c(e,t,r,i){if(e[2]&&i){const o=e[2](i(r));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],r=Math.max(t.dirty.length,o.length);for(let i=0;i<r;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}function h(e,t,r,i,o,n){if(o){const s=l(t,r,i,n);e.p(s,o)}}function u(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function d(e,t,r){return e.set(r),t}function f(e,t){e.appendChild(t)}function p(e,t,r){e.insertBefore(t,r||null)}function g(e){e.parentNode.removeChild(e)}function m(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function v(e){return document.createElement(e)}function O(e){return document.createTextNode(e)}function _(){return O(" ")}function b(){return O("")}function y(e,t,r,i){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}function w(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function C(e,t,r,i){null===r?e.style.removeProperty(t):e.style.setProperty(t,r,i?"important":"")}function x(e,t){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t)return void(i.selected=!0)}e.selectedIndex=-1}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function E(e,t,r){e.classList[r?"add":"remove"](t)}class P{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}(t.nodeName):this.e=v(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)p(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(g)}}let A;function R(e){A=e}function Q(){if(!A)throw new Error("Function called outside component initialization");return A}function L(e){Q().$$.on_mount.push(e)}function $(e){Q().$$.after_update.push(e)}function M(){const e=Q();return(t,r,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const n=function(e,t,{bubbles:r=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,r,i,t),o}(t,r,{cancelable:i});return o.slice().forEach((t=>{t.call(e,n)})),!n.defaultPrevented}return!0}}const D=[],j=[],B=[],I=[],z=Promise.resolve();let W=!1;function F(){W||(W=!0,z.then(X))}function q(){return F(),z}function G(e){B.push(e)}function U(e){I.push(e)}const H=new Set;let N=0;function X(){const e=A;do{for(;N<D.length;){const e=D[N];N++,R(e),Z(e.$$)}for(R(null),D.length=0,N=0;j.length;)j.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];H.has(t)||(H.add(t),t())}B.length=0}while(D.length);for(;I.length;)I.pop()();W=!1,H.clear(),R(e)}function Z(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}const V=new Set;let Y;function K(){Y={r:0,c:[],p:Y}}function J(){Y.r||i(Y.c),Y=Y.p}function ee(e,t){e&&e.i&&(V.delete(e),e.i(t))}function te(e,t,r,i){if(e&&e.o){if(V.has(e))return;V.add(e),Y.c.push((()=>{V.delete(e),i&&(r&&e.d(1),i())})),e.o(t)}else i&&i()}function re(e,t,r){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=r,r(e.$$.ctx[i]))}function ie(e){e&&e.c()}function oe(e,r,n,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:h}=e.$$;a&&a.m(r,n),s||G((()=>{const r=l.map(t).filter(o);c?c.push(...r):i(r),e.$$.on_mount=[]})),h.forEach(G)}function ne(e,t){const r=e.$$;null!==r.fragment&&(i(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function se(t,o,n,s,a,l,c,h=[-1]){const u=A;R(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(u?u.$$.context:[])),callbacks:r(),dirty:h,skip_bound:!1,root:o.target||u.$$.root};c&&c(d.root);let f=!1;if(d.ctx=n?n(t,o.props||{},((e,r,...i)=>{const o=i.length?i[0]:r;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(D.push(e),F(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),r})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(g)}else d.fragment&&d.fragment.c();o.intro&&ee(t.$$.fragment),oe(t,o.target,o.anchor,o.customElement),X()}R(u)}class ae{$destroy(){ne(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class le{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),he.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),he.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new fe(this),o=new fe(e);for(let e=t,n=t;;){if(i.next(e),o.next(e),e=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(n+=i.value.length,i.done||n>=r)return!0}}iter(e=1){return new fe(this,e)}iterRange(e,t=this.length){return new pe(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ge(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new ce(e):he.from(ce.split(e,[])):le.empty}}class ce extends le{constructor(e,t=function(e){let t=-1;for(let r of e)t+=r.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let n=this.text[o],s=i+n.length;if((t?r:s)>=e)return new me(i,s,r,n);i=s+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new ce(de(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let e=r.pop(),t=ue(o.text,e.text.slice(),0,o.length);if(t.length<=32)r.push(new ce(t,e.length+o.length));else{let e=t.length>>1;r.push(new ce(t.slice(0,e)),new ce(t.slice(e)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof ce))return super.replace(e,t,r);let i=ue(this.text,ue(r.text,de(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new ce(i,o):he.from(ce.split(i,[]),o)}sliceString(e,t=this.length,r="\n"){let i="";for(let o=0,n=0;o<=t&&n<this.text.length;n++){let s=this.text[n],a=o+s.length;o>e&&n&&(i+=r),e<a&&t>o&&(i+=s.slice(Math.max(0,e-o),t-o)),o=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,32==r.length&&(t.push(new ce(r,i)),r=[],i=-1);return i>-1&&t.push(new ce(r,i)),t}}class he extends le{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,r,i){for(let o=0;;o++){let n=this.children[o],s=i+n.length,a=r+n.lines-1;if((t?a:s)>=e)return n.lineInner(e,t,r,i);i=s+1,r=a+1}}decompose(e,t,r,i){for(let o=0,n=0;n<=t&&o<this.children.length;o++){let s=this.children[o],a=n+s.length;if(e<=a&&t>=n){let o=i&((n<=e?1:0)|(a>=t?2:0));n>=e&&a<=t&&!o?r.push(s):s.decompose(e-n,t-n,r,o)}n=a+1}}replace(e,t,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let n=this.children[i],s=o+n.length;if(e>=o&&t<=s){let a=n.replace(e-o,t-o,r),l=this.lines-n.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let o=this.children.slice();return o[i]=a,new he(o,this.length-(t-e)+r.length)}return super.replace(o,s,a)}o=s+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r="\n"){let i="";for(let o=0,n=0;o<this.children.length&&n<=t;o++){let s=this.children[o],a=n+s.length;n>e&&o&&(i+=r),e<a&&t>n&&(i+=s.sliceString(e-n,t-n,r)),n=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof he))return 0;let r=0,[i,o,n,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==n||o==s)return r;let a=this.children[i],l=e.children[o];if(a!=l)return r+a.scanIdentical(l,t);r+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let r=0;for(let t of e)r+=t.lines;if(r<32){let r=[];for(let t of e)t.flatten(r);return new ce(r,t)}let i=Math.max(32,r>>5),o=i<<1,n=i>>1,s=[],a=0,l=-1,c=[];function h(e){let t;if(e.lines>o&&e instanceof he)for(let t of e.children)h(t);else e.lines>n&&(a>n||!a)?(u(),s.push(e)):e instanceof ce&&a&&(t=c[c.length-1])instanceof ce&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new ce(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>i&&u(),a+=e.lines,l+=e.length+1,c.push(e))}function u(){0!=a&&(s.push(1==c.length?c[0]:he.from(c,l)),l=-1,a=c.length=0)}for(let t of e)h(t);return u(),1==s.length?s[0]:new he(s,t)}}function ue(e,t,r=0,i=1e9){for(let o=0,n=0,s=!0;n<e.length&&o<=i;n++){let a=e[n],l=o+a.length;l>=r&&(l>i&&(a=a.slice(0,i-o)),o<r&&(a=a.slice(r-o)),s?(t[t.length-1]+=a,s=!1):t.push(a)),o=l+1}return t}function de(e,t,r){return ue(e,[""],t,r)}le.empty=new ce([""],0);class fe{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ce?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],n=o>>1,s=i instanceof ce?i.text.length:i.children.length;if(n==(t>0?s:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof ce){let o=i.text[n+(t<0?-1:0)];if(this.offsets[r]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=i.children[n+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof ce?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class pe{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new fe(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class ge{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(le.prototype[Symbol.iterator]=function(){return this.iter()},fe.prototype[Symbol.iterator]=pe.prototype[Symbol.iterator]=ge.prototype[Symbol.iterator]=function(){return this});class me{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}let ve="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<ve.length;e++)ve[e]+=ve[e-1];function Oe(e){for(let t=1;t<ve.length;t+=2)if(ve[t]>e)return ve[t-1]<=e;return!1}function _e(e){return e>=127462&&e<=127487}function be(e,t,r=!0,i=!0){return(r?ye:we)(e,t,i)}function ye(e,t,r){if(t==e.length)return t;t&&Se(e.charCodeAt(t))&&ke(e.charCodeAt(t-1))&&t--;let i=Ce(e,t);for(t+=Te(i);t<e.length;){let o=Ce(e,t);if(8205==i||8205==o||r&&Oe(o))t+=Te(o),i=o;else{if(!_e(o))break;{let r=0,i=t-2;for(;i>=0&&_e(Ce(e,i));)r++,i-=2;if(r%2==0)break;t+=2}}}return t}function we(e,t,r){for(;t>0;){let i=ye(e,t-2,r);if(i<t)return i;t--}return 0}function Se(e){return e>=56320&&e<57344}function ke(e){return e>=55296&&e<56320}function Ce(e,t){let r=e.charCodeAt(t);if(!ke(r)||t+1==e.length)return r;let i=e.charCodeAt(t+1);return Se(i)?i-56320+(r-55296<<10)+65536:r}function xe(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Te(e){return e<65536?1:2}const Ee=/\r\n?|\n/;var Pe=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Pe||(Pe={}));class Ae{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],n=this.sections[t++];n<0?(e(r,i,o),i+=o):i+=n,r+=o}}iterChangedRanges(e,t=!1){$e(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Ae(e)}composeDesc(e){return this.empty?e:e.empty?this:De(this,e)}mapDesc(e,t=!1){return e.empty?this:Me(this,e,t)}mapPos(e,t=-1,r=Pe.Simple){let i=0,o=0;for(let n=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++],l=i+s;if(a<0){if(l>e)return o+(e-i);o+=s}else{if(r!=Pe.Simple&&l>=e&&(r==Pe.TrackDel&&i<e&&l>e||r==Pe.TrackBefore&&i<e||r==Pe.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==i||t<0?o:o+a;o+=a}i=l}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&o>=e)return!(i<e&&o>t)||"cover";i=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ae(e)}static create(e){return new Ae(e)}}class Re extends Ae{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return $e(this,((t,r,i,o,n)=>e=e.replace(i,i+(r-t),n)),!1),e}mapDesc(e,t=!1){return Me(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let n=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=n;let a=i>>1;for(;r.length<a;)r.push(le.empty);r.push(n?e.slice(o,o+n):le.empty)}o+=n}return new Re(t,r)}compose(e){return this.empty?e:e.empty?this:De(this,e,!0)}map(e,t=!1){return e.empty?this:Me(this,e,t,!0)}iterChanges(e,t=!1){$e(this,e,t)}get desc(){return Ae.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new je(this);e:for(let n=0,s=0;;){let a=n==e.length?1e9:e[n++];for(;s<a||s==a&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,a-s);Qe(i,e,-1);let n=-1==o.ins?-1:0==o.off?o.ins:0;Qe(t,e,n),n>0&&Le(r,t,o.text),o.forward(e),s+=e}let l=e[n++];for(;s<l;){if(o.done)break e;let e=Math.min(o.len,l-s);Qe(t,e,-1),Qe(i,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),s+=e}}return{changes:new Re(t,r),filtered:Ae.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):0==i?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],n=0,s=null;function a(e=!1){if(!e&&!i.length)return;n<t&&Qe(i,t-n,-1);let r=new Re(i,o);s=s?s.compose(r.map(s)):r,i=[],o=[],n=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Re){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let h=c?"string"==typeof c?le.of(c.split(r||Ee)):c:le.empty,u=h.length;if(e==s&&0==u)return;e<n&&a(),e>n&&Qe(i,e-n,-1),Qe(i,s-e,u),Le(o,i,h),n=s}}(e),a(!s),s}static empty(e){return new Re(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(le.empty);r[i]=le.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Re(t,r)}static createSet(e,t){return new Re(e,t)}}function Qe(e,t,r,i=!1){if(0==t&&r<=0)return;let o=e.length-2;o>=0&&r<=0&&r==e[o+1]?e[o]+=t:0==t&&0==e[o]?e[o+1]+=r:i?(e[o]+=t,e[o+1]+=r):e.push(t,r)}function Le(e,t,r){if(0==r.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(r);else{for(;e.length<i;)e.push(le.empty);e.push(r)}}function $e(e,t,r){let i=e.inserted;for(let o=0,n=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)o+=a,n+=a;else{let c=o,h=n,u=le.empty;for(;c+=a,h+=l,l&&i&&(u=u.append(i[s-2>>1])),!(r||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(o,c,n,h,u),o=c,n=h}}}function Me(e,t,r,i=!1){let o=[],n=i?[]:null,s=new je(e),a=new je(t);for(let e=-1;;)if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);Qe(o,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!r))){let t=a.len;for(Qe(o,a.ins,-1);t;){let r=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=r&&(Qe(o,0,s.ins),n&&Le(n,o,s.text),e=s.i),s.forward(r),t-=r}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return n?Re.createSet(o,n):Ae.create(o);throw new Error("Mismatched change set lengths")}{let t=0,r=s.len;for(;r;)if(-1==a.ins){let e=Math.min(r,a.len);t+=e,r-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<r))break;r-=a.len,a.next()}Qe(o,t,e<s.i?s.ins:0),n&&e<s.i&&Le(n,o,s.text),e=s.i,s.forward(s.len-r)}}}function De(e,t,r=!1){let i=[],o=r?[]:null,n=new je(e),s=new je(t);for(let e=!1;;){if(n.done&&s.done)return o?Re.createSet(i,o):Ae.create(i);if(0==n.ins)Qe(i,n.len,0,e),n.next();else if(0!=s.len||s.done){if(n.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(n.len2,s.len),r=i.length;if(-1==n.ins){let r=-1==s.ins?-1:s.off?0:s.ins;Qe(i,t,r,e),o&&r&&Le(o,i,s.text)}else-1==s.ins?(Qe(i,n.off?0:n.len,t,e),o&&Le(o,i,n.textBit(t))):(Qe(i,n.off?0:n.len,s.off?0:s.ins,e),o&&!s.off&&Le(o,i,s.text));e=(n.ins>t||s.ins>=0&&s.len>t)&&(e||i.length>r),n.forward2(t),s.forward(t)}}else Qe(i,0,s.ins,e),o&&Le(o,i,s.text),s.next()}}class je{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?le.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?le.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Be{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Be(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ie.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ie.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Ie.range(e.anchor,e.head)}static create(e,t,r){return new Be(e,t,r)}}class Ie{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ie.create(this.ranges.map((r=>r.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Ie([this.main],0)}addRange(e,t=!0){return Ie.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Ie.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ie(e.ranges.map((e=>Be.fromJSON(e))),e.main)}static single(e,t=e){return new Ie([Ie.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Ie.normalized(e.slice(),t);r=o.to}return new Ie(e,t)}static cursor(e,t=0,r,i){return Be.create(e,e,(0==t?0:t<0?4:8)|(null==r?3:Math.min(2,r))|(null!=i?i:33554431)<<5)}static range(e,t,r){let i=(null!=r?r:33554431)<<5;return t<e?Be.create(t,e,24|i):Be.create(e,t,i|(t>e?4:0))}static normalized(e,t=0){let r=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(r);for(let r=1;r<e.length;r++){let i=e[r],o=e[r-1];if(i.empty?i.from<=o.to:i.from<o.to){let n=o.from,s=Math.max(i.to,o.to);r<=t&&t--,e.splice(--r,2,i.anchor>i.head?Ie.range(s,n):Ie.range(n,s))}}return new Ie(e,t)}}function ze(e,t){for(let r of e.ranges)if(r.to>t)throw new RangeError("Selection points outside of document")}let We=0;class Fe{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=We++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}static define(e={}){return new Fe(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:qe),!!e.static,e.enables)}of(e){return new Ge([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ge(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ge(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(r=>t(r.field(e))))}}function qe(e,t){return e==t||e.length==t.length&&e.every(((e,r)=>e===t[r]))}class Ge{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=We++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,n=e[o]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let r of this.dependencies)"doc"==r?a=!0:"selection"==r?l=!0:0==(1&(null!==(t=e[r.id])&&void 0!==t?t:1))&&c.push(e[r.id]);return{create:e=>(e.values[n]=r(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||He(e,c)){let t=r(e);if(s?!Ue(t,e.values[n],i):!i(t,e.values[n]))return e.values[n]=t,1}return 0},reconfigure:(e,t)=>{let a=r(e),l=t.config.address[o];if(null!=l){let r=at(t,l);if(this.dependencies.every((r=>r instanceof Fe?t.facet(r)===e.facet(r):!(r instanceof Ze)||t.field(r,!1)==e.field(r,!1)))||(s?Ue(a,r,i):i(a,r)))return e.values[n]=r,0}return e.values[n]=a,1}}}}function Ue(e,t,r){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1;return!0}function He(e,t){let r=!1;for(let i of t)1&st(e,i)&&(r=!0);return r}function Ne(e,t,r){let i=r.map((t=>e[t.id])),o=r.map((e=>e.type)),n=i.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let r=[];for(let t=0;t<i.length;t++){let n=at(e,i[t]);if(2==o[t])for(let e of n)r.push(e);else r.push(n)}return t.combine(r)}return{create(e){for(let t of i)st(e,t);return e.values[s]=a(e),1},update(e,r){if(!He(e,n))return 0;let i=a(e);return t.compare(i,e.values[s])?0:(e.values[s]=i,1)},reconfigure(e,o){let n=He(e,i),l=o.config.facets[t.id],c=o.facet(t);if(l&&!n&&qe(r,l))return e.values[s]=c,0;let h=a(e);return t.compare(h,c)?(e.values[s]=c,0):(e.values[s]=h,1)}}}const Xe=Fe.define({static:!0});class Ze{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Ze(We++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Xe).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,r)=>{let i=e.values[t],o=this.updateF(i,r);return this.compareF(i,o)?0:(e.values[t]=o,1)},reconfigure:(e,r)=>null!=r.config.address[this.id]?(e.values[t]=r.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Xe.of({field:this,create:e})]}get extension(){return this}}const Ve=4,Ye=3,Ke=2,Je=1;function et(e){return t=>new rt(t,e)}const tt={highest:et(0),high:et(Je),default:et(Ke),low:et(Ye),lowest:et(Ve)};class rt{constructor(e,t){this.inner=e,this.prec=t}}class it{of(e){return new ot(this,e)}reconfigure(e){return it.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ot{constructor(e,t){this.compartment=e,this.inner=t}}class nt{constructor(e,t,r,i,o,n){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=n,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),n=new Map;for(let r of function(e,t,r){let i=[[],[],[],[],[]],o=new Map;function n(e,s){let a=o.get(e);if(null!=a){if(a<=s)return;let t=i[a].indexOf(e);t>-1&&i[a].splice(t,1),e instanceof ot&&r.delete(e.compartment)}if(o.set(e,s),Array.isArray(e))for(let t of e)n(t,s);else if(e instanceof ot){if(r.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=t.get(e.compartment)||e.inner;r.set(e.compartment,i),n(i,s)}else if(e instanceof rt)n(e.inner,e.prec);else if(e instanceof Ze)i[s].push(e),e.provides&&n(e.provides,s);else if(e instanceof Ge)i[s].push(e),e.facet.extensions&&n(e.facet.extensions,Ke);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);n(t,s)}}return n(e,Ke),i.reduce(((e,t)=>e.concat(t)))}(e,t,n))r instanceof Ze?i.push(r):(o[r.facet.id]||(o[r.facet.id]=[])).push(r);let s=Object.create(null),a=[],l=[];for(let e of i)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==r?void 0:r.config.facets;for(let e in o){let t=o[e],i=t[0].facet,n=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[i.id]=a.length<<1|1,qe(n,t))a.push(r.facet(i));else{let e=i.combine(t.map((e=>e.value)));a.push(r&&i.compare(e,r.facet(i))?r.facet(i):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[i.id]=l.length<<1,l.push((e=>Ne(e,i,t)))}}let h=l.map((e=>e(s)));return new nt(e,n,h,s,a,o)}}function st(e,t){if(1&t)return 2;let r=t>>1,i=e.status[r];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;e.status[r]=4;let o=e.computeSlot(e,e.config.dynamicSlots[r]);return e.status[r]=2|o}function at(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const lt=Fe.define(),ct=Fe.define({combine:e=>e.some((e=>e)),static:!0}),ht=Fe.define({combine:e=>e.length?e[0]:void 0,static:!0}),ut=Fe.define(),dt=Fe.define(),ft=Fe.define(),pt=Fe.define({combine:e=>!!e.length&&e[0]});class gt{constructor(e,t){this.type=e,this.value=t}static define(){return new mt}}class mt{of(e){return new gt(this,e)}}class vt{constructor(e){this.map=e}of(e){return new Ot(this,e)}}class Ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new vt(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let e=i.map(t);e&&r.push(e)}return r}}Ot.reconfigure=Ot.define(),Ot.appendConfig=Ot.define();class _t{constructor(e,t,r,i,o,n){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=n,this._doc=null,this._state=null,r&&ze(r,t.newLength),o.some((e=>e.type==_t.time))||(this.annotations=o.concat(_t.time.of(Date.now())))}static create(e,t,r,i,o,n){return new _t(e,t,r,i,o,n)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(_t.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function bt(e,t){let r=[];for(let i=0,o=0;;){let n,s;if(i<e.length&&(o==t.length||t[o]>=e[i]))n=e[i++],s=e[i++];else{if(!(o<t.length))return r;n=t[o++],s=t[o++]}!r.length||r[r.length-1]<n?r.push(n,s):r[r.length-1]<s&&(r[r.length-1]=s)}}function yt(e,t,r){var i;let o,n,s;return r?(o=t.changes,n=Re.empty(t.changes.length),s=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),n=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(o)),{changes:s,selection:t.selection?t.selection.map(n):null===(i=e.selection)||void 0===i?void 0:i.map(o),effects:Ot.mapEffects(e.effects,o).concat(Ot.mapEffects(t.effects,n)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function wt(e,t,r){let i=t.selection,o=Ct(t.annotations);return t.userEvent&&(o=o.concat(_t.userEvent.of(t.userEvent))),{changes:t.changes instanceof Re?t.changes:Re.of(t.changes||[],r,e.facet(ht)),selection:i&&(i instanceof Ie?i:Ie.single(i.anchor,i.head)),effects:Ct(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function St(e,t,r){let i=wt(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(r=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(r=!1);let n=!!t[o].sequential;i=yt(i,wt(e,t[o],n?i.changes.newLength:e.doc.length),n)}let o=_t.create(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(e){let t=e.startState,r=t.facet(ft),i=e;for(let o=r.length-1;o>=0;o--){let n=r[o](e);n&&Object.keys(n).length&&(i=yt(e,wt(t,n,e.changes.newLength),!0))}return i==e?e:_t.create(t,e.changes,e.selection,i.effects,i.annotations,i.scrollIntoView)}(r?function(e){let t=e.startState,r=!0;for(let i of t.facet(ut)){let t=i(e);if(!1===t){r=!1;break}Array.isArray(t)&&(r=!0===r?t:bt(r,t))}if(!0!==r){let i,o;if(!1===r)o=e.changes.invertedDesc,i=Re.empty(t.doc.length);else{let t=e.changes.filter(r);i=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=_t.create(t,i,e.selection&&e.selection.map(o),Ot.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let i=t.facet(dt);for(let r=i.length-1;r>=0;r--){let o=i[r](e);e=o instanceof _t?o:Array.isArray(o)&&1==o.length&&o[0]instanceof _t?o[0]:St(t,Ct(o),!1)}return e}(o):o)}_t.time=gt.define(),_t.userEvent=gt.define(),_t.addToHistory=gt.define(),_t.remote=gt.define();const kt=[];function Ct(e){return null==e?kt:Array.isArray(e)?e:[e]}var xt=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(xt||(xt={}));const Tt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Et;try{Et=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function Pt(e){return t=>{if(!/\S/.test(t))return xt.Space;if(function(e){if(Et)return Et.test(e);for(let t=0;t<e.length;t++){let r=e[t];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Tt.test(r)))return!0}return!1}(t))return xt.Word;for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return xt.Word;return xt.Other}}class At{constructor(e,t,r,i,o,n){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,n&&(n._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)st(this,e<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(null!=r)return st(this,r),at(this,r);if(t)throw new RangeError("Field is not present in this state")}update(...e){return St(this,e,!0)}applyTransaction(e){let t,r=this.config,{base:i,compartments:o}=r;for(let t of e.effects)t.is(it.reconfigure)?(r&&(o=new Map,r.compartments.forEach(((e,t)=>o.set(t,e))),r=null),o.set(t.value.compartment,t.value.extension)):t.is(Ot.reconfigure)?(r=null,i=t.value):t.is(Ot.appendConfig)&&(r=null,i=Ct(i).concat(t.value));if(r)t=e.startState.values.slice();else{r=nt.resolve(i,o,this);let e=new At(r,this.doc,this.selection,r.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null);t=e.values}new At(r,e.newDoc,e.newSelection,t,((t,r)=>r.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Ie.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],n=Ct(r.effects);for(let r=1;r<t.ranges.length;r++){let s=e(t.ranges[r]),a=this.changes(s.changes),l=a.map(i);for(let e=0;e<r;e++)o[e]=o[e].map(l);let c=i.mapDesc(a,!0);o.push(s.range.map(c)),i=i.compose(l),n=Ot.mapEffects(n,l).concat(Ot.mapEffects(Ct(s.effects),c))}return{changes:i,selection:Ie.create(o,t.mainIndex),effects:n}}changes(e=[]){return e instanceof Re?e:Re.of(e,this.doc.length,this.facet(At.lineSeparator))}toText(e){return le.of(e.split(this.facet(At.lineSeparator)||Ee))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(st(this,t),at(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ze&&null!=this.config.address[i.id]&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r)for(let t in r)if(Object.prototype.hasOwnProperty.call(e,t)){let o=r[t],n=e[t];i.push(o.init((e=>o.spec.fromJSON(n,e))))}return At.create({doc:e.doc,selection:Ie.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=nt.resolve(e.extensions||[],new Map),r=e.doc instanceof le?e.doc:le.of((e.doc||"").split(t.staticFacet(At.lineSeparator)||Ee)),i=e.selection?e.selection instanceof Ie?e.selection:Ie.single(e.selection.anchor,e.selection.head):Ie.single(0);return ze(i,r.length),t.staticFacet(ct)||(i=i.asSingle()),new At(t,r,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(At.tabSize)}get lineBreak(){return this.facet(At.lineSeparator)||"\n"}get readOnly(){return this.facet(pt)}phrase(e,...t){for(let t of this.facet(At.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,r)=>{if("$"==r)return"$";let i=+(r||1);return!i||i>t.length?e:t[i-1]}))),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(lt))for(let n of o(this,t,r))Object.prototype.hasOwnProperty.call(n,e)&&i.push(n[e]);return i}charCategorizer(e){return Pt(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),n=e-r,s=e-r;for(;n>0;){let e=be(t,n,!1);if(o(t.slice(e,n))!=xt.Word)break;n=e}for(;s<i;){let e=be(t,s);if(o(t.slice(s,e))!=xt.Word)break;s=e}return n==s?null:Ie.range(n+r,s+r)}}function Rt(e,t,r={}){let i={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],n=i[e];if(void 0===n)i[e]=o;else if(n===o||void 0===o);else{if(!Object.hasOwnProperty.call(r,e))throw new Error("Config merge conflict for field "+e);i[e]=r[e](n,o)}}for(let e in t)void 0===i[e]&&(i[e]=t[e]);return i}At.allowMultipleSelections=ct,At.tabSize=Fe.define({combine:e=>e.length?e[0]:4}),At.lineSeparator=ht,At.readOnly=pt,At.phrases=Fe.define({compare(e,t){let r=Object.keys(e),i=Object.keys(t);return r.length==i.length&&r.every((r=>e[r]==t[r]))}}),At.languageData=lt,At.changeFilter=ut,At.transactionFilter=dt,At.transactionExtender=ft,it.reconfigure=Ot.define();class Qt{eq(e){return this==e}range(e,t=e){return Lt.create(e,t,this)}}Qt.prototype.startSide=Qt.prototype.endSide=0,Qt.prototype.point=!1,Qt.prototype.mapMode=Pe.TrackDel;class Lt{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Lt(e,t,r)}}function $t(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Mt{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let n=i,s=o.length;;){if(n==s)return n;let i=n+s>>1,a=o[i]-e||(r?this.value[i].endSide:this.value[i].startSide)-t;if(i==n)return a>=0?n:s;a>=0?s=i:n=i+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),n=this.findIndex(r,1e9,!1,o);o<n;o++)if(!1===i(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let r=[],i=[],o=[],n=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+e,d=this.to[a]+e;if(u==d){let e=t.mapPos(u,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(u,h.endSide),c<l))continue}else if(l=t.mapPos(u,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(n<0&&(n=l),h.point&&(s=Math.max(s,c-l)),r.push(h),i.push(l-n),o.push(c-n))}return{mapped:r.length?new Mt(i,o,r,s):null,pos:n}}}class Dt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Dt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,n=e.filter;if(0==t.length&&!n)return this;if(r&&(t=t.slice().sort($t)),this.isEmpty)return t.length?Dt.of(t):this;let s=new It(this,null,-1).goto(0),a=0,l=[],c=new jt;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!n||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!n||i>s.to||o<s.from||n(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(Lt.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Dt.empty:this.nextLayer.update({add:l,filter:n,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let n=this.chunkPos[o],s=this.chunk[o],a=e.touchesRange(n,n+s.length);if(!1===a)i=Math.max(i,s.maxPoint),t.push(s),r.push(e.mapPos(n));else if(!0===a){let{mapped:o,pos:a}=s.map(n,e);o&&(i=Math.max(i,o.maxPoint),t.push(o),r.push(a))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Dt(r,t,o||Dt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],n=this.chunk[i];if(t>=o&&e<=o+n.length&&!1===n.between(o,e-o,t-o,r))return}this.nextLayer.between(e,t,r)}}iter(e=0){return zt.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return zt.from(e).goto(t)}static compare(e,t,r,i,o=-1){let n=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=Bt(n,s,r),l=new Ft(n,a,o),c=new Ft(s,a,o);r.iterGaps(((e,t,r)=>qt(l,e,c,t,r,i))),r.empty&&0==r.length&&qt(l,0,c,0,0,i)}static eq(e,t,r=0,i){null==i&&(i=1e9);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),n=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=n.length)return!1;if(!o.length)return!0;let s=Bt(o,n),a=new Ft(o,s,0).goto(r),l=new Ft(n,s,0).goto(r);for(;;){if(a.to!=l.to||!Gt(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(e,t,r,i,o=-1){let n=new Ft(e,null,o).goto(t),s=t,a=n.openStart;for(;;){let e=Math.min(n.to,r);if(n.point?(i.point(s,e,n.point,n.activeForPoint(n.to),a,n.pointRank),a=n.openEnd(e)+(n.to>e?1:0)):e>s&&(i.span(s,e,n.active,a),a=n.openEnd(e)),n.to>r)break;s=n.to,n.next()}return a}static of(e,t=!1){let r=new jt;for(let i of e instanceof Lt?[e]:t?function(e){if(e.length>1)for(let t=e[0],r=1;r<e.length;r++){let i=e[r];if($t(t,i)>0)return e.slice().sort($t);t=i}return e}(e):e)r.add(i.from,i.to,i.value);return r.finish()}}Dt.empty=new Dt([],[],null,-1),Dt.empty.nextLayer=Dt.empty;class jt{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Mt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new jt)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Dt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Dt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Bt(e,t,r){let i=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&i.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let n=i.get(e.chunk[t]);null==n||(r?r.mapPos(n):n)!=e.chunkPos[t]||(null==r?void 0:r.touchesRange(n,n+e.chunk[t].length))||o.add(e.chunk[t])}return o}class It{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class zt{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let n=e[o];!n.isEmpty;n=n.nextLayer)n.maxPoint>=r&&i.push(new It(n,t,r,o));return 1==i.length?i[0]:new zt(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Wt(this.heap,e);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Wt(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Wt(this.heap,0)}}}function Wt(e,t){for(let r=e[t];;){let i=1+(t<<1);if(i>=e.length)break;let o=e[i];if(i+1<e.length&&o.compare(e[i+1])>=0&&(o=e[i+1],i++),r.compare(o)<0)break;e[i]=r,e[t]=o,t=i}}class Ft{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=zt.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ut(this.active,e),Ut(this.activeTo,e),Ut(this.activeRank,e),this.minActive=Nt(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;Ht(this.active,t,r),Ht(this.activeTo,t,i),Ht(this.activeRank,t,o),e&&Ht(e,t,this.cursor.from),this.minActive=Nt(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null,i=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&Ut(r,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.from<e&&this.cursor.to>e&&i++,this.cursor.next()}}}if(r){let t=0;for(;t<r.length&&r[t]<e;)t++;this.openStart=t+i}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function qt(e,t,r,i,o,n){e.goto(t),r.goto(i);let s=i+o,a=i,l=i-t;for(;;){let t=e.to+l-r.to||e.endSide-r.endSide,i=t<0?e.to+l:r.to,o=Math.min(i,s);if(e.point||r.point?e.point&&r.point&&(e.point==r.point||e.point.eq(r.point))&&Gt(e.activeForPoint(e.to+l),r.activeForPoint(r.to))||n.comparePoint(a,o,e.point,r.point):o>a&&!Gt(e.active,r.active)&&n.compareRange(a,o,e.active,r.active),i>s)break;a=i,t<=0&&e.next(),t>=0&&r.next()}}function Gt(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r]&&!e[r].eq(t[r]))return!1;return!0}function Ut(e,t){for(let r=t,i=e.length-1;r<i;r++)e[r]=e[r+1];e.pop()}function Ht(e,t,r){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=r}function Nt(e,t){let r=-1,i=1e9;for(let o=0;o<t.length;o++)(t[o]-i||e[o].endSide-e[r].endSide)<0&&(r=o,i=t[o]);return r}function Xt(e,t,r=e.length){let i=0;for(let o=0;o<r;)9==e.charCodeAt(o)?(i+=t-i%t,o++):(i++,o=be(e,o));return i}function Zt(e,t,r,i){for(let i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=9==e.charCodeAt(i)?r-o%r:1,i=be(e,i)}return!0===i?-1:e.length}const Vt="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Yt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Kt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Jt{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,n,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(let r in t){let s=t[r];if(/&/.test(r))o(r.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,n);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+r+") should be a primitive value.");o(i(r),s,a,c)}else null!=s&&a.push(r.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&n.push((!r||l||s?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)o(i(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Kt[Vt]||1;return Kt[Vt]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[Yt]||new tr(e)).mount(Array.isArray(t)?t:[t])}}let er=null;class tr{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(er)return e.adoptedStyleSheets=[er.sheet].concat(e.adoptedStyleSheets),e[Yt]=er;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),er=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Yt]=this}mount(e){let t=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let n=e[o],s=this.modules.indexOf(n);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,n),t)for(let e=0;e<n.rules.length;e++)t.insertRule(n.rules[e],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=n.rules.length,i++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}for(var rr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},ir={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},or="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),nr="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),sr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ar="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),lr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cr=or&&(ar||+or[1]<57)||sr&&ar,hr=0;hr<10;hr++)rr[48+hr]=rr[96+hr]=String(hr);for(hr=1;hr<=24;hr++)rr[hr+111]="F"+hr;for(hr=65;hr<=90;hr++)rr[hr]=String.fromCharCode(hr+32),ir[hr]=String.fromCharCode(hr);for(var ur in rr)ir.hasOwnProperty(ur)||(ir[ur]=rr[ur]);function dr(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function fr(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function pr(e,t){if(!t.anchorNode)return!1;try{return fr(e,t.anchorNode)}catch(e){return!1}}function gr(e){return 3==e.nodeType?Tr(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function mr(e,t,r,i){return!!r&&(Or(e,t,r,i,-1)||Or(e,t,r,i,1))}function vr(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Or(e,t,r,i,o){for(;;){if(e==r&&t==i)return!0;if(t==(o<0?0:_r(e))){if("DIV"==e.nodeName)return!1;let r=e.parentNode;if(!r||1!=r.nodeType)return!1;t=vr(e)+(o<0?0:1),e=r}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?_r(e):0}}}function _r(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const br={left:0,right:0,top:0,bottom:0};function yr(e,t){let r=t?e.left:e.right;return{left:r,right:r,top:e.top,bottom:e.bottom}}function wr(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class Sr{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let kr,Cr=null;function xr(e){if(e.setActive)return e.setActive();if(Cr)return e.focus(Cr);let t=[];for(let r=e;r&&(t.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(e.focus(null==Cr?{get preventScroll(){return Cr={preventScroll:!0},!0}}:void 0),!Cr){Cr=!1;for(let e=0;e<t.length;){let r=t[e++],i=t[e++],o=t[e++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}function Tr(e,t,r=t){let i=kr||(kr=document.createRange());return i.setEnd(e,r),i.setStart(e,t),i}function Er(e,t,r){let i={key:t,code:t,keyCode:r,which:r,cancelable:!0},o=new KeyboardEvent("keydown",i);o.synthetic=!0,e.dispatchEvent(o);let n=new KeyboardEvent("keyup",i);return n.synthetic=!0,e.dispatchEvent(n),o.defaultPrevented||n.defaultPrevented}function Pr(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class Ar{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Ar(e.parentNode,vr(e),t)}static after(e,t){return new Ar(e.parentNode,vr(e)+1,t)}}const Rr=[];class Qr{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,r=this.dom,i=null;for(let o of this.children){if(o.dirty){if(!o.dom&&(t=i?i.nextSibling:r.firstChild)){let e=Qr.get(t);e&&(e.parent||e.constructor!=o.constructor)||o.reuseDOM(t)}o.sync(e),o.dirty=0}if(t=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&t!=o.dom&&(e.written=!0),o.dom.parentNode==r)for(;t&&t!=o.dom;)t=Lr(t);else r.insertBefore(o.dom,t);i=o.dom}for(t=i?i.nextSibling:r.firstChild,t&&e&&e.node==r&&(e.written=!0);t;)t=Lr(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=0==_r(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==i&&t.firstChild!=t.lastChild&&(i=e==t.firstChild?-1:1),e=t}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Qr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let e=0,t=0;;e++){let i=this.children[e];if(i.dom==r)return t;t+=i.length+i.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,n=-1,s=-1;for(let a=0,l=r,c=r;a<this.children.length;a++){let r=this.children[a],h=l+r.length;if(l<e&&h>t)return r.domBoundsAround(e,t,l);if(h>=e&&-1==i&&(i=a,o=l),l>t&&r.dom.parentNode==this.dom){n=a,s=c;break}c=h,l=h+r.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:n<this.children.length&&n>=0?this.children[n].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Rr){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...r);for(let e=0;e<r.length;e++)r[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new $r(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,r,i,o,n){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function Lr(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Qr.prototype.breakAfter=0;class $r{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Mr(e,t,r,i,o,n,s,a,l){let{children:c}=e,h=c.length?c[t]:null,u=n.length?n[n.length-1]:null,d=u?u.breakAfter:s;if(!(t==i&&h&&!s&&!d&&n.length<2&&h.merge(r,o,n.length?u:null,0==r,a,l))){if(i<c.length){let e=c[i];e&&o<e.length?(t==i&&(e=e.split(o),o=0),!d&&u&&e.merge(0,o,u,!0,0,l)?n[n.length-1]=e:(o&&e.merge(0,o,null,!1,0,l),n.push(e))):(null==e?void 0:e.breakAfter)&&(u?u.breakAfter=1:s=1),i++}for(h&&(h.breakAfter=s,r>0&&(!s&&n.length&&h.merge(r,h.length,n[0],!1,a,0)?h.breakAfter=n.shift().breakAfter:(r<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(r,h.length,null,!1,a,0),t++));t<i&&n.length;)if(c[i-1].become(n[n.length-1]))i--,n.pop(),l=n.length?0:a;else{if(!c[t].become(n[0]))break;t++,n.shift(),a=n.length?0:l}!n.length&&t&&i<c.length&&!c[t-1].breakAfter&&c[i].merge(0,0,c[t-1],!1,a,l)&&t--,(t<i||n.length)&&e.replaceChildren(t,i,n)}}function Dr(e,t,r,i,o,n){let s=e.childCursor(),{i:a,off:l}=s.findPos(r,1),{i:c,off:h}=s.findPos(t,-1),u=t-r;for(let e of i)u+=e.length;e.length+=u,Mr(e,c,h,a,l,i,0,o,n)}let jr="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Br="undefined"!=typeof document?document:{documentElement:{style:{}}};const Ir=/Edge\/(\d+)/.exec(jr.userAgent),zr=/MSIE \d/.test(jr.userAgent),Wr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jr.userAgent),Fr=!!(zr||Wr||Ir),qr=!Fr&&/gecko\/(\d+)/i.test(jr.userAgent),Gr=!Fr&&/Chrome\/(\d+)/.exec(jr.userAgent),Ur="webkitFontSmoothing"in Br.documentElement.style,Hr=!Fr&&/Apple Computer/.test(jr.vendor),Nr=Hr&&(/Mobile\/\w+/.test(jr.userAgent)||jr.maxTouchPoints>2);var Xr={mac:Nr||/Mac/.test(jr.platform),windows:/Win/.test(jr.platform),linux:/Linux|X11/.test(jr.platform),ie:Fr,ie_version:zr?Br.documentMode||6:Wr?+Wr[1]:Ir?+Ir[1]:0,gecko:qr,gecko_version:qr?+(/Firefox\/(\d+)/.exec(jr.userAgent)||[0,0])[1]:0,chrome:!!Gr,chrome_version:Gr?+Gr[1]:0,ios:Nr,android:/Android\b/.test(jr.userAgent),webkit:Ur,safari:Hr,webkit_version:Ur?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Br.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Zr extends Qr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return(!r||r instanceof Zr&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Zr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ar(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Yr(this.dom,e,t)}}class Vr extends Qr{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let e of t)e.setParent(this)}setAttrs(e){if(Pr(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,r,i,o,n){return(!r||!(!(r instanceof Vr&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&n<=0))&&(Dr(this,e,t,r?r.children:[],o-1,n-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let n of this.children){let s=r+n.length;s>e&&t.push(r<e?n.split(e-r):n),i<0&&r>=e&&(i=o),r=s,o++}let n=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Vr(this.mark,t,n)}domAtPos(e){return ii(this.dom,this.children,e)}coordsAt(e,t){return ni(this,e,t)}}function Yr(e,t,r){let i=e.nodeValue.length;t>i&&(t=i);let o=t,n=t,s=0;0==t&&r<0||t==i&&r>=0?Xr.chrome||Xr.gecko||(t?(o--,s=1):n<i&&(n++,s=-1)):r<0?o--:n<i&&n++;let a=Tr(e,o,n).getClientRects();if(!a.length)return br;let l=a[(s?s<0:r>=0)?0:a.length-1];return Xr.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?yr(l,s<0):l||null}class Kr extends Qr{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||Kr)(e,t,r)}split(e){let t=Kr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,i,o,n){return!(r&&(!(r instanceof Kr&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&n<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Kr&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return le.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):le.empty}domAtPos(e){return 0==e?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),i=null;if(!r.length)return br;for(let t=e>0?r.length-1:0;i=r[t],!(e>0?0==t:t==r.length-1||i.top<i.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?i:yr(i,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Jr extends Kr{domAtPos(e){let{topView:t,text:r}=this.widget;return t?ei(e,0,t,r,((e,t)=>e.domAtPos(t)),(e=>new Ar(r,Math.min(e,r.nodeValue.length)))):new Ar(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:i}=this.widget;return r?ti(e,t,r,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:i}=this.widget;return r?ei(e,t,r,i,((e,t,r)=>e.coordsAt(t,r)),((e,t)=>Yr(i,e,t))):Yr(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function ei(e,t,r,i,o,n){if(r instanceof Vr){for(let s of r.children){let r=fr(s.dom,i),a=r?i.nodeValue.length:s.length;if(e<a||e==a&&s.getSide()<=0)return r?ei(e,t,s,i,o,n):o(s,e,t);e-=a}return o(r,r.length,-1)}return r.dom==i?n(e,t):o(r,e,t)}function ti(e,t,r,i){if(r instanceof Vr)for(let o of r.children){let r=0,n=fr(o.dom,i);if(fr(o.dom,e))return r+(n?ti(e,t,o,i):o.localPosFromDOM(e,t));r+=n?i.nodeValue.length:o.length}else if(r.dom==i)return Math.min(t,i.nodeValue.length);return r.localPosFromDOM(e,t)}class ri extends Qr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ri&&e.side==this.side}split(){return new ri(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ar.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=function(e,t){let r=e.parent,i=r?r.children.indexOf(e):-1;for(;r&&i>=0;)if(t<0?i>0:i<r.children.length){let e=r.children[i+t];if(e instanceof Zr){let r=e.coordsAt(t<0?e.length:0,t);if(r)return r}i+=t}else{if(!(r instanceof Vr&&r.parent)){let e=r.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}i=r.parent.children.indexOf(r)+(t<0?0:1),r=r.parent}return}(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return le.empty}}function ii(e,t,r){let i=0;for(let o=0;i<t.length;i++){let n=t[i],s=o+n.length;if(!(s==o&&n.getSide()<=0)){if(r>o&&r<s&&n.dom.parentNode==e)return n.domAtPos(r-o);if(r<=o)break;o=s}}for(;i>0;i--){let r=t[i-1].dom;if(r.parentNode==e)return Ar.after(r)}return new Ar(e,0)}function oi(e,t,r){let i,{children:o}=e;r>0&&t instanceof Vr&&o.length&&(i=o[o.length-1])instanceof Vr&&i.mark.eq(t.mark)?oi(i,t.children[0],r-1):(o.push(t),t.setParent(e)),e.length+=t.length}function ni(e,t,r){for(let i=0,o=0;o<e.children.length;o++){let n,s=e.children[o],a=i+s.length;if((r<=0||a==e.length||s.getSide()>0?a>=t:a>t)&&(t<a||o+1==e.children.length||(n=e.children[o+1]).length||n.getSide()>0)){let e=0;if(a==i){if(s.getSide()<=0)continue;e=r=-s.getSide()}let o=s.coordsAt(Math.max(0,t-i),r);return e&&o?yr(o,r<0):o}i=a}let i=e.dom.lastChild;if(!i)return e.dom.getBoundingClientRect();let o=gr(i);return o[o.length-1]||null}function si(e,t){for(let r in e)"class"==r&&t.class?t.class+=" "+e.class:"style"==r&&t.style?t.style+=";"+e.style:t[r]=e[r];return t}function ai(e,t){if(e==t)return!0;if(!e||!t)return!1;let r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(let o of r)if(-1==i.indexOf(o)||e[o]!==t[o])return!1;return!0}function li(e,t,r){let i=null;if(t)for(let o in t)r&&o in r||e.removeAttribute(i=o);if(r)for(let o in r)t&&t[o]==r[o]||e.setAttribute(i=o,r[o]);return!!i}Zr.prototype.children=Kr.prototype.children=ri.prototype.children=Rr;class ci{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var hi=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(hi||(hi={}));class ui extends Qt{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new di(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new pi(e,t,t,r,e.widget||null,!1)}static replace(e){let t,r,i=!!e.block;if(e.isBlockGap)t=-5e8,r=4e8;else{let{start:o,end:n}=gi(e,i);t=(o?i?-3e8:-1:5e8)-1,r=1+(n?i?2e8:1:-6e8)}return new pi(e,t,r,i,e.widget||null,!0)}static line(e){return new fi(e)}static set(e,t=!1){return Dt.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ui.none=Dt.empty;class di extends ui{constructor(e){let{start:t,end:r}=gi(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof di&&this.tagName==e.tagName&&this.class==e.class&&ai(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}di.prototype.point=!1;class fi extends ui{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof fi&&ai(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}fi.prototype.mapMode=Pe.TrackBefore,fi.prototype.point=!0;class pi extends ui{constructor(e,t,r,i,o,n){super(t,r,o,e),this.block=i,this.isReplace=n,this.mapMode=i?t<=0?Pe.TrackBefore:Pe.TrackAfter:Pe.TrackDel}get type(){return this.startSide<this.endSide?hi.WidgetRange:this.startSide<=0?hi.WidgetBefore:hi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof pi&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function gi(e,t=!1){let{inclusiveStart:r,inclusiveEnd:i}=e;return null==r&&(r=e.inclusive),null==i&&(i=e.inclusive),{start:null!=r?r:t,end:null!=i?i:t}}function mi(e,t,r,i=0){let o=r.length-1;o>=0&&r[o]+i>=e?r[o]=Math.max(r[o],t):r.push(e,t)}pi.prototype.point=!0;class vi extends Qr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,n){if(r){if(!(r instanceof vi))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Dr(this,e,t,r?r.children:[],o,n),!0}split(e){let t=new vi;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let e=r;e<this.children.length;e++)t.append(this.children[e],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ai(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){oi(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=si(t,this.attrs||{})),r&&(this.attrs=si({class:r},this.attrs||{}))}domAtPos(e){return ii(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(Pr(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(li(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let r=this.dom.lastChild;for(;r&&Qr.get(r)instanceof Vr;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(t=Qr.get(r))||void 0===t?void 0:t.isEditable)||Xr.ios&&this.children.some((e=>e instanceof Zr))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Zr)||/[^ -~]/.test(t.text))return null;let r=gr(t.dom);if(1!=r.length)return null;e+=r[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return ni(this,e,t)}become(e){return!1}get type(){return hi.Text}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],n=i+o.length;if(n>=t){if(o instanceof vi)return o;if(n>t)break}i=n+o.breakAfter}return null}}class Oi extends Qr{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,n){return!(r&&(!(r instanceof Oi&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&n<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Oi(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return Rr}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):le.empty}domBoundsAround(){return null}become(e){return e instanceof Oi&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class _i{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Oi&&e.type==hi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new vi),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(bi(new ri(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:r,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,r)),this.getLine().append(bi(new Zr(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,n){if(this.disallowBlockEffectsFor[n]&&r instanceof pi){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(r instanceof pi)if(r.block){let{type:e}=r;e!=hi.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Oi(r.widget||new yi("div"),s,e))}else{let n=Kr.create(r.widget||new yi("span"),s,r.startSide),a=this.atCursorPos&&!n.isEditable&&o<=i.length&&(e<t||r.startSide>0),l=!n.isEditable&&(e<t||r.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(i),a&&(c.append(bi(new ri(1),i),o),o=i.length+Math.max(0,o-i.length)),c.append(bi(n,i),o),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let n=new _i(e,t,r,o);return n.openEnd=Dt.spans(i,t,r,n),n.openStart<0&&(n.openStart=n.openEnd),n.finish(n.openEnd),n}}function bi(e,t){for(let r of t)e=new Vr(r,[e],e.length);return e}class yi extends ci{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const wi=Fe.define(),Si=Fe.define(),ki=Fe.define(),Ci=Fe.define(),xi=Fe.define(),Ti=Fe.define(),Ei=Fe.define({combine:e=>e.some((e=>e))});class Pi{constructor(e,t="nearest",r="nearest",i=5,o=5){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new Pi(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Ai=Ot.define({map:(e,t)=>e.map(t)});function Ri(e,t,r){let i=e.facet(Ci);i.length?i[0](t):window.onerror?window.onerror(String(t),r,void 0,void 0,t):r?console.error(r+":",t):console.error(t)}const Qi=Fe.define({combine:e=>!e.length||e[0]});let Li=0;const $i=Fe.define();class Mi{constructor(e,t,r,i){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:r,provide:i,decorations:o}=t||{};return new Mi(Li++,e,r,(e=>{let t=[$i.of(e)];return o&&t.push(Ii.of((t=>{let r=t.plugin(e);return r?o(r):ui.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return Mi.define((t=>new e(t)),t)}}class Di{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Ri(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ri(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Ri(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ji=Fe.define(),Bi=Fe.define(),Ii=Fe.define(),zi=Fe.define(),Wi=Fe.define(),Fi=Fe.define();class qi{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new qi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let i=0,o=0,n=0,s=0;;i++){let a=i==e.length?null:e[i],l=n-s,c=a?a.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],i=t[o+1],n=Math.max(s,e),a=Math.min(c,i);if(n<=a&&new qi(n+l,a+l,n,a).addToSet(r),i>c)break;o+=2}if(!a)return r;new qi(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),n=a.toA,s=a.toB}}}class Gi{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Re.empty(this.startState.doc.length);for(let e of r)this.changes=this.changes.compose(e.changes);let i=[];this.changes.iterChangedRanges(((e,t,r,o)=>i.push(new qi(e,t,r,o)))),this.changedRanges=i;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,r){return new Gi(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Ui=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Ui||(Ui={}));const Hi=Ui.LTR,Ni=Ui.RTL;function Xi(e){let t=[];for(let r=0;r<e.length;r++)t.push(1<<+e[r]);return t}const Zi=Xi("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Vi=Xi("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Yi=Object.create(null),Ki=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),r=e.charCodeAt(1);Yi[t]=r,Yi[r]=-t}const Ji=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class eo{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?Ni:Hi}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,i){let o=-1;for(let n=0;n<e.length;n++){let s=e[n];if(s.from<=t&&s.to>=t){if(s.level==r)return n;(o<0||(0!=i?i<0?s.from<t:s.to>t:e[o].level>s.level))&&(o=n)}}if(o<0)throw new RangeError("Index out of range");return o}}const to=[];function ro(e){return[new eo(0,e,0)]}let io="";function oo(e,t,r,i,o){var n;let s=i.head-e.from,a=-1;if(0==s){if(!o||!e.length)return null;t[0].level!=r&&(s=t[0].side(!1,r),a=0)}else if(s==e.length){if(o)return null;let e=t[t.length-1];e.level!=r&&(s=e.side(!0,r),a=t.length-1)}a<0&&(a=eo.find(t,s,null!==(n=i.bidiLevel)&&void 0!==n?n:-1,i.assoc));let l=t[a];s==l.side(o,r)&&(l=t[a+=o?1:-1],s=l.side(!o,r));let c=o==(l.dir==r),h=be(e.text,s,c);if(io=e.text.slice(Math.min(s,h),Math.max(s,h)),h!=l.side(o,r))return Ie.cursor(h+e.from,c?-1:1,l.level);let u=a==(o?t.length-1:0)?null:t[a+(o?1:-1)];return u||l.level==r?u&&u.level<l.level?Ie.cursor(u.side(!o,r)+e.from,o?1:-1,u.level):Ie.cursor(h+e.from,o?-1:1,l.level):Ie.cursor(o?e.to:e.from,o?-1:1,r)}const no="￿";class so{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(At.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=no}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let e=i.nextSibling;if(e==t)break;let o=Qr.get(i),n=Qr.get(e);(o&&n?o.breakAfter:(o?o.breakAfter:ao(i))||ao(e)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=e}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o,n=-1,s=1;if(this.lineSeparator?(n=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(o=i.exec(t))&&(n=o.index,s=o[0].length),this.append(t.slice(r,n<0?t.length:n)),n<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);r=n+s}}readNode(e){if(e.cmIgnore)return;let t=Qr.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let e=r.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function ao(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class lo{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class co extends Qr{constructor(e){super(),this.view=e,this.compositionDeco=ui.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new vi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new qi(0,0,0,e.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ui.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let r=uo(e);if(!r)return ui.none;let{from:i,to:o,node:n,text:s}=r,a=t.mapPos(i,1),l=Math.max(a,t.mapPos(o,-1)),{state:c}=e,h=3==n.nodeType?n.nodeValue:new so([],c).readRange(n.firstChild,null).text;if(l-a<h.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+h.length),no)==h)l=a+h.length;else{if(c.doc.sliceString(Math.max(0,l-h.length),l,no)!=h)return ui.none;a=l-h.length}else if(c.doc.sliceString(a,l,no)!=h)return ui.none;let u=Qr.get(n);u instanceof Jr?u=u.widget.topView:u&&(u.parent=null);return ui.set(ui.replace({widget:new fo(n,s,u),inclusive:!0}).range(a,l))}(this.view,e.changes)),(Xr.ie||Xr.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=function(e,t,r){let i=new go;return Dt.compare(e,t,r,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return t=qi.extendWithRanges(t,r),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Xr.chrome||Xr.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof Oi&&e.widget instanceof ho&&i.push(e.dom);r.updateGaps(i)}updateChildren(e,t){let r=this.childCursor(t);for(let t=e.length-1;;t--){let i=t>=0?e[t]:null;if(!i)break;let{fromA:o,toA:n,fromB:s,toB:a}=i,{content:l,breakAtStart:c,openStart:h,openEnd:u}=_i.build(this.view.state.doc,s,a,this.decorations,this.dynamicDecorationMap),{i:d,off:f}=r.findPos(n,1),{i:p,off:g}=r.findPos(o,-1);Mr(this,p,g,d,f,l,c,h,u)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||Xr.ios&&this.view.inputState.rapidCompositionStart)return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,o=this.domAtPos(i.anchor),n=i.empty?o:this.domAtPos(i.head);if(Xr.gecko&&i.empty&&(1==(s=o).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null))),o=n=new Ar(e,0),r=!0}var s;let a=this.view.observer.selectionRange;!r&&a.focusNode&&mr(o.node,o.offset,a.anchorNode,a.anchorOffset)&&mr(n.node,n.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{Xr.android&&Xr.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let r=e;r&&r!=t;r=r.assignedSlot||r.parentNode)if(1==r.nodeType&&"false"==r.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=dr(this.view.root);if(e)if(i.empty){if(Xr.gecko){let e=(t=o.node,r=o.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=po(o.node,o.offset,1==e?1:-1);t&&(o=new Ar(t,1==e?0:t.nodeValue.length))}}e.collapse(o.node,o.offset),null!=i.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=i.bidiLevel)}else if(e.extend)e.collapse(o.node,o.offset),e.extend(n.node,n.offset);else{let t=document.createRange();i.anchor>i.head&&([o,n]=[n,o]),t.setEnd(n.node,n.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}else;var t,r})),this.view.observer.setSelectionRange(o,n)),this.impreciseAnchor=o.precise?null:new Ar(a.anchorNode,a.anchorOffset),this.impreciseHead=n.precise?null:new Ar(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=dr(this.view.root);if(!(t&&e.empty&&e.assoc&&t.modify))return;let r=vi.find(this,e.head);if(!r)return;let i=r.posAtStart;if(e.head==i||e.head==i+r.length)return;let o=this.coordsAt(e.head,-1),n=this.coordsAt(e.head,1);if(!o||!n||o.bottom>n.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||pr(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=Qr.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(r<e.length||e instanceof vi)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],n=r-o.breakAfter-o.length;if(e>n||e==n&&o.type!=hi.WidgetBefore&&o.type!=hi.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==hi.WidgetBefore&&t>-2))return o.coordsAt(e-n,t);r=n}}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,n=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Ui.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],h=e+c.length;if(h>i)break;if(e>=r){let r=c.dom.getBoundingClientRect();if(t.push(r.height),n){let t=c.dom.lastChild,i=t?gr(t):[];if(i.length){let t=i[i.length-1],n=a?t.right-r.left:r.right-t.left;n>s&&(s=n,this.minWidth=o,this.minWidthFrom=e,this.minWidthTo=h)}}}e=h+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Ui.RTL:Ui.LTR}measureTextSize(){for(let e of this.children)if(e instanceof vi){let t=e.measureTextSize();if(t)return t}let e,t,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=gr(r.firstChild)[0];e=r.getBoundingClientRect().height,t=i?i.width/27:7,r.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new $r(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],n=o?o.from-1:this.length;if(n>r){let i=t.lineBlockAt(n).bottom-t.lineBlockAt(r).top;e.push(ui.replace({widget:new ho(i),block:!0,inclusive:!0,isBlockGap:!0}).range(r,n))}if(!o)break;r=o.to+1}return ui.set(e)}updateDeco(){let e=this.view.state.facet(Ii).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:r}=e,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!i)return;!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let o=0,n=0,s=0,a=0;for(let e of this.view.state.facet(Wi).map((e=>e(this.view))))if(e){let{left:t,right:r,top:i,bottom:l}=e;null!=t&&(o=Math.max(o,t)),null!=r&&(n=Math.max(n,r)),null!=i&&(s=Math.max(s,i)),null!=l&&(a=Math.max(a,l))}let l={left:i.left-o,top:i.top-s,right:i.right+n,bottom:i.bottom+a};!function(e,t,r,i,o,n,s,a){let l=e.ownerDocument,c=l.defaultView;for(let h=e;h;)if(1==h.nodeType){let e,u=h==l.body;if(u)e=wr(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.parentNode;continue}let t=h.getBoundingClientRect();e={left:t.left,right:t.left+h.clientWidth,top:t.top,bottom:t.top+h.clientHeight}}let d=0,f=0;if("nearest"==o)t.top<e.top?(f=-(e.top-t.top+s),r>0&&t.bottom>e.bottom+f&&(f=t.bottom-e.bottom+f+s)):t.bottom>e.bottom&&(f=t.bottom-e.bottom+s,r<0&&t.top-f<e.top&&(f=-(e.top+f-t.top+s)));else{let i=t.bottom-t.top,n=e.bottom-e.top;f=("center"==o&&i<=n?t.top+i/2-n/2:"start"==o||"center"==o&&r<0?t.top-s:t.bottom-n+s)-e.top}if("nearest"==i?t.left<e.left?(d=-(e.left-t.left+n),r>0&&t.right>e.right+d&&(d=t.right-e.right+d+n)):t.right>e.right&&(d=t.right-e.right+n,r<0&&t.left<e.left+d&&(d=-(e.left+d-t.left+n))):d=("center"==i?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==i==a?t.left-n:t.right-(e.right-e.left)+n)-e.left,d||f)if(u)c.scrollBy(d,f);else{if(f){let e=h.scrollTop;h.scrollTop+=f,f=h.scrollTop-e}if(d){let e=h.scrollLeft;h.scrollLeft+=d,d=h.scrollLeft-e}t={left:t.left-d,top:t.top-f,right:t.right-d,bottom:t.bottom-f}}if(u)break;h=h.assignedSlot||h.parentNode,i=o="nearest"}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Ui.LTR)}}class ho extends ci{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function uo(e){let t=e.observer.selectionRange,r=t.focusNode&&po(t.focusNode,t.focusOffset,0);if(!r)return null;let i=e.docView.nearest(r);if(!i)return null;if(i instanceof vi){let e=r;for(;e.parentNode!=i.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Qr.get(t);)t=t.previousSibling;let o=t?Qr.get(t).posAtEnd:i.posAtStart;return{from:o,to:o,node:e,text:r}}{for(;;){let{parent:e}=i;if(!e)return null;if(e instanceof vi)break;i=e}let e=i.posAtStart;return{from:e,to:e+i.length,node:i.dom,text:r}}}class fo extends ci{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Jr}}function po(e,t,r){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&r<=0)t=_r(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&r>=0))return null;e=e.childNodes[t],t=0}}}class go{constructor(){this.changes=[]}compareRange(e,t){mi(e,t,this.changes)}comparePoint(e,t){mi(e,t,this.changes)}}function mo(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function vo(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Oo(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function _o(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function bo(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function yo(e,t,r){let i,o,n,s,a,l,c,h,u=!1;for(let d=e.firstChild;d;d=d.nextSibling){let e=gr(d);for(let f=0;f<e.length;f++){let p=e[f];o&&Oo(o,p)&&(p=_o(bo(p,o.bottom),o.top));let g=mo(t,p),m=vo(r,p);if(0==g&&0==m)return 3==d.nodeType?wo(d,t,r):yo(d,t,r);(!i||s>m||s==m&&n>g)&&(i=d,o=p,n=g,s=m,u=!g||(g>0?f<e.length-1:f>0)),0==g?r>p.bottom&&(!c||c.bottom<p.bottom)?(a=d,c=p):r<p.top&&(!h||h.top>p.top)&&(l=d,h=p):c&&Oo(c,p)?c=bo(c,p.bottom):h&&Oo(h,p)&&(h=_o(h,p.top))}}if(c&&c.bottom>=r?(i=a,o=c):h&&h.top<=r&&(i=l,o=h),!i)return{node:e,offset:0};let d=Math.max(o.left,Math.min(o.right,t));return 3==i.nodeType?wo(i,d,r):u&&"false"!=i.contentEditable?yo(i,d,r):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,i)+(t>=(o.left+o.right)/2?1:0)}}function wo(e,t,r){let i=e.nodeValue.length,o=-1,n=1e9,s=0;for(let a=0;a<i;a++){let i=Tr(e,a,a+1).getClientRects();for(let l=0;l<i.length;l++){let c=i[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let h=(c.top>r?c.top-r:r-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<n){let r=t>=(c.left+c.right)/2,i=r;if(Xr.chrome||Xr.gecko){Tr(e,a).getBoundingClientRect().left==c.right&&(i=!r)}if(h<=0)return{node:e,offset:a+(i?1:0)};o=a+(i?1:0),n=h}}}return{node:e,offset:o>-1?o:s>0?e.nodeValue.length:0}}function So(e,{x:t,y:r},i,o=-1){var n;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,h=r-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,r=!1;s=e.elementAtHeight(h),s.type!=hi.Text;)for(;h=o>0?s.bottom+t:s.top-t,!(h>=0&&h<=c);){if(r)return i?null:0;r=!0,o=-o}r=l+h;let u=s.from;if(u<e.viewport.from)return 0==e.viewport.from?0:i?null:ko(e,a,s,t,r);if(u>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:ko(e,a,s,t,r);let d=e.dom.ownerDocument,f=e.root.elementFromPoint?e.root:d,p=f.elementFromPoint(t,r);p&&!e.contentDOM.contains(p)&&(p=null),p||(t=Math.max(a.left+1,Math.min(a.right-1,t)),p=f.elementFromPoint(t,r),p&&!e.contentDOM.contains(p)&&(p=null));let g,m=-1;if(p&&0!=(null===(n=e.docView.nearest(p))||void 0===n?void 0:n.isEditable))if(d.caretPositionFromPoint){let e=d.caretPositionFromPoint(t,r);e&&({offsetNode:g,offset:m}=e)}else if(d.caretRangeFromPoint){let i=d.caretRangeFromPoint(t,r);i&&(({startContainer:g,startOffset:m}=i),(!e.contentDOM.contains(g)||Xr.safari&&function(e,t,r){let i;if(3!=e.nodeType||t!=(i=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Tr(e,i-1,i).getBoundingClientRect().left>r}(g,m,t)||Xr.chrome&&function(e,t,r){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let i=1==e.nodeType?e.getBoundingClientRect():Tr(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return r-i.left>5}(g,m,t))&&(g=void 0))}if(!g||!e.docView.dom.contains(g)){let i=vi.find(e.docView,u);if(!i)return h>s.top+s.height/2?s.to:s.from;({node:g,offset:m}=yo(i.dom,t,r))}return e.docView.posFromDOM(g,m)}function ko(e,t,r,i,o){let n=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&r.height>1.5*e.defaultLineHeight){n+=Math.floor((o-r.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(r.from,r.to);return r.from+Zt(s,n,e.state.tabSize)}function Co(e,t,r,i){let o=e.state.doc.lineAt(t.head),n=e.bidiSpans(o),s=e.textDirectionAt(o.from);for(let a=t,l=null;;){let t=oo(o,n,s,a,r),c=io;if(!t){if(o.number==(r?e.state.doc.lines:1))return a;c="\n",o=e.state.doc.line(o.number+(r?1:-1)),n=e.bidiSpans(o),t=Ie.cursor(r?o.from:o.to)}if(l){if(!l(c))return a}else{if(!i)return t;l=i(c)}a=t}}function xo(e,t,r){let i=e.state.facet(zi).map((t=>t(e)));for(;;){let e=!1;for(let o of i)o.between(r.from-1,r.from+1,((i,o,n)=>{r.from>i&&r.from<o&&(r=t.from>r.from?Ie.cursor(i,1):Ie.cursor(o,-1),e=!0)}));if(!e)return r}}class To{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Qo){let r=Qo[t];e.contentDOM.addEventListener(t,(i=>{Ro(e,i)&&!this.ignoreDuringComposition(i)&&("keydown"==t&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,i)?i.preventDefault():r(e,i)))}),Lo[t]),this.registeredEvents.push(t)}Xr.chrome&&102==Xr.chrome_version&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,Xr.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let i;this.customHandlers=[];for(let o of t)if(i=null===(r=o.update(e).spec)||void 0===r?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let t in i)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(r=>{Ro(e,r)&&this.runCustomHandlers(t,e,r)&&r.preventDefault()})))}}runCustomHandlers(e,t,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,t)||r.defaultPrevented)return!0}catch(e){Ri(t.state,e)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,t,e)}catch(t){Ri(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(Xr.android&&Xr.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return!(!Xr.ios||!(r=Eo.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=r,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Er(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Xr.safari&&!Xr.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!Xr.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Eo=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Po=[16,17,18,20,91,92,224,225];class Ao{constructor(e,t,r,i){this.view=e,this.style=r,this.mustSelect=i,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(At.allowMultipleSelections)&&function(e,t){let r=e.state.facet(wi);return r.length?r[0](t):Xr.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let r=e.state.facet(Si);return r.length?r[0](t):Xr.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:r}=e.state.selection;if(r.empty)return!1;let i=dr(e.root);if(!i||0==i.rangeCount)return!0;let o=i.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let r=o[e];if(r.left<=t.clientX&&r.right>=t.clientX&&r.top<=t.clientY&&r.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Uo(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Ro(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r,i=t.target;i!=e.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(r=Qr.get(i))&&r.ignoreEvent(t))return!1;return!0}const Qo=Object.create(null),Lo=Object.create(null),$o=Xr.ie&&Xr.ie_version<15||Xr.ios&&Xr.webkit_version<604;function Mo(e,t){let r,{state:i}=e,o=1,n=i.toText(t),s=n.lines==i.selection.ranges.length;if(null!=No&&i.selection.ranges.every((e=>e.empty))&&No==n.toString()){let e=-1;r=i.changeByRange((r=>{let a=i.doc.lineAt(r.from);if(a.from==e)return{range:r};e=a.from;let l=i.toText((s?n.line(o++).text:t)+i.lineBreak);return{changes:{from:a.from,insert:l},range:Ie.cursor(r.from+l.length)}}))}else r=s?i.changeByRange((e=>{let t=n.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Ie.cursor(e.from+t.length)}})):i.replaceSelection(n);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}function Do(e,t,r,i){if(1==i)return Ie.cursor(t,r);if(2==i)return function(e,t,r=1){let i=e.charCategorizer(t),o=e.doc.lineAt(t),n=t-o.from;if(0==o.length)return Ie.cursor(t);0==n?r=1:n==o.length&&(r=-1);let s=n,a=n;r<0?s=be(o.text,n,!1):a=be(o.text,n);let l=i(o.text.slice(s,a));for(;s>0;){let e=be(o.text,s,!1);if(i(o.text.slice(e,s))!=l)break;s=e}for(;a<o.length;){let e=be(o.text,a);if(i(o.text.slice(a,e))!=l)break;a=e}return Ie.range(s+o.from,a+o.from)}(e.state,t,r);{let r=vi.find(e.docView,t),i=e.state.doc.lineAt(r?r.posAtEnd:t),o=r?r.posAtStart:i.from,n=r?r.posAtEnd:i.to;return n<e.state.doc.length&&n==i.to&&n++,Ie.range(o,n)}}Qo.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Po.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},Qo.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Qo.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Lo.touchstart=Lo.touchmove={passive:!0},Qo.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3&&1==Uo(t))return;let r=null;for(let i of e.state.facet(ki))if(r=i(e,t),r)break;if(r||0!=t.button||(r=function(e,t){let r=zo(e,t),i=Uo(t),o=e.state.selection,n=r,s=t;return{update(e){e.docChanged&&(r&&(r.pos=e.changes.mapPos(r.pos)),o=o.map(e.changes),s=null)},get(t,a,l){let c;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?c=n:(c=n=zo(e,t),s=t),!c||!r)return o;let h=Do(e,c.pos,c.bias,i);if(r.pos!=c.pos&&!a){let t=Do(e,r.pos,r.bias,i),o=Math.min(t.from,h.from),n=Math.max(t.to,h.to);h=o<h.from?Ie.range(o,n):Ie.range(n,o)}return a?o.replaceRange(o.main.extend(h.from,h.to)):l&&o.ranges.length>1&&o.ranges.some((e=>e.eq(h)))?function(e,t){for(let r=0;;r++)if(e.ranges[r].eq(t))return Ie.create(e.ranges.slice(0,r).concat(e.ranges.slice(r+1)),e.mainIndex==r?0:e.mainIndex-(e.mainIndex>r?1:0))}(o,h):l?o.addRange(h):Ie.create([h])}}}(e,t)),r){let i=e.root.activeElement!=e.contentDOM;i&&e.observer.ignore((()=>xr(e.contentDOM))),e.inputState.startMouseSelection(new Ao(e,t,r,i))}};let jo=(e,t)=>e>=t.top&&e<=t.bottom,Bo=(e,t,r)=>jo(t,r)&&e>=r.left&&e<=r.right;function Io(e,t,r,i){let o=vi.find(e.docView,t);if(!o)return 1;let n=t-o.posAtStart;if(0==n)return 1;if(n==o.length)return-1;let s=o.coordsAt(n,-1);if(s&&Bo(r,i,s))return-1;let a=o.coordsAt(n,1);return a&&Bo(r,i,a)?1:s&&jo(i,s)?-1:1}function zo(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:r,bias:Io(e,r,t.clientX,t.clientY)}}const Wo=Xr.ie&&Xr.ie_version<=11;let Fo=null,qo=0,Go=0;function Uo(e){if(!Wo)return e.detail;let t=Fo,r=Go;return Fo=e,Go=Date.now(),qo=!t||r>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(qo+1)%3:1}function Ho(e,t,r,i){if(!r)return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:n}=e.inputState,s=i&&n&&n.dragging&&n.dragMove?{from:n.dragging.from,to:n.dragging.to}:null,a={from:o,insert:r},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"})}Qo.dragstart=(e,t)=>{let{selection:{main:r}}=e.state,{mouseSelection:i}=e.inputState;i&&(i.dragging=r),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(r.from,r.to)),t.dataTransfer.effectAllowed="copyMove")},Qo.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let r=t.dataTransfer.files;if(r&&r.length){t.preventDefault();let i=Array(r.length),o=0,n=()=>{++o==r.length&&Ho(e,t,i.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<r.length;e++){let t=new FileReader;t.onerror=n,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(i[e]=t.result),n()},t.readAsText(r[e])}}else Ho(e,t,t.dataTransfer.getData("Text"),!0)},Qo.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let r=$o?null:t.clipboardData;r?(Mo(e,r.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.remove(),Mo(e,r.value)}),50)}(e)};let No=null;function Xo(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}function Zo(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}Qo.copy=Qo.cut=(e,t)=>{let{text:r,ranges:i,linewise:o}=function(e){let t=[],r=[],i=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),r.push(i));if(!t.length){let o=-1;for(let{from:i}of e.selection.ranges){let n=e.doc.lineAt(i);n.number>o&&(t.push(n.text),r.push({from:n.from,to:Math.min(e.doc.length,n.to+1)})),o=n.number}i=!0}return{text:t.join(e.lineBreak),ranges:r,linewise:i}}(e.state);if(!r&&!o)return;No=o?r:null;let n=$o?null:t.clipboardData;n?(t.preventDefault(),n.clearData(),n.setData("text/plain",r)):function(e,t){let r=e.dom.parentNode;if(!r)return;let i=r.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout((()=>{i.remove(),e.focus()}),50)}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},Qo.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Xo(e)},Qo.blur=e=>{e.observer.clearSelectionRange(),Xo(e)},Qo.compositionstart=Qo.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),Zo(e,!0)))},Qo.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&Zo(e,!1)}),50)},Qo.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Qo.beforeinput=(e,t)=>{var r;let i;if(Xr.chrome&&Xr.android&&(i=Eo.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var r;((null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const Vo=["pre-wrap","normal","pre-line","break-spaces"];class Yo{constructor(){this.doc=le.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Vo.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,o){let n=Vo.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=n;if(this.lineWrapping=n,this.lineHeight=t,this.charWidth=r,this.lineLength=i,s){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Ko{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Jo{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Jo(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var en=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(en||(en={}));const tn=.001;class rn{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>tn&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return rn.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this;for(let n=i.length-1;n>=0;n--){let{fromA:s,toA:a,fromB:l,toB:c}=i[n],h=o.lineAt(s,en.ByPosNoHeight,t,0,0),u=h.to>=a?h:o.lineAt(a,en.ByPosNoHeight,t,0,0);for(c+=u.to-a,a=u.to;n>0&&h.from<=i[n-1].toA;)s=i[n-1].fromA,l=i[n-1].fromB,n--,s<h.from&&(h=o.lineAt(s,en.ByPosNoHeight,t,0,0));l+=h.from-s,s=h.from;let d=cn.build(r,e,l,c);o=o.replace(s,a,d)}return o.updateHeight(r,0)}static empty(){return new nn(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),r+=1+o.break,i-=o.size}else{if(!(o>2*i))break;{let t=e[r];t.break?e.splice(r,1,t.left,null,t.right):e.splice(r,1,t.left,t.right),r+=2+t.break,o-=t.size}}else if(i<o){let r=e[t++];r&&(i+=r.size)}else{let t=e[--r];t&&(o+=t.size)}let n=0;return null==e[t-1]?(n=1,t--):null==e[t]&&(n=1,r++),new an(rn.of(e.slice(0,t)),n,rn.of(e.slice(r)))}}rn.prototype.size=1;class on extends rn{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,i){return new Jo(i,this.length,r,this.height,this.type)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,n){e<=o+this.length&&t>=o&&n(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class nn extends on{constructor(e,t){super(e,t,hi.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let i=r[0];return 1==r.length&&(i instanceof nn||i instanceof sn&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof sn?i=new nn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rn.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class sn extends rn{constructor(e){super(e,0)}lines(e,t){let r=e.lineAt(t).number,i=e.lineAt(t+this.length).number;return{firstLine:r,lastLine:i,lineHeight:this.height/(i-r+1)}}blockAt(e,t,r,i){let{firstLine:o,lastLine:n,lineHeight:s}=this.lines(t,i),a=Math.max(0,Math.min(n-o,Math.floor((e-r)/s))),{from:l,length:c}=t.line(o+a);return new Jo(l,c,r+s*a,s,hi.Text)}lineAt(e,t,r,i,o){if(t==en.ByHeight)return this.blockAt(e,r,i,o);if(t==en.ByPosNoHeight){let{from:t,to:i}=r.lineAt(e);return new Jo(t,i-t,0,0,hi.Text)}let{firstLine:n,lineHeight:s}=this.lines(r,o),{from:a,length:l,number:c}=r.lineAt(e);return new Jo(a,l,i+s*(c-n),s,hi.Text)}forEachLine(e,t,r,i,o,n){let{firstLine:s,lineHeight:a}=this.lines(r,o);for(let l=Math.max(e,o),c=Math.min(o+this.length,t);l<=c;){let t=r.lineAt(l);l==e&&(i+=a*(t.number-s)),n(new Jo(t.from,t.length,i,a,hi.Text)),i+=a,l=t.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let e=r[r.length-1];e instanceof sn?r[r.length-1]=new sn(e.length+i):r.push(null,new sn(i-1))}if(e>0){let t=r[0];t instanceof sn?r[0]=new sn(e+t.length):r.unshift(new sn(e-1),null)}return rn.of(r)}decomposeLeft(e,t){t.push(new sn(e-1),null)}decomposeRight(e,t){t.push(null,new sn(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let r=[],n=Math.max(t,i.from),s=-1,a=e.heightChanged;for(i.from>t&&r.push(new sn(i.from-t-1).updateHeight(e,t));n<=o&&i.more;){let t=e.doc.lineAt(n).length;r.length&&r.push(null);let o=i.heights[i.index++];-1==s?s=o:Math.abs(o-s)>=tn&&(s=-2);let a=new nn(t,o);a.outdated=!1,r.push(a),n+=t+1}n<=o&&r.push(null,new sn(o-n).updateHeight(e,n));let l=rn.of(r);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=tn||Math.abs(s-this.lines(e.doc,t).lineHeight)>=tn,l}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class an extends rn{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let n=i+this.left.height,s=o+this.left.length+this.break,a=t==en.ByHeight?e<n:e<s,l=a?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,n,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==en.ByPosNoHeight?en.ByPosNoHeight:en.ByPos;return a?l.join(this.right.lineAt(s,c,r,n,s)):this.left.lineAt(s,c,r,i,o).join(l)}forEachLine(e,t,r,i,o,n){let s=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,i,o,n),t>=a&&this.right.forEachLine(e,t,r,s,a,n);else{let l=this.lineAt(a,en.ByPos,r,i,o);e<l.from&&this.left.forEachLine(e,l.from-1,r,i,o,n),l.to>=e&&l.from<=t&&n(l),t>l.to&&this.right.forEachLine(l.to+1,t,r,s,a,n)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let n=o.length;for(let e of r)o.push(e);if(e>0&&ln(o,n-1),t<this.length){let e=o.length;this.decomposeRight(t,o),ln(o,e)}return rn.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?rn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:n}=this,s=t+o.length+this.break,a=null;return i&&i.from<=t+o.length&&i.more?a=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=s+n.length&&i.more?a=n=n.updateHeight(e,s,r,i):n.updateHeight(e,s,r),a?this.balanced(o,n):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ln(e,t){let r,i;null==e[t]&&(r=e[t-1])instanceof sn&&(i=e[t+1])instanceof sn&&e.splice(t-1,3,new sn(r.length+1+i.length))}class cn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof nn?r.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new nn(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new on(o,i,r.type)):(o||i>=5)&&this.addLineDeco(i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new nn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new sn(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof nn)return e;let t=new nn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=hi.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=hi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof nn||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new nn(0,-1));let r=e;for(let e of this.nodes)e instanceof nn&&e.updateHeight(this.oracle,r),r+=e?e.length:1;return this.nodes}static build(e,t,r,i){let o=new cn(r,e);return Dt.spans(t,r,i,o,0),o.finish(r)}}class hn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&mi(e,t,this.changes,5)}}function un(e,t){let r=e.getBoundingClientRect(),i=Math.max(0,r.left),o=Math.min(innerWidth,r.right),n=Math.max(0,r.top),s=Math.min(innerHeight,r.bottom),a=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=a;)if(1==t.nodeType){let r=t,a=window.getComputedStyle(r);if((r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)&&"visible"!=a.overflow){let a=r.getBoundingClientRect();i=Math.max(i,a.left),o=Math.min(o,a.right),n=Math.max(n,a.top),s=t==e.parentNode?a.bottom:Math.min(s,a.bottom)}t="absolute"==a.position||"fixed"==a.position?r.offsetParent:r.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-r.left,right:Math.max(i,o)-r.left,top:n-(r.top+t),bottom:Math.max(n,s)-(r.top+t)}}function dn(e,t){let r=e.getBoundingClientRect();return{left:0,right:r.right-r.left,top:t,bottom:r.bottom-(r.top+t)}}class fn{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return ui.replace({widget:new pn(this.size,e)}).range(this.from,this.to)}}class pn extends ci{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gn{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Yo,this.scaler=wn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ui.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Ii).filter((e=>"function"!=typeof e)),this.heightMap=rn.empty().applyChanges(this.stateDeco,le.empty,this.heightOracle.setDoc(e.doc),[new qi(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ui.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some((({from:e,to:t})=>i>=e&&i<=t))){let{from:t,to:r}=this.lineBlockAt(i);e.push(new mn(t,r))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?wn:new Sn(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:kn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ii).filter((e=>"function"!=typeof e));let i=e.changedRanges,o=qi.extendWithRanges(i,function(e,t,r){let i=new hn;return Dt.compare(e,t,r,i,0),i.changes}(r,this.stateDeco,e?e.changes:Re.empty(this.state.doc.length))),n=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=n&&(e.flags|=2);let s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Ui.RTL:Ui.LTR;let n=this.heightOracle.mustRefreshForWrapping(o),s=n||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,c=parseInt(r.paddingTop)||0,h=parseInt(r.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==h||(this.paddingTop=c,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let u=(this.printing?dn:un)(t,this.paddingTop),d=u.top-this.pixelViewport.top,f=u.bottom-this.pixelViewport.bottom;this.pixelViewport=u;let p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(s=!0)),!this.inView)return 0;let g=t.clientWidth;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=g,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(t)&&(n=!0),n||i.lineWrapping&&Math.abs(g-this.contentDOMWidth)>i.charWidth){let{lineHeight:r,charWidth:s}=e.docView.measureTextSize();n=i.refresh(o,r,s,g/s,t),n&&(e.docView.minWidth=0,a|=8)}d>0&&f>0?l=Math.max(d,f):d<0&&f<0&&(l=Math.min(d,f)),i.heightChanged=!1;for(let r of this.viewports){let o=r.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(r);this.heightMap=this.heightMap.updateHeight(i,0,n,new Ko(r.from,o))}i.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(n?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.state.doc,{visibleTop:n,visibleBottom:s}=this,a=new mn(i.lineAt(n-1e3*r,en.ByHeight,o,0,0).from,i.lineAt(s+1e3*(1-r),en.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let r,n=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=i.lineAt(e,en.ByPos,o,0,0);r="center"==t.y?(s.top+s.bottom)/2-n/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-n,a=new mn(i.lineAt(r-500,en.ByHeight,o,0,0).from,i.lineAt(r+n+500,en.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new mn(this.heightMap.lineAt(r,en.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,en.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,en.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,en.ByPos,this.state.doc,0,0),{visibleTop:n,visibleBottom:s}=this;return(0==e||i<=n-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>n-2e3&&o<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new fn(t.mapPos(i.from),t.mapPos(i.to),i.size));return r}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=Ui.LTR)return t;for(let r of this.viewportLines){if(r.length<4e3)continue;let i,o,n=vn(r.from,r.to,this.stateDeco);if(n.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;i=On(n,(this.visibleTop-r.top-e)/r.height),o=On(n,(this.visibleBottom-r.top+e)/r.height)}else{let e=n.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;i=On(n,(this.pixelViewport.left-t)/e),o=On(n,(this.pixelViewport.right+t)/e)}let s=[];i>r.from&&s.push({from:r.from,to:i}),o<r.to&&s.push({from:o,to:r.to});let a=this.state.selection.main;a.from>=r.from&&a.from<=r.to&&bn(s,a.from-10,a.from+10),!a.empty&&a.to>=r.from&&a.to<=r.to&&bn(s,a.to-10,a.to+10);for(let{from:i,to:o}of s)o-i>1e3&&t.push(yn(e,(e=>e.from>=r.from&&e.to<=r.to&&Math.abs(e.from-i)<1e3&&Math.abs(e.to-o)<1e3))||new fn(i,o,this.gapSize(r,i,o,n)))}return t}gapSize(e,t,r,i){let o=_n(i,r)-_n(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){fn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ui.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Dt.spans(e,this.viewport.from,this.viewport.to,{span(e,r){t.push({from:e,to:r})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,r)=>e.from!=t[r].from||e.to!=t[r].to));return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||kn(this.heightMap.lineAt(e,en.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return kn(this.heightMap.lineAt(this.scaler.fromDOM(e),en.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return kn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class mn{constructor(e,t){this.from=e,this.to=t}}function vn(e,t,r){let i=[],o=e,n=0;return Dt.spans(r,e,t,{span(){},point(e,t){e>o&&(i.push({from:o,to:e}),n+=e-o),o=t}},20),o<t&&(i.push({from:o,to:t}),n+=t-o),{total:n,ranges:i}}function On({total:e,ranges:t},r){if(r<=0)return t[0].from;if(r>=1)return t[t.length-1].to;let i=Math.floor(e*r);for(let e=0;;e++){let{from:r,to:o}=t[e],n=o-r;if(i<=n)return r+i;i-=n}}function _n(e,t){let r=0;for(let{from:i,to:o}of e.ranges){if(t<=o){r+=t-i;break}r+=o-i}return r/e.total}function bn(e,t,r){for(let i=0;i<e.length;i++){let o=e[i];if(o.from<r&&o.to>t){let n=[];o.from<t&&n.push({from:o.from,to:t}),o.to>r&&n.push({from:r,to:o.to}),e.splice(i,1,...n),i+=n.length-1}}}function yn(e,t){for(let r of e)if(t(r))return r}const wn={toDOM:e=>e,fromDOM:e=>e,scale:1};class Sn{constructor(e,t,r){let i=0,o=0,n=0;this.viewports=r.map((({from:r,to:o})=>{let n=t.lineAt(r,en.ByPos,e,0,0).top,s=t.lineAt(o,en.ByPos,e,0,0).bottom;return i+=s-n,{from:r,to:o,top:n,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(t.height-i);for(let e of this.viewports)e.domTop=n+(e.top-o)*this.scale,n=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function kn(e,t){if(1==t.scale)return e;let r=t.toDOM(e.top),i=t.toDOM(e.bottom);return new Jo(e.from,e.length,r,i-r,Array.isArray(e.type)?e.type.map((e=>kn(e,t))):e.type)}const Cn=Fe.define({combine:e=>e.join(" ")}),xn=Fe.define({combine:e=>e.indexOf(!0)>-1}),Tn=Jt.newName(),En=Jt.newName(),Pn=Jt.newName(),An={"&light":"."+En,"&dark":"."+Pn};function Rn(e,t,r){return new Jt(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!r||!r[t])throw new RangeError(`Unsupported selector: ${t}`);return r[t]})):e+" "+t})}const Qn=Rn("."+Tn,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},An),Ln={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$n=Xr.ie&&Xr.ie_version<=11;class Mn{constructor(e,t,r){this.view=e,this.onChange=t,this.onScrollChanged=r,this.active=!1,this.selectionRange=new Sr,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Xr.ie&&Xr.ie_version<=11||Xr.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),$n&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),this.win=e.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,r)=>t!=e[r])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,r=this.selectionRange;if(t.state.facet(Qi)?t.root.activeElement!=this.dom:!pr(t.dom,r))return;let i=r.anchorNode&&t.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)||((Xr.ie&&Xr.ie_version<=11||Xr.android&&Xr.chrome)&&!t.state.selection.main.empty&&r.focusNode&&mr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:e}=this,t=Xr.safari&&11==e.root.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.dom&&function(e){let t=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),!t)return null;let i=t.startContainer,o=t.startOffset,n=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);mr(a.node,a.offset,n,s)&&([i,o,n,s]=[n,s,i,o]);return{anchorNode:i,anchorOffset:o,focusNode:n,focusOffset:s}}(this.view)||dr(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=pr(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let r=t.focusNode,i=t.focusOffset;if(!r||t.anchorNode!=r||t.anchorOffset!=i)return!1;for(;;)if(i){if(1!=r.nodeType)return!1;let e=r.childNodes[i-1];"false"==e.contentEditable?i--:(r=e,i=_r(r))}else{if(r==e)return!0;i=vr(r),r=r.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Ln),$n&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),$n&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Er(this.dom,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(i=!0),-1==t?({from:t,to:r}=e):(t=Math.min(e.from,t),r=Math.max(e.to,r)))}return{from:t,to:r,typeOver:i}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:r,typeOver:i}=this.processRecords(),o=this.selectionChanged&&pr(this.dom,this.selectionRange);if(t<0&&!o)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let n=this.view.state,s=this.onChange(t,r,i);return this.view.state==n&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let r=Dn(t,e.previousSibling||e.target.previousSibling,-1),i=Dn(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resize)||void 0===r||r.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Dn(e,t,r){for(;t;){let i=Qr.get(t);if(i&&i.parent==e)return i;let o=t.parentNode;t=o!=e.dom?o:r>0?t.nextSibling:t.previousSibling}return null}function jn(e,t,r,i){let o,n,s=e.state.selection.main;if(t>-1){let i=e.docView.domBoundsAround(t,r,0);if(!i||e.state.readOnly)return!1;let{from:a,to:l}=i,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:n}=e.observer.selectionRange;r&&(t.push(new lo(r,i)),o==r&&n==i||t.push(new lo(o,n)));return t}(e),h=new so(c,e.state);h.readRange(i.startDOM,i.endDOM);let u=s.from,d=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Xr.android&&h.text.length<l-a)&&(u=s.to,d="end");let f=function(e,t,r,i){let o=Math.min(e.length,t.length),n=0;for(;n<o&&e.charCodeAt(n)==t.charCodeAt(n);)n++;if(n==o&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==i){r-=s+Math.max(0,n-Math.min(s,a))-n}if(s<n&&e.length<t.length){n-=r<=n&&r>=s?n-r:0,a=n+(a-s),s=n}else if(a<n){n-=r<=n&&r>=a?n-r:0,s=n+(s-a),a=n}return{from:n,toA:s,toB:a}}(e.state.doc.sliceString(a,l,no),h.text,u-a,d);f&&(Xr.chrome&&13==e.inputState.lastKeyCode&&f.toB==f.from+2&&"￿￿"==h.text.slice(f.from,f.toB)&&f.toB--,o={from:a+f.from,to:a+f.toA,insert:le.of(h.text.slice(f.from,f.toB).split(no))}),n=function(e,t){if(0==e.length)return null;let r=e[0].pos,i=2==e.length?e[1].pos:r;return r>-1&&i>-1?Ie.single(r+t,i+t):null}(c,a)}else if(e.hasFocus||!e.state.facet(Qi)){let t=e.observer.selectionRange,{impreciseHead:r,impreciseAnchor:i}=e.docView,o=r&&r.node==t.focusNode&&r.offset==t.focusOffset||!fr(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),a=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!fr(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);o==s.head&&a==s.anchor||(n=Ie.single(a,o))}if(!o&&!n)return!1;if(!o&&i&&!s.empty&&n&&n.main.empty?o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:o&&o.from>=s.from&&o.to<=s.to&&(o.from!=s.from||o.to!=s.to)&&s.to-s.from-(o.to-o.from)<=4?o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,o.from).append(o.insert).append(e.state.doc.slice(o.to,s.to))}:(Xr.mac||Xr.android)&&o&&o.from==o.to&&o.from==s.head-1&&"."==o.insert.toString()&&(o={from:s.from,to:s.to,insert:le.of([" "])}),o){let t=e.state;if(Xr.ios&&e.inputState.flushIOSKey(e))return!0;if(Xr.android&&(o.from==s.from&&o.to==s.to&&1==o.insert.length&&2==o.insert.lines&&Er(e.contentDOM,"Enter",13)||o.from==s.from-1&&o.to==s.to&&0==o.insert.length&&Er(e.contentDOM,"Backspace",8)||o.from==s.from&&o.to==s.to+1&&0==o.insert.length&&Er(e.contentDOM,"Delete",46)))return!0;let r,i=o.insert.toString();if(e.state.facet(Ti).some((t=>t(e,o.from,o.to,i))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,o.from>=s.from&&o.to<=s.to&&o.to-o.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==o.from+o.insert.length)&&e.inputState.composing<0){let i=s.from<o.from?t.sliceDoc(s.from,o.from):"",n=s.to>o.to?t.sliceDoc(o.to,s.to):"";r=t.replaceSelection(e.state.toText(i+o.insert.sliceString(0,void 0,e.state.lineBreak)+n))}else{let i=t.changes(o),a=n&&!t.selection.main.eq(n.main)&&n.main.to<=i.newLength?n.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&o.to<=s.to&&o.to>=s.to-10){let n=e.state.sliceDoc(o.from,o.to),l=uo(e)||e.state.doc.lineAt(s.head),c=s.to-o.to,h=s.to-s.from;r=t.changeByRange((r=>{if(r.from==s.from&&r.to==s.to)return{changes:i,range:a||r.map(i)};let u=r.to-c,d=u-n.length;if(r.to-r.from!=h||e.state.sliceDoc(d,u)!=n||l&&r.to>=l.from&&r.from<=l.to)return{range:r};let f=t.changes({from:d,to:u,insert:o.insert}),p=r.to-s.to;return{changes:f,range:a?Ie.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):r.map(f)}}))}else r={changes:i,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(r,{scrollIntoView:!0,userEvent:a}),!0}if(n&&!n.main.eq(s)){let t=!1,r="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),r=e.inputState.lastSelectionOrigin),e.dispatch({selection:n,scrollIntoView:t,userEvent:r}),!0}return!1}class Bn{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new gn(e.state||At.create(e)),this.plugins=this.state.facet($i).map((e=>new Di(e)));for(let e of this.plugins)e.update(this);this.observer=new Mn(this,((e,t,r)=>jn(this,e,t,r)),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new To(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new co(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof _t?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,r=!1,i=!1,o=this.state;for(let t of e){if(t.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=t.state}if(this.destroyed)return void(this.viewState.state=o);if(this.observer.clear(),o.facet(At.phrases)!=this.state.facet(At.phrases))return this.setState(o);t=Gi.create(this,o,e);let n=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(n&&(n=n.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;n=new Pi(e.empty?e:Ie.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Ai)&&(n=e.value)}this.viewState.update(t,n),this.bidiCache=Wn.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(Fi)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Cn)!=t.state.facet(Cn)&&(this.viewState.mustMeasureContent=!0),(r||i||n||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(xi))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new gn(e),this.plugins=e.facet($i).map((e=>new Di(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new co(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet($i),r=e.state.facet($i);if(t!=r){let i=[];for(let o of r){let r=t.indexOf(o);if(r<0)i.push(new Di(o));else{let t=this.plugins[r];t.mustUpdate=e,i.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:r,scrollTop:i,clientHeight:o}=this.scrollDOM,n=i>r-o-4?r:i;try{for(let e=0;;e++){this.updateState=1;let r=this.viewport,i=this.viewState.lineBlockAtHeight(n),o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&o||([this.measureRequests,s]=[s,this.measureRequests]);let a=s.map((e=>{try{return e.read(this)}catch(e){return Ri(this.state,e),zn}})),l=Gi.create(this,this.state,[]),c=!1,h=!1;l.flags|=o,t?t.flags|=o:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),c=this.docView.update(l));for(let e=0;e<s.length;e++)if(a[e]!=zn)try{let t=s[e];t.write&&t.write(a[e],this)}catch(e){Ri(this.state,e)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=!0;else{let e=this.viewState.lineBlockAt(i.from).top-i.top;(e>1||e<-1)&&(this.scrollDOM.scrollTop+=e,h=!0)}if(c&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!h&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(xi))e(t)}get themeClasses(){return Tn+" "+(this.state.facet(xn)?Pn:En)+" "+this.state.facet(Cn)}updateAttrs(){let e=Fn(this,ji,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Qi)?"true":"false",class:"cm-content",style:`${Xr.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Fn(this,Bi,t);let r=this.observer.ignore((()=>{let r=li(this.contentDOM,this.contentAttrs,t),i=li(this.dom,this.editorAttrs,e);return r||i}));return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let e of r.effects)if(e.is(Bn.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(Fi),Jt.mount(this.root,this.styleModules.concat(Qn).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return xo(this,e,Co(this,e,t,r))}moveByGroup(e,t){return xo(this,e,Co(this,e,t,(t=>function(e,t,r){let i=e.state.charCategorizer(t),o=i(r);return e=>{let t=i(e);return o==xt.Space&&(o=t),o==t}}(this,e.head,t))))}moveToLineBoundary(e,t,r=!0){return function(e,t,r,i){let o=e.state.doc.lineAt(t.head),n=i&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(n){let t=e.dom.getBoundingClientRect(),i=e.textDirectionAt(o.from),s=e.posAtCoords({x:r==(i==Ui.LTR)?t.right-1:t.left+1,y:(n.top+n.bottom)/2});if(null!=s)return Ie.cursor(s,r?-1:1)}let s=vi.find(e.docView,t.head),a=s?r?s.posAtEnd:s.posAtStart:r?o.to:o.from;return Ie.cursor(a,r?-1:1)}(this,e,t,r)}moveVertically(e,t,r){return xo(this,e,function(e,t,r,i){let o=t.head,n=r?1:-1;if(o==(r?e.state.doc.length:0))return Ie.cursor(o,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o),h=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=n<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),s=(n<0?t.top:t.bottom)+h}let u=l.left+a,d=null!=i?i:e.defaultLineHeight>>1;for(let r=0;;r+=10){let i=s+(d+r)*n,c=So(e,{x:u,y:i},!1,n);if(i<l.top||i>l.bottom||(n<0?c<o:c>o))return Ie.cursor(c,t.assoc,void 0,a)}}(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),So(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i);return yr(r,o[eo.find(o,e-i.from,-1,t)].dir==Ui.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ei)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>In)return ro(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let r=function(e,t){let r=e.length,i=t==Hi?1:2,o=t==Hi?2:1;if(!e||1==i&&!Ji.test(e))return ro(r);for(let t=0,o=i,s=i;t<r;t++){let r=(n=e.charCodeAt(t))<=247?Zi[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Vi[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||8204==n?256:1;512==r?r=o:8==r&&4==s&&(r=16),to[t]=4==r?2:r,7&r&&(s=r),o=r}var n;for(let e=0,t=i,o=i;e<r;e++){let i=to[e];if(128==i)e<r-1&&t==to[e+1]&&24&t?i=to[e]=t:to[e]=256;else if(64==i){let i=e+1;for(;i<r&&64==to[i];)i++;let n=e&&8==t||i<r&&8==to[i]?1==o?1:8:256;for(let t=e;t<i;t++)to[t]=n;e=i-1}else 8==i&&1==o&&(to[e]=1);t=i,7&i&&(o=i)}for(let t,n,s,a=0,l=0,c=0;a<r;a++)if(n=Yi[t=e.charCodeAt(a)])if(n<0){for(let e=l-3;e>=0;e-=3)if(Ki[e+1]==-n){let t=Ki[e+2],r=2&t?i:4&t?1&t?o:i:0;r&&(to[a]=to[Ki[e]]=r),l=e;break}}else{if(189==Ki.length)break;Ki[l++]=a,Ki[l++]=t,Ki[l++]=c}else if(2==(s=to[a])||1==s){let e=s==i;c=e?0:1;for(let t=l-3;t>=0;t-=3){let r=Ki[t+2];if(2&r)break;if(e)Ki[t+2]|=2;else{if(4&r)break;Ki[t+2]|=4}}}for(let e=0;e<r;e++)if(256==to[e]){let t=e+1;for(;t<r&&256==to[t];)t++;let o=1==(e?to[e-1]:i),n=o==(1==(t<r?to[t]:i))?o?1:2:i;for(let r=e;r<t;r++)to[r]=n;e=t-1}let s=[];if(1==i)for(let e=0;e<r;){let t=e,i=1!=to[e++];for(;e<r&&i==(1!=to[e]);)e++;if(i)for(let r=e;r>t;){let e=r,i=2!=to[--r];for(;r>t&&i==(2!=to[r-1]);)r--;s.push(new eo(r,e,i?2:1))}else s.push(new eo(t,e,0))}else for(let e=0;e<r;){let t=e,i=2==to[e++];for(;e<r&&i==(2==to[e]);)e++;s.push(new eo(t,e,i?1:2))}return s}(e.text,t);return this.bidiCache.push(new Wn(e.from,e.to,t,r)),r}get hasFocus(){var e;return(document.hasFocus()||Xr.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{xr(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ai.of(new Pi("number"==typeof e?Ie.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Mi.define((()=>({})),{eventHandlers:e})}static theme(e,t){let r=Jt.newName(),i=[Cn.of(r),Fi.of(Rn(`.${r}`,e))];return t&&t.dark&&i.push(xn.of(!0)),i}static baseTheme(e){return tt.lowest(Fi.of(Rn("."+Tn,e,An)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Qr.get(r)||Qr.get(e);return(null===(t=null==i?void 0:i.rootView)||void 0===t?void 0:t.view)||null}}Bn.styleModule=Fi,Bn.inputHandler=Ti,Bn.perLineTextDirection=Ei,Bn.exceptionSink=Ci,Bn.updateListener=xi,Bn.editable=Qi,Bn.mouseSelectionStyle=ki,Bn.dragMovesSelection=Si,Bn.clickAddsSelectionRange=wi,Bn.decorations=Ii,Bn.atomicRanges=zi,Bn.scrollMargins=Wi,Bn.darkTheme=xn,Bn.contentAttributes=Bi,Bn.editorAttributes=ji,Bn.lineWrapping=Bn.contentAttributes.of({class:"cm-lineWrapping"}),Bn.announce=Ot.define();const In=4096,zn={};class Wn{constructor(e,t,r,i){this.from=e,this.to=t,this.dir=r,this.order=i}static update(e,t){if(t.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Ui.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let n=e[o];n.dir!=i||t.touchesRange(n.from,n.to)||r.push(new Wn(t.mapPos(n.from,1),t.mapPos(n.to,-1),n.dir,n.order))}return r}}function Fn(e,t,r){for(let i=e.state.facet(t),o=i.length-1;o>=0;o--){let t=i[o],n="function"==typeof t?t(e):t;n&&si(n,r)}return r}const qn=Xr.mac?"mac":Xr.windows?"win":Xr.linux?"linux":"key";function Gn(e,t,r){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==r&&t.shiftKey&&(e="Shift-"+e),e}const Un=tt.default(Bn.domEventHandlers({keydown:(e,t)=>Vn(Xn(t.state),e,t,"editor")})),Hn=Fe.define({enables:Un}),Nn=new WeakMap;function Xn(e){let t=e.facet(Hn),r=Nn.get(t);return r||Nn.set(t,r=function(e,t=qn){let r=Object.create(null),i=Object.create(null),o=(e,t)=>{let r=i[e];if(null==r)i[e]=t;else if(r!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},n=(e,i,n,s)=>{let a=r[e]||(r[e]=Object.create(null)),l=i.split(/ (?!$)/).map((e=>function(e,t){const r=e.split(/-(?!$)/);let i,o,n,s,a=r[r.length-1];"Space"==a&&(a=" ");for(let e=0;e<r.length-1;++e){const a=r[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))n=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:o=!0}}return i&&(a="Alt-"+a),o&&(a="Ctrl-"+a),s&&(a="Meta-"+a),n&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let r=l.slice(0,t).join(" ");o(r,!0),a[r]||(a[r]={preventDefault:!0,commands:[t=>{let i=Zn={view:t,prefix:r,scope:e};return setTimeout((()=>{Zn==i&&(Zn=null)}),4e3),!0}]})}let c=l.join(" ");o(c,!1);let h=a[c]||(a[c]={preventDefault:!1,commands:[]});h.commands.push(n),s&&(h.preventDefault=!0)};for(let r of e){let e=r[t]||r.key;if(e)for(let t of r.scope?r.scope.split(" "):["editor"])n(t,e,r.run,r.preventDefault),r.shift&&n(t,"Shift-"+e,r.shift,r.preventDefault)}return r}(t.reduce(((e,t)=>e.concat(t)),[]))),r}let Zn=null;function Vn(e,t,r,i){let o=function(e){var t=!(cr&&(e.ctrlKey||e.altKey||e.metaKey)||(nr||lr)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?ir:rr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),n=Ce(o,0),s=Te(n)==o.length&&" "!=o,a="",l=!1;Zn&&Zn.view==r&&Zn.scope==i&&(a=Zn.prefix+" ",(l=Po.indexOf(t.keyCode)<0)&&(Zn=null));let c,h=e=>{if(e){for(let t of e.commands)if(t(r))return!0;e.preventDefault&&(l=!0)}return!1},u=e[i];if(u){if(h(u[a+Gn(o,t,!s)]))return!0;if(s&&(t.shiftKey||t.altKey||t.metaKey||n>127)&&(c=rr[t.keyCode])&&c!=o){if(h(u[a+Gn(c,t,!0)]))return!0;if(t.shiftKey&&ir[t.keyCode]!=c&&h(u[a+Gn(ir[t.keyCode],t,!1)]))return!0}else if(s&&t.shiftKey&&h(u[a+Gn(o,t,!0)]))return!0}return l}const Yn=!Xr.ios,Kn=Fe.define({combine:e=>Rt(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Jn(e={}){return[Kn.of(e),ts,is]}class es{constructor(e,t,r,i,o){this.left=e,this.top=t,this.width=r,this.height=i,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const ts=Mi.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Kn).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(Kn)!=e.state.facet(Kn);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(Kn),r=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let r=Math.max(t.from,e.viewport.from),i=Math.min(t.to,e.viewport.to),o=e.textDirection==Ui.LTR,n=e.contentDOM,s=n.getBoundingClientRect(),a=os(e),l=window.getComputedStyle(n.firstChild),c=s.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),h=s.right-parseInt(l.paddingRight),u=ss(e,r),d=ss(e,i),f=u.type==hi.Text?u:null,p=d.type==hi.Text?d:null;e.lineWrapping&&(f&&(f=ns(e,r,f)),p&&(p=ns(e,i,p)));if(f&&p&&f.from==p.from)return m(v(t.from,t.to,f));{let r=f?v(t.from,null,f):O(u,!1),i=p?v(null,t.to,p):O(d,!0),o=[];return(f||u).to<(p||d).from-1?o.push(g(c,r.bottom,h,i.top)):r.bottom<i.top&&e.elementAtHeight((r.bottom+i.top)/2).type==hi.Text&&(r.bottom=i.top=(r.bottom+i.top)/2),m(r).concat(o).concat(m(i))}function g(e,t,r,i){return new es(e-a.left,t-a.top-.01,r-e,i-t+.01,"cm-selectionBackground")}function m({top:e,bottom:t,horizontal:r}){let i=[];for(let o=0;o<r.length;o+=2)i.push(g(r[o],e,r[o+1],t));return i}function v(t,r,i){let n=1e9,s=-1e9,a=[];function l(t,r,l,u,d){let f=e.coordsAtPos(t,t==i.to?-2:2),p=e.coordsAtPos(l,l==i.from?2:-2);n=Math.min(f.top,p.top,n),s=Math.max(f.bottom,p.bottom,s),d==Ui.LTR?a.push(o&&r?c:f.left,o&&u?h:p.right):a.push(!o&&u?c:p.left,!o&&r?h:f.right)}let u=null!=t?t:i.from,d=null!=r?r:i.to;for(let i of e.visibleRanges)if(i.to>u&&i.from<d)for(let o=Math.max(i.from,u),n=Math.min(i.to,d);;){let i=e.state.doc.lineAt(o);for(let s of e.bidiSpans(i)){let e=s.from+i.from,a=s.to+i.from;if(e>=n)break;a>o&&l(Math.max(e,o),null==t&&e<=u,Math.min(a,n),null==r&&a>=d,s.dir)}if(o=i.to+1,o>=n)break}return 0==a.length&&l(u,null==t,d,null==r,e.textDirection),{top:n,bottom:s,horizontal:a}}function O(e,t){let r=s.top+(t?e.top:e.bottom);return{top:r,bottom:r,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),i=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||Yn:t.drawRangeCursor){let e=as(this.view,r,o);e&&i.push(e)}}return{rangePieces:r,cursors:i}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,r)=>t.adjust(e[r])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),rs={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Yn&&(rs[".cm-line"].caretColor="transparent !important");const is=tt.highest(Bn.theme(rs));function os(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Ui.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function ns(e,t,r){let i=Ie.cursor(t);return{from:Math.max(r.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(r.to,e.moveToLineBoundary(i,!0,!0).from),type:hi.Text}}function ss(e,t){let r=e.lineBlockAt(t);if(Array.isArray(r.type))for(let e of r.type)if(e.to>t||e.to==t&&(e.to==r.to||e.type==hi.Text))return e;return r}function as(e,t,r){let i=e.coordsAtPos(t.head,t.assoc||1);if(!i)return null;let o=os(e);return new es(i.left-o.left,i.top-o.top,-1,i.bottom-i.top,r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const ls=Ot.define({map:(e,t)=>null==e?null:t.mapPos(e)}),cs=Ze.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(ls)?t.value:e),e))}),hs=Mi.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let r=e.state.field(cs);null==r?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(cs)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(cs),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+this.view.scrollDOM.scrollLeft,top:t.top-r.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(cs)!=e&&this.view.dispatch({effects:ls.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function us(e,t,r,i,o){t.lastIndex=0;for(let n,s=e.iterRange(r,i),a=r;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;n=t.exec(s.value);)o(a+n.index,n)}class ds{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:n=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(e,t,r,o)=>i(o,r,r+e[0].length,e,t);else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");{let e="function"==typeof r?r:()=>r;this.addMatch=(t,r,i,o)=>o(i,i+t[0].length,e(t,r,i))}}this.boundary=o,this.maxLength=n}createDeco(e){let t=new jt,r=t.add.bind(t);for(let{from:t,to:i}of function(e,t){let r=e.visibleRanges;if(1==r.length&&r[0].from==e.viewport.from&&r[0].to==e.viewport.to)return r;let i=[];for(let{from:o,to:n}of r)o=Math.max(e.state.doc.lineAt(o).from,o-t),n=Math.min(e.state.doc.lineAt(n).to,n+t),i.length&&i[i.length-1].to>=o?i[i.length-1].to=n:i.push({from:o,to:n});return i}(e,this.maxLength))us(e.state.doc,this.regexp,t,i,((t,i)=>this.addMatch(i,e,t,r)));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(((t,o,n,s)=>{s>e.view.viewport.from&&n<e.view.viewport.to&&(r=Math.min(n,r),i=Math.max(s,i))})),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let n=Math.max(o.from,r),s=Math.min(o.to,i);if(s>n){let r=e.state.doc.lineAt(n),i=r.to<s?e.state.doc.lineAt(s):r,a=Math.max(o.from,r.from),l=Math.min(o.to,i.to);if(this.boundary){for(;n>r.from;n--)if(this.boundary.test(r.text[n-1-r.from])){a=n;break}for(;s<i.to;s++)if(this.boundary.test(i.text[s-i.from])){l=s;break}}let c,h=[],u=(e,t,r)=>h.push(r.range(e,t));if(r==i)for(this.regexp.lastIndex=a-r.from;(c=this.regexp.exec(r.text))&&c.index<l-r.from;)this.addMatch(c,e,c.index+r.from,u);else us(e.state.doc,this.regexp,a,l,((t,r)=>this.addMatch(r,e,t,u)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const fs=null!=/x/.unicode?"gu":"g",ps=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",fs),gs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ms=null;const vs=Fe.define({combine(e){let t=Rt(e,{render:null,specialChars:ps,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==ms&&"undefined"!=typeof document&&document.body){let t=document.body.style;ms=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return ms||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,fs)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,fs)),t}});function Os(e={}){return[vs.of(e),_s||(_s=Mi.fromClass(class{constructor(e){this.view=e,this.decorations=ui.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(vs)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new ds({regexp:e.specialChars,decoration:(t,r,i)=>{let{doc:o}=r.state,n=Ce(t[0],0);if(9==n){let e=o.lineAt(i),t=r.state.tabSize,n=Xt(e.text,t,i-e.from);return ui.replace({widget:new ys((t-n%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[n]||(this.decorationCache[n]=ui.replace({widget:new bs(e,n)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(vs);e.startState.facet(vs)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let _s=null;class bs extends ci{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),r=e.state.phrase("Control character")+" "+(gs[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ys extends ci{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const ws=ui.line({class:"cm-activeLine"}),Ss=Mi.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,r=[];for(let i of e.state.selection.ranges){if(!i.empty)return ui.none;let o=e.lineBlockAt(i.head);o.from>t&&(r.push(ws.range(o.from)),t=o.from)}return ui.set(r)}},{decorations:e=>e.decorations}),ks=2e3;function Cs(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1),i=e.state.doc.lineAt(r),o=r-i.from,n=o>ks?-1:o==i.length?function(e,t){let r=e.coordsAtPos(e.viewport.from);return r?Math.round(Math.abs((r.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Xt(i.text,e.state.tabSize,r-i.from);return{line:i.number,col:n,off:o}}function xs(e,t){let r=Cs(e,t),i=e.state.selection;return r?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(r.line).from),o=e.state.doc.lineAt(t);r={line:o.number,col:r.col,off:Math.min(r.off,o.length)},i=i.map(e.changes)}},get(t,o,n){let s=Cs(e,t);if(!s)return i;let a=function(e,t,r){let i=Math.min(t.line,r.line),o=Math.max(t.line,r.line),n=[];if(t.off>ks||r.off>ks||t.col<0||r.col<0){let s=Math.min(t.off,r.off),a=Math.max(t.off,r.off);for(let t=i;t<=o;t++){let r=e.doc.line(t);r.length<=a&&n.push(Ie.range(r.from+s,r.to+a))}}else{let s=Math.min(t.col,r.col),a=Math.max(t.col,r.col);for(let t=i;t<=o;t++){let r=e.doc.line(t),i=Zt(r.text,s,e.tabSize,!0);if(i>-1){let t=Zt(r.text,a,e.tabSize);n.push(Ie.range(r.from+i,r.from+t))}}}return n}(e.state,r,s);return a.length?n?Ie.create(a.concat(i.ranges)):Ie.create(a):i}}:null}function Ts(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Bn.mouseSelectionStyle.of(((e,r)=>t(r)?xs(e,r):null))}const Es={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},Ps={style:"cursor: crosshair"};function As(e={}){let[t,r]=Es[e.key||"Alt"],i=Mi.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||r(e))},keyup(e){e.keyCode!=t&&r(e)||this.set(!1)}}});return[i,Bn.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.isDown)?Ps:null}))]}const Rs="-10000px";class Qs{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(r)}update(e){let t=e.state.facet(this.facet),r=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let i=[];for(let t=0;t<r.length;t++){let o=r[t],n=-1;if(o){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==o.create&&(n=e)}if(n<0)i[t]=this.createTooltipView(o);else{let r=i[t]=this.tooltipViews[n];r.update&&r.update(e)}}}for(let e of this.tooltipViews)i.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=r,this.tooltipViews=i,!0}}function Ls(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const $s=Fe.define({combine:e=>{var t,r,i;return{position:Xr.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(r=e.find((e=>e.parent)))||void 0===r?void 0:r.parent)||null,tooltipSpace:(null===(i=e.find((e=>e.tooltipSpace)))||void 0===i?void 0:i.tooltipSpace)||Ls}}}),Ms=Mi.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let r=e.state.facet($s);this.position=r.position,this.parent=r.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Qs(e,Bs,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let r=t||e.geometryChanged,i=e.state.facet($s);if(i.position!=this.position){this.position=i.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;r=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Rs,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet($s).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:r}=e,i=[];for(let o=0;o<this.manager.tooltips.length;o++){let n=this.manager.tooltips[o],s=this.manager.tooltipViews[o],{dom:a}=s,l=e.pos[o],c=e.size[o];if(!l||l.bottom<=Math.max(t.top,r.top)||l.top>=Math.min(t.bottom,r.bottom)||l.right<Math.max(t.left,r.left)-.1||l.left>Math.min(t.right,r.right)+.1){a.style.top=Rs;continue}let h=n.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,u=h?7:0,d=c.right-c.left,f=c.bottom-c.top,p=s.offset||js,g=this.view.textDirection==Ui.LTR,m=c.width>r.right-r.left?g?r.left:r.right-c.width:g?Math.min(l.left-(h?14:0)+p.x,r.right-d):Math.max(r.left,l.left-d+(h?14:0)-p.x),v=!!n.above;!n.strictSide&&(v?l.top-(c.bottom-c.top)-p.y<r.top:l.bottom+(c.bottom-c.top)+p.y>r.bottom)&&v==r.bottom-l.bottom>l.top-r.top&&(v=!v);let O=v?l.top-f-u-p.y:l.bottom+u+p.y,_=m+d;if(!0!==s.overlap)for(let e of i)e.left<_&&e.right>m&&e.top<O+f&&e.bottom>O&&(O=v?e.top-f-2-u:e.bottom+u+2);"absolute"==this.position?(a.style.top=O-e.parent.top+"px",a.style.left=m-e.parent.left+"px"):(a.style.top=O+"px",a.style.left=m+"px"),h&&(h.style.left=l.left+(g?p.x:-p.x)-(m+14-7)+"px"),!0!==s.overlap&&i.push({left:m,top:O,right:_,bottom:O+f}),a.classList.toggle("cm-tooltip-above",v),a.classList.toggle("cm-tooltip-below",!v),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Rs}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Ds=Bn.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),js={x:0,y:0},Bs=Fe.define({enables:[Ms,Ds]}),Is=Fe.define();class zs{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Qs(e,Is,(e=>this.createHostedView(e)))}static create(e){return new zs(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const Ws=Bs.compute([Is],(e=>{let t=e.facet(Is).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:zs.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class Fs{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let r=this.view.coordsAtPos(t);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),o=i&&i.dir==Ui.RTL?-1:1,n=this.source(this.view,t,e.x<r.left?-o:o);if(null==n?void 0:n.then){let e=this.pending={pos:t};n.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>Ri(this.view.state,e,"hover tooltip")))}else n&&this.view.dispatch({effects:this.setHover.of(n)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,o=null!==(t=null==r?void 0:r.end)&&void 0!==t?t:i;(i==o?this.view.posAtCoords(this.lastMove)==i:function(e,t,r,i,o,n){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(r);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-o,o-t.bottom,t.left-i,i-t.right)<=n)return!0}return!1}(this.view,i,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function qs(e,t={}){let r=Ot.define(),i=Ze.define({create:()=>null,update(e,i){if(e&&(t.hideOnChange&&(i.docChanged||i.selection)||t.hideOn&&t.hideOn(i,e)))return null;if(e&&i.docChanged){let t=i.changes.mapPos(e.pos,-1,Pe.TrackDel);if(null==t)return null;let r=Object.assign(Object.create(null),e);r.pos=t,null!=e.end&&(r.end=i.changes.mapPos(e.end)),e=r}for(let t of i.effects)t.is(r)&&(e=t.value),t.is(Gs)&&(e=null);return e},provide:e=>Is.from(e)});return[i,Mi.define((o=>new Fs(o,e,i,r,t.hoverTime||300))),Ws]}const Gs=Ot.define(),Us=Fe.define({combine(e){let t,r;for(let i of e)t=t||i.topContainer,r=r||i.bottomContainer;return{topContainer:t,bottomContainer:r}}});function Hs(e,t){let r=e.plugin(Ns),i=r?r.specs.indexOf(t):-1;return i>-1?r.panels[i]:null}const Ns=Mi.fromClass(class{constructor(e){this.input=e.state.facet(Vs),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Us);this.top=new Xs(e,!0,t.topContainer),this.bottom=new Xs(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(Us);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Xs(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Xs(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=e.state.facet(Vs);if(r!=this.input){let t=r.filter((e=>e)),i=[],o=[],n=[],s=[];for(let r of t){let t,a=this.specs.indexOf(r);a<0?(t=r(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),i.push(t),(t.top?o:n).push(t)}this.specs=t,this.panels=i,this.top.sync(o),this.bottom.sync(n);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Bn.scrollMargins.of((t=>{let r=t.plugin(e);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}}))});class Xs{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Zs(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Zs(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Zs(e){let t=e.nextSibling;return e.remove(),t}const Vs=Fe.define({enables:Ns});class Ys extends Qt{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ys.prototype.elementClass="",Ys.prototype.toDOM=void 0,Ys.prototype.mapMode=Pe.TrackBefore,Ys.prototype.startSide=Ys.prototype.endSide=-1,Ys.prototype.point=!0;const Ks=Fe.define(),Js={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Dt.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ea=Fe.define();function ta(e){return[ia(),ea.of(Object.assign(Object.assign({},Js),e))]}const ra=Fe.define({combine:e=>e.some((e=>e))});function ia(e){let t=[oa];return e&&!1===e.fixed&&t.push(ra.of(!0)),t}const oa=Mi.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(ea).map((t=>new la(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(ra),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,r=e.view.viewport,i=Math.min(t.to,r.to)-Math.max(t.from,r.from);this.syncGutters(i<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ra)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let r=Dt.iter(this.view.state.facet(Ks),this.view.viewport.from),i=[],o=this.gutters.map((e=>new aa(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let r of e.type)if(r.type==hi.Text){t=r;break}}else t=e.type==hi.Text?e:void 0;if(t){i.length&&(i=[]),sa(r,i,e.from);for(let e of o)e.line(this.view,t,i)}}for(let e of o)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(ea),r=e.state.facet(ea),i=e.docChanged||e.heightChanged||e.viewportChanged||!Dt.eq(e.startState.facet(Ks),e.state.facet(Ks),e.view.viewport.from,e.view.viewport.to);if(t==r)for(let t of this.gutters)t.update(e)&&(i=!0);else{i=!0;let o=[];for(let i of r){let r=t.indexOf(i);r<0?o.push(new la(this.view,i)):(this.gutters[r].update(e),o.push(this.gutters[r]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Bn.scrollMargins.of((t=>{let r=t.plugin(e);return r&&0!=r.gutters.length&&r.fixed?t.textDirection==Ui.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}:null}))});function na(e){return Array.isArray(e)?e:[e]}function sa(e,t,r){for(;e.value&&e.from<=r;)e.from==r&&t.push(e.value),e.next()}class aa{constructor(e,t,r){this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=Dt.iter(e.markers,t.from)}line(e,t,r){this.localMarkers.length&&(this.localMarkers=[]),sa(this.cursor,this.localMarkers,t.from);let i=r.length?this.localMarkers.concat(r):this.localMarkers,o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let n=this.gutter;if(0==i.length&&!n.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==n.elements.length){let r=new ca(e,t.height,s,i);n.elements.push(r),n.dom.appendChild(r.dom)}else n.elements[this.i].update(e,t.height,s,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class la{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,(i=>{let o=e.lineBlockAtHeight(i.clientY-e.documentTop);t.domEventHandlers[r](e,o,i)&&i.preventDefault()}));this.markers=na(t.markers(e)),t.initialSpacer&&(this.spacer=new ca(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=na(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let r=e.view.viewport;return!Dt.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class ca{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].compare(t[r]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,n=0;;){let s=n,a=o<t.length?t[o++]:null,l=!1;if(a){let e=a.elementClass;e&&(r+=" "+e);for(let e=n;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;n<s;){let e=this.markers[n++];if(e.toDOM){e.destroy(i);let t=i.nextSibling;i.remove(),i=t}}if(!a)break;a.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),l&&n++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const ha=Fe.define(),ua=Fe.define({combine:e=>Rt(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let e in t){let i=r[e],o=t[e];r[e]=i?(e,t,r)=>i(e,t,r)||o(e,t,r):o}return r}})});class da extends Ys{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function fa(e,t){return e.state.facet(ua).formatNumber(t,e.state)}const pa=ea.compute([ua],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(ha),lineMarker:(e,t,r)=>r.some((e=>e.toDOM))?null:new da(fa(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(ua)!=e.state.facet(ua),initialSpacer:e=>new da(fa(e,ga(e.state.doc.lines))),updateSpacer(e,t){let r=fa(t.view,ga(t.view.state.doc.lines));return r==e.number?e:new da(r)},domEventHandlers:e.facet(ua).domEventHandlers})));function ga(e){let t=9;for(;t<e;)t=10*t+9;return t}const ma=1024;let va=0;class Oa{constructor(e,t){this.from=e,this.to=t}}class _a{constructor(e={}){this.id=va++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=wa.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}_a.closedBy=new _a({deserialize:e=>e.split(" ")}),_a.openedBy=new _a({deserialize:e=>e.split(" ")}),_a.group=new _a({deserialize:e=>e.split(" ")}),_a.contextHash=new _a({perNode:!0}),_a.lookAhead=new _a({perNode:!0}),_a.mounted=new _a({perNode:!0});class ba{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}}const ya=Object.create(null);class wa{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ya,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new wa(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(_a.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return e=>{for(let r=e.prop(_a.group),i=-1;i<(r?r.length:0);i++){let o=t[i<0?e.name:r[i]];if(o)return o}}}}wa.none=new wa("",Object.create(null),0,8);class Sa{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let t of e){let e=t(r);e&&(i||(i=Object.assign({},r.props)),i[e[0].id]=e[1])}t.push(i?new wa(r.name,i,r.id,r.flags):r)}return new Sa(t)}}const ka=new WeakMap,Ca=new WeakMap;var xa;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(xa||(xa={}));class Ta{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(_a.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ba(this.topNode,e)}cursorAt(e,t=0,r=0){let i=ka.get(this)||this.topNode,o=new Ba(i);return o.moveTo(e,t),ka.set(this,o._tree),o}get topNode(){return new La(this,0,0,null)}resolve(e,t=0){let r=Qa(ka.get(this)||this.topNode,e,t,!1);return ka.set(this,r),r}resolveInner(e,t=0){let r=Qa(Ca.get(this)||this.topNode,e,t,!0);return Ca.set(this,r),r}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e;for(let n=this.cursor((e.mode||0)|xa.IncludeAnonymous);;){let e=!1;if(n.from<=o&&n.to>=i&&(n.type.isAnonymous||!1!==t(n))){if(n.firstChild())continue;e=!0}for(;e&&r&&!n.type.isAnonymous&&r(n),!n.nextSibling();){if(!n.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Fa(wa.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new Ta(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new Ta(wa.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:i,maxBufferLength:o=ma,reused:n=[],minRepeatType:s=i.types.length}=e,a=Array.isArray(r)?new Ea(r,r.length):r,l=i.types,c=0,h=0;function u(e,t,r,v,O){let{id:_,start:b,end:y,size:w}=a,S=h;for(;w<0;){if(a.next(),-1==w){let t=n[_];return r.push(t),void v.push(b-e)}if(-3==w)return void(c=_);if(-4==w)return void(h=_);throw new RangeError(`Unrecognized record size: ${w}`)}let k,C,x=l[_],T=b-e;if(y-b<=o&&(C=g(a.pos-t,O))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,o=t.length;for(;a.pos>r;)o=m(C.start,t,o);k=new Pa(t,y-C.start,i),T=C.start-e}else{let e=a.pos-w;a.next();let t=[],r=[],i=_>=s?_:-1,n=0,l=y;for(;a.pos>e;)i>=0&&a.id==i&&a.size>=0?(a.end<=l-o&&(f(t,r,b,n,a.end,l,i,S),n=t.length,l=a.end),a.next()):u(b,e,t,r,i);if(i>=0&&n>0&&n<t.length&&f(t,r,b,n,b,l,i,S),t.reverse(),r.reverse(),i>-1&&n>0){let e=d(x);k=Fa(x,t,r,0,t.length,0,y-b,e,e)}else k=p(x,t,r,y-b,S-y)}r.push(k),v.push(T)}function d(e){return(t,r,i)=>{let o,n,s=0,a=t.length-1;if(a>=0&&(o=t[a])instanceof Ta){if(!a&&o.type==e&&o.length==i)return o;(n=o.prop(_a.lookAhead))&&(s=r[a]+o.length+n)}return p(e,t,r,i,s)}}function f(e,t,r,o,n,s,a,l){let c=[],h=[];for(;e.length>o;)c.push(e.pop()),h.push(t.pop()+r-n);e.push(p(i.types[a],c,h,s-n,l-s)),t.push(n-r)}function p(e,t,r,i,o=0,n){if(c){let e=[_a.contextHash,c];n=n?[e].concat(n):[e]}if(o>25){let e=[_a.lookAhead,o];n=n?[e].concat(n):[e]}return new Ta(e,t,r,i,n)}function g(e,t){let r=a.fork(),i=0,n=0,l=0,c=r.end-o,h={size:0,start:0,skip:0};e:for(let o=r.pos-e;r.pos>o;){let e=r.size;if(r.id==t&&e>=0){h.size=i,h.start=n,h.skip=l,l+=4,i+=4,r.next();continue}let a=r.pos-e;if(e<0||a<o||r.start<c)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3!=r.size)break e;u+=4}else r.id>=s&&(u+=4);r.next()}n=d,i+=e,l+=u}return(t<0||i==e)&&(h.size=i,h.start=n,h.skip=l),h.size>4?h:void 0}function m(e,t,r){let{id:i,start:o,end:n,size:l}=a;if(a.next(),l>=0&&i<s){let s=r;if(l>4){let i=a.pos-(l-4);for(;a.pos>i;)r=m(e,t,r)}t[--r]=s,t[--r]=n-e,t[--r]=o-e,t[--r]=i}else-3==l?c=i:-4==l&&(h=i);return r}let v=[],O=[];for(;a.pos>0;)u(e.start||0,e.bufferStart||0,v,O,-1);let _=null!==(t=e.length)&&void 0!==t?t:v.length?O[0]+v[0].length:0;return new Ta(l[e.topID],v.reverse(),O.reverse(),_)}(e)}}Ta.empty=new Ta(wa.none,[],[],0);class Ea{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ea(this.buffer,this.index)}}class Pa{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return wa.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let n=[];for(;e<r;)n.push(this.childString(e)),e=this.buffer[e+3];return o+"("+n.join(",")+")"}findChild(e,t,r,i,o){let{buffer:n}=this,s=-1;for(let a=e;a!=t&&!(Aa(o,i,n[a+1],n[a+2])&&(s=a,r>0));a=n[a+3]);return s}slice(e,t,r,i){let o=this.buffer,n=new Uint16Array(t-e);for(let i=e,s=0;i<t;)n[s++]=o[i++],n[s++]=o[i++]-r,n[s++]=o[i++]-r,n[s++]=o[i++]-e;return new Pa(n,i-r,this.set)}}function Aa(e,t,r,i){switch(e){case-2:return r<t;case-1:return i>=t&&r<t;case 0:return r<t&&i>t;case 1:return r<=t&&i>t;case 2:return i>t;case 4:return!0}}function Ra(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function Qa(e,t,r,i){for(var o;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof La&&e.index<0?null:e.parent;if(!t)return e;e=t}let n=i?0:xa.IgnoreOverlays;if(i)for(let i=e,s=i.parent;s;i=s,s=i.parent)i instanceof La&&i.index<0&&(null===(o=s.enter(t,r,n))||void 0===o?void 0:o.from)!=i.from&&(e=s);for(;;){let i=e.enter(t,r,n);if(!i)return e;e=i}}class La{constructor(e,t,r,i){this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let n=this;;){for(let{children:s,positions:a}=n._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+n.from;if(Aa(i,r,c,c+l.length))if(l instanceof Pa){if(o&xa.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,r-c,i);if(s>-1)return new ja(new Da(n,l,e,c),null,s)}else if(o&xa.IncludeAnonymous||!l.type.isAnonymous||Ia(l)){let s;if(!(o&xa.IgnoreMounts)&&l.props&&(s=l.prop(_a.mounted))&&!s.overlay)return new La(s.tree,c,e,n);let a=new La(l,c,e,n);return o&xa.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,r,i)}}if(o&xa.IncludeAnonymous||!n.type.isAnonymous)return null;if(e=n.index>=0?n.index+t:t<0?-1:n._parent._tree.children.length,n=n._parent,!n)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&xa.IgnoreOverlays)&&(i=this._tree.prop(_a.mounted))&&i.overlay){let r=e-this.from;for(let{from:e,to:o}of i.overlay)if((t>0?e<=r:e<r)&&(t<0?o>=r:o>r))return new La(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ba(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Qa(this,e,t,!1)}resolveInner(e,t=0){return Qa(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ra(this,e)}getChild(e,t=null,r=null){let i=$a(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return $a(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Ma(this,e)}}function $a(e,t,r,i){let o=e.cursor(),n=[];if(!o.firstChild())return n;if(null!=r)for(;!o.type.is(r);)if(!o.nextSibling())return n;for(;;){if(null!=i&&o.type.is(i))return n;if(o.type.is(t)&&n.push(o.node),!o.nextSibling())return null==i?n:[]}}function Ma(e,t,r=t.length-1){for(let i=e.parent;r>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[r]&&t[r]!=i.name)return!1;r--}}return!0}class Da{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class ja{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new ja(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&xa.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new ja(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ja(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ja(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Ba(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let n=r.buffer[this.index+1],s=r.buffer[this.index+2];e.push(r.slice(i,o,n,s)),t.push(0)}return new Ta(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Qa(this,e,t,!1)}resolveInner(e,t=0){return Qa(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ra(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let i=$a(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return $a(this,e,t,r)}get node(){return this}matchContext(e){return Ma(this,e)}}class Ba{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof La)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof La?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&xa.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xa.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&xa.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let i=t+e,o=e<0?-1:r._tree.children.length;i!=o;i+=e){let e=r._tree.children[i];if(this.mode&xa.IncludeAnonymous||e instanceof Pa||!e.type.isAnonymous||Ia(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let n=e;n;n=n._parent)if(n.index==i){if(i==this.index)return n;t=n,r=o+1;break e}i=this.stack[--o]}for(let e=r;e<this.stack.length;e++)t=new ja(this.buffer,t,this.stack[e]);return this.bufferNode=new ja(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Ma(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Ma(this.node,e,i);let n=r[t.buffer[this.stack[o]]];if(!n.isAnonymous){if(e[i]&&e[i]!=n.name)return!1;i--}}return!0}}function Ia(e){return e.children.some((e=>e instanceof Pa||!e.type.isAnonymous||Ia(e)))}const za=new WeakMap;function Wa(e,t){if(!e.isAnonymous||t instanceof Pa||t.type!=e)return 1;let r=za.get(t);if(null==r){r=1;for(let i of t.children){if(i.type!=e||!(i instanceof Ta)){r=1;break}r+=Wa(e,i)}za.set(t,r)}return r}function Fa(e,t,r,i,o,n,s,a,l){let c=0;for(let r=i;r<o;r++)c+=Wa(e,t[r]);let h=Math.ceil(1.5*c/8),u=[],d=[];return function t(r,i,o,s,a){for(let c=o;c<s;){let o=c,f=i[c],p=Wa(e,r[c]);for(c++;c<s;c++){let t=Wa(e,r[c]);if(p+t>=h)break;p+=t}if(c==o+1){if(p>h){let e=r[o];t(e.children,e.positions,0,e.children.length,i[o]+a);continue}u.push(r[o])}else{let t=i[c-1]+r[c-1].length-f;u.push(Fa(e,r,i,o,c,f,t,null,l))}d.push(f+a-n)}}(t,r,i,o,0),(a||l)(u,d,s)}class qa{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof ja?this.setBuffer(e.context.buffer,e.index,t):e instanceof La&&this.map.set(e.tree,t)}get(e){return e instanceof ja?this.getBuffer(e.context.buffer,e.index):e instanceof La?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ga{constructor(e,t,r,i,o=!1,n=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(n?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new Ga(0,e.length,e,0,!1,r)];for(let r of t)r.to>e.length&&i.push(r);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,n=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,h=c?c.fromA:1e9;if(h-a>=r)for(;n&&n.from<h;){let t=n;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,r=Math.min(t.to,h)-l;t=e>=r?null:new Ga(e,r,t.tree,t.offset+l,s>0,!!c)}if(t&&i.push(t),n.to>h)break;n=o<e.length?e[o++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return i}}class Ua{startParse(e,t,r){return"string"==typeof e&&(e=new Ha(e)),r=r?r.length?r.map((e=>new Oa(e.from,e.to))):[new Oa(0,0)]:[new Oa(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let e=i.advance();if(e)return e}}}class Ha{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function Na(e){return(t,r,i,o)=>new Ya(t,e,r,i,o)}class Xa{constructor(e,t,r,i,o){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.ranges=o}}class Za{constructor(e,t,r,i,o,n,s){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=o,this.target=n,this.prev=s,this.depth=0,this.ranges=[]}}const Va=new _a({perNode:!0});class Ya{constructor(e,t,r,i,o){this.nest=t,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new Ta(e.type,e.children,e.positions,e.length,e.propValues.concat([[Va,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[_a.mounted.id]=new ba(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new rl(this.fragments),t=null,r=null,i=new Ba(new La(this.baseTree,this.ranges[0].from,0,null),xa.IncludeAnonymous|xa.IgnoreMounts);e:for(let o,n;null==this.stoppedAt||i.from<this.stoppedAt;){let s,a=!0;if(e.hasNode(i)){if(t){let e=t.mounts.find((e=>e.frag.from<=i.from&&e.frag.to>=i.to&&e.mount.overlay));if(e)for(let r of e.mount.overlay){let o=r.from+e.pos,n=r.to+e.pos;o>=i.from&&n<=i.to&&!t.ranges.some((e=>e.from<n&&e.to>o))&&t.ranges.push({from:o,to:n})}}a=!1}else if(r&&(n=Ka(r.ranges,i.from,i.to)))a=2!=n;else if(!i.type.isAnonymous&&i.from<i.to&&(o=this.nest(i,this.input))){i.tree||el(i);let n=e.findMounts(i.from,o.parser);if("function"==typeof o.overlay)t=new Za(o.parser,o.overlay,n,this.inner.length,i.from,i.tree,t);else{let e=il(this.ranges,o.overlay||[new Oa(i.from,i.to)]);e.length&&this.inner.push(new Xa(o.parser,o.parser.startParse(this.input,nl(n,e),e),o.overlay?o.overlay.map((e=>new Oa(e.from-i.from,e.to-i.from))):null,i.tree,e)),o.overlay?e.length&&(r={ranges:e,depth:0,prev:r}):a=!1}}else t&&(s=t.predicate(i))&&(!0===s&&(s=new Oa(i.from,i.to)),s.from<s.to&&t.ranges.push(s));if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let e=il(this.ranges,t.ranges);e.length&&this.inner.splice(t.index,0,new Xa(t.parser,t.parser.startParse(this.input,nl(t.mounts,e),e),t.ranges.map((e=>new Oa(e.from-t.start,e.to-t.start))),t.target,e)),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function Ka(e,t,r){for(let i of e){if(i.from>=r)break;if(i.to>t)return i.from<=t&&i.to>=r?2:1}return 0}function Ja(e,t,r,i,o,n){if(t<r){let s=e.buffer[t+1],a=e.buffer[r-2];i.push(e.slice(t,r,s,a)),o.push(s-n)}}function el(e){let{node:t}=e,r=0;do{e.parent(),r++}while(!e.tree);let i=0,o=e.tree,n=0;for(;n=o.positions[i]+e.from,!(n<=t.from&&n+o.children[i].length>=t.to);i++);let s=o.children[i],a=s.buffer;o.children[i]=function e(r,i,o,l,c){let h=r;for(;a[h+2]+n<=t.from;)h=a[h+3];let u=[],d=[];Ja(s,r,h,u,d,l);let f=a[h+1],p=a[h+2],g=f+n==t.from&&p+n==t.to&&a[h]==t.type.id;return u.push(g?t.toTree():e(h+4,a[h+3],s.set.types[a[h]],f,p-f)),d.push(f-l),Ja(s,a[h+3],i,u,d,l),new Ta(o,u,d,c)}(0,a.length,wa.none,0,s.length);for(let i=0;i<=r;i++)e.childAfter(t.from)}class tl{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(xa.IncludeAnonymous|xa.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,xa.IgnoreOverlays|xa.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof Ta))break;t=t.children[0]}return!1}}class rl{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=null!==(t=r.tree.prop(Va))&&void 0!==t?t:r.to,this.inner=new tl(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(Va))&&void 0!==e?e:t.to,this.inner=new tl(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let o=null===(r=e.tree)||void 0===r?void 0:r.prop(_a.mounted);if(o&&o.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let r=this.fragments[t];if(r.from>=e.to)break;r.tree==this.curFrag.tree&&i.push({frag:r,pos:e.from-r.offset,mount:o})}}}return i}}function il(e,t){let r=null,i=t;for(let o=1,n=0;o<e.length;o++){let s=e[o-1].to,a=e[o].from;for(;n<i.length;n++){let e=i[n];if(e.from>=a)break;e.to<=s||(r||(i=r=t.slice()),e.from<s?(r[n]=new Oa(e.from,s),e.to>a&&r.splice(n+1,0,new Oa(a,e.to))):e.to>a?r[n--]=new Oa(a,e.to):r.splice(n--,1))}}return i}function ol(e,t,r,i){let o=0,n=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let h=o==e.length?1e9:s?e[o].to:e[o].from,u=n==t.length?1e9:a?t[n].to:t[n].from;if(s!=a){let e=Math.max(l,r),t=Math.min(h,u,i);e<t&&c.push(new Oa(e,t))}if(l=Math.min(h,u),1e9==l)break;h==l&&(s?(s=!1,o++):s=!0),u==l&&(a?(a=!1,n++):a=!0)}return c}function nl(e,t){let r=[];for(let{pos:i,mount:o,frag:n}of e){let e=i+(o.overlay?o.overlay[0].from:0),s=e+o.tree.length,a=Math.max(n.from,e),l=Math.min(n.to,s);if(o.overlay){let s=ol(t,o.overlay.map((e=>new Oa(e.from+i,e.to+i))),a,l);for(let t=0,i=a;;t++){let a=t==s.length,c=a?l:s[t].from;if(c>i&&r.push(new Ga(i,c,o.tree,-e,n.from>=i,n.to<=c)),a)break;i=s[t].to}}else r.push(new Ga(a,l,o.tree,-e,n.from>=e,n.to<=s))}return r}let sl=0;class al{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=sl++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new al([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new cl;return t=>t.modified.indexOf(e)>-1?t:cl.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let ll=0;class cl{constructor(){this.instances=[],this.id=ll++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find((r=>{return r.base==e&&(i=t,o=r.modified,i.length==o.length&&i.every(((e,t)=>e==o[t])));var i,o}));if(r)return r;let i=[],o=new al(i,e,t);for(let e of t)e.instances.push(o);let n=hl(t);for(let t of e.set)for(let e of n)i.push(cl.get(t,e));return o}}function hl(e){let t=[e];for(let r=0;r<e.length;r++)for(let i of hl(e.slice(0,r).concat(e.slice(r+1))))t.push(i);return t}function ul(e){let t=Object.create(null);for(let r in e){let i=e[r];Array.isArray(i)||(i=[i]);for(let e of r.split(" "))if(e){let r=[],o=2,n=e;for(let t=0;;){if("..."==n&&t>0&&t+3==e.length){o=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(n);if(!i)throw new RangeError("Invalid path: "+e);if(r.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){o=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);n=e.slice(t)}let s=r.length-1,a=r[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new fl(i,o,s>0?r.slice(0,s):null);t[a]=l.sort(t[a])}}return dl.add(t)}const dl=new _a;class fl{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function pl(e,t){let r=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)r[e.id]=t.class;else r[t.tag.id]=t.class;let{scope:i,all:o=null}=t||{};return{style:e=>{let t=o;for(let i of e)for(let e of i.set){let i=r[e.id];if(i){t=t?t+" "+i:i;break}}return t},scope:i}}function gl(e,t){let r=null;for(let i of e){let e=i.style(t);e&&(r=r?r+" "+e:e)}return r}function ml(e,t,r,i=0,o=e.length){let n=new vl(i,Array.isArray(t)?t:[t],r);n.highlightRange(e.cursor(),i,o,"",n.highlighters),n.flush(o)}class vl{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:n,from:s,to:a}=e;if(s>=r||a<=t)return;n.isTop&&(o=this.highlighters.filter((e=>!e.scope||e.scope(n))));let l=i,c=n.prop(dl),h=!1;for(;c;){if(!c.context||e.matchContext(c.context)){let e=gl(o,c.tags);e&&(l&&(l+=" "),l+=e,1==c.mode?i+=(i?" ":"")+e:0==c.mode&&(h=!0));break}c=c.next}if(this.startSpan(e.from,l),h)return;let u=e.tree&&e.tree.prop(_a.mounted);if(u&&u.overlay){let n=e.node.enter(u.overlay[0].from+s,1),c=this.highlighters.filter((e=>!e.scope||e.scope(u.tree.type))),h=e.firstChild();for(let d=0,f=s;;d++){let p=d<u.overlay.length?u.overlay[d]:null,g=p?p.from+s:a,m=Math.max(t,f),v=Math.min(r,g);if(m<v&&h)for(;e.from<v&&(this.highlightRange(e,m,v,i,o),this.startSpan(Math.min(r,e.to),l),!(e.to>=g)&&e.nextSibling()););if(!p||g>r)break;f=p.to+s,f>t&&(this.highlightRange(n.cursor(),Math.max(t,p.from+s),Math.min(r,f),i,c),this.startSpan(f,l))}h&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),l)}}while(e.nextSibling());e.parent()}}}const Ol=al.define,_l=Ol(),bl=Ol(),yl=Ol(bl),wl=Ol(bl),Sl=Ol(),kl=Ol(Sl),Cl=Ol(Sl),xl=Ol(),Tl=Ol(xl),El=Ol(),Pl=Ol(),Al=Ol(),Rl=Ol(Al),Ql=Ol(),Ll={comment:_l,lineComment:Ol(_l),blockComment:Ol(_l),docComment:Ol(_l),name:bl,variableName:Ol(bl),typeName:yl,tagName:Ol(yl),propertyName:wl,attributeName:Ol(wl),className:Ol(bl),labelName:Ol(bl),namespace:Ol(bl),macroName:Ol(bl),literal:Sl,string:kl,docString:Ol(kl),character:Ol(kl),attributeValue:Ol(kl),number:Cl,integer:Ol(Cl),float:Ol(Cl),bool:Ol(Sl),regexp:Ol(Sl),escape:Ol(Sl),color:Ol(Sl),url:Ol(Sl),keyword:El,self:Ol(El),null:Ol(El),atom:Ol(El),unit:Ol(El),modifier:Ol(El),operatorKeyword:Ol(El),controlKeyword:Ol(El),definitionKeyword:Ol(El),moduleKeyword:Ol(El),operator:Pl,derefOperator:Ol(Pl),arithmeticOperator:Ol(Pl),logicOperator:Ol(Pl),bitwiseOperator:Ol(Pl),compareOperator:Ol(Pl),updateOperator:Ol(Pl),definitionOperator:Ol(Pl),typeOperator:Ol(Pl),controlOperator:Ol(Pl),punctuation:Al,separator:Ol(Al),bracket:Rl,angleBracket:Ol(Rl),squareBracket:Ol(Rl),paren:Ol(Rl),brace:Ol(Rl),content:xl,heading:Tl,heading1:Ol(Tl),heading2:Ol(Tl),heading3:Ol(Tl),heading4:Ol(Tl),heading5:Ol(Tl),heading6:Ol(Tl),contentSeparator:Ol(xl),list:Ol(xl),quote:Ol(xl),emphasis:Ol(xl),strong:Ol(xl),link:Ol(xl),monospace:Ol(xl),strikethrough:Ol(xl),inserted:Ol(),deleted:Ol(),changed:Ol(),invalid:Ol(),meta:Ql,documentMeta:Ol(Ql),annotation:Ol(Ql),processingInstruction:Ol(Ql),definition:al.defineModifier(),constant:al.defineModifier(),function:al.defineModifier(),standard:al.defineModifier(),local:al.defineModifier(),special:al.defineModifier()};var $l;pl([{tag:Ll.link,class:"tok-link"},{tag:Ll.heading,class:"tok-heading"},{tag:Ll.emphasis,class:"tok-emphasis"},{tag:Ll.strong,class:"tok-strong"},{tag:Ll.keyword,class:"tok-keyword"},{tag:Ll.atom,class:"tok-atom"},{tag:Ll.bool,class:"tok-bool"},{tag:Ll.url,class:"tok-url"},{tag:Ll.labelName,class:"tok-labelName"},{tag:Ll.inserted,class:"tok-inserted"},{tag:Ll.deleted,class:"tok-deleted"},{tag:Ll.literal,class:"tok-literal"},{tag:Ll.string,class:"tok-string"},{tag:Ll.number,class:"tok-number"},{tag:[Ll.regexp,Ll.escape,Ll.special(Ll.string)],class:"tok-string2"},{tag:Ll.variableName,class:"tok-variableName"},{tag:Ll.local(Ll.variableName),class:"tok-variableName tok-local"},{tag:Ll.definition(Ll.variableName),class:"tok-variableName tok-definition"},{tag:Ll.special(Ll.variableName),class:"tok-variableName2"},{tag:Ll.definition(Ll.propertyName),class:"tok-propertyName tok-definition"},{tag:Ll.typeName,class:"tok-typeName"},{tag:Ll.namespace,class:"tok-namespace"},{tag:Ll.className,class:"tok-className"},{tag:Ll.macroName,class:"tok-macroName"},{tag:Ll.propertyName,class:"tok-propertyName"},{tag:Ll.operator,class:"tok-operator"},{tag:Ll.comment,class:"tok-comment"},{tag:Ll.meta,class:"tok-meta"},{tag:Ll.invalid,class:"tok-invalid"},{tag:Ll.punctuation,class:"tok-punctuation"}]);const Ml=new _a;function Dl(e){return Fe.define({combine:e?t=>t.concat(e):void 0})}class jl{constructor(e,t,r=[]){this.data=e,At.prototype.hasOwnProperty("tree")||Object.defineProperty(At.prototype,"tree",{get(){return zl(this)}}),this.parser=t,this.extension=[Zl.of(this),At.languageData.of(((e,t,r)=>e.facet(Bl(e,t,r))))].concat(r)}isActiveAt(e,t,r=-1){return Bl(e,t,r)==this.data}findRegions(e){let t=e.facet(Zl);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(e,t)=>{if(e.prop(Ml)==this.data)return void r.push({from:t,to:t+e.length});let o=e.prop(_a.mounted);if(o){if(o.tree.prop(Ml)==this.data){if(o.overlay)for(let e of o.overlay)r.push({from:e.from+t,to:e.to+t});else r.push({from:t,to:t+e.length});return}if(o.overlay){let e=r.length;if(i(o.tree,o.overlay[0].from+t),r.length>e)return}}for(let r=0;r<e.children.length;r++){let o=e.children[r];o instanceof Ta&&i(o,e.positions[r]+t)}};return i(zl(e),0),r}get allowsNesting(){return!0}}function Bl(e,t,r){let i=e.facet(Zl);if(!i)return null;let o=i.data;if(i.allowsNesting)for(let i=zl(e).topNode;i;i=i.enter(t,r,xa.ExcludeBuffers))o=i.type.prop(Ml)||o;return o}jl.setState=Ot.define();class Il extends jl{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=Dl(e.languageData);return new Il(t,e.parser.configure({props:[Ml.add((e=>e.isTop?t:void 0))]}))}configure(e){return new Il(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function zl(e){let t=e.field(jl.state,!1);return t?t.tree:Ta.empty}class Wl{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Fl=null;class ql{constructor(e,t,r=[],i,o,n,s,a){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=n,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new ql(e,t,[],Ta.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Wl(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ta.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var r;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(Ga.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ga.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Fl;Fl=this;try{return e()}finally{Fl=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Gl(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:n,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,r,i,o)=>t.push({fromA:e,toA:r,fromB:i,toB:o}))),r=Ga.applyChanges(r,t),i=Ta.empty,o=0,n={from:e.mapPos(n.from,-1),to:e.mapPos(n.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let r=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);r<i&&s.push({from:r,to:i})}}}return new ql(this.parser,t,r,i,o,n,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:r,to:i}=this.skipped[t];r<e.to&&i>e.from&&(this.fragments=Gl(this.fragments,r,i),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ua{createParse(t,r,i){let o=i[0].from,n=i[i.length-1].to;return{parsedPos:o,advance(){let t=Fl;if(t){for(let e of i)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=n,new Ta(wa.none,[],[],n-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Fl}}function Gl(e,t,r){return Ga.applyChanges(e,[{fromA:t,toA:r,fromB:t,toB:r}])}class Ul{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Ul(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=ql.create(e.facet(Zl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Ul(r)}}jl.state=Ze.define({create:Ul.init,update(e,t){for(let e of t.effects)if(e.is(jl.setState))return e.value;return t.startState.facet(Zl)!=t.state.facet(Zl)?Ul.init(t.state):e.apply(t)}});let Hl=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Hl=e=>{let t=-1,r=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(r):cancelIdleCallback(t)});const Nl="undefined"!=typeof navigator&&(null===($l=navigator.scheduling)||void 0===$l?void 0:$l.isInputPending)?()=>navigator.scheduling.isInputPending():null,Xl=Mi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(jl.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(jl.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Hl(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(jl.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let n=Date.now()+Math.min(this.chunkBudget,100,e&&!Nl?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work((()=>Nl&&Nl()||Date.now()>n),i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:jl.setState.of(new Ul(o.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Ri(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Zl=Fe.define({combine:e=>e.length?e[0]:null,enables:[jl.state,Xl]});class Vl{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class Yl{constructor(e,t,r,i,o,n){this.name=e,this.alias=t,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=n,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){let{load:t,support:r}=e;if(!t){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(r)}return new Yl(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,t,r)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let r=/\.([^.]+)$/.exec(t);if(r)for(let t of e)if(t.extensions.indexOf(r[1])>-1)return t;return null}static matchLanguageName(e,t,r=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some((e=>e==t)))return r;if(r)for(let r of e)for(let e of r.alias){let i=t.indexOf(e);if(i>-1&&(e.length>2||!/\w/.test(t[i-1])&&!/\w/.test(t[i+e.length])))return r}return null}}const Kl=Fe.define(),Jl=Fe.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function ec(e){let t=e.facet(Jl);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function tc(e,t){let r="",i=e.tabSize;if(9==e.facet(Jl).charCodeAt(0))for(;t>=i;)r+="\t",t-=i;for(let e=0;e<t;e++)r+=" ";return r}function rc(e,t){e instanceof At&&(e=new ic(e));for(let r of e.state.facet(Kl)){let i=r(e,t);if(null!=i)return i}let r=zl(e.state);return r?function(e,t,r){return sc(t.resolveInner(r).enterUnfinishedNodesBefore(r),r,e)}(e,r,t):null}class ic{constructor(e,t={}){this.state=e,this.options=t,this.unit=ec(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return null!=i&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),n=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return n>-1&&(o+=n-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Xt(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(i);if(e>-1)return e}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const oc=new _a;function nc(e){let t=e.type.prop(oc);if(t)return t;let r,i=e.firstChild;if(i&&(r=i.type.prop(_a.closedBy))){let t=e.lastChild,i=t&&r.indexOf(t.name)>-1;return e=>uc(e,!0,1,void 0,i&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?ac:null}function sc(e,t,r){for(;e;e=e.parent){let i=nc(e);if(i)return i(lc.create(r,t,e))}return null}function ac(){return 0}class lc extends ic{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new lc(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(cc(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?sc(e,this.pos,this.base):0}}function cc(e,t){for(let r=t;r;r=r.parent)if(e==r)return!0;return!1}function hc({closing:e,align:t=!0,units:r=1}){return i=>uc(i,t,r,e)}function uc(e,t,r,i,o){let n=e.textAfter,s=n.match(/^\s*/)[0].length,a=i&&n.slice(s,s+i.length)==i||o==e.pos+s,l=t?function(e){let t=e.node,r=t.childAfter(t.from),i=t.lastChild;if(!r)return null;let o=e.options.simulateBreak,n=e.state.doc.lineAt(r.from),s=null==o||o<=n.from?n.to:Math.min(n.to,o);for(let e=r.to;;){let o=t.childAfter(e);if(!o||o==i)return null;if(!o.type.isSkipped)return o.from<s?r:null;e=o.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*r)}function dc({except:e,units:t=1}={}){return r=>{let i=e&&e.test(r.textAfter);return r.baseIndent+(i?0:t*r.unit)}}const fc=Fe.define(),pc=new _a;function gc(e){let t=e.firstChild,r=e.lastChild;return t&&t.to<r.from?{from:t.to,to:r.type.isError?e.to:r.from}:null}function mc(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function vc(e,t,r){for(let i of e.facet(fc)){let o=i(e,t,r);if(o)return o}return function(e,t,r){let i=zl(e);if(i.length<r)return null;let o=null;for(let n=i.resolveInner(r);n;n=n.parent){if(n.to<=r||n.from>r)continue;if(o&&n.from<t)break;let s=n.type.prop(pc);if(s&&(n.to<i.length-50||i.length==e.doc.length||!mc(n))){let i=s(n,e);i&&i.from<=r&&i.from>=t&&i.to>r&&(o=i)}}return o}(e,t,r)}function Oc(e,t){let r=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);return r>=i?void 0:{from:r,to:i}}const _c=Ot.define({map:Oc}),bc=Ot.define({map:Oc});function yc(e){let t=[];for(let{head:r}of e.state.selection.ranges)t.some((e=>e.from<=r&&e.to>=r))||t.push(e.lineBlockAt(r));return t}const wc=Ze.define({create:()=>ui.none,update(e,t){e=e.map(t.changes);for(let r of t.effects)r.is(_c)&&!kc(e,r.value.from,r.value.to)?e=e.update({add:[Rc.range(r.value.from,r.value.to)]}):r.is(bc)&&(e=e.update({filter:(e,t)=>r.value.from!=e||r.value.to!=t,filterFrom:r.value.from,filterTo:r.value.to}));if(t.selection){let r=!1,{head:i}=t.selection.main;e.between(i,i,((e,t)=>{e<i&&t>i&&(r=!0)})),r&&(e=e.update({filterFrom:i,filterTo:i,filter:(e,t)=>t<=i||e>=i}))}return e},provide:e=>Bn.decorations.from(e),toJSON(e,t){let r=[];return e.between(0,t.doc.length,((e,t)=>{r.push(e,t)})),r},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let r=0;r<e.length;){let i=e[r++],o=e[r++];if("number"!=typeof i||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(Rc.range(i,o))}return ui.set(t,!0)}});function Sc(e,t,r){var i;let o=null;return null===(i=e.field(wc,!1))||void 0===i||i.between(t,r,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function kc(e,t,r){let i=!1;return e.between(t,t,((e,o)=>{e==t&&o==r&&(i=!0)})),i}function Cc(e,t){return e.field(wc,!1)?t:t.concat(Ot.appendConfig.of(Ac()))}function xc(e,t,r=!0){let i=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return Bn.announce.of(`${e.state.phrase(r?"Folded lines":"Unfolded lines")} ${i} ${e.state.phrase("to")} ${o}.`)}const Tc=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of yc(e)){let r=vc(e.state,t.from,t.to);if(r)return e.dispatch({effects:Cc(e.state,[_c.of(r),xc(e,r)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(wc,!1))return!1;let t=[];for(let r of yc(e)){let i=Sc(e.state,r.from,r.to);i&&t.push(bc.of(i),xc(e,i,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,r=[];for(let i=0;i<t.doc.length;){let o=e.lineBlockAt(i),n=vc(t,o.from,o.to);n&&r.push(_c.of(n)),i=(n?e.lineBlockAt(n.to):o).to+1}return r.length&&e.dispatch({effects:Cc(e.state,r)}),!!r.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(wc,!1);if(!t||!t.size)return!1;let r=[];return t.between(0,e.state.doc.length,((e,t)=>{r.push(bc.of({from:e,to:t}))})),e.dispatch({effects:r}),!0}}],Ec={placeholderDOM:null,placeholderText:"…"},Pc=Fe.define({combine:e=>Rt(e,Ec)});function Ac(e){let t=[wc,$c];return e&&t.push(Pc.of(e)),t}const Rc=ui.replace({widget:new class extends ci{toDOM(e){let{state:t}=e,r=t.facet(Pc),i=t=>{let r=e.lineBlockAt(e.posAtDOM(t.target)),i=Sc(e.state,r.from,r.to);i&&e.dispatch({effects:bc.of(i)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}}}),Qc={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Lc extends Ys{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const $c=Bn.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Mc{constructor(e,t){let r;function i(e){let t=Jt.newName();return(r||(r=Object.create(null)))["."+t]=e,t}const o="string"==typeof t.all?t.all:t.all?i(t.all):void 0,n=t.scope;this.scope=n instanceof jl?e=>e.prop(Ml)==n.data:n?e=>e==n:void 0,this.style=pl(e.map((e=>({tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}))),{all:o}).style,this.module=r?new Jt(r):null,this.themeType=t.themeType}static define(e,t){return new Mc(e,t||{})}}const Dc=Fe.define(),jc=Fe.define({combine:e=>e.length?[e[0]]:null});function Bc(e){let t=e.facet(Dc);return t.length?t:e.facet(jc)}function Ic(e,t){let r,i=[Wc];return e instanceof Mc&&(e.module&&i.push(Bn.styleModule.of(e.module)),r=e.themeType),(null==t?void 0:t.fallback)?i.push(jc.of(e)):r?i.push(Dc.computeN([Bn.darkTheme],(t=>t.facet(Bn.darkTheme)==("dark"==r)?[e]:[]))):i.push(Dc.of(e)),i}class zc{constructor(e){this.markCache=Object.create(null),this.tree=zl(e.state),this.decorations=this.buildDeco(e,Bc(e.state))}update(e){let t=zl(e.state),r=Bc(e.state),i=r!=Bc(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return ui.none;let r=new jt;for(let{from:i,to:o}of e.visibleRanges)ml(this.tree,t,((e,t,i)=>{r.add(e,t,this.markCache[i]||(this.markCache[i]=ui.mark({class:i})))}),i,o);return r.finish()}}const Wc=tt.high(Mi.fromClass(zc,{decorations:e=>e.decorations})),Fc=Mc.define([{tag:Ll.meta,color:"#7a757a"},{tag:Ll.link,textDecoration:"underline"},{tag:Ll.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ll.emphasis,fontStyle:"italic"},{tag:Ll.strong,fontWeight:"bold"},{tag:Ll.strikethrough,textDecoration:"line-through"},{tag:Ll.keyword,color:"#708"},{tag:[Ll.atom,Ll.bool,Ll.url,Ll.contentSeparator,Ll.labelName],color:"#219"},{tag:[Ll.literal,Ll.inserted],color:"#164"},{tag:[Ll.string,Ll.deleted],color:"#a11"},{tag:[Ll.regexp,Ll.escape,Ll.special(Ll.string)],color:"#e40"},{tag:Ll.definition(Ll.variableName),color:"#00f"},{tag:Ll.local(Ll.variableName),color:"#30a"},{tag:[Ll.typeName,Ll.namespace],color:"#085"},{tag:Ll.className,color:"#167"},{tag:[Ll.special(Ll.variableName),Ll.macroName],color:"#256"},{tag:Ll.definition(Ll.propertyName),color:"#00c"},{tag:Ll.comment,color:"#940"},{tag:Ll.invalid,color:"#f00"}]),qc=Bn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Gc="()[]{}",Uc=Fe.define({combine:e=>Rt(e,{afterCursor:!0,brackets:Gc,maxScanDistance:1e4,renderMatch:Xc})}),Hc=ui.mark({class:"cm-matchingBracket"}),Nc=ui.mark({class:"cm-nonmatchingBracket"});function Xc(e){let t=[],r=e.matched?Hc:Nc;return t.push(r.range(e.start.from,e.start.to)),e.end&&t.push(r.range(e.end.from,e.end.to)),t}const Zc=Ze.define({create:()=>ui.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let r=[],i=t.state.facet(Uc);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=Jc(t.state,e.head,-1,i)||e.head>0&&Jc(t.state,e.head-1,1,i)||i.afterCursor&&(Jc(t.state,e.head,1,i)||e.head<t.state.doc.length&&Jc(t.state,e.head+1,-1,i));o&&(r=r.concat(i.renderMatch(o,t.state)))}return ui.set(r,!0)},provide:e=>Bn.decorations.from(e)}),Vc=[Zc,qc];function Yc(e={}){return[Uc.of(e),Vc]}function Kc(e,t,r){let i=e.prop(t<0?_a.openedBy:_a.closedBy);if(i)return i;if(1==e.name.length){let i=r.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[r[i+t]]}return null}function Jc(e,t,r,i={}){let o=i.maxScanDistance||1e4,n=i.brackets||Gc,s=zl(e),a=s.resolveInner(t,r);for(let i=a;i;i=i.parent){let o=Kc(i.type,r,n);if(o&&i.from<i.to)return eh(e,t,r,i,o,n)}return function(e,t,r,i,o,n,s){let a=r<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=r>0)return null;let c={from:r<0?t-1:t,to:r>0?t+1:t},h=e.doc.iterRange(t,r>0?e.doc.length:0),u=0;for(let e=0;!h.next().done&&e<=n;){let n=h.value;r<0&&(e+=n.length);let a=t+e*r;for(let e=r>0?0:n.length-1,t=r>0?n.length:-1;e!=t;e+=r){let t=s.indexOf(n[e]);if(!(t<0||i.resolveInner(a+e,1).type!=o))if(t%2==0==r>0)u++;else{if(1==u)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};u--}}r>0&&(e+=n.length)}return h.done?{start:c,matched:!1}:null}(e,t,r,s,a.type,o,n)}function eh(e,t,r,i,o,n){let s=i.parent,a={from:i.from,to:i.to},l=0,c=null==s?void 0:s.cursor();if(c&&(r<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(r<0?c.to<=i.from:c.from>=i.to){if(0==l&&o.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Kc(c.type,r,n))l++;else if(Kc(c.type,-r,n)){if(0==l)return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1};l--}}}while(r<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const th=Object.create(null),rh=[wa.none],ih=[],oh=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oh[e]=sh(th,t);function nh(e,t){ih.indexOf(e)>-1||(ih.push(e),console.warn(t))}function sh(e,t){let r=null;for(let i of t.split(".")){let t=e[i]||Ll[i];t?"function"==typeof t?r?r=t(r):nh(i,`Modifier ${i} used at start of tag`):r?nh(i,`Tag ${i} used as modifier`):r=t:nh(i,`Unknown highlighting tag ${i}`)}if(!r)return 0;let i=t.replace(/ /g,"_"),o=wa.define({id:rh.length,name:i,props:[ul({[i]:r})]});return rh.push(o),o.id}function ah(e,t){return({state:r,dispatch:i})=>{if(r.readOnly)return!1;let o=e(t,r);return!!o&&(i(r.update(o)),!0)}}const lh=ah(fh,0),ch=ah(dh,0),hh=ah(((e,t)=>dh(e,t,function(e){let t=[];for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=r.to<=i.to?i:e.doc.lineAt(r.to),n=t.length-1;n>=0&&t[n].to>i.from?t[n].to=o.to:t.push({from:i.from,to:o.to})}return t}(t))),0);function uh(e,t=e.selection.main.head){let r=e.languageDataAt("commentTokens",t);return r.length?r[0]:{}}function dh(e,t,r=t.selection.ranges){let i=r.map((e=>uh(t,e.from).block));if(!i.every((e=>e)))return null;let o=r.map(((e,r)=>function(e,{open:t,close:r},i,o){let n,s,a=e.sliceDoc(i-50,i),l=e.sliceDoc(o,o+50),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,u=a.length-c;if(a.slice(u-t.length,u)==t&&l.slice(h,h+r.length)==r)return{open:{pos:i-c,margin:c&&1},close:{pos:o+h,margin:h&&1}};o-i<=100?n=s=e.sliceDoc(i,o):(n=e.sliceDoc(i,i+50),s=e.sliceDoc(o-50,o));let d=/^\s*/.exec(n)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-r.length;return n.slice(d,d+t.length)==t&&s.slice(p,p+r.length)==r?{open:{pos:i+d+t.length,margin:/\s/.test(n.charAt(d+t.length))?1:0},close:{pos:o-f-r.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,i[r],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(r.map(((e,t)=>o[t]?[]:[{from:e.from,insert:i[t].open+" "},{from:e.to,insert:" "+i[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,r=0;r<o.length;r++)if(t=o[r]){let o=i[r],{open:n,close:s}=t;e.push({from:n.pos-o.open.length,to:n.pos+n.margin},{from:s.pos-s.margin,to:s.pos+o.close.length})}return{changes:e}}return null}function fh(e,t,r=t.selection.ranges){let i=[],o=-1;for(let{from:e,to:n}of r){let r=i.length,s=1e9;for(let r=e;r<=n;){let a=t.doc.lineAt(r);if(a.from>o&&(e==n||n>a.from)){o=a.from;let e=uh(t,r).line;if(!e)continue;let n=/^\s*/.exec(a.text)[0].length,l=n==a.length,c=a.text.slice(n,n+e.length)==e?n:-1;n<a.text.length&&n<s&&(s=n),i.push({line:a,comment:c,token:e,indent:n,empty:l,single:!1})}r=a.to+1}if(s<1e9)for(let e=r;e<i.length;e++)i[e].indent<i[e].line.text.length&&(i[e].indent=s);i.length==r+1&&(i[r].single=!0)}if(2!=e&&i.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:r,indent:o,empty:n,single:s}of i)!s&&n||e.push({from:t.from+o,insert:r+" "});let r=t.changes(e);return{changes:r,selection:t.selection.map(r,1)}}if(1!=e&&i.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:r,token:o}of i)if(r>=0){let i=t.from+r,n=i+o.length;" "==t.text[n-t.from]&&n++,e.push({from:i,to:n})}return{changes:e}}return null}const ph=gt.define(),gh=gt.define(),mh=Fe.define(),vh=Fe.define({combine:e=>Rt(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const Oh=Ze.define({create:()=>$h.empty,update(e,t){let r=t.state.facet(vh),i=t.annotation(ph);if(i){let o=t.docChanged?Ie.single(function(e){let t=0;return e.iterChangedRanges(((e,r)=>t=r)),t}(t.changes)):void 0,n=Ch.fromTransaction(t,o),s=i.side,a=0==s?e.undone:e.done;return a=n?xh(a,a.length,r.minDepth,n):Ph(a,t.startState.selection),new $h(0==s?i.rest:a,0==s?a:i.rest)}let o=t.annotation(gh);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(_t.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let n=Ch.fromTransaction(t),s=t.annotation(_t.time),a=t.annotation(_t.userEvent);return n?e=e.addChanges(n,s,a,r.newGroupDelay,r.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,r.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new $h(e.done.map(Ch.fromJSON),e.undone.map(Ch.fromJSON))});function _h(e={}){return[Oh,vh.of(e),Bn.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?yh:"historyRedo"==e.inputType?wh:null;return!!r&&(e.preventDefault(),r(t))}})]}function bh(e,t){return function({state:r,dispatch:i}){if(!t&&r.readOnly)return!1;let o=r.field(Oh,!1);if(!o)return!1;let n=o.pop(e,r,t);return!!n&&(i(n),!0)}}const yh=bh(0,!1),wh=bh(1,!1),Sh=bh(0,!0),kh=bh(1,!0);class Ch{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Ch(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Ch(e.changes&&Re.fromJSON(e.changes),[],e.mapped&&Ae.fromJSON(e.mapped),e.startSelection&&Ie.fromJSON(e.startSelection),e.selectionsAfter.map(Ie.fromJSON))}static fromTransaction(e,t){let r=Eh;for(let t of e.startState.facet(mh)){let i=t(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new Ch(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Eh)}static selection(e){return new Ch(void 0,Eh,void 0,void 0,e)}}function xh(e,t,r,i){let o=t+1>r+20?t-r-1:0,n=e.slice(o,t);return n.push(i),n}function Th(e,t){return e.length?t.length?e.concat(t):e:t}const Eh=[];function Ph(e,t){if(e.length){let r=e[e.length-1],i=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(t)?e:(i.push(t),xh(e,e.length-1,1e9,r.setSelAfter(i)))}return[Ch.selection([t])]}function Ah(e){let t=e[e.length-1],r=e.slice();return r[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),r}function Rh(e,t){if(!e.length)return e;let r=e.length,i=Eh;for(;r;){let o=Qh(e[r-1],t,i);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,r);return t[r-1]=o,t}t=o.mapped,r--,i=o.selectionsAfter}return i.length?[Ch.selection(i)]:Eh}function Qh(e,t,r){let i=Th(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Eh,r);if(!e.changes)return Ch.selection(i);let o=e.changes.map(t),n=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(n):n;return new Ch(o,Ot.mapEffects(e.effects,t),s,e.startSelection.map(n),i)}const Lh=/^(input\.type|delete)($|\.)/;class $h{constructor(e,t,r=0,i){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new $h(this.done,this.undone):this}addChanges(e,t,r,i,o){let n=this.done,s=n[n.length-1];return n=s&&s.changes&&!s.changes.empty&&e.changes&&(!r||Lh.test(r))&&(!s.selectionsAfter.length&&t-this.prevTime<i&&function(e,t){let r=[],i=!1;return e.iterChangedRanges(((e,t)=>r.push(e,t))),t.iterChangedRanges(((e,t,o,n)=>{for(let e=0;e<r.length;){let t=r[e++],s=r[e++];n>=t&&o<=s&&(i=!0)}})),i}(s.changes,e.changes)||"input.type.compose"==r)?xh(n,n.length-1,o,new Ch(e.changes.compose(s.changes),Th(e.effects,s.effects),s.mapped,s.startSelection,Eh)):xh(n,n.length,o,e),new $h(n,Eh,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Eh;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(n=o[o.length-1],s=e,n.ranges.length==s.ranges.length&&0===n.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new $h(Ph(this.done,e),this.undone,t,r);var n,s}addMapping(e){return new $h(Rh(this.done,e),Rh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=0==e?this.done:this.undone;if(0==i.length)return null;let o=i[i.length-1];if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:ph.of({side:e,rest:Ah(i)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let r=1==i.length?Eh:i.slice(0,i.length-1);return o.mapped&&(r=Rh(r,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:ph.of({side:e,rest:r}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}$h.empty=new $h(Eh,Eh);const Mh=[{key:"Mod-z",run:yh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wh,preventDefault:!0},{key:"Mod-u",run:Sh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:kh,preventDefault:!0}];function Dh(e,t){return Ie.create(e.ranges.map(t),e.mainIndex)}function jh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Bh({state:e,dispatch:t},r){let i=Dh(e.selection,r);return!i.eq(e.selection)&&(t(jh(e,i)),!0)}function Ih(e,t){return Ie.cursor(t?e.to:e.from)}function zh(e,t){return Bh(e,(r=>r.empty?e.moveByChar(r,t):Ih(r,t)))}function Wh(e){return e.textDirectionAt(e.state.selection.main.head)==Ui.LTR}const Fh=e=>zh(e,!Wh(e)),qh=e=>zh(e,Wh(e));function Gh(e,t){return Bh(e,(r=>r.empty?e.moveByGroup(r,t):Ih(r,t)))}function Uh(e,t,r){if(t.type.prop(r))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Hh(e,t,r){let i,o,n=zl(e).resolveInner(t.head),s=r?_a.closedBy:_a.openedBy;for(let i=t.head;;){let t=r?n.childAfter(i):n.childBefore(i);if(!t)break;Uh(e,t,s)?n=t:i=r?t.to:t.from}return o=n.type.prop(s)&&(i=r?Jc(e,n.from,1):Jc(e,n.to,-1))&&i.matched?r?i.end.to:i.end.from:r?n.to:n.from,Ie.cursor(o,r?-1:1)}function Nh(e,t){return Bh(e,(r=>{if(!r.empty)return Ih(r,t);let i=e.moveVertically(r,t);return i.head!=r.head?i:e.moveToLineBoundary(r,t)}))}const Xh=e=>Nh(e,!1),Zh=e=>Nh(e,!0);function Vh(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Yh(e,t){let{state:r}=e,i=Dh(r.selection,(r=>r.empty?e.moveVertically(r,t,Vh(e)):Ih(r,t)));if(i.eq(r.selection))return!1;let o,n=e.coordsAtPos(r.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return n&&n.top>s.top&&n.bottom<s.bottom&&n.top-s.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(o=Bn.scrollIntoView(i.main.head,{y:"start",yMargin:n.top-s.top})),e.dispatch(jh(r,i),{effects:o}),!0}const Kh=e=>Yh(e,!1),Jh=e=>Yh(e,!0);function eu(e,t,r){let i=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,r);if(o.head==t.head&&o.head!=(r?i.to:i.from)&&(o=e.moveToLineBoundary(t,r,!1)),!r&&o.head==i.from&&i.length){let r=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;r&&t.head!=i.from+r&&(o=Ie.cursor(i.from+r))}return o}const tu=e=>Bh(e,(t=>eu(e,t,!0))),ru=e=>Bh(e,(t=>eu(e,t,!1)));function iu(e,t){let r=Dh(e.state.selection,(e=>{let r=t(e);return Ie.range(e.anchor,r.head,r.goalColumn)}));return!r.eq(e.state.selection)&&(e.dispatch(jh(e.state,r)),!0)}function ou(e,t){return iu(e,(r=>e.moveByChar(r,t)))}const nu=e=>ou(e,!Wh(e)),su=e=>ou(e,Wh(e));function au(e,t){return iu(e,(r=>e.moveByGroup(r,t)))}function lu(e,t){return iu(e,(r=>e.moveVertically(r,t)))}const cu=e=>lu(e,!1),hu=e=>lu(e,!0);function uu(e,t){return iu(e,(r=>e.moveVertically(r,t,Vh(e))))}const du=e=>uu(e,!1),fu=e=>uu(e,!0),pu=e=>iu(e,(t=>eu(e,t,!0))),gu=e=>iu(e,(t=>eu(e,t,!1))),mu=({state:e,dispatch:t})=>(t(jh(e,{anchor:0})),!0),vu=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.doc.length})),!0),Ou=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.selection.main.anchor,head:0})),!0),_u=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function bu({state:e,dispatch:t},r){if(e.readOnly)return!1;let i="delete.selection",o=e.changeByRange((e=>{let{from:t,to:o}=e;if(t==o){let e=r(t);e<t?i="delete.backward":e>t&&(i="delete.forward"),t=Math.min(t,e),o=Math.max(o,e)}return t==o?{range:e}:{changes:{from:t,to:o},range:Ie.cursor(t)}}));return!o.changes.empty&&(t(e.update(o,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?Bn.announce.of(e.phrase("Selection deleted")):void 0})),!0)}function yu(e,t,r){if(e instanceof Bn)for(let i of e.state.facet(Bn.atomicRanges).map((t=>t(e))))i.between(t,t,((e,i)=>{e<t&&i>t&&(t=r?i:e)}));return t}const wu=(e,t)=>bu(e,(r=>{let i,o,{state:n}=e,s=n.doc.lineAt(r);if(!t&&r>s.from&&r<s.from+200&&!/[^ \t]/.test(i=s.text.slice(0,r-s.from))){if("\t"==i[i.length-1])return r-1;let e=Xt(i,n.tabSize)%ec(n)||ec(n);for(let t=0;t<e&&" "==i[i.length-1-t];t++)r--;o=r}else o=be(s.text,r-s.from,t,t)+s.from,o==r&&s.number!=(t?n.doc.lines:1)&&(o+=t?1:-1);return yu(e,o,t)})),Su=e=>wu(e,!1),ku=e=>wu(e,!0),Cu=(e,t)=>bu(e,(r=>{let i=r,{state:o}=e,n=o.doc.lineAt(i),s=o.charCategorizer(i);for(let e=null;;){if(i==(t?n.to:n.from)){i==r&&n.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);break}let a=be(n.text,i-n.from,t)+n.from,l=n.text.slice(Math.min(i,a)-n.from,Math.max(i,a)-n.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&i==r||(e=c),i=a}return yu(e,i,t)})),xu=e=>Cu(e,!1),Tu=e=>bu(e,(t=>{let r=e.lineBlockAt(t).to;return yu(e,t<r?r:Math.min(e.state.doc.length,t+1),!0)}));function Eu(e){let t=[],r=-1;for(let i of e.selection.ranges){let o=e.doc.lineAt(i.from),n=e.doc.lineAt(i.to);if(i.empty||i.to!=n.from||(n=e.doc.lineAt(i.to-1)),r>=o.number){let e=t[t.length-1];e.to=n.to,e.ranges.push(i)}else t.push({from:o.from,to:n.to,ranges:[i]});r=n.number+1}return t}function Pu(e,t,r){if(e.readOnly)return!1;let i=[],o=[];for(let t of Eu(e)){if(r?t.to==e.doc.length:0==t.from)continue;let n=e.doc.lineAt(r?t.to+1:t.from-1),s=n.length+1;if(r){i.push({from:t.to,to:n.to},{from:t.from,insert:n.text+e.lineBreak});for(let r of t.ranges)o.push(Ie.range(Math.min(e.doc.length,r.anchor+s),Math.min(e.doc.length,r.head+s)))}else{i.push({from:n.from,to:t.from},{from:t.to,insert:e.lineBreak+n.text});for(let e of t.ranges)o.push(Ie.range(e.anchor-s,e.head-s))}}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:Ie.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Au(e,t,r){if(e.readOnly)return!1;let i=[];for(let t of Eu(e))r?i.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):i.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ru=Lu(!1),Qu=Lu(!0);function Lu(e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=t.changeByRange((r=>{let{from:i,to:o}=r,n=t.doc.lineAt(i),s=!e&&i==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let r,i=zl(e).resolveInner(t),o=i.childBefore(t),n=i.childAfter(t);return o&&n&&o.to<=t&&n.from>=t&&(r=o.type.prop(_a.closedBy))&&r.indexOf(n.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(n.from).from?{from:o.to,to:n.from}:null}(t,i);e&&(i=o=(o<=n.to?n:t.doc.lineAt(o)).to);let a=new ic(t,{simulateBreak:i,simulateDoubleBreak:!!s}),l=rc(a,i);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(i).text)[0].length);o<n.to&&/\s/.test(n.text[o-n.from]);)o++;s?({from:i,to:o}=s):i>n.from&&i<n.from+100&&!/\S/.test(n.text.slice(0,i))&&(i=n.from);let c=["",tc(t,l)];return s&&c.push(tc(t,a.lineIndent(n.from,-1))),{changes:{from:i,to:o,insert:le.of(c)},range:Ie.cursor(i+1+c[1].length)}}));return r(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function $u(e,t){let r=-1;return e.changeByRange((i=>{let o=[];for(let n=i.from;n<=i.to;){let s=e.doc.lineAt(n);s.number>r&&(i.empty||i.to>s.from)&&(t(s,o,i),r=s.number),n=s.to+1}let n=e.changes(o);return{changes:o,range:Ie.range(n.mapPos(i.anchor,1),n.mapPos(i.head,1))}}))}const Mu=[{key:"Ctrl-b",run:Fh,shift:nu,preventDefault:!0},{key:"Ctrl-f",run:qh,shift:su},{key:"Ctrl-p",run:Xh,shift:cu},{key:"Ctrl-n",run:Zh,shift:hu},{key:"Ctrl-a",run:e=>Bh(e,(t=>Ie.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>iu(e,(t=>Ie.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Bh(e,(t=>Ie.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>iu(e,(t=>Ie.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:ku},{key:"Ctrl-h",run:Su},{key:"Ctrl-k",run:Tu},{key:"Ctrl-Alt-h",run:xu},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:le.of(["",""])},range:Ie.cursor(e.from)})));return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let r=t.from,i=e.doc.lineAt(r),o=r==i.from?r-1:be(i.text,r-i.from,!1)+i.from,n=r==i.to?r+1:be(i.text,r-i.from,!0)+i.from;return{changes:{from:o,to:n,insert:e.doc.slice(r,n).append(e.doc.slice(o,r))},range:Ie.cursor(n)}}));return!r.changes.empty&&(t(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Jh}],Du=[{key:"ArrowLeft",run:Fh,shift:nu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Gh(e,!Wh(e)),shift:e=>au(e,!Wh(e))},{mac:"Cmd-ArrowLeft",run:ru,shift:gu},{key:"ArrowRight",run:qh,shift:su,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Gh(e,Wh(e)),shift:e=>au(e,Wh(e))},{mac:"Cmd-ArrowRight",run:tu,shift:pu},{key:"ArrowUp",run:Xh,shift:cu,preventDefault:!0},{mac:"Cmd-ArrowUp",run:mu,shift:Ou},{mac:"Ctrl-ArrowUp",run:Kh,shift:du},{key:"ArrowDown",run:Zh,shift:hu,preventDefault:!0},{mac:"Cmd-ArrowDown",run:vu,shift:_u},{mac:"Ctrl-ArrowDown",run:Jh,shift:fu},{key:"PageUp",run:Kh,shift:du},{key:"PageDown",run:Jh,shift:fu},{key:"Home",run:ru,shift:gu,preventDefault:!0},{key:"Mod-Home",run:mu,shift:Ou},{key:"End",run:tu,shift:pu,preventDefault:!0},{key:"Mod-End",run:vu,shift:_u},{key:"Enter",run:Ru},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Su,shift:Su},{key:"Delete",run:ku},{key:"Mod-Backspace",mac:"Alt-Backspace",run:xu},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Cu(e,!0)},{mac:"Mod-Backspace",run:e=>bu(e,(t=>{let r=e.lineBlockAt(t).from;return yu(e,t>r?r:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:Tu}].concat(Mu.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),ju=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Bh(e,(t=>Hh(e.state,t,!Wh(e)))),shift:e=>iu(e,(t=>Hh(e.state,t,!Wh(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Bh(e,(t=>Hh(e.state,t,Wh(e)))),shift:e=>iu(e,(t=>Hh(e.state,t,Wh(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Pu(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Au(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Pu(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Au(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let r=e.selection,i=null;return r.ranges.length>1?i=Ie.create([r.main]):r.main.empty||(i=Ie.create([Ie.cursor(r.main.head)])),!!i&&(t(jh(e,i)),!0)}},{key:"Mod-Enter",run:Qu},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let r=Eu(e).map((({from:t,to:r})=>Ie.range(t,Math.min(r+1,e.doc.length))));return t(e.update({selection:Ie.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let r=Dh(e.selection,(t=>{var r;let i=zl(e).resolveInner(t.head,1);for(;!(i.from<t.from&&i.to>=t.to||i.to>t.to&&i.from<=t.from)&&(null===(r=i.parent)||void 0===r?void 0:r.parent);)i=i.parent;return Ie.range(i.to,i.from)}));return t(jh(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:({state:e,dispatch:t})=>!e.readOnly&&(t(e.update($u(e,((t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Xt(i,e.tabSize),n=0,s=tc(e,Math.max(0,o-ec(e)));for(;n<i.length&&n<s.length&&i.charCodeAt(n)==s.charCodeAt(n);)n++;r.push({from:t.from+n,to:t.from+i.length,insert:s.slice(n)})})),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:e,dispatch:t})=>!e.readOnly&&(t(e.update($u(e,((t,r)=>{r.push({from:t.from,insert:e.facet(Jl)})})),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=Object.create(null),i=new ic(e,{overrideIndentation:e=>{let t=r[e];return null==t?-1:t}}),o=$u(e,((t,o,n)=>{let s=rc(i,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=tc(e,s);(a!=l||n.from<t.from+a.length)&&(r[t.from]=s,o.push({from:t.from,to:t.from+a.length,insert:l}))}));return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,r=t.changes(Eu(t).map((({from:e,to:r})=>(e>0?e--:r<t.doc.length&&r++,{from:e,to:r})))),i=Dh(t.selection,(t=>e.moveVertically(t,!0))).map(r);return e.dispatch({changes:r,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,r){let i=!1,o=Dh(e.selection,(t=>{let o=Jc(e,t.head,-1)||Jc(e,t.head,1)||t.head>0&&Jc(e,t.head-1,1)||t.head<e.doc.length&&Jc(e,t.head+1,-1);if(!o||!o.end)return t;i=!0;let n=o.start.from==t.head?o.end.to:o.end.from;return r?Ie.range(t.anchor,n):Ie.cursor(n)}));return!!i&&(t(jh(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let t=uh(e.state);return t.line?lh(e):!!t.block&&hh(e)}},{key:"Alt-A",run:ch}].concat(Du);function Bu(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&"object"==typeof r&&null==r.nodeType&&!Array.isArray(r)){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=r[i];"string"==typeof o?e.setAttribute(i,o):null!=o&&(e[i]=o)}t++}for(;t<arguments.length;t++)Iu(e,arguments[t]);return e}function Iu(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var r=0;r<t.length;r++)Iu(e,t[r])}}const zu="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Wu{constructor(e,t,r=0,i=e.length,o){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?e=>o(zu(e)):zu,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ce(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=xe(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Te(e);let i=this.normalize(t);for(let e=0,o=r;;e++){let n=i.charCodeAt(e),s=this.match(n,o);if(s)return this.value=s,this;if(e==i.length-1)break;o==r&&e<t.length&&t.charCodeAt(e)==n&&o++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],n=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,n=!0)),n||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r}}"undefined"!=typeof Symbol&&(Wu.prototype[Symbol.iterator]=function(){return this});const Fu={from:-1,to:-1,match:/.*/.exec("")},qu="gm"+(null==/x/.unicode?"":"u");class Gu{constructor(e,t,r,i=0,o=e.length){if(this.to=o,this.curLine="",this.done=!1,this.value=Fu,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Nu(e,t,r,i,o);this.re=new RegExp(t,qu+((null==r?void 0:r.ignoreCase)?"i":"")),this.iter=e.iter();let n=e.lineAt(i);this.curLineStart=n.from,this.matchPos=i,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=i+(r==i?1:0),r==this.curLine.length&&this.nextLine(),r<i||r>this.value.to)return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Uu=new WeakMap;class Hu{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=Uu.get(e);if(!i||i.from>=r||i.to<=t){let i=new Hu(t,e.sliceString(t,r));return Uu.set(e,i),i}if(i.from==t&&i.to==r)return i;let{text:o,from:n}=i;return n>t&&(o=e.sliceString(t,n)+o,n=t),i.to<r&&(o+=e.sliceString(i.to,r)),Uu.set(e,new Hu(n,o)),new Hu(t,o.slice(t-n,r-n))}}class Nu{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Fu,this.matchPos=i,this.re=new RegExp(t,qu+((null==r?void 0:r.ignoreCase)?"i":"")),this.flat=Hu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,r=e+t[0].length;return this.value={from:e,to:r,match:t},this.matchPos=r+(e==r?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Hu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Xu(e){let t=Bu("input",{class:"cm-textfield",name:"line"});function r(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:i}=e,o=i.doc.lineAt(i.selection.main.head),[,n,s,a,l]=r,c=a?+a.slice(1):0,h=s?+s:o.number;if(s&&l){let e=h/100;n&&(e=e*("-"==n?-1:1)+o.number/i.doc.lines),h=Math.round(i.doc.lines*e)}else s&&n&&(h=h*("-"==n?-1:1)+o.number);let u=i.doc.line(Math.max(1,Math.min(i.doc.lines,h)));e.dispatch({effects:Zu.of(!1),selection:Ie.cursor(u.from+Math.max(0,Math.min(c,u.length))),scrollIntoView:!0}),e.focus()}return{dom:Bu("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Zu.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())},onsubmit:e=>{e.preventDefault(),r()}},Bu("label",e.state.phrase("Go to line"),": ",t)," ",Bu("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Gu.prototype[Symbol.iterator]=Nu.prototype[Symbol.iterator]=function(){return this});const Zu=Ot.define(),Vu=Ze.define({create:()=>!0,update(e,t){for(let r of t.effects)r.is(Zu)&&(e=r.value);return e},provide:e=>Vs.from(e,(e=>e?Xu:null))}),Yu=Bn.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ku={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ju=Fe.define({combine:e=>Rt(e,Ku,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function ed(e){let t=[nd,od];return e&&t.push(Ju.of(e)),t}const td=ui.mark({class:"cm-selectionMatch"}),rd=ui.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function id(e,t,r,i){return!(0!=r&&e(t.sliceDoc(r-1,r))==xt.Word||i!=t.doc.length&&e(t.sliceDoc(i,i+1))==xt.Word)}const od=Mi.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Ju),{state:r}=e,i=r.selection;if(i.ranges.length>1)return ui.none;let o,n=i.main,s=null;if(n.empty){if(!t.highlightWordAroundCursor)return ui.none;let e=r.wordAt(n.head);if(!e)return ui.none;s=r.charCategorizer(n.head),o=r.sliceDoc(e.from,e.to)}else{let e=n.to-n.from;if(e<t.minSelectionLength||e>200)return ui.none;if(t.wholeWords){if(o=r.sliceDoc(n.from,n.to),s=r.charCategorizer(n.head),!id(s,r,n.from,n.to)||!function(e,t,r,i){return e(t.sliceDoc(r,r+1))==xt.Word&&e(t.sliceDoc(i-1,i))==xt.Word}(s,r,n.from,n.to))return ui.none}else if(o=r.sliceDoc(n.from,n.to).trim(),!o)return ui.none}let a=[];for(let i of e.visibleRanges){let e=new Wu(r.doc,o,i.from,i.to);for(;!e.next().done;){let{from:i,to:o}=e.value;if((!s||id(s,r,i,o))&&(n.empty&&i<=n.from&&o>=n.to?a.push(rd.range(i,o)):(i>=n.to||o<=n.from)&&a.push(td.range(i,o)),a.length>t.maxMatches))return ui.none}}return ui.set(a)}},{decorations:e=>e.decorations}),nd=Bn.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const sd=Fe.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new Rd(e))}}});class ad{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,qu),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new dd(this):new hd(this)}getCursor(e,t=0,r=e.length){return this.regexp?ud(this,e,t,r):cd(this,e,t,r)}}class ld{constructor(e){this.spec=e}}function cd(e,t,r,i){return new Wu(t,e.unquoted,r,i,e.caseSensitive?void 0:e=>e.toLowerCase())}class hd extends ld{constructor(e){super(e)}nextMatch(e,t,r){let i=cd(this.spec,e,r,e.length).nextOverlapping();return i.done&&(i=cd(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let r=Math.max(t,i-1e4-this.spec.unquoted.length),o=cd(this.spec,e,r,i),n=null;for(;!o.nextOverlapping().done;)n=o.value;if(n)return n;if(r==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let r=cd(this.spec,e,0,e.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=cd(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function ud(e,t,r,i){return new Gu(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},r,i)}class dd extends ld{nextMatch(e,t,r){let i=ud(this.spec,e,r,e.length).next();return i.done&&(i=ud(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-1e4*i),n=ud(this.spec,e,o,r),s=null;for(;!n.next().done;)s=n.value;if(s&&(o==t||s.from>o+10))return s;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=ud(this.spec,e,0,e.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=ud(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const fd=Ot.define(),pd=Ot.define(),gd=Ze.define({create:e=>new md(Td(e).create(),null),update(e,t){for(let r of t.effects)r.is(fd)?e=new md(r.value.create(),e.panel):r.is(pd)&&(e=new md(e.query,r.value?xd:null));return e},provide:e=>Vs.from(e,(e=>e.panel))});class md{constructor(e,t){this.query=e,this.panel=t}}const vd=ui.mark({class:"cm-searchMatch"}),Od=ui.mark({class:"cm-searchMatch cm-searchMatch-selected"}),_d=Mi.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(gd))}update(e){let t=e.state.field(gd);(t!=e.startState.field(gd)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return ui.none;let{view:r}=this,i=new jt;for(let t=0,o=r.visibleRanges,n=o.length;t<n;t++){let{from:s,to:a}=o[t];for(;t<n-1&&a>o[t+1].from-500;)a=o[++t].to;e.highlight(r.state.doc,s,a,((e,t)=>{let o=r.state.selection.ranges.some((r=>r.from==e&&r.to==t));i.add(e,t,o?Od:vd)}))}return i.finish()}},{decorations:e=>e.decorations});function bd(e){return t=>{let r=t.state.field(gd,!1);return r&&r.query.spec.valid?e(t,r):Ed(t)}}const yd=bd(((e,{query:t})=>{let{to:r}=e.state.selection.main,i=t.nextMatch(e.state.doc,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:$d(e,i),userEvent:"select.search"}),!0)})),wd=bd(((e,{query:t})=>{let{state:r}=e,{from:i}=r.selection.main,o=t.prevMatch(r.doc,i,i);return!!o&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:$d(e,o),userEvent:"select.search"}),!0)})),Sd=bd(((e,{query:t})=>{let r=t.matchAll(e.state.doc,1e3);return!(!r||!r.length)&&(e.dispatch({selection:Ie.create(r.map((e=>Ie.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),kd=bd(((e,{query:t})=>{let{state:r}=e,{from:i,to:o}=r.selection.main;if(r.readOnly)return!1;let n=t.nextMatch(r.doc,i,i);if(!n)return!1;let s,a,l=[],c=[];if(n.from==i&&n.to==o&&(a=r.toText(t.getReplacement(n)),l.push({from:n.from,to:n.to,insert:a}),n=t.nextMatch(r.doc,n.from,n.to),c.push(Bn.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(i).number)+"."))),n){let t=0==l.length||l[0].from>=n.to?0:n.to-n.from-a.length;s={anchor:n.from-t,head:n.to-t},c.push($d(e,n))}return e.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:c,userEvent:"input.replace"}),!0})),Cd=bd(((e,{query:t})=>{if(e.state.readOnly)return!1;let r=t.matchAll(e.state.doc,1e9).map((e=>{let{from:r,to:i}=e;return{from:r,to:i,insert:t.getReplacement(e)}}));if(!r.length)return!1;let i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:Bn.announce.of(i),userEvent:"input.replace.all"}),!0}));function xd(e){return e.state.facet(sd).createPanel(e)}function Td(e,t){var r;let i=e.selection.main,o=i.empty||i.to>i.from+100?"":e.sliceDoc(i.from,i.to),n=null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:e.facet(sd).caseSensitive;return t&&!o?t:new ad({search:o.replace(/\n/g,"\\n"),caseSensitive:n})}const Ed=e=>{let t=e.state.field(gd,!1);if(t&&t.panel){let r=Hs(e,xd);if(!r)return!1;let i=r.dom.querySelector("[main-field]");if(i&&i!=e.root.activeElement){let r=Td(e.state,t.query.spec);r.valid&&e.dispatch({effects:fd.of(r)}),i.focus(),i.select()}}else e.dispatch({effects:[pd.of(!0),t?fd.of(Td(e.state,t.query.spec)):Ot.appendConfig.of(Dd)]});return!0},Pd=e=>{let t=e.state.field(gd,!1);if(!t||!t.panel)return!1;let r=Hs(e,xd);return r&&r.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:pd.of(!1)}),!0},Ad=[{key:"Mod-f",run:Ed,scope:"editor search-panel"},{key:"F3",run:yd,shift:wd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:yd,shift:wd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Pd,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:i,to:o}=r.main,n=[],s=0;for(let t=new Wu(e.doc,e.sliceDoc(i,o));!t.next().done;){if(n.length>1e3)return!1;t.value.from==i&&(s=n.length),n.push(Ie.range(t.value.from,t.value.to))}return t(e.update({selection:Ie.create(n,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=Hs(e,Xu);if(!t){let r=[Zu.of(!0)];null==e.state.field(Vu,!1)&&r.push(Ot.appendConfig.of([Vu,Yu])),e.dispatch({effects:r}),t=Hs(e,Xu)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:r}=e.selection;if(r.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:r}=e,i=Ie.create(r.ranges.map((t=>e.wordAt(t.head)||Ie.cursor(t.head))),r.mainIndex);return!i.eq(r)&&(t(e.update({selection:i})),!0)})({state:e,dispatch:t});let i=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=i)))return!1;let o=function(e,t){let{main:r,ranges:i}=e.selection,o=e.wordAt(r.head),n=o&&o.from==r.from&&o.to==r.to;for(let r=!1,o=new Wu(e.doc,t,i[i.length-1].to);;){if(o.next(),!o.done){if(r&&i.some((e=>e.from==o.value.from)))continue;if(n){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(r)return null;o=new Wu(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),r=!0}}(e,i);return!!o&&(t(e.update({selection:e.selection.addRange(Ie.range(o.from,o.to),!1),effects:Bn.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Rd{constructor(e){this.view=e;let t=this.query=e.state.field(gd).query.spec;function r(e,t,r){return Bu("button",{class:"cm-button",name:e,onclick:t,type:"button"},r)}this.commit=this.commit.bind(this),this.searchField=Bu("input",{value:t.search,placeholder:Qd(e,"Find"),"aria-label":Qd(e,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Bu("input",{value:t.replace,placeholder:Qd(e,"Replace"),"aria-label":Qd(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=Bu("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=Bu("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=Bu("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,r("next",(()=>yd(e)),[Qd(e,"next")]),r("prev",(()=>wd(e)),[Qd(e,"previous")]),r("select",(()=>Sd(e)),[Qd(e,"all")]),Bu("label",null,[this.caseField,Qd(e,"match case")]),Bu("label",null,[this.reField,Qd(e,"regexp")]),...e.state.readOnly?[]:[Bu("br"),this.replaceField,r("replace",(()=>kd(e)),[Qd(e,"replace")]),r("replaceAll",(()=>Cd(e)),[Qd(e,"replace all")]),Bu("button",{name:"close",onclick:()=>Pd(e),"aria-label":Qd(e,"close"),type:"button"},["×"])]])}commit(){let e=new ad({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:fd.of(e)}))}keydown(e){!function(e,t,r){return Vn(Xn(e.state),t,e,r)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?wd:yd)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),kd(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(fd)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(sd).top}}function Qd(e,t){return e.state.phrase(t)}const Ld=/[\s\.,:;?!]/;function $d(e,{from:t,to:r}){let i=e.state.doc.lineAt(t),o=e.state.doc.lineAt(r).to,n=Math.max(i.from,t-30),s=Math.min(o,r+30),a=e.state.sliceDoc(n,s);if(n!=i.from)for(let e=0;e<30;e++)if(!Ld.test(a[e+1])&&Ld.test(a[e])){a=a.slice(e);break}if(s!=o)for(let e=a.length-1;e>a.length-30;e--)if(!Ld.test(a[e-1])&&Ld.test(a[e])){a=a.slice(0,e);break}return Bn.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${i.number}.`)}const Md=Bn.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Dd=[gd,tt.lowest(_d),Md];class jd{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=zl(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(Fd(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function Bd(e){let t=Object.keys(e).join(""),r=/\w/.test(t);return r&&(t=t.replace(/\w/g,"")),`[${r?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Id(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[r,i]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),r=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let e=1;e<i.length;e++)r[i[e]]=!0}let i=Bd(t)+Bd(r)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(t);return e=>{let o=e.matchBefore(i);return o||e.explicit?{from:o?o.from:e.pos,options:t,validFor:r}:null}}class zd{constructor(e,t,r){this.completion=e,this.source=t,this.match=r}}function Wd(e){return e.selection.main.head}function Fd(e,t){var r;let{source:i}=e,o=t&&"^"!=i[0],n="$"!=i[i.length-1];return o||n?new RegExp(`${o?"^":""}(?:${i})${n?"$":""}`,null!==(r=e.flags)&&void 0!==r?r:e.ignoreCase?"i":""):e}function qd(e,t){const r=t.completion.apply||t.completion.label;let i=t.source;"string"==typeof r?e.dispatch(function(e,t,r,i){return Object.assign(Object.assign({},e.changeByRange((o=>{if(o==e.selection.main)return{changes:{from:r,to:i,insert:t},range:Ie.cursor(r+t.length)};let n=i-r;return!o.empty||n&&e.sliceDoc(o.from-n,o.from)!=e.sliceDoc(r,i)?{range:o}:{changes:{from:o.from-n,to:o.from,insert:t},range:Ie.cursor(o.from-n+t.length)}}))),{userEvent:"input.complete"})}(e.state,r,i.from,i.to)):r(e,t.completion,i.from,i.to)}const Gd=new WeakMap;function Ud(e){if(!Array.isArray(e))return e;let t=Gd.get(e);return t||Gd.set(e,t=Id(e)),t}class Hd{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let r=Ce(e,t),i=Te(r);this.chars.push(r);let o=e.slice(t,t+i),n=o.toUpperCase();this.folded.push(Ce(n==o?o.toLowerCase():n,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:n}=this;if(1==t.length){let i=Ce(e,0);return i==t[0]?[0,0,Te(i)]:i==r[0]?[-200,0,Te(i)]:null}let s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=t.length,l=0;if(s<0){for(let o=0,n=Math.min(e.length,200);o<n&&l<a;){let n=Ce(e,o);n!=t[l]&&n!=r[l]||(i[l++]=o),o+=Te(n)}if(l<a)return null}let c=0,h=0,u=!1,d=0,f=-1,p=-1,g=/[a-z]/.test(e),m=!0;for(let i=0,l=Math.min(e.length,200),v=0;i<l&&h<a;){let l=Ce(e,i);s<0&&(c<a&&l==t[c]&&(o[c++]=i),d<a&&(l==t[d]||l==r[d]?(0==d&&(f=i),p=i+1,d++):d=0));let O,_=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(O=xe(l))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!i||1==_&&g||0==v&&0!=_)&&(t[h]==l||r[h]==l&&(u=!0)?n[h++]=i:n.length&&(m=!1)),v=_,i+=Te(l)}return h==a&&0==n[0]&&m?this.result((u?-200:0)-100,n,e):d==a&&0==f?[-200-e.length,0,p]:s>-1?[-700-e.length,s,s+this.pattern.length]:d==a?[-900-e.length,f,p]:h==a?this.result((u?-200:0)-100-700+(m?0:-1100),n,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[e-r.length],o=1;for(let e of t){let t=e+(this.astral?Te(Ce(r,e)):1);o>1&&i[o-1]==e?i[o-1]=t:(i[o++]=e,i[o++]=t)}return i}}const Nd=Fe.define({combine:e=>Rt(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label)},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>r=>function(e,t){return e?t?e+" "+t:e:t}(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})});function Xd(e,t,r){if(e<=r)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/r);return{from:e*r,to:(e+1)*r}}let i=Math.floor((e-t)/r);return{from:e-(i+1)*r,to:e-i*r}}class Zd{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let r=e.state.field(t),{options:i,selected:o}=r.open,n=e.state.facet(Nd);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,r){let i=document.createElement("span");i.className="cm-completionLabel";let{label:o}=e,n=0;for(let e=1;e<r.length;){let t=r[e++],s=r[e++];t>n&&i.appendChild(document.createTextNode(o.slice(n,t)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(o.slice(t,s))),a.className="cm-completionMatchedText",n=s}return n<o.length&&i.appendChild(document.createTextNode(o.slice(n))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(n),this.optionClass=n.optionClass,this.range=Xd(i.length,o,n.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let r,o=t.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(r=/-(\d+)$/.exec(o.id))&&+r[1]<i.length)return qd(e,i[+r[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Xd(t.options.length,t.selected,this.view.state.facet(Nd).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o="string"==typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>Ri(this.view.state,e,"completion info"))):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function(e,t){let r=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<r.top?e.scrollTop-=r.top-i.top:i.bottom>r.bottom&&(e.scrollTop+=i.bottom-r.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect();if(i.top>Math.min(innerHeight,t.bottom)-10||i.bottom<Math.max(0,t.top)+10)return null;let o=Math.max(0,Math.min(i.top,innerHeight-r.height))-t.top,n=this.view.textDirection==Ui.RTL,s=t.left,a=innerWidth-t.right;return n&&s<Math.min(r.width,a)?n=!1:!n&&a<Math.min(r.width,s)&&(n=!0),{top:o,left:n}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=r.from;o<r.to;o++){let{completion:r,match:n}=e[o];const s=i.appendChild(document.createElement("li"));s.id=t+"-"+o,s.setAttribute("role","option");let a=this.optionClass(r);a&&(s.className=a);for(let e of this.optionContent){let t=e(r,this.view.state,n);t&&s.appendChild(t)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function Vd(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Yd{constructor(e,t,r,i,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Yd(this.options,ef(t,e),this.tooltip,this.timestamp,e)}static build(e,t,r,i,o){let n=function(e,t){let r=[],i=0;for(let o of e)if(o.hasResult())if(!1===o.result.filter){let e=o.result.getMatch;for(let t of o.result.options){let n=[1e9-i++];if(e)for(let r of e(t))n.push(r);r.push(new zd(t,o,n))}}else{let e,i=new Hd(t.sliceDoc(o.from,o.to));for(let t of o.result.options)(e=i.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),r.push(new zd(t,o,e)))}let o=[],n=null,s=t.facet(Nd).compareCompletions;for(let e of r.sort(((e,t)=>t.match[0]-e.match[0]||s(e.completion,t.completion))))!n||n.label!=e.completion.label||n.detail!=e.completion.detail||null!=n.type&&null!=e.completion.type&&n.type!=e.completion.type||n.apply!=e.completion.apply?o.push(e):Vd(e.completion)>Vd(n)&&(o[o.length-1]=e),n=e.completion;return o}(e,t);if(!n.length)return null;let s=t.facet(Nd).selectOnOpen?0:-1;if(i&&i.selected!=s&&-1!=i.selected){let e=i.options[i.selected].completion;for(let t=0;t<n.length;t++)if(n[t].completion==e){s=t;break}}return new Yd(n,ef(r,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=hf,e=>new Zd(e,a)),above:o.aboveCursor},i?i.timestamp:Date.now(),s);var a}map(e){return new Yd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Kd{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Kd(tf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Nd),i=(r.override||t.languageDataAt("autocomplete",Wd(t)).map(Ud)).map((t=>(this.active.find((e=>e.source==t))||new of(t,this.active.some((e=>0!=e.state))?1:0)).update(e,r)));i.length==this.active.length&&i.every(((e,t)=>e==this.active[t]))&&(i=this.active);let o=e.selection||i.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let r=0,i=0;;){for(;r<e.length&&!e[r].hasResult;)r++;for(;i<t.length&&!t[i].hasResult;)i++;let o=r==e.length,n=i==t.length;if(o||n)return o==n;if(e[r++].result!=t[i++].result)return!1}}(i,this.active)?Yd.build(i,t,this.id,this.open,r):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&i.every((e=>1!=e.state))&&i.some((e=>e.hasResult()))&&(i=i.map((e=>e.hasResult()?new of(e.source,0):e)));for(let t of e.effects)t.is(cf)&&(o=o&&o.setSelected(t.value,this.id));return i==this.active&&o==this.open?this:new Kd(i,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Jd}}const Jd={"aria-autocomplete":"list"};function ef(e,t){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(r["aria-activedescendant"]=e+"-"+t),r}const tf=[];function rf(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class of{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=rf(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new of(i.source,0));for(let t of e.effects)if(t.is(sf))i=new of(i.source,1,t.value?Wd(e.state):-1);else if(t.is(af))i=new of(i.source,0);else if(t.is(lf))for(let e of t.value)e.source==i.source&&(i=e);return i}handleUserEvent(e,t,r){return"delete"!=t&&r.activateOnTyping?new of(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(Wd(e.startState))?new of(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new of(this.source,this.state,e.mapPos(this.explicitPos))}}class nf extends of{constructor(e,t,r,i,o){super(e,2,t),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(e,t,r){var i;let o=e.changes.mapPos(this.from),n=e.changes.mapPos(this.to,1),s=Wd(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>n||"delete"==t&&Wd(e.startState)==this.from)return new of(this.source,"input"==t&&r.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,r,i){if(!e)return!1;let o=t.sliceDoc(r,i);return"function"==typeof e?e(o,r,i,t):Fd(e,!0).test(o)}(this.result.validFor,e.state,o,n)?new nf(this.source,l,this.result,o,n):this.result.update&&(a=this.result.update(this.result,o,n,new jd(e.state,s,l>=0)))?new nf(this.source,l,a,a.from,null!==(i=a.to)&&void 0!==i?i:Wd(e.state)):new of(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new of(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new nf(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const sf=Ot.define(),af=Ot.define(),lf=Ot.define({map:(e,t)=>e.map((e=>e.map(t)))}),cf=Ot.define(),hf=Ze.define({create:()=>Kd.start(),update:(e,t)=>e.update(t),provide:e=>[Bs.from(e,(e=>e.tooltip)),Bn.contentAttributes.from(e,(e=>e.attrs))]});function uf(e,t="option"){return r=>{let i=r.state.field(hf,!1);if(!i||!i.open||Date.now()-i.open.timestamp<75)return!1;let o,n=1;"page"==t&&(o=function(e,t){let r=e.plugin(Ms);if(!r)return null;let i=r.manager.tooltips.indexOf(t);return i<0?null:r.manager.tooltipViews[i]}(r,i.open.tooltip))&&(n=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=i.open.options,a=i.open.selected>-1?i.open.selected+n*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),r.dispatch({effects:cf.of(a)}),!0}}class df{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const ff=Mi.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(hf).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(hf);if(!e.selectionSet&&!e.docChanged&&e.startState.field(hf)==t)return;let r=e.transactions.some((e=>(e.selection||e.docChanged)&&!rf(e)));for(let t=0;t<this.running.length;t++){let i=this.running[t];if(r||i.updates.length+e.transactions.length>50&&Date.now()-i.time>1e3){for(let e of i.context.abortListeners)try{e()}catch(e){Ri(this.view.state,e)}i.context.abortListeners=null,this.running.splice(t--,1)}else i.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==rf(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(hf);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,r=Wd(t),i=new jd(t,r,e.explicitPos==r),o=new df(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:af.of(null)}),Ri(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],r=this.view.state.facet(Nd);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(void 0===o.done)continue;if(this.running.splice(i--,1),o.done){let i=new nf(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:Wd(o.updates.length?o.updates[0].startState:this.view.state));for(let e of o.updates)i=i.update(e,r);if(i.hasResult()){t.push(i);continue}}let n=this.view.state.field(hf).active.find((e=>e.source==o.active.source));if(n&&1==n.state)if(null==o.done){let e=new of(o.active.source,0);for(let t of o.updates)e=e.update(t,r);1!=e.state&&t.push(e)}else this.startQuery(n)}t.length&&this.view.dispatch({effects:lf.of(t)})}},{eventHandlers:{blur(){let e=this.view.state.field(hf,!1);e&&e.tooltip&&this.view.state.facet(Nd).closeOnBlur&&this.view.dispatch({effects:af.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:sf.of(!1)})),20),this.composing=0}}}),pf=Bn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class gf{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class mf{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Pe.TrackDel),r=e.mapPos(this.to,1,Pe.TrackDel);return null==t||null==r?null:new mf(this.field,t,r)}}class vf{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],o=e.doc.lineAt(t),n=/^\s*/.exec(o.text)[0];for(let o of this.lines){if(r.length){let r=n,s=/^\t*/.exec(o)[0].length;for(let t=0;t<s;t++)r+=e.facet(Jl);i.push(t+r.length-s),o=r+o.slice(s)}r.push(o),t+=o.length+1}let s=this.fieldPositions.map((e=>new mf(e.field,i[e.line]+e.from,i[e.line]+e.to)));return{text:r,ranges:s}}static parse(e){let t,r=[],i=[],o=[];for(let n of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(n);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<r.length;t++)(null!=e?r[t].seq==e:s&&r[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<r.length&&(null==e||null!=r[t].seq&&r[t].seq<e);)t++;r.splice(t,0,{seq:e,name:s}),a=t;for(let e of o)e.field>=a&&e.field++}o.push(new gf(a,i.length,t.index,t.index+s.length)),n=n.slice(0,t.index)+s+n.slice(t.index+t[0].length)}for(let e;e=/([$#])\\{/.exec(n);){n=n.slice(0,e.index)+e[1]+"{"+n.slice(e.index+e[0].length);for(let t of o)t.line==i.length&&t.from>e.index&&(t.from--,t.to--)}i.push(n)}return new vf(i,o)}}let Of=ui.widget({widget:new class extends ci{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),_f=ui.mark({class:"cm-snippetField"});class bf{constructor(e,t){this.ranges=e,this.active=t,this.deco=ui.set(e.map((e=>(e.from==e.to?Of:_f).range(e.from,e.to))))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new bf(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const yf=Ot.define({map:(e,t)=>e&&e.map(t)}),wf=Ot.define(),Sf=Ze.define({create:()=>null,update(e,t){for(let r of t.effects){if(r.is(yf))return r.value;if(r.is(wf)&&e)return new bf(e.ranges,r.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Bn.decorations.from(e,(e=>e?e.deco:ui.none))});function kf(e,t){return Ie.create(e.filter((e=>e.field==t)).map((e=>Ie.range(e.from,e.to))))}function Cf(e){let t=vf.parse(e);return(e,r,i,o)=>{let{text:n,ranges:s}=t.instantiate(e.state,i),a={changes:{from:i,to:o,insert:le.of(n)},scrollIntoView:!0};if(s.length&&(a.selection=kf(s,0)),s.length>1){let t=new bf(s,0),r=a.effects=[yf.of(t)];void 0===e.state.field(Sf,!1)&&r.push(Ot.appendConfig.of([Sf,Pf,Rf,pf]))}e.dispatch(e.state.update(a))}}function xf(e){return({state:t,dispatch:r})=>{let i=t.field(Sf,!1);if(!i||e<0&&0==i.active)return!1;let o=i.active+e,n=e>0&&!i.ranges.some((t=>t.field==o+e));return r(t.update({selection:kf(i.ranges,o),effects:yf.of(n?null:new bf(i.ranges,o))})),!0}}const Tf=[{key:"Tab",run:xf(1),shift:xf(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(Sf,!1)&&(t(e.update({effects:yf.of(null)})),!0)}],Ef=Fe.define({combine:e=>e.length?e[0]:Tf}),Pf=tt.highest(Hn.compute([Ef],(e=>e.facet(Ef))));function Af(e,t){return Object.assign(Object.assign({},t),{apply:Cf(e)})}const Rf=Bn.domEventHandlers({mousedown(e,t){let r,i=t.state.field(Sf,!1);if(!i||null==(r=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let o=i.ranges.find((e=>e.from<=r&&e.to>=r));return!(!o||o.field==i.active)&&(t.dispatch({selection:kf(i.ranges,o.field),effects:yf.of(i.ranges.some((e=>e.field>o.field))?new bf(i.ranges,o.field):null)}),!0)}}),Qf={brackets:["(","[","{","'",'"'],before:")]}:;>"},Lf=Ot.define({map(e,t){let r=t.mapPos(e,-1,Pe.TrackAfter);return null==r?void 0:r}}),$f=Ot.define({map:(e,t)=>t.mapPos(e)}),Mf=new class extends Qt{};Mf.startSide=1,Mf.endSide=-1;const Df=Ze.define({create:()=>Dt.empty,update(e,t){if(t.selection){let r=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;r!=t.changes.mapPos(i,-1)&&(e=Dt.empty)}e=e.map(t.changes);for(let r of t.effects)r.is(Lf)?e=e.update({add:[Mf.range(r.value,r.value+1)]}):r.is($f)&&(e=e.update({filter:e=>e!=r.value}));return e}});const jf="()[]{}<>";function Bf(e){for(let t=0;t<jf.length;t+=2)if(jf.charCodeAt(t)==e)return jf.charAt(t+1);return xe(e<128?e:e+1)}function If(e,t){return e.languageDataAt("closeBrackets",t)[0]||Qf}const zf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Wf=Bn.inputHandler.of(((e,t,r,i)=>{if((zf?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let o=e.state.selection.main;if(i.length>2||2==i.length&&1==Te(Ce(i,0))||t!=o.from||r!=o.to)return!1;let n=function(e,t){let r=If(e,e.selection.main.head),i=r.brackets||Qf.brackets;for(let o of i){let n=Bf(Ce(o,0));if(t==o)return n==o?Nf(e,o,i.indexOf(o+o+o)>-1):Uf(e,o,n,r.before||Qf.before);if(t==n&&qf(e,e.selection.main.from))return Hf(e,o,n)}return null}(e.state,i);return!!n&&(e.dispatch(n),!0)})),Ff=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=If(e,e.selection.main.head).brackets||Qf.brackets,i=null,o=e.changeByRange((t=>{if(t.empty){let i=function(e,t){let r=e.sliceString(t-2,t);return Te(Ce(r,0))==r.length?r:r.slice(1)}(e.doc,t.head);for(let o of r)if(o==i&&Gf(e.doc,t.head)==Bf(Ce(o,0)))return{changes:{from:t.head-o.length,to:t.head+o.length},range:Ie.cursor(t.head-o.length),userEvent:"delete.backward"}}return{range:i=t}}));return i||t(e.update(o,{scrollIntoView:!0})),!i}}];function qf(e,t){let r=!1;return e.field(Df).between(0,e.doc.length,(e=>{e==t&&(r=!0)})),r}function Gf(e,t){let r=e.sliceString(t,t+2);return r.slice(0,Te(Ce(r,0)))}function Uf(e,t,r,i){let o=null,n=e.changeByRange((n=>{if(!n.empty)return{changes:[{insert:t,from:n.from},{insert:r,from:n.to}],effects:Lf.of(n.to+t.length),range:Ie.range(n.anchor+t.length,n.head+t.length)};let s=Gf(e.doc,n.head);return!s||/\s/.test(s)||i.indexOf(s)>-1?{changes:{insert:t+r,from:n.head},effects:Lf.of(n.head+t.length),range:Ie.cursor(n.head+t.length)}:{range:o=n}}));return o?null:e.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function Hf(e,t,r){let i=null,o=e.selection.ranges.map((t=>t.empty&&Gf(e.doc,t.head)==r?Ie.cursor(t.head+r.length):i=t));return i?null:e.update({selection:Ie.create(o,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>$f.of(e)))})}function Nf(e,t,r){let i=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:t,from:o.to}],effects:Lf.of(o.to+t.length),range:Ie.range(o.anchor+t.length,o.head+t.length)};let n=o.head,s=Gf(e.doc,n);if(s==t){if(Xf(e,n))return{changes:{insert:t+t,from:n},effects:Lf.of(n+t.length),range:Ie.cursor(n+t.length)};if(qf(e,n)){let i=r&&e.sliceDoc(n,n+3*t.length)==t+t+t;return{range:Ie.cursor(n+t.length*(i?3:1)),effects:$f.of(n)}}}else{if(r&&e.sliceDoc(n-2*t.length,n)==t+t&&Xf(e,n-2*t.length))return{changes:{insert:t+t+t+t,from:n},effects:Lf.of(n+t.length),range:Ie.cursor(n+t.length)};if(e.charCategorizer(n)(s)!=xt.Word){let r=e.sliceDoc(n-1,n);if(r!=t&&e.charCategorizer(n)(r)!=xt.Word&&!function(e,t,r){let i=zl(e).resolveInner(t,-1);for(let o=0;o<5;o++){if(e.sliceDoc(i.from,i.from+r.length)==r){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>r.length;){if(e.sliceDoc(t.to-r.length,t.to)==r)return!1;t=t.firstChild}return!0}let o=i.to==t&&i.parent;if(!o)break;i=o}return!1}(e,n,t))return{changes:{insert:t+t,from:n},effects:Lf.of(n+t.length),range:Ie.cursor(n+t.length)}}}return{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Xf(e,t){let r=zl(e).resolveInner(t+1);return r.parent&&r.from==t}function Zf(e={}){return[hf,Nd.of(e),ff,Yf,pf]}const Vf=[{key:"Ctrl-Space",run:e=>!!e.state.field(hf,!1)&&(e.dispatch({effects:sf.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(hf,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:af.of(null)}),!0)}},{key:"ArrowDown",run:uf(!0)},{key:"ArrowUp",run:uf(!1)},{key:"PageDown",run:uf(!0,"page")},{key:"PageUp",run:uf(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(hf,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75||t.open.selected<0)&&(qd(e,t.open.options[t.open.selected]),!0)}}],Yf=tt.highest(Hn.computeN([Nd],(e=>e.facet(Nd).defaultKeymap?[Vf]:[])));class Kf{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Jf{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(fp).markerFilter;o&&(i=o(i));let n=ui.set(i.map((e=>e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?ui.widget({widget:new mp(e),diagnostic:e}).range(e.from):ui.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new Jf(n,t,ep(n))}}function ep(e,t=null,r=0){let i=null;return e.between(r,1e9,((e,r,{spec:o})=>{if(!t||o.diagnostic==t)return i=new Kf(e,r,o.diagnostic),!1})),i}function tp(e,t){return!(!e.effects.some((e=>e.is(ip)))&&!e.changes.touchesRange(t.pos))}function rp(e,t){return e.field(sp,!1)?t:t.concat(Ot.appendConfig.of([sp,Bn.decorations.compute([sp],(e=>{let{selected:t,panel:r}=e.field(sp);return t&&r&&t.from!=t.to?ui.set([ap.range(t.from,t.to)]):ui.none})),qs(lp,{hideOn:tp}),bp]))}const ip=Ot.define(),op=Ot.define(),np=Ot.define(),sp=Ze.define({create:()=>new Jf(ui.none,null,null),update(e,t){if(t.docChanged){let r=e.diagnostics.map(t.changes),i=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);i=ep(r,e.selected.diagnostic,o)||ep(r,null,o)}e=new Jf(r,e.panel,i)}for(let r of t.effects)r.is(ip)?e=Jf.init(r.value,e.panel,t.state):r.is(op)?e=new Jf(e.diagnostics,r.value?Op.open:null,e.selected):r.is(np)&&(e=new Jf(e.diagnostics,e.panel,r.value));return e},provide:e=>[Vs.from(e,(e=>e.panel)),Bn.decorations.from(e,(e=>e.diagnostics))]}),ap=ui.mark({class:"cm-lintRange cm-lintRange-active"});function lp(e,t,r){let{diagnostics:i}=e.state.field(sp),o=[],n=2e8,s=0;i.between(t-(r<0?1:0),t+(r>0?1:0),((e,i,{spec:a})=>{t>=e&&t<=i&&(e==i||(t>e||r>0)&&(t<i||r<0))&&(o.push(a.diagnostic),n=Math.min(e,n),s=Math.max(i,s))}));let a=e.state.facet(fp).tooltipFilter;return a&&(o=a(o)),o.length?{pos:n,end:s,above:e.state.doc.lineAt(n).to<s,create:()=>({dom:cp(e,o)})}:null}function cp(e,t){return Bu("ul",{class:"cm-tooltip-lint"},t.map((t=>gp(e,t,!1))))}const hp=e=>{let t=e.state.field(sp,!1);return!(!t||!t.panel)&&(e.dispatch({effects:op.of(!1)}),!0)},up=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(sp,!1);t&&t.panel||e.dispatch({effects:rp(e.state,[op.of(!0)])});let r=Hs(e,Op.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(sp,!1);if(!t)return!1;let r=e.state.selection.main,i=t.diagnostics.iter(r.to+1);return!(!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==r.from&&i.to==r.to))&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)}}],dp=Mi.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(fp);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(fp);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let r=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:rp(e,[ip.of(t)])}}(this.view.state,r))}),(e=>{Ri(this.view.state,e)}))}}update(e){let t=e.state.facet(fp);(e.docChanged||t!=e.startState.facet(fp))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),fp=Fe.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},Rt(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null})),enables:dp});function pp(e){let t=[];if(e)e:for(let{name:r}of e){for(let e=0;e<r.length;e++){let i=r[e];if(/[a-zA-Z]/.test(i)&&!t.some((e=>e.toLowerCase()==i.toLowerCase()))){t.push(i);continue e}}t.push("")}return t}function gp(e,t,r){var i;let o=r?pp(t.actions):[];return Bu("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Bu("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(i=t.actions)||void 0===i?void 0:i.map(((r,i)=>{let n=i=>{i.preventDefault();let o=ep(e.state.field(sp).diagnostics,t);o&&r.apply(e,o.from,o.to)},{name:s}=r,a=o[i]?s.indexOf(o[i]):-1,l=a<0?s:[s.slice(0,a),Bu("u",s.slice(a,a+1)),s.slice(a+1)];return Bu("button",{type:"button",class:"cm-diagnosticAction",onclick:n,onmousedown:n,"aria-label":` Action: ${s}${a<0?"":` (access key "${o[i]})"`}.`},l)})),t.source&&Bu("div",{class:"cm-diagnosticSource"},t.source))}class mp extends ci{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Bu("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class vp{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=gp(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Op{constructor(e){this.view=e,this.items=[];this.list=Bu("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)hp(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],i=pp(r.actions);for(let o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=ep(this.view.state.field(sp).diagnostics,r);t&&r.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=Bu("div",{class:"cm-panel-lint"},this.list,Bu("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>hp(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(sp).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(sp),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,((e,n,{spec:s})=>{let a,l=-1;for(let e=r;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new vp(this.view,s.diagnostic),this.items.splice(r,0,a),i=!0):(a=this.items[l],l>r&&(this.items.splice(r,l-r),i=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),o=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),r++}));r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new vp(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=ep(this.view.state.field(sp).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:np.of(t)})}static open(e){return new Op(e)}}function _p(e){return function(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const bp=Bn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:_p("#d11")},".cm-lintRange-warning":{backgroundImage:_p("orange")},".cm-lintRange-info":{backgroundImage:_p("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class yp{constructor(e,t,r,i,o,n,s){this.type=e,this.value=t,this.from=r,this.hash=i,this.end=o,this.children=n,this.positions=s,this.hashProp=[[_a.contextHash,i]]}static create(e,t,r,i,o){return new yp(e,t,r,i+(i<<8)+e+(t<<4)|0,o,[],[])}addChild(e,t){e.prop(_a.contextHash)!=this.hash&&(e=new Ta(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let r=this.children.length-1;r>=0&&(t=Math.max(t,this.positions[r]+this.children[r].length+this.from));let i=new Ta(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(e,t,r)=>new Ta(wa.none,e,t,r,this.hashProp)});return i}}var wp;!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel"}(wp||(wp={}));class Sp{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class kp{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Ep(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,r=0){for(let i=t;i<e;i++)r+=9==this.text.charCodeAt(i)?4-r%4:1;return r}findColumn(e){let t=0;for(let r=0;t<this.text.length&&r<e;t++)r+=9==this.text.charCodeAt(t)?4-r%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function Cp(e,t,r){if(r.pos==r.text.length||e!=t.block&&r.indent>=t.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let i=(e.type==wp.OrderedList?Mp:$p)(r,t,!1);return i>0&&(e.type!=wp.BulletList||Qp(r,t,!1)<0)&&r.text.charCodeAt(r.pos+i-1)==e.value}const xp={[wp.Blockquote]:(e,t,r)=>62==r.next&&(r.markers.push(cg(wp.QuoteMark,t.lineStart+r.pos,t.lineStart+r.pos+1)),r.moveBase(r.pos+(Tp(r.text.charCodeAt(r.pos+1))?2:1)),e.end=t.lineStart+r.text.length,!0),[wp.ListItem]:(e,t,r)=>!(r.indent<r.baseIndent+e.value&&r.next>-1)&&(r.moveBaseColumn(r.baseIndent+e.value),!0),[wp.OrderedList]:Cp,[wp.BulletList]:Cp,[wp.Document]:()=>!0};function Tp(e){return 32==e||9==e||10==e||13==e}function Ep(e,t=0){for(;t<e.length&&Tp(e.charCodeAt(t));)t++;return t}function Pp(e,t,r){for(;t>r&&Tp(e.charCodeAt(t-1));)t--;return t}function Ap(e){if(96!=e.next&&126!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(let r=t;r<e.text.length;r++)if(96==e.text.charCodeAt(r))return-1;return t}function Rp(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function Qp(e,t,r){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;let i=1;for(let t=e.pos+1;t<e.text.length;t++){let r=e.text.charCodeAt(t);if(r==e.next)i++;else if(!Tp(r))return-1}return r&&45==e.next&&jp(e)>-1&&e.depth==t.stack.length||i<3?-1:1}function Lp(e,t){for(let r=e.stack.length-1;r>=0;r--)if(e.stack[r].type==t)return!0;return!1}function $p(e,t,r){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!Tp(e.text.charCodeAt(e.pos+1))||!(!r||Lp(t,wp.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function Mp(e,t,r){let i=e.pos,o=e.next;for(;o>=48&&o<=57;){if(i++,i==e.text.length)return-1;o=e.text.charCodeAt(i)}return i==e.pos||i>e.pos+9||46!=o&&41!=o||i<e.text.length-1&&!Tp(e.text.charCodeAt(i+1))||r&&!Lp(t,wp.OrderedList)&&(e.skipSpace(i+1)==e.text.length||i>e.pos+1||49!=e.next)?-1:i+1-e.pos}function Dp(e){if(35!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;let r=t-e.pos;return r>6?-1:r}function jp(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let r=t;for(;t<e.text.length&&Tp(e.text.charCodeAt(t));)t++;return t==e.text.length?r:-1}const Bp=/^[ \t]*$/,Ip=/-->/,zp=/\?>/,Wp=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Ip],[/^\s*<\?/,zp],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Bp],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Bp]];function Fp(e,t,r){if(60!=e.next)return-1;let i=e.text.slice(e.pos);for(let e=0,t=Wp.length-(r?1:0);e<t;e++)if(Wp[e][0].test(i))return e;return-1}function qp(e,t){let r=e.countIndent(t,e.pos,e.indent),i=e.countIndent(e.skipSpace(t),t,r);return i>=r+5?r+1:i}function Gp(e,t,r){let i=e.length-1;i>=0&&e[i].to==t&&e[i].type==wp.CodeText?e[i].to=r:e.push(cg(wp.CodeText,t,r))}const Up={LinkReference:void 0,IndentedCode(e,t){let r=t.baseIndent+4;if(t.indent<r)return!1;let i=t.findColumn(r),o=e.lineStart+i,n=e.lineStart+t.text.length,s=[],a=[];for(Gp(s,o,n);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){Gp(a,e.lineStart-1,e.lineStart);for(let e of t.markers)a.push(e)}else{if(t.indent<r)break;{if(a.length){for(let e of a)e.type==wp.CodeText?Gp(s,e.from,e.to):s.push(e);a=[]}Gp(s,e.lineStart-1,e.lineStart);for(let e of t.markers)s.push(e);n=e.lineStart+t.text.length;let r=e.lineStart+t.findColumn(t.baseIndent+4);r<n&&Gp(s,r,n)}}return a.length&&(a=a.filter((e=>e.type!=wp.CodeText)),a.length&&(t.markers=a.concat(t.markers))),e.addNode(e.buffer.writeElements(s,-o).finish(wp.CodeBlock,n-o),o),!0},FencedCode(e,t){let r=Ap(t);if(r<0)return!1;let i=e.lineStart+t.pos,o=t.next,n=r-t.pos,s=t.skipSpace(r),a=Pp(t.text,t.text.length,s),l=[cg(wp.CodeMark,i,i+n)];s<a&&l.push(cg(wp.CodeInfo,e.lineStart+s,e.lineStart+a));for(let r=!0;e.nextLine()&&t.depth>=e.stack.length;r=!1){let i=t.pos;if(t.indent-t.baseIndent<4)for(;i<t.text.length&&t.text.charCodeAt(i)==o;)i++;if(i-t.pos>=n&&t.skipSpace(i)==t.text.length){for(let e of t.markers)l.push(e);l.push(cg(wp.CodeMark,e.lineStart+t.pos,e.lineStart+i)),e.nextLine();break}{r||Gp(l,e.lineStart-1,e.lineStart);for(let e of t.markers)l.push(e);let i=e.lineStart+t.basePos,o=e.lineStart+t.text.length;i<o&&Gp(l,i,o)}}return e.addNode(e.buffer.writeElements(l,-i).finish(wp.FencedCode,e.prevLineEnd()-i),i),!0},Blockquote(e,t){let r=Rp(t);return!(r<0)&&(e.startContext(wp.Blockquote,t.pos),e.addNode(wp.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+r),null)},HorizontalRule(e,t){if(Qp(t,e,!1)<0)return!1;let r=e.lineStart+t.pos;return e.nextLine(),e.addNode(wp.HorizontalRule,r),!0},BulletList(e,t){let r=$p(t,e,!1);if(r<0)return!1;e.block.type!=wp.BulletList&&e.startContext(wp.BulletList,t.basePos,t.next);let i=qp(t,t.pos+1);return e.startContext(wp.ListItem,t.basePos,i-t.baseIndent),e.addNode(wp.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(i),null},OrderedList(e,t){let r=Mp(t,e,!1);if(r<0)return!1;e.block.type!=wp.OrderedList&&e.startContext(wp.OrderedList,t.basePos,t.text.charCodeAt(t.pos+r-1));let i=qp(t,t.pos+r);return e.startContext(wp.ListItem,t.basePos,i-t.baseIndent),e.addNode(wp.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(i),null},ATXHeading(e,t){let r=Dp(t);if(r<0)return!1;let i=t.pos,o=e.lineStart+i,n=Pp(t.text,t.text.length,i),s=n;for(;s>i&&t.text.charCodeAt(s-1)==t.next;)s--;s!=n&&s!=i&&Tp(t.text.charCodeAt(s-1))||(s=t.text.length);let a=e.buffer.write(wp.HeaderMark,0,r).writeElements(e.parser.parseInline(t.text.slice(i+r+1,s),o+r+1),-o);s<t.text.length&&a.write(wp.HeaderMark,s-i,n-i);let l=a.finish(wp.ATXHeading1-1+r,t.text.length-i);return e.nextLine(),e.addNode(l,o),!0},HTMLBlock(e,t){let r=Fp(t,0,!1);if(r<0)return!1;let i=e.lineStart+t.pos,o=Wp[r][1],n=[],s=o!=Bp;for(;!o.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){s=!1;break}for(let e of t.markers)n.push(e)}s&&e.nextLine();let a=o==Ip?wp.CommentBlock:o==zp?wp.ProcessingInstructionBlock:wp.HTMLBlock,l=e.prevLineEnd();return e.addNode(e.buffer.writeElements(n,-i).finish(a,l-i),i),!0},SetextHeading:void 0};class Hp{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,r){if(-1==this.stage)return!1;let i=r.content+"\n"+t.scrub(),o=this.advance(i);return o>-1&&o<i.length&&this.complete(e,r,o)}finish(e,t){return(2==this.stage||3==this.stage)&&Ep(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}complete(e,t,r){return e.addLeafElement(t,cg(wp.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}advance(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(yg(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(cg(wp.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let t=Ep(e,this.pos),r=0;if(t>this.pos){let i=bg(e,t,this.start);if(i){let t=Np(e,i.to-this.start);t>0&&(this.nextStage(i),r=t)}}return r||(r=Np(e,this.pos)),r>0&&r<e.length?r:-1}return Np(e,this.pos)}if(!this.nextStage(_g(e,Ep(e,this.pos),this.start)))return-1}}}}function Np(e,t){for(;t<e.length;t++){let r=e.charCodeAt(t);if(10==r)break;if(!Tp(r))return-1}return t}class Xp{nextLine(e,t,r){let i=t.depth<e.stack.length?-1:jp(t),o=t.next;if(i<0)return!1;let n=cg(wp.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,cg(61==o?wp.SetextHeading1:wp.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),n])),!0}finish(){return!1}}const Zp={LinkReference:(e,t)=>91==t.content.charCodeAt(0)?new Hp(t):null,SetextHeading:()=>new Xp},Vp=[(e,t)=>Dp(t)>=0,(e,t)=>Ap(t)>=0,(e,t)=>Rp(t)>=0,(e,t)=>$p(t,e,!0)>=0,(e,t)=>Mp(t,e,!0)>=0,(e,t)=>Qp(t,e,!0)>=0,(e,t)=>Fp(t,0,!0)>=0],Yp={text:"",end:0};class Kp{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.line=new kp,this.atEnd=!1,this.dontInject=new Set,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=yp.create(wp.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Cg(r,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let t of e.markers)this.addNode(t.type,t.from,t.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let t of this.parser.blockParsers)if(t){let r=t(this,e);if(0!=r){if(1==r)return null;e.forward();continue e}}break}let t=new Sp(this.lineStart+e.pos,e.text.slice(e.pos));for(let e of this.parser.leafBlockParsers)if(e){let r=e(this,t);r&&t.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4)for(let r of this.parser.endLeafBlock)if(r(this,e,t))break e;for(let r of t.parsers)if(r.nextLine(this,e,t))return null;t.content+="\n"+e.scrub();for(let r of e.markers)t.marks.push(r)}return this.finishLeaf(t),null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);if(!t)return!1;let r=t,i=this.absoluteLineStart+t;for(let e=1;e<this.ranges.length;e++){let t=this.ranges[e-1].to,o=this.ranges[e].from;t>=this.lineStart&&o<i&&(r-=o-t)}return this.lineStart+=r,this.absoluteLineStart+=t,this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=Yp;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let e=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<t.end;){r++;let i=this.ranges[r].from,o=this.lineChunkAt(i);t.end=i+o.length,t.text=t.text.slice(0,this.ranges[r-1].to-e)+o,e=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(t);e.depth<this.stack.length;e.depth++){let t=this.stack[e.depth],r=this.parser.skipContextMarkup[t.type];if(!r)throw new Error("Unhandled block context "+wp[t.type]);if(!r(t,this,e))break;e.forward()}}lineChunkAt(e){let t,r=this.input.chunk(e);if(this.input.lineChunks)t="\n"==r?"":r;else{let e=r.indexOf("\n");t=e<0?r:r.slice(0,e)}return e+t.length>this.to?t.slice(0,this.to-e):t}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,r=0){this.block=yp.create(e,r,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,r=0){this.startContext(this.parser.getNodeType(e),t,r)}addNode(e,t,r){"number"==typeof e&&(e=new Ta(this.parser.nodeSet.types[e],ng,ng,(null!=r?r:this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(Sg(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?Jp(this.ranges,0,e.topNode,this.ranges[0].from,this.dontInject):e}finishLeaf(e){for(let t of e.parsers)if(t.finish(this,e))return;let t=Sg(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(wp.Paragraph,e.content.length),e.start)}elt(e,t,r,i){return"string"==typeof e?cg(this.parser.getNodeType(e),t,r,i):new lg(e,t)}get buffer(){return new sg(this.parser.nodeSet)}}function Jp(e,t,r,i,o){if(o.has(r.tree))return r.tree;let n=e[t].to,s=[],a=[],l=r.from+i;function c(r,o){for(;o?r>=n:r>n;){let o=e[t+1].from-n;i+=o,r+=o,t++,n=e[t].to}}for(let h=r.firstChild;h;h=h.nextSibling){c(h.from+i,!0);let r,u=h.from+i;h.to+i>n?(r=Jp(e,t,h,i,o),c(h.to+i,!1)):r=h.toTree(),s.push(r),a.push(u-l)}return c(r.to+i,!1),new Ta(r.type,s,a,r.to+i-l,r.tree?r.tree.propValues:void 0)}class eg extends Ua{constructor(e,t,r,i,o,n,s,a,l){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=n,this.inlineParsers=s,this.inlineNames=a,this.wrappers=l,this.nodeTypes=Object.create(null);for(let t of e.types)this.nodeTypes[t.name]=t.id}createParse(e,t,r){let i=new Kp(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}configure(e){let t=rg(e);if(!t)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),n=this.leafBlockParsers.slice(),s=this.blockNames.slice(),a=this.inlineParsers.slice(),l=this.inlineNames.slice(),c=this.endLeafBlock.slice(),h=this.wrappers;if(tg(t.defineNodes)){i=Object.assign({},i);let e,o=r.types.slice();for(let r of t.defineNodes){let{name:t,block:n,composite:s,style:a}="string"==typeof r?{name:r}:r;if(o.some((e=>e.name==t)))continue;s&&(i[o.length]=(e,t,r)=>s(t,r,e.value));let l=o.length,c=s?["Block","BlockContext"]:n?l>=wp.ATXHeading1&&l<=wp.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;o.push(wa.define({id:l,name:t,props:c&&[[_a.group,c]]})),a&&(e||(e={}),Array.isArray(a)||a instanceof al?e[t]=a:Object.assign(e,a))}r=new Sa(o),e&&(r=r.extend(ul(e)))}if(tg(t.props)&&(r=r.extend(...t.props)),tg(t.remove))for(let e of t.remove){let t=this.blockNames.indexOf(e),r=this.inlineNames.indexOf(e);t>-1&&(o[t]=n[t]=void 0),r>-1&&(a[r]=void 0)}if(tg(t.parseBlock))for(let e of t.parseBlock){let t=s.indexOf(e.name);if(t>-1)o[t]=e.parse,n[t]=e.leaf;else{let t=e.before?ig(s,e.before):e.after?ig(s,e.after)+1:s.length-1;o.splice(t,0,e.parse),n.splice(t,0,e.leaf),s.splice(t,0,e.name)}e.endLeaf&&c.push(e.endLeaf)}if(tg(t.parseInline))for(let e of t.parseInline){let t=l.indexOf(e.name);if(t>-1)a[t]=e.parse;else{let t=e.before?ig(l,e.before):e.after?ig(l,e.after)+1:l.length-1;a.splice(t,0,e.parse),l.splice(t,0,e.name)}}return t.wrap&&(h=h.concat(t.wrap)),new eg(r,o,n,s,c,i,a,l,h)}getNodeType(e){let t=this.nodeTypes[e];if(null==t)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let r=new wg(this,e,t);e:for(let e=t;e<r.end;){let t=r.char(e);for(let i of this.inlineParsers)if(i){let o=i(r,t,e);if(o>=0){e=o;continue e}}e++}return r.resolveMarkers(0)}}function tg(e){return null!=e&&e.length>0}function rg(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let t=rg(e[0]);if(1==e.length)return t;let r=rg(e.slice(1));if(!r||!t)return t||r;let i=(e,t)=>(e||ng).concat(t||ng),o=t.wrap,n=r.wrap;return{props:i(t.props,r.props),defineNodes:i(t.defineNodes,r.defineNodes),parseBlock:i(t.parseBlock,r.parseBlock),parseInline:i(t.parseInline,r.parseInline),remove:i(t.remove,r.remove),wrap:o?n?(e,t,r,i)=>o(n(e,t,r,i),t,r,i):o:n}}function ig(e,t){let r=e.indexOf(t);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return r}let og=[wa.none];for(let e,t=1;e=wp[t];t++)og[t]=wa.define({id:t,name:e,props:t>=wp.Escape?[]:[[_a.group,t in xp?["Block","BlockContext"]:["Block","LeafBlock"]]]});const ng=[];class sg{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,r,i=0){return this.content.push(e,t,r,4+4*i),this}writeElements(e,t=0){for(let r of e)r.writeTo(this,t);return this}finish(e,t){return Ta.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}class ag{constructor(e,t,r,i=ng){this.type=e,this.from=t,this.to=r,this.children=i}writeTo(e,t){let r=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-r)}toTree(e){return new sg(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class lg{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return ng}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function cg(e,t,r,i){return new ag(e,t,r,i)}const hg={resolve:"Emphasis",mark:"EmphasisMark"},ug={resolve:"Emphasis",mark:"EmphasisMark"},dg={},fg={};class pg{constructor(e,t,r,i){this.type=e,this.from=t,this.to=r,this.side=i}}const gg="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let mg=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{mg=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch(e){}const vg={Escape(e,t,r){if(92!=t||r==e.end-1)return-1;let i=e.char(r+1);for(let t=0;t<gg.length;t++)if(gg.charCodeAt(t)==i)return e.append(cg(wp.Escape,r,r+2));return-1},Entity(e,t,r){if(38!=t)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(r+1,r+31));return i?e.append(cg(wp.Entity,r,r+1+i[0].length)):-1},InlineCode(e,t,r){if(96!=t||r&&96==e.char(r-1))return-1;let i=r+1;for(;i<e.end&&96==e.char(i);)i++;let o=i-r,n=0;for(;i<e.end;i++)if(96==e.char(i)){if(n++,n==o&&96!=e.char(i+1))return e.append(cg(wp.InlineCode,r,i+1,[cg(wp.CodeMark,r,r+o),cg(wp.CodeMark,i+1-o,i+1)]))}else n=0;return-1},HTMLTag(e,t,r){if(60!=t||r==e.end-1)return-1;let i=e.slice(r+1,e.end),o=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(o)return e.append(cg(wp.URL,r,r+1+o[0].length));let n=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(n)return e.append(cg(wp.Comment,r,r+1+n[0].length));let s=/^\?[^]*?\?>/.exec(i);if(s)return e.append(cg(wp.ProcessingInstruction,r,r+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return a?e.append(cg(wp.HTMLTag,r,r+1+a[0].length)):-1},Emphasis(e,t,r){if(95!=t&&42!=t)return-1;let i=r+1;for(;e.char(i)==t;)i++;let o=e.slice(r-1,r),n=e.slice(i,i+1),s=mg.test(o),a=mg.test(n),l=/\s|^$/.test(o),c=/\s|^$/.test(n),h=!c&&(!a||l||s),u=!l&&(!s||c||a),d=h&&(42==t||!u||s),f=u&&(42==t||!h||a);return e.append(new pg(95==t?hg:ug,r,i,(d?1:0)|(f?2:0)))},HardBreak(e,t,r){if(92==t&&10==e.char(r+1))return e.append(cg(wp.HardBreak,r,r+2));if(32==t){let t=r+1;for(;32==e.char(t);)t++;if(10==e.char(t)&&t>=r+2)return e.append(cg(wp.HardBreak,r,t+1))}return-1},Link:(e,t,r)=>91==t?e.append(new pg(dg,r,r+1,1)):-1,Image:(e,t,r)=>33==t&&91==e.char(r+1)?e.append(new pg(fg,r,r+2,1)):-1,LinkEnd(e,t,r){if(93!=t)return-1;for(let t=e.parts.length-1;t>=0;t--){let i=e.parts[t];if(i instanceof pg&&(i.type==dg||i.type==fg)){if(!i.side||e.skipSpace(i.to)==r&&!/[(\[]/.test(e.slice(r+1,r+2)))return e.parts[t]=null,-1;let o=e.takeContent(t),n=e.parts[t]=Og(e,o,i.type==dg?wp.Link:wp.Image,i.from,r+1);if(i.type==dg)for(let r=0;r<t;r++){let t=e.parts[r];t instanceof pg&&t.type==dg&&(t.side=0)}return n.to}}return-1}};function Og(e,t,r,i,o){let{text:n}=e,s=e.char(o),a=o;if(t.unshift(cg(wp.LinkMark,i,i+(r==wp.Image?2:1))),t.push(cg(wp.LinkMark,o-1,o)),40==s){let r,i=e.skipSpace(o+1),s=_g(n,i-e.offset,e.offset);s&&(i=e.skipSpace(s.to),r=bg(n,i-e.offset,e.offset),r&&(i=e.skipSpace(r.to))),41==e.char(i)&&(t.push(cg(wp.LinkMark,o,o+1)),a=i+1,s&&t.push(s),r&&t.push(r),t.push(cg(wp.LinkMark,i,a)))}else if(91==s){let r=yg(n,o-e.offset,e.offset,!1);r&&(t.push(r),a=r.to)}return cg(r,i,a,t)}function _g(e,t,r){if(60==e.charCodeAt(t)){for(let i=t+1;i<e.length;i++){let o=e.charCodeAt(i);if(62==o)return cg(wp.URL,t+r,i+1+r);if(60==o||10==o)return!1}return null}{let i=0,o=t;for(let t=!1;o<e.length;o++){let r=e.charCodeAt(o);if(Tp(r))break;if(t)t=!1;else if(40==r)i++;else if(41==r){if(!i)break;i--}else 92==r&&(t=!0)}return o>t?cg(wp.URL,t+r,o+r):o==e.length&&null}}function bg(e,t,r){let i=e.charCodeAt(t);if(39!=i&&34!=i&&40!=i)return!1;let o=40==i?41:i;for(let i=t+1,n=!1;i<e.length;i++){let s=e.charCodeAt(i);if(n)n=!1;else{if(s==o)return cg(wp.LinkTitle,t+r,i+1+r);92==s&&(n=!0)}}return null}function yg(e,t,r,i){for(let o=!1,n=t+1,s=Math.min(e.length,n+999);n<s;n++){let s=e.charCodeAt(n);if(o)o=!1;else{if(93==s)return!i&&cg(wp.LinkLabel,t+r,n+1+r);if(i&&!Tp(s)&&(i=!1),91==s)return!1;92==s&&(o=!0)}}return null}class wg{constructor(e,t,r){this.parser=e,this.text=t,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,r,i,o){return this.append(new pg(e,t,r,(i?1:0)|(o?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let t=e;t<this.parts.length;t++){let r=this.parts[t];if(!(r instanceof pg&&r.type.resolve&&2&r.side))continue;let i,o=r.type==hg||r.type==ug,n=r.to-r.from,s=t-1;for(;s>=e;s--){let e=this.parts[s];if(e instanceof pg&&1&e.side&&e.type==r.type&&!(o&&(1&r.side||2&e.side)&&(e.to-e.from+n)%3==0&&((e.to-e.from)%3||n%3))){i=e;break}}if(!i)continue;let a=r.type.resolve,l=[],c=i.from,h=r.to;if(o){let e=Math.min(2,i.to-i.from,n);c=i.to-e,h=r.from+e,a=1==e?"Emphasis":"StrongEmphasis"}i.type.mark&&l.push(this.elt(i.type.mark,c,i.to));for(let e=s+1;e<t;e++)this.parts[e]instanceof ag&&l.push(this.parts[e]),this.parts[e]=null;r.type.mark&&l.push(this.elt(r.type.mark,r.from,h));let u=this.elt(a,c,h,l);this.parts[s]=o&&i.from!=c?new pg(i.type,i.from,c,i.side):null,(this.parts[t]=o&&r.to!=h?new pg(r.type,h,r.to,r.side):null)?this.parts.splice(t,0,u):this.parts[t]=u}let t=[];for(let r=e;r<this.parts.length;r++){let e=this.parts[r];e instanceof ag&&t.push(e)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let r=this.parts[t];if(r instanceof pg&&r.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return Ep(this.text,e-this.offset)+this.offset}elt(e,t,r,i){return"string"==typeof e?cg(this.parser.getNodeType(e),t,r,i):new lg(e,t)}}function Sg(e,t){if(!t.length)return e;if(!e.length)return t;let r=e.slice(),i=0;for(let e of t){for(;i<r.length&&r[i].to<e.to;)i++;if(i<r.length&&r[i].from<e.from){let t=r[i];t instanceof ag&&(r[i]=new ag(t.type,t.from,t.to,Sg(t.children,[e])))}else r.splice(i++,0,e)}return r}const kg=[wp.CodeBlock,wp.ListItem,wp.OrderedList,wp.BulletList];class Cg{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let e=this.fragment.to;for(;e>0&&"\n"!=this.input.read(e-1,e);)e--;this.fragmentEnd=e?e-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=t;if(!r.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(_a.contextHash)==e}takeNodes(e){let t=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,n=o,s=e.block.children.length,a=n,l=s;for(;;){if(t.to-r>i){if(t.type.isAnonymous&&t.firstChild())continue;break}if(e.dontInject.add(t.tree),e.addNode(t.tree,t.from-r),t.type.is("Block")&&(kg.indexOf(t.type.id)<0?(n=t.to-r,s=e.block.children.length):(n=a,s=l,a=t.to-r,l=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>s;)e.block.children.pop(),e.block.positions.pop();return n-o}}const xg=ul({"Blockquote/...":Ll.quote,HorizontalRule:Ll.contentSeparator,"ATXHeading1/... SetextHeading1/...":Ll.heading1,"ATXHeading2/... SetextHeading2/...":Ll.heading2,"ATXHeading3/...":Ll.heading3,"ATXHeading4/...":Ll.heading4,"ATXHeading5/...":Ll.heading5,"ATXHeading6/...":Ll.heading6,"Comment CommentBlock":Ll.comment,Escape:Ll.escape,Entity:Ll.character,"Emphasis/...":Ll.emphasis,"StrongEmphasis/...":Ll.strong,"Link/... Image/...":Ll.link,"OrderedList/... BulletList/...":Ll.list,"BlockQuote/...":Ll.quote,"InlineCode CodeText":Ll.monospace,URL:Ll.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Ll.processingInstruction,"CodeInfo LinkLabel":Ll.labelName,LinkTitle:Ll.string,Paragraph:Ll.content}),Tg=new eg(new Sa(og).extend(xg),Object.keys(Up).map((e=>Up[e])),Object.keys(Up).map((e=>Zp[e])),Object.keys(Up),Vp,xp,Object.keys(vg).map((e=>vg[e])),Object.keys(vg),[]);function Eg(e,t,r){let i=[];for(let o=e.firstChild,n=t;;o=o.nextSibling){let e=o?o.from:r;if(e>n&&i.push({from:n,to:e}),!o)break;n=o.to}return i}const Pg={resolve:"Strikethrough",mark:"StrikethroughMark"},Ag={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Ll.strikethrough}},{name:"StrikethroughMark",style:Ll.processingInstruction}],parseInline:[{name:"Strikethrough",parse:(e,t,r)=>126!=t||126!=e.char(r+1)?-1:e.addDelimiter(Pg,r,r+2,!0,!0),after:"Emphasis"}]};function Rg(e,t,r=0,i,o=0){let n=0,s=!0,a=-1,l=-1,c=!1,h=()=>{i.push(e.elt("TableCell",o+a,o+l,e.parser.parseInline(t.slice(a,l),o+a)))};for(let u=r;u<t.length;u++){let r=t.charCodeAt(u);124!=r||c?(c||32!=r&&9!=r)&&(a<0&&(a=u),l=u+1):((!s||a>-1)&&n++,s=!1,i&&(a>-1&&h(),i.push(e.elt("TableDelimiter",u+o,u+o+1))),a=l=-1),c=!c&&92==r}return a>-1&&(n++,i&&h()),n}function Qg(e,t){for(let r=t;r<e.length;r++){let t=e.charCodeAt(r);if(124==t)return!0;92==t&&r++}return!1}const Lg=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class $g{constructor(){this.rows=null}nextLine(e,t,r){if(null==this.rows){let i;if(this.rows=!1,(45==t.next||58==t.next||124==t.next)&&Lg.test(i=t.text.slice(t.pos))){let o=[];Rg(e,r.content,0,o,r.start)==Rg(e,i,t.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,o),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let r=[];Rg(e,t.text,t.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,r))}return!1}finish(e,t){return!!this.rows&&(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0)}}const Mg={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Ll.heading}},"TableRow",{name:"TableCell",style:Ll.content},{name:"TableDelimiter",style:Ll.processingInstruction}],parseBlock:[{name:"Table",leaf:(e,t)=>Qg(t.content,0)?new $g:null,endLeaf(e,t,r){if(r.parsers.some((e=>e instanceof $g))||!Qg(t.text,t.basePos))return!1;let i=e.scanLine(e.absoluteLineEnd+1).text;return Lg.test(i)&&Rg(e,t.text,t.basePos)==Rg(e,i,t.basePos)},before:"SetextHeading"}]};class Dg{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const jg=[Mg,{defineNodes:[{name:"Task",block:!0,style:Ll.list},{name:"TaskMarker",style:Ll.atom}],parseBlock:[{name:"TaskList",leaf:(e,t)=>/^\[[ xX]\]/.test(t.content)&&"ListItem"==e.parentType().name?new Dg:null,after:"SetextHeading"}]},Ag];function Bg(e,t,r){return(i,o,n)=>{if(o!=e||i.char(n+1)==e)return-1;let s=[i.elt(r,n,n+1)];for(let o=n+1;o<i.end;o++){let a=i.char(o);if(a==e)return i.addElement(i.elt(t,n,o+1,s.concat(i.elt(r,o,o+1))));if(92==a&&s.push(i.elt("Escape",o,2+o++)),Tp(a))break}return-1}}const Ig={defineNodes:[{name:"Superscript",style:Ll.special(Ll.content)},{name:"SuperscriptMark",style:Ll.processingInstruction}],parseInline:[{name:"Superscript",parse:Bg(94,"Superscript","SuperscriptMark")}]},zg={defineNodes:[{name:"Subscript",style:Ll.special(Ll.content)},{name:"SubscriptMark",style:Ll.processingInstruction}],parseInline:[{name:"Subscript",parse:Bg(126,"Subscript","SubscriptMark")}]},Wg={defineNodes:[{name:"Emoji",style:Ll.character}],parseInline:[{name:"Emoji",parse(e,t,r){let i;return 58==t&&(i=/^[a-zA-Z_0-9]+:/.exec(e.slice(r+1,e.end)))?e.addElement(e.elt("Emoji",r,r+1+i[0].length)):-1}}]};class Fg{constructor(e,t,r,i,o,n,s,a,l,c=0,h){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=n,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new Fg(e,[],t,r,r,0,[],0,i?new qg(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,r=65535&e,{parser:i}=this.p,o=i.dynamicPrecedence(r);if(o&&(this.score+=o),0==t)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let n=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[n-2],a=this.stack[n-1],l=this.bufferBase+this.buffer.length-a;if(r<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,s,e,l+4,!0)}if(262144&e)this.state=this.stack[n];else{let e=this.stack[n-3];this.state=i.getGoto(e,r,!0)}for(;this.stack.length>n;)this.stack.pop();this.reduceContext(r,s)}storeNode(e,t,r,i=4,o=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==r)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=r)}}if(o&&this.pos!=r){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4])for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}else this.buffer.push(e,t,r,i)}shift(e,t,r){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let o=e,{parser:n}=this.p;(r>this.pos||t<=n.maxNode)&&(this.pos=r,n.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(t,i),t<=n.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Fg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Ug(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&r))return!0;if(0==r)return!1;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let i,o=0;o<t.length;o+=2)(i=t[o+1])!=this.state&&this.p.parser.hasAction(i,e)&&r.push(t[o],i);if(this.stack.length<120)for(let e=0;r.length<8&&e<t.length;e+=2){let i=t[e+1];r.some(((e,t)=>1&t&&e==i))||r.push(t[e],i)}t=r}let r=[];for(let e=0;e<t.length&&r.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let o=this.split();o.pushState(i,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[e],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=e>>19,i=65535&e,o=this.stack.length-3*r;if(o<0||t.getGoto(this.stack[o],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new qg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class qg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Gg;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Gg||(Gg={}));class Ug{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Hg{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Hg(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Hg(this.stack,this.pos,this.index)}}class Ng{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Xg=new Ng;class Zg{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Xg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let e=this.ranges[--i];o-=r.from-e.to,r=e}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];o+=e.from-r.to,r=e}return o}peek(e){let t,r,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Xg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class Vg{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,r,i){let o=0,n=1<<i,{parser:s}=r.p,{dialect:a}=s;e:for(;0!=(n&e[o]);){let r=e[o+1];for(let i=o+3;i<r;i+=2)if((e[i+1]&n)>0){let r=e[i];if(a.allows(r)&&(-1==t.token.value||t.token.value==r||s.overrides(r,t.token.value))){t.acceptToken(r);break}}let i=t.next,l=0,c=e[o+2];if(!(t.next<0&&c>l&&65535==e[r+3*c-3])){for(;l<c;){let n=l+c>>1,s=r+n+(n<<1),a=e[s],h=e[s+1];if(i<a)c=n;else{if(!(i>=h)){o=e[s+2],t.advance();continue e}l=n+1}}break}o=e[r+3*c-1]}}(this.data,e,t,this.id)}}Vg.prototype.contextual=Vg.prototype.fallback=Vg.prototype.extend=!1;class Yg{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Kg(e,t=Uint16Array){if("string"!=typeof e)return e;let r=null;for(let i=0,o=0;i<e.length;){let n=0;for(;;){let t=e.charCodeAt(i++),r=!1;if(126==t){n=65535;break}t>=92&&t--,t>=34&&t--;let o=t-32;if(o>=46&&(o-=46,r=!0),n+=o,r)break;n*=46}r?r[o++]=n:r=new t(n)}return r}const Jg="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let em=null;var tm,rm;function im(e,t,r){let i=e.cursor(xa.IncludeAnonymous);for(i.moveTo(t);;)if(!(r<0?i.childBefore(t):i.childAfter(t)))for(;;){if((r<0?i.to<t:i.from>t)&&!i.type.isError)return r<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(r<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return r<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(tm||(tm={}));class om{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?im(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?im(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],n=this.start[t]+r.positions[i];if(n>e)return this.nextStart=n,null;if(o instanceof Ta){if(n==e){if(n<this.safeFrom)return null;let e=n+o.length;if(e<=this.safeTo){let t=o.prop(_a.lookAhead);if(!t||e+t<this.fragment.to)return o}}this.index[t]++,n+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(n),this.index.push(0))}else this.index[t]++,this.nextStart=n+o.length}}}class nm{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Ng))}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,n=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let i=0;i<o.length;i++){if(0==(1<<i&n))continue;let l=o[i],c=this.tokens[i];if((!r||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=n||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=n,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let i=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(r=c,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),r||e.pos!=this.stream.end||(r=new Ng,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ng,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){if(t.token(this.stream.reset(r.pos,e),r),e.value>-1){let{parser:t}=r.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let o=t.specializers[i](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}putAction(e,t,r,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:n}=e.p,{data:s}=n;for(let e=0;e<2;e++)for(let a=n.stateSlot(o,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==i&&2==s[a+1]&&(i=this.putAction(dm(s,a+2),t,r,i));break}a=dm(s,a+2)}s[a]==t&&(i=this.putAction(dm(s,a+1),t,r,i))}return i}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(rm||(rm={}));class sm{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Zg(t,i),this.tokens=new nm(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[Fg.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new om(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,r=this.stacks,i=this.minStackPos,o=this.stacks=[];for(let n=0;n<r.length;n++){let s=r[n];for(;;){if(this.tokens.mainToken=null,s.pos>i)o.push(s);else{if(this.advanceStack(s,o,r))continue;{e||(e=[],t=[]),e.push(s);let r=this.tokens.getMainToken(s);t.push(r.value,r.end)}}break}}if(!o.length){let t=e&&function(e){let t=null;for(let r of e){let e=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=e&&r.pos>e)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw Jg&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let r=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(o.length>e)for(o.sort(((e,t)=>t.score-e.score));o.length>e;)o.pop();o.some((e=>e.reducePos>i))&&this.recovering--}else if(o.length>1)e:for(let e=0;e<o.length-1;e++){let t=o[e];for(let r=e+1;r<o.length;r++){let i=o[r];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){o.splice(e--,1);continue e}o.splice(r--,1)}}}this.minStackPos=o[0].pos;for(let e=1;e<o.length;e++)o[e].pos<this.minStackPos&&(this.minStackPos=o[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,n=Jg?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,r=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(i);s;){let i=this.parser.nodeSet.types[s.type.id]==s.type?o.getGoto(e.state,s.type.id):-1;if(i>-1&&s.length&&(!t||(s.prop(_a.contextHash)||0)==r))return e.useNode(s,i),Jg&&console.log(n+this.stackID(e)+` (via reuse of ${o.getName(s.type.id)})`),!0;if(!(s instanceof Ta)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof Ta&&0==s.positions[0]))break;s=a}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),Jg&&console.log(n+this.stackID(e)+` (via always-reduce ${o.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],h=a[s++],u=s==a.length||!r,d=u?e:e.split();if(d.apply(l,c,h),Jg&&console.log(n+this.stackID(d)+` (via ${0==(65536&l)?"shift":`reduce of ${o.getName(65535&l)}`} for ${o.getName(c)} @ ${i}${d==e?"":", split"})`),u)return!0;d.pos>i?t.push(d):r.push(d)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return am(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let n=0;n<e.length;n++){let s=e[n],a=t[n<<1],l=t[1+(n<<1)],c=Jg?this.stackID(s)+" -> ":"";if(s.deadEnd){if(o)continue;if(o=!0,s.restart(),Jg&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))continue}let h=s.split(),u=c;for(let e=0;h.forceReduce()&&e<10;e++){if(Jg&&console.log(u+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,r))break;Jg&&(u=this.stackID(h)+" -> ")}for(let e of s.recoverByInsert(a))Jg&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,r);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Jg&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),am(s,r)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),Ta.build({buffer:Hg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(em||(em=new WeakMap)).get(e);return t||em.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function am(e,t){for(let r=0;r<t.length;r++){let i=t[r];if(i.pos==e.pos&&i.sameState(e))return void(t[r].score<e.score&&(t[r]=e))}t.push(e)}class lm{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}const cm=e=>e;class hm{constructor(e){this.start=e.start,this.shift=e.shift||cm,this.reduce=e.reduce||cm,this.reuse=e.reuse||cm,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class um extends Ua{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let r=0;r<e.repeatNodeCount;r++)t.push("");let r=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let e=0;e<t.length;e++)i.push([]);function o(e,t,r){i[e].push([t,t.deserialize(String(r))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=_a[e]);for(let r=1;r<t.length;){let i=t[r++];if(i>=0)o(i,e,t[r++]);else{let n=t[r+-i];for(let s=-i;s>0;s--)o(t[r++],e,n);r++}}}this.nodeSet=new Sa(t.map(((t,o)=>wa.define({name:o>=this.minRepeatTerm?void 0:t,id:o,props:i[o],top:r.indexOf(o)>-1,error:0==o,skipped:e.skippedNodes&&e.skippedNodes.indexOf(o)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ma;let n=Kg(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=Kg(e.states,Uint32Array),this.data=Kg(e.stateData),this.goto=Kg(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new Vg(n,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new sm(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let t=i[o++],n=1&t,s=i[o++];if(n&&r)return s;for(let r=o+(t>>1);o<r;o++)if(i[o]==e)return s;if(n)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o,n=this.stateSlot(e,i?2:1);;n+=3){if(65535==(o=r[n])){if(1!=r[n+1]){if(2==r[n+1])return dm(r,n+2);break}o=r[n=dm(r,n+2)]}if(o==t||0==o)return dm(r,n+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=dm(this.data,r+2)}if(t==dm(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=dm(this.data,r+2)}if(0==(1&this.data[r+2])){let e=this.data[r+1];t.some(((t,r)=>1&r&&t==e))||t.push(this.data[r],e)}}return t}overrides(e,t){let r=fm(this.data,this.tokenPrecTable,t);return r<0||fm(this.data,this.tokenPrecTable,e)<r}configure(e){let t=Object.assign(Object.create(um.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let r=e.tokenizers.find((e=>e.from==t));return r?r.to:t}))),e.specializers&&(t.specializers=this.specializers.map((t=>{let r=e.specializers.find((e=>e.from==t));return r?r.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map((()=>!1));if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(r[e]=!0)}let i=null;for(let e=0;e<t.length;e++)if(!r[e])for(let r,o=this.dialects[t[e]];65535!=(r=this.data[o++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[r]=1;return new lm(e,r,i)}static deserialize(e){return new um(e)}}function dm(e,t){return e[t]|e[t+1]<<16}function fm(e,t,r){for(let i,o=t;65535!=(i=e[o]);o++)if(i==r)return o-t;return-1}const pm={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},gm={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},mm={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function vm(e){return 9==e||10==e||13==e||32==e}let Om=null,_m=null,bm=0;function ym(e,t){let r=e.pos+t;if(bm==r&&_m==e)return Om;let i=e.peek(t);for(;vm(i);)i=e.peek(++t);let o="";for(;45==(n=i)||46==n||58==n||n>=65&&n<=90||95==n||n>=97&&n<=122||n>=161;)o+=String.fromCharCode(i),i=e.peek(++t);var n;return _m=e,bm=r,Om=o?o.toLowerCase():i==wm||i==Sm?void 0:null}const wm=63,Sm=33;function km(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let t=0;t<e.length;t++)this.hash+=(this.hash<<4)+e.charCodeAt(t)+(e.charCodeAt(t)<<8)}const Cm=[4,8,5,6,7],xm=new hm({start:null,shift:(e,t,r,i)=>Cm.indexOf(t)>-1?new km(ym(i,1)||"",e):e,reduce:(e,t)=>18==t&&e?e.parent:e,reuse(e,t,r,i){let o=t.type.id;return 4==o||35==o?new km(ym(i,1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),Tm=new Yg(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(56));e.advance();let r=47==e.next;r&&e.advance();let i=ym(e,0);if(void 0===i)return;if(!i)return e.acceptToken(r?12:4);let o=t.context?t.context.name:null;if(r){if(i==o)return e.acceptToken(9);if(o&&gm[o])return e.acceptToken(56,-2);if(t.dialectEnabled(0))return e.acceptToken(10);for(let e=t.context;e;e=e.parent)if(e.name==i)return;e.acceptToken(11)}else{if("script"==i)return e.acceptToken(5);if("style"==i)return e.acceptToken(6);if("textarea"==i)return e.acceptToken(7);if(pm.hasOwnProperty(i))return e.acceptToken(8);o&&mm[o]&&mm[o][i]?e.acceptToken(56,-1):e.acceptToken(4)}}),{contextual:!0}),Em=new Yg((e=>{for(let t=0,r=0;;r++){if(e.next<0){r&&e.acceptToken(57);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){r>3&&e.acceptToken(57,-2);break}t=0}e.advance()}}));function Pm(e,t,r){let i=2+e.length;return new Yg((o=>{for(let n=0,s=0,a=0;;a++){if(o.next<0){a&&o.acceptToken(t);break}if(0==n&&60==o.next||1==n&&47==o.next||n>=2&&n<i&&o.next==e.charCodeAt(n-2))n++,s++;else if(2!=n&&n!=i||!vm(o.next)){if(n==i&&62==o.next){a>s?o.acceptToken(t,-s):o.acceptToken(r,-(s-2));break}if((10==o.next||13==o.next)&&a){o.acceptToken(t,1);break}n=s=0}else s++;o.advance()}}))}const Am=Pm("script",53,1),Rm=Pm("style",54,2),Qm=Pm("textarea",55,3),Lm=ul({"Text RawText":Ll.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":Ll.angleBracket,TagName:Ll.tagName,"MismatchedCloseTag/TagName":[Ll.tagName,Ll.invalid],AttributeName:Ll.attributeName,"AttributeValue UnquotedAttributeValue":Ll.attributeValue,Is:Ll.definitionOperator,"EntityReference CharacterReference":Ll.character,Comment:Ll.blockComment,ProcessingInst:Ll.processingInstruction,DoctypeDecl:Ll.documentMeta}),$m=um.deserialize({version:14,states:",xOVOxOOO!WQ!bO'#CoO!]Q!bO'#CyO!bQ!bO'#C|O!gQ!bO'#DPO!lQ!bO'#DRO!qOXO'#CnO!|OYO'#CnO#XO[O'#CnO$eOxO'#CnOOOW'#Cn'#CnO$lO!rO'#DSO$tQ!bO'#DUO$yQ!bO'#DVOOOW'#Dj'#DjOOOW'#DX'#DXQVOxOOO%OQ#tO,59ZO%WQ#tO,59eO%`Q#tO,59hO%hQ#tO,59kO%pQ#tO,59mOOOX'#D]'#D]O%xOXO'#CwO&TOXO,59YOOOY'#D^'#D^O&]OYO'#CzO&hOYO,59YOOO['#D_'#D_O&pO[O'#C}O&{O[O,59YOOOW'#D`'#D`O'TOxO,59YO'[Q!bO'#DQOOOW,59Y,59YOOO`'#Da'#DaO'aO!rO,59nOOOW,59n,59nO'iQ!bO,59pO'nQ!bO,59qOOOW-E7V-E7VO'sQ#tO'#CqOOQO'#DY'#DYO(OQ#tO1G.uOOOX1G.u1G.uO(WQ#tO1G/POOOY1G/P1G/PO(`Q#tO1G/SOOO[1G/S1G/SO(hQ#tO1G/VOOOW1G/V1G/VO(pQ#tO1G/XOOOW1G/X1G/XOOOX-E7Z-E7ZO(xQ!bO'#CxOOOW1G.t1G.tOOOY-E7[-E7[O(}Q!bO'#C{OOO[-E7]-E7]O)SQ!bO'#DOOOOW-E7^-E7^O)XQ!bO,59lOOO`-E7_-E7_OOOW1G/Y1G/YOOOW1G/[1G/[OOOW1G/]1G/]O)^Q&jO,59]OOQO-E7W-E7WOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)iQ!bO,59dO)nQ!bO,59gO)sQ!bO,59jOOOW1G/W1G/WO)xO,UO'#CtO*WO7[O'#CtOOQO1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#DZ'#DZO*fO,UO,59`OOQO,59`,59`OOOO'#D['#D[O*tO7[O,59`OOOO-E7X-E7XOOQO1G.z1G.zOOOO-E7Y-E7Y",stateData:"+[~O!]OS~OSSOTPOUQOVROWTOY]OZ[O[^O^^O_^O`^Oa^Ow^Oz_O!cZO~OdaO~OdbO~OdcO~OddO~OdeO~O!VfOPkP!YkP~O!WiOQnP!YnP~O!XlORqP!YqP~OSSOTPOUQOVROWTOXqOY]OZ[O[^O^^O_^O`^Oa^Ow^O!cZO~O!YrO~P#dO!ZsO!duO~OdvO~OdwO~OfyOj|O~OfyOj!OO~OfyOj!QO~OfyOj!SO~OfyOj!UO~O!VfOPkX!YkX~OP!WO!Y!XO~O!WiOQnX!YnX~OQ!ZO!Y!XO~O!XlORqX!YqX~OR!]O!Y!XO~O!Y!XO~P#dOd!_O~O!ZsO!d!aO~Oj!bO~Oj!cO~Og!dOfeXjeX~OfyOj!fO~OfyOj!gO~OfyOj!hO~OfyOj!iO~OfyOj!jO~Od!kO~Od!lO~Od!mO~Oj!nO~Oi!qO!_!oO!a!pO~Oj!rO~Oj!sO~Oj!tO~O_!uO`!uO!_!wO!`!uO~O_!xO`!xO!a!wO!b!xO~O_!uO`!uO!_!{O!`!uO~O_!xO`!xO!a!{O!b!xO~O`_a!cwz!c~",goto:"%o!_PPPPPPPPPPPPPPPPPP!`!fP!lPP!xPP!{#O#R#X#[#_#e#h#k#q#w!`P!`!`P#}$T$k$q$w$}%T%Z%aPPPPPPPP%gX^OX`pXUOX`pezabcde{}!P!R!TR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!TeZ!e{}!P!R!TQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:66,context:xm,nodeProps:[["closedBy",-11,1,2,3,4,5,6,7,8,9,10,11,"EndTag",-4,19,29,32,35,"CloseTag"],["group",-9,12,15,16,17,18,38,39,40,41,"Entity",14,"Entity TextContent",-3,27,30,33,"TextContent Entity"],["openedBy",26,"StartTag StartCloseTag",-4,28,31,34,36,"OpenTag"]],propSources:[Lm],skippedNodes:[0],repeatNodeCount:9,tokenData:"!#b!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2yx}$k}!O3f!O!P$k!P!Q7_!Q![$k![!]8u!]!^$k!^!_>b!_!`!!p!`!a8T!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U$k4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!Z$vc^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[V^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xT^P!bpOv&qwx'Xx!^&q!^!_'g!_~&qP'^R^POv'Xw!^'X!_~'Xp'lQ!bpOv'gx~'ga'yU^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bR!``Or(]sv(]w~(]!Q(rT!``!bpOr(krs'gsv(kwx(]x~(kW)WXiWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^^P!``!bp!]^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TT!_h^P!bpOv&qwx'Xx!^&q!^!_'g!_~&q!Z+kbiWaPOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst/]tw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^)R!^!a.Q!a$f,s$f$g.Q$g~,s!Z,xbiWOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst)Rtw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^.i!^!a.Q!a$f,s$f$g.Q$g~,s!R.TTOp.Qqs.Qt!].Q!]!^.d!^~.Q!R.iO_!R!Z.pXiW_!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/baiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^)R!^!a1q!a$f0g$f$g1q$g~0g!Z0laiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^2V!^!a1q!a$f0g$f$g1q$g~0g!R1tSOp1qq!]1q!]!^2Q!^~1q!R2VO`!R!Z2^XiW`!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3SU!ax^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3qe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5S!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5_d^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6m!a$f$k$f$g&R$g~$k!T6xV^P!``!bp!dQOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7hX^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8T!a~&R!X8`VjU^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9U!YfSdQ^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8u!O!P8u!P!Q&R!Q![8u![!]8u!]!^$k!^!_(k!_!a&R!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g$}$k$}%O8u%O%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U8u4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Je$k$Je$Jg8u$Jg$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!a=Pe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8u<%l~$k!R>iW!``!bpOq(kqr?Rrs'gsv(kwx(]x!a(k!a!bKj!b~(k!R?YZ!``!bpOr(krs'gsv(kwx(]x}(k}!O?{!O!f(k!f!gAR!g#W(k#W#XGz#X~(k!R@SV!``!bpOr(krs'gsv(kwx(]x}(k}!O@i!O~(k!R@rT!``!bp!cPOr(krs'gsv(kwx(]x~(k!RAYV!``!bpOr(krs'gsv(kwx(]x!q(k!q!rAo!r~(k!RAvV!``!bpOr(krs'gsv(kwx(]x!e(k!e!fB]!f~(k!RBdV!``!bpOr(krs'gsv(kwx(]x!v(k!v!wBy!w~(k!RCQV!``!bpOr(krs'gsv(kwx(]x!{(k!{!|Cg!|~(k!RCnV!``!bpOr(krs'gsv(kwx(]x!r(k!r!sDT!s~(k!RD[V!``!bpOr(krs'gsv(kwx(]x!g(k!g!hDq!h~(k!RDxW!``!bpOrDqrsEbsvDqvwEvwxFfx!`Dq!`!aGb!a~DqqEgT!bpOvEbvxEvx!`Eb!`!aFX!a~EbPEyRO!`Ev!`!aFS!a~EvPFXOzPqF`Q!bpzPOv'gx~'gaFkV!``OrFfrsEvsvFfvwEvw!`Ff!`!aGQ!a~FfaGXR!``zPOr(]sv(]w~(]!RGkT!``!bpzPOr(krs'gsv(kwx(]x~(k!RHRV!``!bpOr(krs'gsv(kwx(]x#c(k#c#dHh#d~(k!RHoV!``!bpOr(krs'gsv(kwx(]x#V(k#V#WIU#W~(k!RI]V!``!bpOr(krs'gsv(kwx(]x#h(k#h#iIr#i~(k!RIyV!``!bpOr(krs'gsv(kwx(]x#m(k#m#nJ`#n~(k!RJgV!``!bpOr(krs'gsv(kwx(]x#d(k#d#eJ|#e~(k!RKTV!``!bpOr(krs'gsv(kwx(]x#X(k#X#YDq#Y~(k!RKqW!``!bpOrKjrsLZsvKjvwLowxNPx!aKj!a!b! g!b~KjqL`T!bpOvLZvxLox!aLZ!a!bM^!b~LZPLrRO!aLo!a!bL{!b~LoPMORO!`Lo!`!aMX!a~LoPM^OwPqMcT!bpOvLZvxLox!`LZ!`!aMr!a~LZqMyQ!bpwPOv'gx~'gaNUV!``OrNPrsLosvNPvwLow!aNP!a!bNk!b~NPaNpV!``OrNPrsLosvNPvwLow!`NP!`!a! V!a~NPa! ^R!``wPOr(]sv(]w~(]!R! nW!``!bpOrKjrsLZsvKjvwLowxNPx!`Kj!`!a!!W!a~Kj!R!!aT!``!bpwPOr(krs'gsv(kwx(]x~(k!V!!{VgS^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R",tokenizers:[Am,Rm,Qm,Tm,Em,0,1,2,3,4,5],topRules:{Document:[0,13]},dialects:{noMatch:0},tokenPrec:464});function Mm(e,t){let r=Object.create(null);for(let i of e.firstChild.getChildren("Attribute")){let e=i.getChild("AttributeName"),o=i.getChild("AttributeValue")||i.getChild("UnquotedAttributeValue");e&&(r[t.read(e.from,e.to)]=o?"AttributeValue"==o.name?t.read(o.from+1,o.to-1):t.read(o.from,o.to):"")}return r}function Dm(e,t,r){let i;for(let o of r)if(!o.attrs||o.attrs(i||(i=Mm(e.node.parent,t))))return{parser:o.parser};return null}function jm(e){let t=[],r=[],i=[];for(let o of e){let e="script"==o.tag?t:"style"==o.tag?r:"textarea"==o.tag?i:null;if(!e)throw new RangeError("Only script, style, and textarea tags can host nested parsers");e.push(o)}return Na(((e,o)=>{let n=e.type.id;return 27==n?Dm(e,o,t):30==n?Dm(e,o,r):33==n?Dm(e,o,i):null}))}const Bm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function Im(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const zm=new Yg(((e,t)=>{for(let i=!1,o=0,n=0;;n++){let{next:s}=e;if(!(Im(s)||45==s||95==s||i&&(r=s,r>=48&&r<=57))){i&&e.acceptToken(40==s?94:2==o&&t.canShift(2)?2:95);break}!i&&(45!=s||n>0)&&(i=!0),o===n&&45==s&&o++,e.advance()}var r})),Wm=new Yg((e=>{if(Bm.includes(e.peek(-1))){let{next:t}=e;(Im(t)||95==t||35==t||46==t||91==t||58==t||45==t)&&e.acceptToken(93)}})),Fm=new Yg((e=>{if(!Bm.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),Im(t)){do{e.advance()}while(Im(e.next));e.acceptToken(1)}}})),qm=ul({"import charset namespace keyframes":Ll.definitionKeyword,"media supports":Ll.controlKeyword,"from to selector":Ll.keyword,NamespaceName:Ll.namespace,KeyframeName:Ll.labelName,TagName:Ll.tagName,ClassName:Ll.className,PseudoClassName:Ll.constant(Ll.className),IdName:Ll.labelName,"FeatureName PropertyName":Ll.propertyName,AttributeName:Ll.attributeName,NumberLiteral:Ll.number,KeywordQuery:Ll.keyword,UnaryQueryOp:Ll.operatorKeyword,"CallTag ValueName":Ll.atom,VariableName:Ll.variableName,Callee:Ll.operatorKeyword,Unit:Ll.unit,"UniversalSelector NestingSelector":Ll.definitionOperator,AtKeyword:Ll.keyword,MatchOp:Ll.compareOperator,"ChildOp SiblingOp, LogicOp":Ll.logicOperator,BinOp:Ll.arithmeticOperator,Important:Ll.modifier,Comment:Ll.blockComment,ParenthesizedContent:Ll.special(Ll.name),ColorLiteral:Ll.color,StringLiteral:Ll.string,":":Ll.punctuation,"PseudoOp #":Ll.derefOperator,"; ,":Ll.separator,"( )":Ll.paren,"[ ]":Ll.squareBracket,"{ }":Ll.brace}),Gm={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},Um={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},Hm={__proto__:null,not:128,only:128,from:158,to:160},Nm=um.deserialize({version:14,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[qm],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QoWR~Oy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[Wm,Fm,zm,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:e=>Gm[e]||-1},{term:56,get:e=>Um[e]||-1},{term:95,get:e=>Hm[e]||-1}],tokenPrec:1078});let Xm=null;function Zm(){if(!Xm&&"object"==typeof document&&document.body){let e=[];for(let t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);Xm=e.sort().map((e=>({type:"property",label:e})))}return Xm||[]}const Vm=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((e=>({type:"class",label:e}))),Ym=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),Km=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),Jm=/^[\w-]*/,ev=e=>{let{state:t,pos:r}=e,i=zl(t).resolveInner(r,-1);if("PropertyName"==i.name)return{from:i.from,options:Zm(),validFor:Jm};if("ValueName"==i.name)return{from:i.from,options:Ym,validFor:Jm};if("PseudoClassName"==i.name)return{from:i.from,options:Vm,validFor:Jm};if("TagName"==i.name){for(let{parent:e}=i;e;e=e.parent)if("Block"==e.name)return{from:i.from,options:Zm(),validFor:Jm};return{from:i.from,options:Km,validFor:Jm}}if(!e.explicit)return null;let o=i.resolve(r),n=o.childBefore(r);return n&&":"==n.name&&"PseudoClassSelector"==o.name?{from:r,options:Vm,validFor:Jm}:n&&":"==n.name&&"Declaration"==o.name||"ArgList"==o.name?{from:r,options:Ym,validFor:Jm}:"Block"==o.name?{from:r,options:Zm(),validFor:Jm}:null},tv=Il.define({parser:Nm.configure({props:[oc.add({Declaration:dc()}),pc.add({Block:gc})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});const rv=282,iv=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ov=new hm({start:!1,shift:(e,t)=>5==t||6==t||286==t?e:287==t,strict:!1}),nv=new Yg(((e,t)=>{let{next:r}=e;(125==r||-1==r||t.context)&&t.canShift(284)&&e.acceptToken(284)}),{contextual:!0,fallback:!0}),sv=new Yg(((e,t)=>{let r,{next:i}=e;iv.indexOf(i)>-1||(47!=i||47!=(r=e.peek(1))&&42!=r)&&125!=i&&59!=i&&-1!=i&&!t.context&&t.canShift(281)&&e.acceptToken(281)}),{contextual:!0}),av=new Yg(((e,t)=>{let{next:r}=e;if((43==r||45==r)&&(e.advance(),r==e.next)){e.advance();let r=!t.context&&t.canShift(2);e.acceptToken(r?2:3)}}),{contextual:!0}),lv=new Yg((e=>{for(let t=!1,r=0;;r++){let{next:i}=e;if(i<0){r&&e.acceptToken(rv);break}if(96==i){r?e.acceptToken(rv):e.acceptToken(283,1);break}if(123==i&&t){1==r?e.acceptToken(4,1):e.acceptToken(rv,-1);break}if(10==i&&r){e.advance(),e.acceptToken(rv);break}92==i&&e.advance(),t=36==i,e.advance()}})),cv=new Yg(((e,t)=>{if(101==e.next&&t.dialectEnabled(1)){e.advance();for(let t=0;t<6;t++){if(e.next!="xtends".charCodeAt(t))return;e.advance()}e.next>=57&&e.next<=65||e.next>=48&&e.next<=90||95==e.next||e.next>=97&&e.next<=122||e.next>160||e.acceptToken(1)}})),hv=ul({"get set async static":Ll.modifier,"for while do if else switch try catch finally return throw break continue default case":Ll.controlKeyword,"in of await yield void typeof delete instanceof":Ll.operatorKeyword,"let var const function class extends":Ll.definitionKeyword,"import export from":Ll.moduleKeyword,"with debugger as new":Ll.keyword,TemplateString:Ll.special(Ll.string),Super:Ll.atom,BooleanLiteral:Ll.bool,this:Ll.self,null:Ll.null,Star:Ll.modifier,VariableName:Ll.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Ll.function(Ll.variableName),VariableDefinition:Ll.definition(Ll.variableName),Label:Ll.labelName,PropertyName:Ll.propertyName,PrivatePropertyName:Ll.special(Ll.propertyName),"CallExpression/MemberExpression/PropertyName":Ll.function(Ll.propertyName),"FunctionDeclaration/VariableDefinition":Ll.function(Ll.definition(Ll.variableName)),"ClassDeclaration/VariableDefinition":Ll.definition(Ll.className),PropertyDefinition:Ll.definition(Ll.propertyName),PrivatePropertyDefinition:Ll.definition(Ll.special(Ll.propertyName)),UpdateOp:Ll.updateOperator,LineComment:Ll.lineComment,BlockComment:Ll.blockComment,Number:Ll.number,String:Ll.string,ArithOp:Ll.arithmeticOperator,LogicOp:Ll.logicOperator,BitOp:Ll.bitwiseOperator,CompareOp:Ll.compareOperator,RegExp:Ll.regexp,Equals:Ll.definitionOperator,"Arrow : Spread":Ll.punctuation,"( )":Ll.paren,"[ ]":Ll.squareBracket,"{ }":Ll.brace,"InterpolationStart InterpolationEnd":Ll.special(Ll.brace),".":Ll.derefOperator,", ;":Ll.separator,TypeName:Ll.typeName,TypeDefinition:Ll.definition(Ll.typeName),"type enum interface implements namespace module declare":Ll.definitionKeyword,"abstract global Privacy readonly override":Ll.modifier,"is keyof unique infer":Ll.operatorKeyword,JSXAttributeValue:Ll.attributeValue,JSXText:Ll.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Ll.angleBracket,"JSXIdentifier JSXNameSpacedName":Ll.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Ll.attributeName}),uv={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},dv={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},fv={__proto__:null,"<":129},pv=um.deserialize({version:14,states:"$8SO`QdOOO'QQ(C|O'#ChO'XOWO'#DVO)dQdO'#D]O)tQdO'#DhO){QdO'#DrO-xQdO'#DxOOQO'#E]'#E]O.]Q`O'#E[O.bQ`O'#E[OOQ(C['#Ef'#EfO0aQ(C|O'#ItO2wQ(C|O'#IuO3eQ`O'#EzO3jQ!bO'#FaOOQ(C['#FS'#FSO3rO#tO'#FSO4QQ&jO'#FhO5bQ`O'#FgOOQ(C['#Iu'#IuOOQ(CW'#It'#ItOOQS'#J^'#J^O5gQ`O'#HpO5lQ(ChO'#HqOOQS'#Ih'#IhOOQS'#Hr'#HrQ`QdOOO){QdO'#DjO5tQ`O'#G[O5yQ&jO'#CmO6XQ`O'#EZO6dQ`O'#EgO6iQ,UO'#FRO7TQ`O'#G[O7YQ`O'#G`O7eQ`O'#G`O7sQ`O'#GcO7sQ`O'#GdO7sQ`O'#GfO5tQ`O'#GiO8dQ`O'#GlO9rQ`O'#CdO:SQ`O'#GyO:[Q`O'#HPO:[Q`O'#HRO`QdO'#HTO:[Q`O'#HVO:[Q`O'#HYO:aQ`O'#H`O:fQ(CjO'#HfO){QdO'#HhO:qQ(CjO'#HjO:|Q(CjO'#HlO5lQ(ChO'#HnO){QdO'#DWOOOW'#Ht'#HtO;XOWO,59qOOQ(C[,59q,59qO=jQtO'#ChO=tQdO'#HuO>XQ`O'#IvO@WQtO'#IvO'dQdO'#IvO@_Q`O,59wO@uQ7[O'#DbOAnQ`O'#E]OA{Q`O'#JROBWQ`O'#JQOBWQ`O'#JQOB`Q`O,5:yOBeQ`O'#JPOBlQaO'#DyO5yQ&jO'#EZOBzQ`O'#EZOCVQpO'#FROOQ(C[,5:S,5:SOC_QdO,5:SOE]Q(C|O,5:^OEyQ`O,5:dOFdQ(ChO'#JOO7YQ`O'#I}OFkQ`O'#I}OFsQ`O,5:xOFxQ`O'#I}OGWQdO,5:vOIWQ&jO'#EWOJeQ`O,5:vOKwQ&jO'#DlOLOQdO'#DqOLYQ7[O,5;PO){QdO,5;POOQS'#Er'#ErOOQS'#Et'#EtO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;ROOQS'#Ex'#ExOLbQdO,5;cOOQ(C[,5;h,5;hOOQ(C[,5;i,5;iONbQ`O,5;iOOQ(C[,5;j,5;jO){QdO'#IPONgQ(ChO,5<TO! RQ&jO,5;RO){QdO,5;fO! kQ!bO'#JVO! YQ!bO'#JVO! rQ!bO'#JVO!!TQ!bO,5;qOOOO,5;{,5;{O!!cQdO'#FcOOOO'#IO'#IOO3rO#tO,5;nO!!jQ!bO'#FeOOQ(C[,5;n,5;nO!#WQ,VO'#CrOOQ(C]'#Cu'#CuO!#kQ`O'#CuO!#pOWO'#CyO!$^Q,VO,5<QO!$eQ`O,5<SO!%tQ&jO'#FrO!&RQ`O'#FsO!&WQ`O'#FsO!&]Q&jO'#FwO!'[Q7[O'#F{O!'}Q,VO'#IqOOQ(C]'#Iq'#IqO!(XQaO'#IpO!(gQ`O'#IoO!(oQ`O'#CqOOQ(C]'#Cs'#CsOOQ(C]'#C|'#C|O!(wQ`O'#DOOJjQ&jO'#FjOJjQ&jO'#FlO!(|Q`O'#FnO!)RQ`O'#FoO!&WQ`O'#FuOJjQ&jO'#FzO!)WQ`O'#E^O!)oQ`O,5<RO`QdO,5>[OOQS'#Ik'#IkOOQS,5>],5>]OOQS-E;p-E;pO!+kQ(C|O,5:UOOQ(CX'#Cp'#CpO!,[Q&kO,5<vOOQO'#Cf'#CfO!,mQ(ChO'#IlO5bQ`O'#IlO:aQ`O,59XO!-OQ!bO,59XO!-WQ&jO,59XO5yQ&jO,59XO!-cQ`O,5:vO!-kQ`O'#GxO!-yQ`O'#JbO){QdO,5;kO!.RQ7[O,5;mO!.WQ`O,5=cO!.]Q`O,5=cO!.bQ`O,5=cO5lQ(ChO,5=cO5tQ`O,5<vO!.pQ`O'#E_O!/UQ7[O'#E`OOQ(CW'#JP'#JPO!/gQ(ChO'#J_O5lQ(ChO,5<zO7sQ`O,5=QOOQP'#Cr'#CrO!/rQ!bO,5<}O!/zQ!cO,5=OO!0VQ`O,5=QO!0[QpO,5=TO:aQ`O'#GnO5tQ`O'#GpO!0dQ`O'#GpO5yQ&jO'#GsO!0iQ`O'#GsOOQS,5=W,5=WO!0nQ`O'#GtO!0vQ`O'#CmO!0{Q`O,59OO!1VQ`O,59OO!3XQdO,59OOOQS,59O,59OO!3fQ(ChO,59OO){QdO,59OO!3qQdO'#G{OOQS'#G|'#G|OOQS'#G}'#G}O`QdO,5=eO!4RQ`O,5=eO){QdO'#DxO`QdO,5=kO`QdO,5=mO!4WQ`O,5=oO`QdO,5=qO!4]Q`O,5=tO!4bQdO,5=zOOQS,5>Q,5>QO){QdO,5>QO5lQ(ChO,5>SOOQS,5>U,5>UO!8cQ`O,5>UOOQS,5>W,5>WO!8cQ`O,5>WOOQS,5>Y,5>YO!8hQpO,59rOOOW-E;r-E;rOOQ(C[1G/]1G/]O!8mQtO,5>aO'dQdO,5>aOOQO,5>f,5>fO!8wQdO'#HuOOQO-E;s-E;sO!9UQ`O,5?bO!9^QtO,5?bO!9eQ`O,5?lOOQ(C[1G/c1G/cO!9mQ!bO'#DTOOQO'#Ix'#IxO){QdO'#IxO!:[Q!bO'#IxO!:yQ!bO'#DcO!;[Q7[O'#DcO!=gQdO'#DcO!=nQ`O'#IwO!=vQ`O,59|O!={Q`O'#EaO!>ZQ`O'#JSO!>cQ`O,5:zO!>yQ7[O'#DcO){QdO,5?mO!?TQ`O'#HzOOQO-E;x-E;xO!9eQ`O,5?lOOQ(CW1G0e1G0eO!@aQ7[O'#D|OOQ(C[,5:e,5:eO){QdO,5:eOIWQ&jO,5:eO!@hQaO,5:eO:aQ`O,5:uO!-OQ!bO,5:uO!-WQ&jO,5:uO5yQ&jO,5:uOOQ(C[1G/n1G/nOOQ(C[1G0O1G0OOOQ(CW'#EV'#EVO){QdO,5?jO!@sQ(ChO,5?jO!AUQ(ChO,5?jO!A]Q`O,5?iO!AeQ`O'#H|O!A]Q`O,5?iOOQ(CW1G0d1G0dO7YQ`O,5?iOOQ(C[1G0b1G0bO!BPQ(C|O1G0bO!CRQ(CyO,5:rOOQ(C]'#Fq'#FqO!CoQ(C}O'#IqOGWQdO1G0bO!EqQ,VO'#IyO!E{Q`O,5:WO!FQQtO'#IzO){QdO'#IzO!F[Q`O,5:]OOQ(C]'#DT'#DTOOQ(C[1G0k1G0kO!FaQ`O1G0kO!HrQ(C|O1G0mO!HyQ(C|O1G0mO!K^Q(C|O1G0mO!KeQ(C|O1G0mO!MlQ(C|O1G0mO!NPQ(C|O1G0mO#!pQ(C|O1G0mO#!wQ(C|O1G0mO#%[Q(C|O1G0mO#%cQ(C|O1G0mO#'WQ(C|O1G0mO#*QQMlO'#ChO#+{QMlO1G0}O#-vQMlO'#IuOOQ(C[1G1T1G1TO#.ZQ(C|O,5>kOOQ(CW-E;}-E;}O#.zQ(C}O1G0mOOQ(C[1G0m1G0mO#1PQ(C|O1G1QO#1pQ!bO,5;sO#1uQ!bO,5;tO#1zQ!bO'#F[O#2`Q`O'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#2eQ!bO1G1]OOQ(C[1G1]1G1]OOOO1G1f1G1fO#2sQMlO'#ItO#2}Q`O,5;}OLbQdO,5;}OOOO-E;|-E;|OOQ(C[1G1Y1G1YOOQ(C[,5<P,5<PO#3SQ!bO,5<POOQ(C],59a,59aOIWQ&jO'#C{OOOW'#Hs'#HsO#3XOWO,59eOOQ(C],59e,59eO){QdO1G1lO!)RQ`O'#IRO#3dQ`O,5<eOOQ(C],5<b,5<bOOQO'#GV'#GVOJjQ&jO,5<pOOQO'#GX'#GXOJjQ&jO,5<rOIWQ&jO,5<tOOQO1G1n1G1nO#3oQqO'#CpO#4SQqO,5<^O#4ZQ`O'#JZO5tQ`O'#JZO#4iQ`O,5<`OJjQ&jO,5<_O#4nQ`O'#FtO#4yQ`O,5<_O#5OQqO'#FqO#5]QqO'#J[O#5gQ`O'#J[OIWQ&jO'#J[O#5lQ`O,5<cOOQ(CW'#Dg'#DgO#5qQ!bO'#F|O!'VQ7[O'#F|O!'VQ7[O'#GOO#6SQ`O'#GPO!&WQ`O'#GSO#6XQ(ChO'#ITO#6dQ7[O,5<gOOQ(C],5<g,5<gO#6kQ7[O'#F|O#6yQ7[O'#F}O#7RQ7[O'#F}OOQ(C],5<u,5<uOJjQ&jO,5?[OJjQ&jO,5?[O#7WQ`O'#IUO#7cQ`O,5?ZO#7kQ`O,59]OOQ(C]'#Ch'#ChO#8[Q,VO,59jOOQ(C],59j,59jO#8}Q,VO,5<UO#9pQ,VO,5<WO#9zQ`O,5<YOOQ(C],5<Z,5<ZO#:PQ`O,5<aO#:UQ,VO,5<fOGWQdO1G1mO#:fQ`O1G1mOOQS1G3v1G3vOOQ(C[1G/p1G/pONbQ`O1G/pOOQS1G2b1G2bOIWQ&jO1G2bO){QdO1G2bOIWQ&jO1G2bO#:kQaO1G2bO#<QQ&jO'#EWOOQ(CW,5?W,5?WO#<[Q(ChO,5?WOOQS1G.s1G.sO:aQ`O1G.sO!-OQ!bO1G.sO!-WQ&jO1G.sO#<mQ`O1G0bO#<rQ`O'#ChO#<}Q`O'#JcO#=VQ`O,5=dO#=[Q`O'#JcO#=aQ`O'#JcO#=iQ`O'#I^O#=wQ`O,5?|O#>PQtO1G1VOOQ(C[1G1X1G1XO5tQ`O1G2}O#>WQ`O1G2}O#>]Q`O1G2}O#>bQ`O1G2}OOQS1G2}1G2}O#>gQ&kO1G2bO7YQ`O'#JQO7YQ`O'#EaO7YQ`O'#IWO#>xQ(ChO,5?yOOQS1G2f1G2fO!0VQ`O1G2lOIWQ&jO1G2iO#?TQ`O1G2iOOQS1G2j1G2jOIWQ&jO1G2jO#?YQaO1G2jO#?bQ7[O'#GhOOQS1G2l1G2lO!'VQ7[O'#IYO!0[QpO1G2oOOQS1G2o1G2oOOQS,5=Y,5=YO#?jQ&kO,5=[O5tQ`O,5=[O#6SQ`O,5=_O5bQ`O,5=_O!-OQ!bO,5=_O!-WQ&jO,5=_O5yQ&jO,5=_O#?{Q`O'#JaO#@WQ`O,5=`OOQS1G.j1G.jO#@]Q(ChO1G.jO#@hQ`O1G.jO#@mQ`O1G.jO5lQ(ChO1G.jO#@uQtO,5@OO#APQ`O,5@OO#A[QdO,5=gO#AcQ`O,5=gO7YQ`O,5@OOOQS1G3P1G3PO`QdO1G3POOQS1G3V1G3VOOQS1G3X1G3XO:[Q`O1G3ZO#AhQdO1G3]O#EcQdO'#H[OOQS1G3`1G3`O#EpQ`O'#HbO:aQ`O'#HdOOQS1G3f1G3fO#ExQdO1G3fO5lQ(ChO1G3lOOQS1G3n1G3nOOQ(CW'#Fx'#FxO5lQ(ChO1G3pO5lQ(ChO1G3rOOOW1G/^1G/^O#IvQpO,5<TO#JOQtO1G3{OOQO1G4Q1G4QO){QdO,5>aO#JYQ`O1G4|O#JbQ`O1G5WO#JjQ`O,5?dOLbQdO,5:{O7YQ`O,5:{O:aQ`O,59}OLbQdO,59}O!-OQ!bO,59}O#JoQMlO,59}OOQO,5:{,5:{O#JyQ7[O'#HvO#KaQ`O,5?cOOQ(C[1G/h1G/hO#KiQ7[O'#H{O#K}Q`O,5?nOOQ(CW1G0f1G0fO!;[Q7[O,59}O#LVQtO1G5XO7YQ`O,5>fOOQ(CW'#ES'#ESO#LaQ(DjO'#ETO!@XQ7[O'#D}OOQO'#Hy'#HyO#L{Q7[O,5:hOOQ(C[,5:h,5:hO#MSQ7[O'#D}O#MeQ7[O'#D}O#MlQ7[O'#EYO#MoQ7[O'#ETO#M|Q7[O'#ETO!@XQ7[O'#ETO#NaQ`O1G0PO#NfQqO1G0POOQ(C[1G0P1G0PO){QdO1G0POIWQ&jO1G0POOQ(C[1G0a1G0aO:aQ`O1G0aO!-OQ!bO1G0aO!-WQ&jO1G0aO#NmQ(C|O1G5UO){QdO1G5UO#N}Q(ChO1G5UO$ `Q`O1G5TO7YQ`O,5>hOOQO,5>h,5>hO$ hQ`O,5>hOOQO-E;z-E;zO$ `Q`O1G5TO$ vQ(C}O,59jO$#xQ(C}O,5<UO$%}Q(C}O,5<WO$(SQ(C}O,5<fOOQ(C[7+%|7+%|O$*_Q(C|O7+%|O$+OQ&jO'#HwO$+YQ`O,5?eOOQ(C]1G/r1G/rO$+bQdO'#HxO$+oQ`O,5?fO$+wQtO,5?fOOQ(C[1G/w1G/wOOQ(C[7+&V7+&VO$,RQMlO,5:^O){QdO7+&iO$,]QMlO,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$,jQ!LQO,5;vOLbQdO,5;uOOQO-E;{-E;{OOQ(C[7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$,uQ`O1G1iOOQ(C[1G1k1G1kO$,zQqO,59gOOOW-E;q-E;qOOQ(C]1G/P1G/PO$-RQ(C|O7+'WOOQ(C],5>m,5>mO$-rQ`O,5>mOOQ(C]1G2P1G2PP$-wQ`O'#IRPOQ(C]-E<P-E<PO$.hQ,VO1G2[O$/ZQ,VO1G2^O$/eQqO1G2`OOQ(C]1G1x1G1xO$/lQ`O'#IQO$/zQ`O,5?uO$/zQ`O,5?uO$0SQ`O,5?uO$0_Q`O,5?uOOQO1G1z1G1zO$0mQ,VO1G1yOJjQ&jO1G1yO$0}Q&jO'#ISO$1_Q`O,5?vOIWQ&jO,5?vO$1gQqO,5?vOOQ(C]1G1}1G1}OOQ(CW,5<h,5<hOOQ(CW,5<i,5<iO$1qQ`O,5<iO#5}Q`O,5<iO!-OQ!bO,5<hO$1vQ`O,5<jOOQ(CW,5<k,5<kO$1qQ`O,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ(C]1G2R1G2RO!'VQ7[O,5<hO$2OQ`O,5<iO!'VQ7[O,5<jO!'VQ7[O,5<iO$2ZQ,VO1G4vO$2eQ,VO1G4vOOQO,5>p,5>pOOQO-E<S-E<SOOQP1G.w1G.wO!.RQ7[O,59lO){QdO,59lO$2rQ`O1G1tOJjQ&jO1G1{O$2wQ(C|O7+'XOOQ(C[7+'X7+'XOGWQdO7+'XOOQ(C[7+%[7+%[O$3hQqO'#J]O#NaQ`O7+'|O$3rQ`O7+'|O$3zQqO7+'|OOQS7+'|7+'|OIWQ&jO7+'|O){QdO7+'|OIWQ&jO7+'|O$4UQ(CyO'#ChO$4iQ(CyO,5<lO$5ZQ`O,5<lOOQ(CW1G4r1G4rOOQS7+$_7+$_O:aQ`O7+$_O!-OQ!bO7+$_OGWQdO7+%|O$5`Q`O'#I]O$5qQ`O,5?}OOQO1G3O1G3OO5tQ`O,5?}O$5qQ`O,5?}O$5yQ`O,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ(C[7+&q7+&qO$6OQ`O7+(iO5lQ(ChO7+(iO5tQ`O7+(iO$6TQ`O7+(iO$6YQaO7+'|OOQ(CW,5>r,5>rOOQ(CW-E<U-E<UOOQS7+(W7+(WO$6hQ(CyO7+(TOIWQ&jO7+(TO$6rQqO7+(UOOQS7+(U7+(UOIWQ&jO7+(UO$6yQ`O'#J`O$7UQ`O,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQS7+(Z7+(ZO$8OQ7[O'#GqOOQS1G2v1G2vOIWQ&jO1G2vO){QdO1G2vOIWQ&jO1G2vO$8VQaO1G2vO$8eQ&kO1G2vO5lQ(ChO1G2yO#6SQ`O1G2yO5bQ`O1G2yO!-OQ!bO1G2yO!-WQ&jO1G2yO$8vQ`O'#I[O$9RQ`O,5?{O$9ZQ7[O,5?{OOQ(CW1G2z1G2zOOQS7+$U7+$UO$9cQ`O7+$UO5lQ(ChO7+$UO$9hQ`O7+$UO){QdO1G5jO){QdO1G5kO$9mQdO1G3RO$9tQ`O1G3RO$9yQdO1G3RO$:QQ(ChO1G5jOOQS7+(k7+(kO5lQ(ChO7+(uO`QdO7+(wOOQS'#Jf'#JfOOQS'#I_'#I_O$:[QdO,5=vOOQS,5=v,5=vO){QdO'#H]O$:iQ`O'#H_OOQS,5=|,5=|O7YQ`O,5=|OOQS,5>O,5>OOOQS7+)Q7+)QOOQS7+)W7+)WOOQS7+)[7+)[OOQS7+)^7+)^OOQO1G5O1G5OO$:nQMlO1G0gO$:xQ`O1G0gOOQO1G/i1G/iO$;TQMlO1G/iO:aQ`O1G/iOLbQdO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!-OQ!bO1G/iO:aQ`O,5:iOOQO,5:o,5:oO){QdO,5:oO$;_Q(ChO,5:oO$;jQ(ChO,5:oO!-OQ!bO,5:iOOQO-E;w-E;wOOQ(C[1G0S1G0SO!@XQ7[O,5:iO$;xQ7[O,5:iO$<ZQ(DjO,5:oO$<uQ7[O,5:iO!@XQ7[O,5:oOOQO,5:t,5:tO$<|Q7[O,5:oO$=ZQ(ChO,5:oOOQ(C[7+%k7+%kO#NaQ`O7+%kO#NfQqO7+%kOOQ(C[7+%{7+%{O:aQ`O7+%{O!-OQ!bO7+%{O$=oQ(C|O7+*pO){QdO7+*pOOQO1G4S1G4SO7YQ`O1G4SO$>PQ`O7+*oO$>XQ(C}O1G2[O$@^Q(C}O1G2^O$BcQ(C}O1G1yO$DnQ,VO,5>cOOQO-E;u-E;uO$DxQtO,5>dO){QdO,5>dOOQO-E;v-E;vO$ESQ`O1G5QO$E[QMlO1G0bO$GcQMlO1G0mO$GjQMlO1G0mO$IkQMlO1G0mO$IrQMlO1G0mO$KgQMlO1G0mO$KzQMlO1G0mO$NXQMlO1G0mO$N`QMlO1G0mO%!aQMlO1G0mO%!hQMlO1G0mO%$]QMlO1G0mO%$pQ(C|O<<JTO%%rQMmO1G0mO%'|QMmO'#IqO%)iQMlO1G1QOLbQdO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%)vQ`O1G1aO%){QMlO,5>kOOOO7+'T7+'TOOOW1G/R1G/ROOQ(C]1G4X1G4XOJjQ&jO7+'zO%*VQ`O,5>lO5tQ`O,5>lOOQO-E<O-E<OO%*eQ`O1G5aO%*eQ`O1G5aO%*mQ`O1G5aO%*xQ,VO7+'eO%+YQqO,5>nO%+dQ`O,5>nOIWQ&jO,5>nOOQO-E<Q-E<QO%+iQqO1G5bO%+sQ`O1G5bOOQ(CW1G2T1G2TO$1qQ`O1G2TOOQ(CW1G2S1G2SO%+{Q`O1G2UOIWQ&jO1G2UOOQ(CW1G2Y1G2YO!-OQ!bO1G2SO#5}Q`O1G2TO%,QQ`O1G2UO%,YQ`O1G2TOJjQ&jO7+*bOOQ(C]1G/W1G/WO%,eQ`O1G/WOOQ(C]7+'`7+'`O%,jQ,VO7+'gO%,zQ(C|O<<JsOOQ(C[<<Js<<JsOIWQ&jO'#IVO%-kQ`O,5?wOOQS<<Kh<<KhOIWQ&jO<<KhO#NaQ`O<<KhO%-sQ`O<<KhO%-{QqO<<KhOIWQ&jO1G2WOOQS<<Gy<<GyO:aQ`O<<GyO%.VQ(C|O<<IhOOQ(C[<<Ih<<IhOOQO,5>w,5>wO%.vQ`O,5>wO%.{Q`O,5>wOOQO-E<Z-E<ZO%/TQ`O1G5iO%/TQ`O1G5iO5tQ`O1G5iO%/]Q`O<<LTOOQS<<LT<<LTO%/bQ`O<<LTO5lQ(ChO<<LTO){QdO<<KhOIWQ&jO<<KhOOQS<<Ko<<KoO$6hQ(CyO<<KoOOQS<<Kp<<KpO$6rQqO<<KpO%/gQ7[O'#IXO%/rQ`O,5?zOLbQdO,5?zOOQS1G2n1G2nO#LaQ(DjO'#ETO!@XQ7[O'#GrOOQO'#IZ'#IZO%/zQ7[O,5=]OOQS,5=],5=]O%0RQ7[O'#ETO%0^Q7[O'#ETO%0uQ7[O'#ETO%1PQ7[O'#GrO%1bQ`O7+(bO%1gQ`O7+(bO%1oQqO7+(bOOQS7+(b7+(bOIWQ&jO7+(bO){QdO7+(bOIWQ&jO7+(bO%1yQaO7+(bOOQS7+(e7+(eO5lQ(ChO7+(eO#6SQ`O7+(eO5bQ`O7+(eO!-OQ!bO7+(eO%2XQ`O,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%2dQ`O1G5gO5lQ(ChO<<GpOOQS<<Gp<<GpO%2lQ`O<<GpO%2qQ`O7++UO%2vQ`O7++VOOQS7+(m7+(mO%2{Q`O7+(mO%3QQdO7+(mO%3XQ`O7+(mO){QdO7++UO){QdO7++VOOQS<<La<<LaOOQS<<Lc<<LcOOQS-E<]-E<]OOQS1G3b1G3bO%3^Q`O,5=wOOQS,5=y,5=yO%3cQ`O1G3hOLbQdO7+&ROOQO7+%T7+%TO%3hQMlO1G5XO:aQ`O7+%TOOQO1G0T1G0TO%3rQ(C|O1G0ZOOQO1G0Z1G0ZO){QdO1G0ZO%3|Q(ChO1G0ZO:aQ`O1G0TO!-OQ!bO1G0TO!@XQ7[O1G0TO%4XQ(ChO1G0ZO%4gQ7[O1G0TO%4xQ(ChO1G0ZO%5^Q(DjO1G0ZO%5hQ7[O1G0TO!@XQ7[O1G0ZOOQ(C[<<IV<<IVOOQ(C[<<Ig<<IgO:aQ`O<<IgO%5oQ(C|O<<N[OOQO7+)n7+)nO%6PQ(C}O7+'eO%8[Q(C}O7+'gO%:gQtO1G4OO%:qQMlO7+%|O%;gQMmO,59jO%=hQMmO,5<UO%?lQMmO,5<WO%A[QMmO,5<fO%B}QMlO7+'WO%C[QMlO7+'XO%CiQ`O,5;xOOQO7+&{7+&{O%CnQ,VO<<KfOOQO1G4W1G4WO%CuQ`O1G4WO%DQQ`O1G4WO%D`Q`O7+*{O%D`Q`O7+*{OIWQ&jO1G4YO%DhQqO1G4YO%DrQ`O7+*|OOQ(CW7+'o7+'oO$1qQ`O7+'pO%DzQqO7+'pOOQ(CW7+'n7+'nO$1qQ`O7+'oO%ERQ`O7+'pOIWQ&jO7+'pO#5}Q`O7+'oO%EWQ,VO<<M|OOQ(C]7+$r7+$rO%EbQqO,5>qOOQO-E<T-E<TO#NaQ`OANASOOQSANASANASOIWQ&jOANASO%ElQ(CyO7+'rOOQSAN=eAN=eO5tQ`O1G4cOOQO1G4c1G4cO%E|Q`O1G4cO%FRQ`O7++TO%FRQ`O7++TO5lQ(ChOANAoO%FZQ`OANAoOOQSANAoANAoO%F`Q`OANASO%FhQqOANASOOQSANAZANAZOOQSANA[ANA[O%FrQ`O,5>sOOQO-E<V-E<VO%F}QMlO1G5fO#6SQ`O,5=^O5bQ`O,5=^O!-OQ!bO,5=^OOQO-E<X-E<XOOQS1G2w1G2wO$<ZQ(DjO,5:oO!@XQ7[O,5=^O%GXQ7[O,5=^O%GjQ7[O,5:oOOQS<<K|<<K|OIWQ&jO<<K|O%1bQ`O<<K|O%GtQ`O<<K|O%G|QqO<<K|O){QdO<<K|OIWQ&jO<<K|OOQS<<LP<<LPO5lQ(ChO<<LPO#6SQ`O<<LPO5bQ`O<<LPO%HWQ7[O1G4bO%H`Q`O7++ROOQSAN=[AN=[O5lQ(ChOAN=[OOQS<<Np<<NpOOQS<<Nq<<NqOOQS<<LX<<LXO%HhQ`O<<LXO%HmQdO<<LXO%HtQ`O<<NpO%HyQ`O<<NqOOQS1G3c1G3cO:aQ`O7+)SO%IOQMlO<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%3rQ(C|O7+%uO){QdO7+%uOOQO7+%o7+%oO:aQ`O7+%oO!-OQ!bO7+%oO%IYQ(ChO7+%uO!@XQ7[O7+%oO%IeQ(ChO7+%uO%IsQ7[O7+%oO%JUQ(ChO7+%uOOQ(C[AN?RAN?RO%JjQMlO<<JTO%JwQMmO1G1yO%MOQMmO1G2[O& SQMmO1G2^O&!rQMlO<<JsO&#PQMlO<<IhOOQO1G1d1G1dOJjQ&jOANAQOOQO7+)r7+)rO&#^Q`O7+)rO&#iQ`O<<NgO&#qQqO7+)tOOQ(CW<<K[<<K[O$1qQ`O<<K[OOQ(CW<<KZ<<KZO&#{QqO<<K[O$1qQ`O<<KZOOQSG26nG26nO#NaQ`OG26nOOQO7+)}7+)}O5tQ`O7+)}O&$SQ`O<<NoOOQSG27ZG27ZO5lQ(ChOG27ZOIWQ&jOG26nOLbQdO1G4_O&$[Q`O7++QO5lQ(ChO1G2xO#6SQ`O1G2xO5bQ`O1G2xO!-OQ!bO1G2xO!@XQ7[O1G2xO%5^Q(DjO1G0ZO&$dQ7[O1G2xO%1bQ`OANAhOOQSANAhANAhOIWQ&jOANAhO&$uQ`OANAhO&$}QqOANAhOOQSANAkANAkO5lQ(ChOANAkO#6SQ`OANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQSG22vG22vOOQSANAsANAsO&%XQ`OANAsOOQSAND[AND[OOQSAND]AND]OOQS<<Ln<<LnOOQO<<Ia<<IaO%3rQ(C|O<<IaOOQO<<IZ<<IZO:aQ`O<<IZO){QdO<<IaO!-OQ!bO<<IZO&%^Q(ChO<<IaO!@XQ7[O<<IZO&%iQ(ChO<<IaO&%wQMmO7+'eO&'jQMmO7+'gO&)]Q,VOG26lOOQO<<M^<<M^OOQ(CWAN@vAN@vO$1qQ`OAN@vOOQ(CWAN@uAN@uOOQSLD,YLD,YOOQO<<Mi<<MiOOQSLD,uLD,uO#NaQ`OLD,YO&)mQMlO7+)yOOQO7+(d7+(dO5lQ(ChO7+(dO#6SQ`O7+(dO5bQ`O7+(dO!-OQ!bO7+(dO!@XQ7[O7+(dOOQSG27SG27SO%1bQ`OG27SOIWQ&jOG27SOOQSG27VG27VO5lQ(ChOG27VOOQSG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%3rQ(C|OAN>{O:aQ`OAN>uO){QdOAN>{O!-OQ!bOAN>uO&)wQ(ChOAN>{O&*SQ(C}OG26lOOQ(CWG26bG26bOOQS!$( t!$( tOOQO<<LO<<LOO5lQ(ChO<<LOO#6SQ`O<<LOO5bQ`O<<LOO!-OQ!bO<<LOOOQSLD,nLD,nO%1bQ`OLD,nOOQSLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%3rQ(C|OG24gO:aQ`OG24aO){QdOG24gO&,pQ!LRO,5:rO&-gQ$ITO'#IqOOQOANAjANAjO5lQ(ChOANAjO#6SQ`OANAjO5bQ`OANAjOOQS!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%3rQ(C|OLD*RO&.ZQMmOG26lO&/|Q!LRO,59jO&0pQ!LRO,5<UO&1dQ!LRO,5<WO&2WQ!LRO,5<fOOQOG27UG27UO5lQ(ChOG27UO#6SQ`OG27UOOQO!$'Mm!$'MmO&2}Q!LRO1G2[O&3qQ!LRO1G2^O&4eQ!LRO1G1yOOQOLD,pLD,pO5lQ(ChOLD,pO&5[Q!LRO7+'eO&6RQ!LRO7+'gOOQO!$(![!$(![O&6xQ!LROG26lOLbQdO'#DrO&7oQtO'#ItOLbQdO'#DjO&7vQ(C|O'#ChO&8aQtO'#ChO&8qQdO,5:vO&:qQ&jO'#EWOLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO'#IPO&<OQ`O,5<TO&=eQ&jO,5;ROLbQdO,5;fO!(wQ`O'#DOO!(wQ`O'#DOO!(wQ`O'#DOOIWQ&jO'#FjO&:qQ&jO'#FjO&<WQ&jO'#FjOIWQ&jO'#FlO&:qQ&jO'#FlO&<WQ&jO'#FlOIWQ&jO'#FzO&:qQ&jO'#FzO&<WQ&jO'#FzOLbQdO,5?mO&8qQdO1G0bO&=lQMlO'#ChOLbQdO1G1lOIWQ&jO,5<pO&:qQ&jO,5<pO&<WQ&jO,5<pOIWQ&jO,5<rO&:qQ&jO,5<rO&<WQ&jO,5<rOIWQ&jO,5<_O&:qQ&jO,5<_O&<WQ&jO,5<_O&8qQdO1G1mOLbQdO7+&iOIWQ&jO1G1yO&:qQ&jO1G1yO&<WQ&jO1G1yOIWQ&jO1G1{O&:qQ&jO1G1{O&<WQ&jO1G1{O&8qQdO7+'XO&8qQdO7+%|O&=vQ`O7+'pOIWQ&jOANAQO&:qQ&jOANAQO&<WQ&jOANAQO&=vQ`O<<K[O&=vQ`OAN@vO&={Q`O'#E[O&>QQ`O'#E[O&>YQ`O'#EzO&>_Q`O'#EgO&>dQ`O'#JRO&>oQ`O'#JPO&>zQ`O,5:vO&?PQ,VO,5<QO&?WQ`O'#FsO&?]Q`O'#FsO&?bQ`O'#FsO&?gQ`O,5<RO&?oQ`O,5:vO&?wQMlO1G0}O&@OQ`O,5<_O&@TQ`O,5<_O&@YQ`O,5<_O&@_Q`O,5<aO&@dQ`O,5<aO&@iQ`O,5<aO&@nQ`O1G1mO&@sQ`O1G0bO&@xQ`O1G2UO&@}Q,VO<<KfO&AUQ,VO<<KfO&A]Q,VO<<KfO&AdQqO7+'pO&AkQ`O7+'pO&ApQqO<<K[O4QQ&jO'#FhO5bQ`O'#FgOBzQ`O'#EZOLbQdO,5;cO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FuO!&WQ`O'#FuO!&WQ`O'#FuO&AwQ`O,5<jOJjQ&jO7+'zOJjQ&jO7+'zOJjQ&jO7+'zOIWQ&jO1G2UO&BPQ`O1G2UOIWQ&jO7+'pO!'VQ7[O'#GOO$/eQqO1G2`O$/eQqO1G2`O$/eQqO1G2`O!'VQ7[O,5<jOIWQ&jO,5<tOIWQ&jO,5<tOIWQ&jO,5<t",stateData:"&B}~O'YOS'ZOSTOSUOS~OQTORTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OQ[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOS!WO'U!XO'V!ZO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9bO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOQ'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']#pO'b$PO'f#sO'a'cP~O!d$ZO~O!]$]O~O_$^O'W$^O~O']$bO~O!d$ZO']$bO'^$dO'b$PO~Oc$jO!d$ZO']$bO~O#c#TO~O]$sOu$oO!T$lO!d$nO%R$rO']$bO'^$dO^(UP~O!n$tO~Ox$uO!T$vO']$bO~Ox$uO!T$vO%Z$zO']$bO~O']${O~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%UOc%TO!n%RO%P%SO%c%QO~P7xOb%XOcmO!T%WO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%[O!{%_O%R%YO'^$dO~P8wO!d%`O!g%dO~O!d%eO~O!TSO~O_$^O'T%mO'W$^O~O_$^O'T%pO'W$^O~O_$^O'T%rO'W$^O~OS!WO'U!XO'V%vO~OQ[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;dO!Q%xO!O&iX!O&nX!R&iX!R&nX~P'dO!R%zO!O'jX~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R%zO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>aO!O&PO~Ox&SO!W&^O!X&VO!Y&VO'^$dO~O]&TOk&TO!Q&WO'g&QO!S'kP!S'vP~P@dO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PA]O!{&_O!O'uX!R'uX~O!R&`O!O'tX~O!O&cO~O!{#eO~PA]OP&gO!T&dO!o&fO']$bO~Oc&lO!d$ZO']$bO~Ou$oO!d$nO~O!S&mO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOQ!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCfO!c&nO~O!]!wO!{&pO'p&oO!R'rX_'rX'W'rX~O!c'rX~PFOO!R&tO!c'qX~O!c&vO~Ox$uO!T$vO#V&wO']$bO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO']&{O'b$PO'f#sO~O#W&}O~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']&{O'b$PO'f#sO~O'a'mP~PJjO!Q'RO!c'nP~P){O'g'TO'oYO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'jO~PIWO!]'lO!T'yX#w'yX#z'yX$R'yX~Ou'mO~P! YOu'mO!T'yX#w'yX#z'yX$R'yX~O!T'oO#w'sO#z'nO$R'tO~O!Q'wO~PLbO#z#fO$R'zO~OP$eXu$eXx$eX!b$eX'w$eX'x$eX~OPfX!RfX!{fX'afX'a$eX~P!!rOk'|O~OS'}O'U(OO'V(QO~OP(ZOu(SOx(TO'w(VO'x(XO~O'a(RO~P!#{O'a([O~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~O!Q(`O'](]O!c'}P~P!$jO#W(bO~O!d(cO~O!Q(hO'](eO!O(OP~P!$jOj(uOx(mO!W(sO!X(lO!Y(lO!d(cO!x(tO$w(oO'^$dO'g(jO~O!S(rO~P!&jO!b!yOP'eXu'eXx'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'cOP(xO!{(wO!R'dX'a'dX~O!R(yO'a'cX~O']${O'a'cP~O'](|O~O!d)RO~O']&{O~Ox$uO!Q!rO!T$vO#U!uO#V!rO']$bO!c'qP~O!]!wO#W)VO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)wOP)_O!T&dO!o)^O%Q)]O'b$PO~O!])aO!T'`X_'`X!R'`X'W'`X~O!d$ZO'b$PO~O!d$ZO']$bO'b$PO~O!]!wO#W&}O~O])lO%R)mO'])iO!S(VP~O!R)nO^(UX~O'g'TO~OZ)rO~O^)sO~O!T$lO']$bO'^$dO^(UP~Ox$uO!Q)xO!R&`O!T$vO']$bO!O'tP~O]&ZOk&ZO!Q)yO'g'TO!S'vP~O!R)zO_(RX'W(RX~O!{*OO'b$PO~OP*RO!T#zO'b$PO~O!T*TO~Ou*VO!TSO~O!n*[O~Oc*aO~O'](|O!S(TP~Oc$jO~O%RtO']${O~P8wOZ*gO^*fO~OQTORTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9aO~P!1_O^*fO_$^O'W$^O~O_*kO#d*mO%T*mO%U*mO~P){O!d%`O~O%t*rO~O!T*tO~O&V*vO&X*wOQ&SaR&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*|O~On+PO~O!O&ia!R&ia~P!)wO!Q+TO!O&iX!R&iX~P){O!R%zO!O'ja~O!O'ja~P>aO!R&`O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+YO!{+XO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+[O!d$ZO'b$PO!R!VX!S!VX~O]&ROk&ROx&SO'g(jO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O'fQO'oYO'|;^O~O']:SO~P!;jO!R+`O!S'kX~O!S+bO~O!]+YO!{+XO!R#TX!S#TX~O!R+cO!S'vX~O!S+eO~O]&ROk&ROx&SO'^$dO'g(jO~O!X+fO!Y+fO~P!>hOx$uO!Q+hO!T$vO']$bO!O&nX!R&nX~O_+lO!W+oO!X+kO!Y+kO!r+sO!s+qO!t+rO!u+pO!x+tO'^$dO'g(jO'o+iO~O!S+nO~P!?iOP+yO!T&dO!o+xO~O!{,PO!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@sO!R&tO!c'qa~Ox$uO!Q,SO!T$vO#U,UO#V,SO']$bO!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)wOP;tOu(SOx(TO'w(VO'x(XO~O#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!BpO#W'eXQ'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX'p'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'cO!R,_O'a'mX~P!#{O'a,aO~O!R,bO!c'nX~P!)wO!c,eO~O!O,fO~OQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!FfO#[#PO~P!FfOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!IQOj#RO~P!IQOQ#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!KlOZ#dO!a#TO#a#TO#b#TO#c#TO~P!KlOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!NdO'w!}O~P!NdOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P##OO'x#OO~P##OOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#%jOQ[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#'}OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO#j9oO'fQO'p#[O'w!}O'x#OO~O#m,hO~P#*XOQ'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9sO#o9sO#c'iX#m'iX!S'iX~P#,SO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)wOQ#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!BpO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)wO#z,jO~O#z,kO~O!]'lO!{,lO!T$OX#w$OX#z$OX$R$OX~O!Q,mO~O!T'oO#w,oO#z'nO$R,pO~O!R9pO!S'hX~P#*XO!S,qO~O$R,sO~OS'}O'U(OO'V,vO~O],yOk,yO!O,zO~O!RdX!]dX!cdX!c$eX'pdX~P!!rO!c-QO~P!BpO!R-RO!]!wO'p&oO!c'}X~O!c-WO~O!Q(`O']$bO!c'}P~O#W-YO~O!O$eX!R$eX!]$lX~P!!rO!R-ZO!O(OX~P!BpO!]-]O~O!O-_O~Oj-cO!]!wO!d$ZO'b$PO'p&oO~O!])aO~O_$^O!R-hO'W$^O~O!S-jO~P!&jO!X-kO!Y-kO'^$dO'g(jO~Ox-mO'g(jO~O!x-nO~O']${O!R&xX'a&xX~O!R(yO'a'ca~O'a-sO~Ou-tOv-tOx-uOPra'wra'xra!Rra!{ra~O'ara#mra~P#7pOu(SOx(TOP$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#8fOu(SOx(TOP$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#9XO]-vO~O#W-wO~O'a$na!R$na!{$na#m$na~P!#{O#W-zO~OP.TO!T&dO!o.SO%Q.RO~O]#qOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~Oh.VO'].UO~P#:yO!])aO!T'`a_'`a!R'`a'W'`a~O#W.]O~OZ[X!RdX!SdX~O!R.^O!S(VX~O!S.`O~OZ.aO~O].cO'])iO~O!T$lO']$bO^'QX!R'QX~O!R)nO^(Ua~O!c.fO~P!)wO].hO~OZ.iO~O^.jO~OP.TO!T&dO!o.SO%Q.RO'b$PO~O!R)zO_(Ra'W(Ra~O!{.pO~OP.sO!T#zO~O'g'TO!S(SP~OP.}O!T.yO!o.|O%Q.{O'b$PO~OZ/XO!R/VO!S(TX~O!S/YO~O^/[O_$^O'W$^O~O]/]O~O]/^O'](|O~O#c/_O%r/`O~P0zO!{#eO#c/_O%r/`O~O_/aO~P){O_/cO~O%{/gOQ%yiR%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/mO!S/kO&Q/lO~P`O!TSO!d/oO~O&X*wOQ&SiR&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)wO!R%zO!O'ji~O!R&`O!O'ti~O!O/uO~O!R!Va!S!Va~P#*XO]&ROk&RO!Q/{O'g(jO!R&jX!S&jX~P@dO!R+`O!S'ka~O]&ZOk&ZO!Q)yO'g'TO!R&oX!S&oX~O!R+cO!S'va~O!O'ui!R'ui~P!)wO_$^O!]!wO!d$ZO!j0VO!{0TO'W$^O'b$PO'p&oO~O!S0YO~P!?iO!X0ZO!Y0ZO'^$dO'g(jO'o+iO~O!W0[O~P#MSO!TSO!W0[O!u0^O!x0_O~P#MSO!W0[O!s0aO!t0aO!u0^O!x0_O~P#MSO!T&dO~O!T&dO~P!BpO!R'ri!c'ri_'ri'W'ri~P!)wO!{0jO!R'ri!c'ri_'ri'W'ri~O!R&tO!c'qi~Ox$uO!T$vO#V0lO']$bO~O#WraQraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra'pra!cra!Ora!Tranra%Qra!]ra~P#7pO#W$^aQ$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a'p$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#8fO#W$`aQ$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a'p$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#9XO#W$naQ$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na'p$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!BpO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)wO!R&kX'a&kX~PJjO!R,_O'a'ma~O!Q0tO!R&lX!c&lX~P){O!R,bO!c'na~O!R,bO!c'na~P!)wO#m!fa!S!fa~PCfO#m!^a!R!^a!S!^a~P#*XO!T1XO#x^O$P1YO~O!S1^O~On1_O~P!BpO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)wO!O1`O~O],yOk,yO~Ou(SOx(TO'x(XOP$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$.POu(SOx(TOP$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$.rO'p#[O~P!BpO!Q1cO']$bO!R&tX!c&tX~O!R-RO!c'}a~O!R-RO!]!wO!c'}a~O!R-RO!]!wO'p&oO!c'}a~O'a$gi!R$gi!{$gi#m$gi~P!#{O!Q1kO'](eO!O&vX!R&vX~P!$jO!R-ZO!O(Oa~O!R-ZO!O(Oa~P!BpO!]!wO~O!]!wO#c1sO~Oj1vO!]!wO'p&oO~O!R'di'a'di~P!#{O!{1yO!R'di'a'di~P!#{O!c1|O~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)wO!R2QO!T(PX~P!BpO!T&dO%Q2TO~O!T&dO%Q2TO~P!BpO!T$eX$u[X_$eX!R$eX'W$eX~P!!rO$u2XOPgXugXxgX!TgX'wgX'xgX_gX!RgX'WgX~O$u2XO~O]2_O%R2`O'])iO!R'PX!S'PX~O!R.^O!S(Va~OZ2dO~O^2eO~O]2hO~OP2jO!T&dO!o2iO%Q2TO~O_$^O'W$^O~P!BpO!T#zO~P!BpO!R2oO!{2qO!S(SX~O!S2rO~Ox;oO!W2{O!X2tO!Y2tO!r2zO!s2yO!t2yO!x2xO'^$dO'g(jO'o+iO~O!S2wO~P$7ZOP3SO!T.yO!o3RO%Q3QO~OP3SO!T.yO!o3RO%Q3QO'b$PO~O'](|O!R'OX!S'OX~O!R/VO!S(Ta~O]3^O'g3]O~O]3_O~O^3aO~O!c3dO~P){O_3fO~O_3fO~P){O#c3hO%r3iO~PFOO`/mO!S3mO&Q/lO~P`O!]3oO~O!R#Ti!S#Ti~P#*XO!{3qO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#*XO_$^O!{3xO'W$^O~O_$^O!]!wO!{3xO'W$^O~O!X3|O!Y3|O'^$dO'g(jO'o+iO~O_$^O!]!wO!d$ZO!j3}O!{3xO'W$^O'b$PO'p&oO~O!W4OO~P$;xO!W4OO!u4RO!x4SO~P$;xO_$^O!]!wO!j3}O!{3xO'W$^O'p&oO~O!R'rq!c'rq_'rq'W'rq~P!)wO!R&tO!c'qq~O#W$xiQ$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi'p$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$.PO#W$ziQ$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi'p$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$.rO#W$giQ$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi'p$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!BpO!R&ka'a&ka~P!#{O!R&la!c&la~P!)wO!R,bO!c'ni~O#m#Oi!R#Oi!S#Oi~P#*XOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$EiO#[9eO~P$EiOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$GqOj9gO~P$GqOQ#^Oj9gOu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$IyOZ9rO!a9iO#a9iO#b9iO#c9iO~P$IyOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$L_O'w!}O~P$L_OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$NgO'x#OO~P$NgOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P%!oO_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)wOP;vOu(SOx(TO'w(VO'x(XO~OQ#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi'p#Zi!R#Zi!S#Zi~P%%aO!b!yOP'eXu'eXx'eX'w'eX'x'eX!S'eX~OQ'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX'p'eX!R'eX~P%'eO#m#ni!R#ni!S#ni~P#*XO!S4eO~O!R&sa!S&sa~P#*XO!]!wO'p&oO!R&ta!c&ta~O!R-RO!c'}i~O!R-RO!]!wO!c'}i~O'a$gq!R$gq!{$gq#m$gq~P!#{O!O&va!R&va~P!BpO!]4lO~O!R-ZO!O(Oi~P!BpO!R-ZO!O(Oi~O!O4pO~O!]!wO#c4uO~Oj4vO!]!wO'p&oO~O!O4xO~O'a$iq!R$iq!{$iq#m$iq~P!#{O_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)wO!R2QO!T(Pa~O!T&dO%Q4}O~O!T&dO%Q4}O~P!BpO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)wOZ5QO~O]5SO'])iO~O!R.^O!S(Vi~O]5VO~O^5WO~O'g'TO!R&{X!S&{X~O!R2oO!S(Sa~O!S5eO~P$7ZOx;sO'g(jO'o+iO~O!W5hO!X5gO!Y5gO!x0_O'^$dO'g(jO'o+iO~O!s5iO!t5iO~P%0^O!X5gO!Y5gO'^$dO'g(jO'o+iO~O!T.yO~O!T.yO%Q5kO~O!T.yO%Q5kO~P!BpOP5pO!T.yO!o5oO%Q5kO~OZ5uO!R'Oa!S'Oa~O!R/VO!S(Ti~O]5xO~O!c5yO~O!c5zO~O!c5{O~O!c5{O~P){O_5}O~O!]6QO~O!c6RO~O!R'ui!S'ui~P#*XO_$^O'W$^O~P!)wO_$^O!{6WO'W$^O~O_$^O!]!wO!{6WO'W$^O~O!X6]O!Y6]O'^$dO'g(jO'o+iO~O_$^O!]!wO!j6^O!{6WO'W$^O'p&oO~O!d$ZO'b$PO~P%4xO!W6_O~P%4gO!R'ry!c'ry_'ry'W'ry~P!)wO#W$gqQ$gqZ$gq_$gqj$gqv$gq!R$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq'W$gq'f$gq'p$gq!c$gq!O$gq!T$gq!{$gqn$gq%Q$gq!]$gq~P!BpO#W$iqQ$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq'p$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!BpO!R&li!c&li~P!)wO#m#Oq!R#Oq!S#Oq~P#*XOu-tOv-tOx-uOPra'wra'xra!Sra~OQraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra'pra!Rra~P%;OOu(SOx(TOP$^a'w$^a'x$^a!S$^a~OQ$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a'p$^a!R$^a~P%=SOu(SOx(TOP$`a'w$`a'x$`a!S$`a~OQ$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a'p$`a!R$`a~P%?WOQ$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na'p$na!R$na!S$na~P%%aO#m$Yq!R$Yq!S$Yq~P#*XO#m$Zq!R$Zq!S$Zq~P#*XO!S6hO~O#m6iO~P!#{O!]!wO!R&ti!c&ti~O!]!wO'p&oO!R&ti!c&ti~O!R-RO!c'}q~O!O&vi!R&vi~P!BpO!R-ZO!O(Oq~O!O6oO~P!BpO!O6oO~O!R'dy'a'dy~P!#{O!R&ya!T&ya~P!BpO!T$tq_$tq!R$tq'W$tq~P!BpOZ6vO~O!R.^O!S(Vq~O]6yO~O!T&dO%Q6zO~O!T&dO%Q6zO~P!BpO!{6{O!R&{a!S&{a~O!R2oO!S(Si~P#*XO!X7RO!Y7RO'^$dO'g(jO'o+iO~O!W7TO!x4SO~P%GXO!T.yO%Q7WO~O!T.yO%Q7WO~P!BpO]7_O'g7^O~O!R/VO!S(Tq~O!c7aO~O!c7aO~P){O!c7cO~O!c7dO~O!R#Ty!S#Ty~P#*XO_$^O!{7jO'W$^O~O_$^O!]!wO!{7jO'W$^O~O!X7mO!Y7mO'^$dO'g(jO'o+iO~O_$^O!]!wO!j7nO!{7jO'W$^O'p&oO~O#m#ky!R#ky!S#ky~P#*XOQ$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi'p$gi!R$gi!S$gi~P%%aOu(SOx(TO'x(XOP$xi'w$xi!S$xi~OQ$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi'p$xi!R$xi~P%LjOu(SOx(TOP$zi'w$zi'x$zi!S$zi~OQ$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi'p$zi!R$zi~P%NnO#m$Zy!R$Zy!S$Zy~P#*XO#m#Oy!R#Oy!S#Oy~P#*XO!]!wO!R&tq!c&tq~O!R-RO!c'}y~O!O&vq!R&vq~P!BpO!O7tO~P!BpO!R.^O!S(Vy~O!R2oO!S(Sq~O!X8QO!Y8QO'^$dO'g(jO'o+iO~O!T.yO%Q8TO~O!T.yO%Q8TO~P!BpO!c8WO~O_$^O!{8]O'W$^O~O_$^O!]!wO!{8]O'W$^O~OQ$gqZ$gqj$gqv$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq#m$gq'f$gq'p$gq!R$gq!S$gq~P%%aOQ$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq'p$iq!R$iq!S$iq~P%%aO'a$|!Z!R$|!Z!{$|!Z#m$|!Z~P!#{O!R&{q!S&{q~P#*XO_$^O!{8oO'W$^O~O#W$|!ZQ$|!ZZ$|!Z_$|!Zj$|!Zv$|!Z!R$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z'W$|!Z'f$|!Z'p$|!Z!c$|!Z!O$|!Z!T$|!Z!{$|!Zn$|!Z%Q$|!Z!]$|!Z~P!BpOP;uOu(SOx(TO'w(VO'x(XO~O!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P&,_O!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%'eOQ$|!ZZ$|!Zj$|!Zv$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z#m$|!Z'f$|!Z'p$|!Z!R$|!Z!S$|!Z~P%%aO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%;OO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%=SO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%?WO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P&,_O!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%LjO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%NnO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P&,_O!S$gq!W$gq!X$gq!Y$gq!r$gq!s$gq!t$gq!x$gq'^$gq'g$gq'o$gq~P&,_O!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P&,_O!S$|!Z!W$|!Z!X$|!Z!Y$|!Z!r$|!Z!s$|!Z!t$|!Z!x$|!Z'^$|!Z'g$|!Z'o$|!Z~P&,_On'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;dOQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!TSO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O]#qOh$QOj#rOk#qOl#qOq$ROs9uOx#yO!T#zO!_;fO!d#vO#V:OO#t$VO$_9xO$a9{O$d$WO']&{O'b$PO'f#sO~O!R9pO!S$]a~O]#qOh$QOj#rOk#qOl#qOq$ROs9vOx#yO!T#zO!_;gO!d#vO#V:PO#t$VO$_9yO$a9|O$d$WO']&{O'b$PO'f#sO~O#d'jO~P&<WO!S[X!SdX~P;dO!]9dO~O#W9cO~O!]!wO#W9cO~O!{9sO~O#c9iO~O!{:QO!R'uX!S'uX~O!{9sO!R'sX!S'sX~O#W:RO~O'a:TO~P!#{O#W:[O~O#W:]O~O#W:^O~O!]!wO#W:_O~O!]!wO#W:RO~O#m:`O~P#*XO#W:aO~O#W:bO~O#W:cO~O#W:dO~O#W:eO~O#W:fO~O#W:gO~O#W:hO~O!O:iO~O#m:jO~P!#{O#m:kO~P!#{O#m:lO~P!#{O!O:mO~P!BpO!O:mO~O!O:nO~P!BpO!]!wO#c;lO~O!]!wO#c;nO~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Kk(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s7o8SP8SPPP8SP:U8SP8SP:YPP:`P:t?VPPPP?ZPPPP?ZA{PPPBRDdP?ZPFwPPPPHp?ZPPPPPJi?ZPPMjNgPPPPNk!!TP!!]!#^PNg?Z?Z!&n!)i!.[!.[!1kPPP!1r!4h?ZPPPPPPPPPP!7_P!8pPP?Z!9}P?ZP?Z?Z?Z?ZP?Z!;dPP!>]P!AQ!AY!A^!A^P!>YP!Ab!AbP!DVP!DZ?Z?Z!Da!GT8SP8SP8S8SP!HW8S8S!Jf8S!M_8S# g8S8S#!T#$c#$c#$g#$c#$oP#$cP8S#%k8S#'X8S8S-zPPP#(yPP#)c#)cP#)cP#)x#)cPP#*OP#)uP#)u#*b!!X#)u#+P#+V#+Y([#+]([P#+d#+d#+dP([P([P([P([PP([P#+j#+mP#+m([P#+qP#+tP([P([P([P([P([P([([#+z#,U#,[#,b#,p#,v#,|#-W#-^#-m#-s#.R#.X#._#.m#/S#0z#1Y#1`#1f#1l#1r#1|#2S#2Y#2d#2v#2|PPPPPPPP#3SPP#3v#7OPP#8f#8m#8uPP#>a#@t#Fp#Fs#Fv#GR#GUPP#GX#G]#Gz#Hq#Hu#IZPP#I_#Ie#IiP#Il#Ip#Is#Jc#Jy#KO#KR#KU#K[#K_#Kc#KgmhOSj}!n$]%c%f%g%i*o*t/g/jQ$imQ$ppQ%ZyS&V!b+`Q&k!jS(l#z(qQ)g$jQ)t$rQ*`%TQ+f&^S+k&d+mQ+}&lQ-k(sQ/U*aY0Z+o+p+q+r+sS2t.y2vU3|0[0^0aU5g2y2z2{S6]4O4RS7R5h5iQ7m6_R8Q7T$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ(}$SQ)l$lQ*b%WQ*i%`Q,X9tQ.W)aQ.c)mQ/^*gQ2_.^Q3Z/VQ4^9vQ5S2`R8{9upeOSjy}!n$]%Y%c%f%g%i*o*t/g/jR*d%[&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%z&S&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;`;a[!cRU!]!`%x&WQ$clQ$hmS$mp$rv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ%PwQ&h!iQ&j!jS(_#v(cS)f$i$jQ)j$lQ)w$tQ*Z%RQ*_%TS+|&k&lQ-V(`Q.[)gQ.b)mQ.d)nQ.g)rQ/P*[S/T*`*aQ0h+}Q1b-RQ2^.^Q2b.aQ2g.iQ3Y/UQ4i1cQ5R2`Q5U2dQ6u5QR7w6vx#xa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k!Y$fm!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^Q)`$cQ*P$|Q*S$}Q*^%TQ.k)wQ/O*ZU/S*_*`*aQ3T/PS3X/T/UQ5b2sQ5t3YS7P5c5fS8O7Q7SQ8f8PQ8u8g#[;b!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd;c9d9x9{:O:V:Y:]:b:e:ke;d9r9y9|:P:W:Z:^:c:f:lW#}a$P(y;^S$|t%YQ$}uQ%OvR)}$z%P#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vT(O#s(PX)O$S9t9u9vU&Z!b$v+cQ'U!{Q)q$oQ.t*TQ1z-tR5^2o&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a$]#aZ!_!o$a%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,i,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|T!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ&X!bR/|+`Y&R!b&V&^+`+fS(k#z(qS+j&d+mS-d(l(sQ-e(mQ-l(tQ.v*VU0W+k+o+pU0]+q+r+sS0b+t2xQ1u-kQ1w-mQ1x-nS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mQ8g8QQ;h;oR;m;slhOSj}!n$]%c%f%g%i*o*t/g/jQ%k!QS&x!v9cQ)d$gQ*X%PQ*Y%QQ+z&iS,]&}:RS-y)V:_Q.Y)eQ.x*WQ/n*vQ/p*wQ/x+ZQ0`+qQ0f+{S2P-z:gQ2Y.ZS2].]:hQ3r/zQ3u0RQ4U0gQ5P2ZQ6T3tQ6X3zQ6a4VQ7e6RQ7h6YQ8Y7iQ8l8[R8x8n$W#`Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|W(v#{&|1V8qT)Z$a,i$W#_Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|Q'f#`S)Y$a,iR-{)Z&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ%f{Q%g|Q%i!OQ%j!PR/f*rQ&e!iQ)[$cQ+w&hS.Q)`)wS0c+u+vW2S-}.O.P.kS4T0d0eU4|2U2V2WU6s4{5Y5ZQ7v6tR8b7yT+l&d+mS+j&d+mU0W+k+o+pU0]+q+r+sS0b+t2xS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mR8g8QS+l&d+mT2u.y2vS&r!q/dQ-U(_Q-b(kS0V+j2sQ1g-VS1p-c-lU3}0]0b5fQ4h1bS4s1v1xU6^4P4Q7SQ6k4iQ6r4vR7n6`Q!xXS&q!q/dQ)W$[Q)b$eQ)h$kQ,Q&rQ-T(_Q-a(kQ-f(nQ.X)cQ/Q*]S0U+j2sS1f-U-VS1o-b-lQ1r-eQ1t-gQ3V/RW3y0V0]0b5fQ4g1bQ4k1gS4o1p1xQ4t1wQ5r3WW6[3}4P4Q7SS6j4h4iS6n4p:iQ6p4sQ6}5aQ7[5sS7l6^6`Q7r6kS7s6o:mQ7u6rQ7|7OQ8V7]Q8_7nS8a7t:nQ8d7}Q8s8eQ9Q8tQ9X9RQ:u:pQ;T:zQ;U:{Q;V;hR;[;m$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oS!xn!k!j:o#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:u;`$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ$[b!Y$em!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^S$kn!kQ)c$fQ*]%TW/R*^*_*`*aU3W/S/T/UQ5a2sS5s3X3YU7O5b5c5fQ7]5tU7}7P7Q7SS8e8O8PS8t8f8gQ9R8u!j:p#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ:z;_R:{;`$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oY!hRU!]!`%xv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ*j%`!h:q#]#k'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:t&WS&[!b$vR0O+c$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR*i%`$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ'U!{!k:r#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a!h#VZ!_$a%w%}&y'Q'_'`'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_!R9k'd'u+^,i/v/y0w1P1Q1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!d#XZ!_$a%w%}&y'Q'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_}9m'd'u+^,i/v/y0w1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!`#]Z!_$a%w%}&y'Q'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_Q1a-Px;a'd'u+^,i/v/y0w1W1]3s4]4b4c5`6S6b6f6g7z:|Q;i;pQ;j;qR;k;r&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#l`#mR1Y,l&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#g^#nT'n#i'rT#h^#nT'p#i'r&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aT#l`#mQ#o`R'y#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!k;_#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a#RdOSUj}!S!W!n!|#k$]%[%_%`%c%e%f%g%i%m&S&f'w)^*k*o*t+x,m-u.S.|/_/`/a/c/g/j/l1X2i3R3f3h3i5o5}x#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vQ)S$WQ,x(Sd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:kx#wa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;kQ(d#xS(n#z(qQ)T$XQ-g(o#[:w!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd:x9d9x9{:O:V:Y:]:b:e:kd:y9r9y9|:P:W:Z:^:c:f:lQ:};bQ;O;cQ;P;dQ;Q;eQ;R;fR;S;gx#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:klfOSj}!n$]%c%f%g%i*o*t/g/jQ(g#yQ*}%pQ+O%rR1j-Z%O#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vQ*Q$}Q.r*SQ2m.qR5]2nT(p#z(qS(p#z(qT2u.y2vQ)b$eQ-f(nQ.X)cQ/Q*]Q3V/RQ5r3WQ6}5aQ7[5sQ7|7OQ8V7]Q8d7}Q8s8eQ9Q8tR9X9Rp(W#t'O)U-X-o-p0q1h1}4f4w7q:v;W;X;Y!n:U&z'i(^(f+v,[,t-P-^-|.P.o.q0e0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r[:V8p9O9V9Y9Z9]]:W1U4a6c7o7p8zr(Y#t'O)U,}-X-o-p0q1h1}4f4w7q:v;W;X;Y!p:X&z'i(^(f+v,[,t-P-^-|.P.o.q0e0n0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r^:Y8p9O9T9V9Y9Z9]_:Z1U4a6c6d7o7p8zpeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ%VxR*k%`peOSjy}!n$]%Y%c%f%g%i*o*t/g/jR%VxQ*U%OR.n)}qeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ.z*ZS3P/O/PW5j2|2}3O3TU7V5l5m5nU8R7U7X7YQ8h8SR8v8iQ%^yR*e%YR3^/XR7_5uS$mp$rR.d)nQ%czR*o%dR*u%jT/h*t/jR*y%kQ*x%kR/q*yQjOQ!nST$`j!nQ(P#sR,u(PQ!YQR%u!YQ!^RU%{!^%|+UQ%|!_R+U%}Q+a&XR/}+aQ,`'OR0r,`Q,c'QS0u,c0vR0v,dQ+m&dR0X+mS!eR$uU&a!e&b+VQ&b!fR+V&OQ+d&[R0P+dQ&u!sQ,R&sU,V&u,R0mR0m,WQ'r#iR,n'rQ#m`R'x#mQ#cZU'h#c+Q9qQ+Q9_R9q'uQ-S(_W1d-S1e4j6lU1e-T-U-VS4j1f1gR6l4k$k(U#t&z'O'i(^(f)P)Q)U+v,Y,Z,[,t,}-O-P-X-^-o-p-|.P.o.q0e0n0o0p0q1U1h1i1m1}2W2l2n3O4Y4Z4_4`4a4f4m4q4w4y5O5Z5n6c6d6e6m6q7Y7o7p7q8`8p8z8|8}9O9T9U9V9Y9Z9]:v;W;X;Y;Z;];p;q;rQ-[(fU1l-[1n4nQ1n-^R4n1mQ(q#zR-i(qQ(z$OR-r(zQ2R-|R4z2RQ){$xR.m){Q2p.tS5_2p6|R6|5`Q*W%PR.w*WQ2v.yR5d2vQ/W*bS3[/W5vR5v3^Q._)jW2a._2c5T6wQ2c.bQ5T2bR6w5UQ)o$mR.e)oQ/j*tR3l/jWiOSj!nQ%h}Q)X$]Q*n%cQ*p%fQ*q%gQ*s%iQ/e*oS/h*t/jR3k/gQ$_gQ%l!RQ%o!TQ%q!UQ%s!VQ)v$sQ)|$yQ*d%^Q*{%nQ-h(pS/Z*e*hQ/r*zQ/s*}Q/t+OS0S+j2sQ2f.hQ2k.oQ3U/QQ3`/]Q3j/fY3w0U0V0]0b5fQ5X2hQ5[2lQ5q3VQ5w3_[6U3v3y3}4P4Q7SQ6x5VQ7Z5rQ7`5xW7f6V6[6^6`Q7x6yQ7{6}Q8U7[U8X7g7l7nQ8c7|Q8j8VS8k8Z8_Q8r8dQ8w8mQ9P8sQ9S8yQ9W9QR9[9XQ$gmQ&i!jU)e$h$i$jQ+Z&UU+{&j&k&lQ-`(kS.Z)f)gQ/z+]Q0R+jS0g+|+}Q1q-dQ2Z.[Q3t0QS3z0W0]Q4V0hQ4r1uS6Y3{4QQ7i6ZQ8[7kR8n8^S#ua;^R({$PU$Oa$P;^R-q(yQ#taS&z!w)aQ'O!yQ'i#dQ(^#vQ(f#yQ)P$TQ)Q$UQ)U$YQ+v&gQ,Y9wQ,Z9zQ,[9}Q,t'}Q,}(WQ-O(YQ-P(ZQ-X(bQ-^(hQ-o(wQ-p(xd-|)].R.{2T3Q4}5k6z7W8TQ.P)_Q.o*OQ.q*RQ0e+yQ0n:UQ0o:XQ0p:[Q0q,_Q1U9rQ1h-YQ1i-ZQ1m-]Q1}-wQ2W.TQ2l.pQ2n.sQ3O.}Q4Y:aQ4Z:dQ4_9yQ4`9|Q4a:PQ4f1aQ4m1kQ4q1sQ4w1yQ4y2QQ5O2XQ5Z2jQ5n3SQ6c:^Q6d:WQ6e:ZQ6m4lQ6q4uQ7Y5pQ7o:cQ7p:fQ7q6iQ8`:jQ8p9dQ8z:lQ8|9xQ8}9{Q9O:OQ9T:VQ9U:YQ9V:]Q9Y:bQ9Z:eQ9]:kQ:v;^Q;W;iQ;X;jQ;Y;kQ;Z;lQ;];nQ;p;tQ;q;uR;r;vlgOSj}!n$]%c%f%g%i*o*t/g/jS!pU%eQ%n!SQ%t!WQ'V!|Q'v#kS*h%[%_Q*l%`Q*z%mQ+W&SQ+u&fQ,r'wQ.O)^Q/b*kQ0d+xQ1[,mQ1{-uQ2V.SQ2}.|Q3b/_Q3c/`Q3e/aQ3g/cQ3n/lQ4d1XQ5Y2iQ5m3RQ5|3fQ6O3hQ6P3iQ7X5oR7b5}!vZOSUj}!S!n!|$]%[%_%`%c%e%f%g%i%m&S&f)^*k*o*t+x-u.S.|/_/`/a/c/g/j/l2i3R3f3h3i5o5}Q!_RQ!oTQ$akS%w!]%zQ%}!`Q&y!vQ'Q!zQ'W#PQ'X#QQ'Y#RQ'Z#SQ'[#TQ']#UQ'^#VQ'_#WQ'`#XQ'a#YQ'b#ZQ'd#]Q'g#bQ'k#eW'u#k'w,m1XQ)p$nS+R%x+TS+^&W/{Q+g&_Q,O&pQ,^&}Q,d'RQ,g9^Q,i9`Q,w(RQ-x)VQ/v+XQ/y+[Q0i,PQ0s,bQ0w9cQ0x9eQ0y9fQ0z9gQ0{9hQ0|9iQ0}9jQ1O9kQ1P9lQ1Q9mQ1R9nQ1S9oQ1T,hQ1W9sQ1]9pQ2O-zQ2[.]Q3s:QQ3v0TQ4W0jQ4[0tQ4]:RQ4b:TQ4c:_Q5`2qQ6S3qQ6V3xQ6b:`Q6f:gQ6g:hQ7g6WQ7z6{Q8Z7jQ8m8]Q8y8oQ9_!WR:|;aR!aRR&Y!bS&U!b+`S+]&V&^R0Q+fR'P!yR'S!zT!tU$ZS!sU$ZU$xrs*mS&s!r!uQ,T&tQ,W&wQ.l)zS0k,S,UR4X0l`!dR!]!`$u%x&`)x+hh!qUrs!r!u$Z&t&w)z,S,U0lQ/d*mQ/w+YQ3p/oT:s&W)yT!gR$uS!fR$uS%y!]&`S&O!`)xS+S%x+hT+_&W)yT&]!b$vQ#i^R'{#nT'q#i'rR1Z,lT(a#v(cR(i#yQ-})]Q2U.RQ2|.{Q4{2TQ5l3QQ6t4}Q7U5kQ7y6zQ8S7WR8i8TlhOSj}!n$]%c%f%g%i*o*t/g/jQ%]yR*d%YV$yrs*mR.u*TR*c%WQ$qpR)u$rR)k$lT%az%dT%bz%dT/i*t/j",nodeNames:"⚠ extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:ov,nodeProps:[["closedBy",4,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[hv],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T)X(rZ$UW]#eOY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j)X*{R$P&j$UW]#eO!^%T!_#o%T#p~%T)P+ZV]#eOY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U)P+wO$P&j]#e)P+zROr+Urs,Ts~+U)P,[U$P&j]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e,sU]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e-[O]#e#e-_PO~,n)X-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k)X.VZ$P&j$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/PZ$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/yR$UW]#eO!^%T!_#o%T#p~%T#m0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x3]0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`3]1g]$UW'o3TOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T5b5lU'x5Y$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T)X6jZ$UW]#eOY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w)P8YV]#eOY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T)P8rROw8Twx8{x~8T)P9SU$P&j]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e9kU]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e:QPO~9f)X:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c)X:xZ$P&j$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m;rZ$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k&i=QR!d&a$UWO!^%T!_#o%T#p~%Tk=bR!cc$UWO!^%T!_#o%T#p~%T7V=tU'^4V#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T%w>rSj%o$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu5^$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%T!{@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%T!{@iR!Q!s$UWO!^%T!_#o%T#p~%T!{@yZ$UWk!sO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%T!{AqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{BiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{CVV$UWk!sO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du!{!0cd$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%T!{!1x_$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%T!{!3OR$UWk!sO!^%T!_#o%T#p~%T!{!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%T!{!3}Y$UWk!sO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%T!{!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%T!{!5`X$UWk!sO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%T!{!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%T!{!6z]$UWk!sO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T$u!7|R!]V$UW#m$fO!^%T!_#o%T#p~%T!q!8^R_!i$UWO!^%T!_#o%T#p~%T5w!8rR'bd!a/n#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v$u!9kT!{$m$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%V!:gT'a!R#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T*a!<YV'p#{$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T*[!<vRv*S$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%Tk!={R!Oc$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$a!>pR$UW'f$XO!^%T!_#o%T#p~%T~!?OO!T~5b!?VT'w5Y$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T6X!?oR!S5}nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']$y'g3SOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[cv,sv,av,lv,0,1,2,3,4,5,6,7,8,9,nv],topRules:{Script:[0,7]},dialects:{jsx:12107,ts:12109},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:e=>uv[e]||-1},{term:299,get:e=>dv[e]||-1},{term:63,get:e=>fv[e]||-1}],tokenPrec:12130}),gv=[Af("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Af("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Af("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Af("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Af("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),Af("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),Af("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),Af("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),Af("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Af('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Af('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],mv=new qa,vv=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ov(e){return(t,r)=>{let i=t.node.getChild("VariableDefinition");return i&&r(i,e),!0}}const _v=["FunctionDeclaration"],bv={FunctionDeclaration:Ov("function"),ClassDeclaration:Ov("class"),ClassExpression:()=>!0,EnumDeclaration:Ov("constant"),TypeAliasDeclaration:Ov("type"),NamespaceDeclaration:Ov("namespace"),VariableDefinition(e,t){e.matchContext(_v)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function yv(e,t){let r=mv.get(t);if(r)return r;let i=[],o=!0;function n(t,r){let o=e.sliceString(t.from,t.to);i.push({label:o,type:r})}return t.cursor(xa.IncludeAnonymous).iterate((t=>{if(o)o=!1;else if(t.name){let e=bv[t.name];if(e&&e(t,n)||vv.has(t.name))return!1}else if(t.to-t.from>8192){for(let r of yv(e,t.node))i.push(r);return!1}})),mv.set(t,i),i}const wv=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Sv=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function kv(e){let t=zl(e.state).resolveInner(e.pos,-1);if(Sv.indexOf(t.name)>-1)return null;let r=t.to-t.from<20&&wv.test(e.state.sliceDoc(t.from,t.to));if(!r&&!e.explicit)return null;let i=[];for(let r=t;r;r=r.parent)vv.has(r.name)&&(i=i.concat(yv(e.state.doc,r)));return{options:i,from:r?t.from:e.pos,validFor:wv}}const Cv=Il.define({parser:pv.configure({props:[oc.add({IfStatement:dc({except:/^\s*({|else\b)/}),TryStatement:dc({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,r=/^\s*\}/.test(t),i=/^\s*(case|default)\b/.test(t);return e.baseIndent+(r?0:i?1:2)*e.unit},Block:hc({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":dc({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),pc.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":gc,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),xv=Cv.configure({dialect:"ts"}),Tv=Cv.configure({dialect:"jsx"}),Ev=Cv.configure({dialect:"jsx ts"}),Pv="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map((e=>({label:e,type:"keyword"})));function Av(e={}){let t=e.jsx?e.typescript?Ev:Tv:e.typescript?xv:Cv;return new Vl(t,[Cv.data.of({autocomplete:(r=Sv,i=Id(gv.concat(Pv)),e=>{for(let t=zl(e.state).resolveInner(e.pos,-1);t;t=t.parent)if(r.indexOf(t.name)>-1)return null;return i(e)})}),Cv.data.of({autocomplete:kv}),e.jsx?Lv:[]]);var r,i}function Rv(e,t,r=e.length){if(!t)return"";let i=t.getChild("JSXIdentifier");return i?e.sliceString(i.from,Math.min(i.to,r)):""}const Qv="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Lv=Bn.inputHandler.of(((e,t,r,i)=>{if((Qv?e.composing:e.compositionStarted)||e.state.readOnly||t!=r||">"!=i&&"/"!=i||!Cv.isActiveAt(e.state,t,-1))return!1;let{state:o}=e,n=o.changeByRange((e=>{var t,r,n;let s,{head:a}=e,l=zl(o).resolveInner(a,-1);if("JSXStartTag"==l.name&&(l=l.parent),">"==i&&"JSXFragmentTag"==l.name)return{range:Ie.cursor(a+1),changes:{from:a,insert:"><>"}};if(">"==i&&"JSXIdentifier"==l.name){if("JSXEndTag"!=(null===(r=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===r?void 0:r.name)&&(s=Rv(o.doc,l.parent,a)))return{range:Ie.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==i&&"JSXFragmentTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"JSXEndTag"!=(null===(n=t.lastChild)||void 0===n?void 0:n.name)&&(s=Rv(o.doc,null==t?void 0:t.firstChild,a))){let e=`/${s}>`;return{range:Ie.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!n.changes.empty&&(e.dispatch(n,{userEvent:"input.type",scrollIntoView:!0}),!0)})),$v=["_blank","_self","_top","_parent"],Mv=["ascii","utf-8","utf-16","latin1","latin1"],Dv=["get","post","put","delete"],jv=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bv=["true","false"],Iv={},zv={a:{attrs:{href:null,ping:null,type:null,media:null,target:$v,hreflang:null}},abbr:Iv,acronym:Iv,address:Iv,applet:Iv,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Iv,aside:Iv,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Iv,base:{attrs:{href:null,target:$v}},basefont:Iv,bdi:Iv,bdo:Iv,big:Iv,blockquote:{attrs:{cite:null}},body:Iv,br:Iv,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:jv,formmethod:Dv,formnovalidate:["novalidate"],formtarget:$v,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Iv,center:Iv,cite:Iv,code:Iv,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Iv,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Iv,dir:Iv,div:Iv,dl:Iv,dt:Iv,em:Iv,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Iv,figure:Iv,font:Iv,footer:Iv,form:{attrs:{action:null,name:null,"accept-charset":Mv,autocomplete:["on","off"],enctype:jv,method:Dv,novalidate:["novalidate"],target:$v}},frame:Iv,frameset:Iv,h1:Iv,h2:Iv,h3:Iv,h4:Iv,h5:Iv,h6:Iv,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Iv,hgroup:Iv,hr:Iv,html:{attrs:{manifest:null}},i:Iv,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:jv,formmethod:Dv,formnovalidate:["novalidate"],formtarget:$v,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Iv,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Iv,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Iv,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Mv,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Iv,noframes:Iv,noscript:Iv,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Iv,param:{attrs:{name:null,value:null}},pre:Iv,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Iv,rt:Iv,ruby:Iv,s:Iv,samp:Iv,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Mv}},section:Iv,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Iv,source:{attrs:{src:null,type:null,media:null}},span:Iv,strike:Iv,strong:Iv,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Iv,summary:Iv,sup:Iv,table:Iv,tbody:Iv,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Iv,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Iv,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Iv,time:{attrs:{datetime:null}},title:Iv,tr:Iv,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:Iv,u:Iv,ul:{children:["li","script","template","ul","ol"]},var:Iv,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Iv},Wv={accesskey:null,class:null,contenteditable:Bv,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bv,autocorrect:Bv,autocapitalize:Bv,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bv,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bv,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bv,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bv,"aria-hidden":Bv,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bv,"aria-multiselectable":Bv,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bv,"aria-relevant":null,"aria-required":Bv,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null};class Fv{constructor(e,t){this.tags=Object.assign(Object.assign({},zv),e),this.globalAttrs=Object.assign(Object.assign({},Wv),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}function qv(e,t,r=e.length){if(!t)return"";let i=t.firstChild,o=i&&i.getChild("TagName");return o?e.sliceString(o.from,Math.min(o.to,r)):""}function Gv(e,t=!1){for(let r=e.parent;r;r=r.parent)if("Element"==r.name){if(!t)return r;t=!1}return null}function Uv(e,t,r){let i=r.tags[qv(e,Gv(t,!0))];return(null==i?void 0:i.children)||r.allTags}function Hv(e,t){let r=[];for(let i=t;i=Gv(i);){let o=qv(e,i);if(o&&"CloseTag"==i.lastChild.name)break;o&&r.indexOf(o)<0&&("EndTag"==t.name||t.from>=i.firstChild.to)&&r.push(o)}return r}Fv.default=new Fv;const Nv=/^[:\-\.\w\u00b7-\uffff]*$/;function Xv(e,t,r,i,o){let n=/\s*>/.test(e.sliceDoc(o,o+5))?"":">";return{from:i,to:o,options:Uv(e.doc,r,t).map((e=>({label:e,type:"type"}))).concat(Hv(e.doc,r).map(((e,t)=>({label:"/"+e,apply:"/"+e+n,type:"type",boost:99-t})))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Zv(e,t,r,i){let o=/\s*>/.test(e.sliceDoc(i,i+5))?"":">";return{from:r,to:i,options:Hv(e.doc,t).map(((e,t)=>({label:e,apply:e+o,type:"type",boost:99-t}))),validFor:Nv}}function Vv(e,t){let{state:r,pos:i}=t,o=zl(r).resolveInner(i),n=o.resolve(i,-1);for(let e,t=i;o==n&&(e=n.childBefore(t));){let r=e.lastChild;if(!r||!r.type.isError||r.from<r.to)break;o=n=e,t=r.from}return"TagName"==n.name?n.parent&&/CloseTag$/.test(n.parent.name)?Zv(r,n,n.from,i):Xv(r,e,n,n.from,i):"StartTag"==n.name?Xv(r,e,n,i,i):"StartCloseTag"==n.name||"IncompleteCloseTag"==n.name?Zv(r,n,i,i):t.explicit&&("OpenTag"==n.name||"SelfClosingTag"==n.name)||"AttributeName"==n.name?function(e,t,r,i,o){let n=Gv(r),s=n?t.tags[qv(e.doc,n)]:null;return{from:i,to:o,options:(s&&s.attrs?Object.keys(s.attrs).concat(t.globalAttrNames):t.globalAttrNames).map((e=>({label:e,type:"property"}))),validFor:Nv}}(r,e,n,"AttributeName"==n.name?n.from:i,i):"Is"==n.name||"AttributeValue"==n.name||"UnquotedAttributeValue"==n.name?function(e,t,r,i,o){var n;let s,a=null===(n=r.parent)||void 0===n?void 0:n.getChild("AttributeName"),l=[];if(a){let n=e.sliceDoc(a.from,a.to),c=t.globalAttrs[n];if(!c){let i=Gv(r),o=i?t.tags[qv(e.doc,i)]:null;c=(null==o?void 0:o.attrs)&&o.attrs[n]}if(c){let t=e.sliceDoc(i,o).toLowerCase(),r='"',n='"';/^['"]/.test(t)?(s='"'==t[0]?/^[^"]*$/:/^[^']*$/,r="",n=e.sliceDoc(o,o+1)==t[0]?"":t[0],t=t.slice(1),i++):s=/^[^\s<>='"]*$/;for(let e of c)l.push({label:e,apply:r+e+n,type:"constant"})}}return{from:i,to:o,options:l,validFor:s}}(r,e,n,"Is"==n.name?i:n.from,i):!t.explicit||"Element"!=o.name&&"Text"!=o.name&&"Document"!=o.name?null:function(e,t,r,i){let o=[],n=0;for(let i of Uv(e.doc,r,t))o.push({label:"<"+i,type:"type"});for(let t of Hv(e.doc,r))o.push({label:"</"+t+">",type:"type",boost:99-n++});return{from:i,to:i,options:o,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(r,e,n,i)}function Yv(e){let{extraTags:t,extraGlobalAttributes:r}=e,i=r||t?new Fv(t,r):Fv.default;return e=>Vv(i,e)}const Kv=Il.define({parser:$m.configure({props:[oc.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,r=null;for(let t=e.node;;){let e=t.lastChild;if(!e||"Element"!=e.name||e.to!=t.to)break;r=t=e}return r&&(!(t=r.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(r.from)+e.unit:null}}),pc.add({Element(e){let t=e.firstChild,r=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==r.name?r.from:e.to}:null}})],wrap:jm([{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:Cv.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:tv.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}});function Jv(e={}){let t=Kv;return!1===e.matchClosingTags&&(t=t.configure({dialect:"noMatch"})),new Vl(t,[Kv.data.of({autocomplete:Yv(e)}),!1!==e.autoCloseTags?eO:[],Av().support,new Vl(tv,tv.data.of({autocomplete:ev})).support])}const eO=Bn.inputHandler.of(((e,t,r,i)=>{if(e.composing||e.state.readOnly||t!=r||">"!=i&&"/"!=i||!Kv.isActiveAt(e.state,t,-1))return!1;let{state:o}=e,n=o.changeByRange((e=>{var t,r,n;let s,{head:a}=e,l=zl(o).resolveInner(a,-1);if("TagName"!=l.name&&"StartTag"!=l.name||(l=l.parent),">"==i&&"OpenTag"==l.name){if("CloseTag"!=(null===(r=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===r?void 0:r.name)&&(s=qv(o.doc,l.parent,a)))return{range:Ie.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==i&&"OpenTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"CloseTag"!=(null===(n=t.lastChild)||void 0===n?void 0:n.name)&&(s=qv(o.doc,t,a))){let e=`/${s}>`;return{range:Ie.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!n.changes.empty&&(e.dispatch(n,{userEvent:"input.type",scrollIntoView:!0}),!0)})),tO=Dl({block:{open:"\x3c!--",close:"--\x3e"}}),rO=Tg.configure({props:[pc.add((e=>{if(e.is("Block")&&!e.is("Document"))return(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})),oc.add({Document:()=>null}),Ml.add({Document:tO})]});function iO(e){return new jl(tO,e)}const oO=iO(rO),nO=iO(rO.configure([jg,zg,Ig,Wg]));function sO(e,t){return t.sliceString(e.from,e.from+50)}class aO{constructor(e,t,r,i,o,n,s){this.node=e,this.from=t,this.to=r,this.spaceBefore=i,this.spaceAfter=o,this.type=n,this.item=s}blank(e=!0){let t=this.spaceBefore;if("Blockquote"==this.node.name)t+=">";else for(let e=this.to-this.from-t.length-this.spaceAfter.length;e>0;e--)t+=" ";return t+(e?this.spaceAfter:"")}marker(e,t){let r="OrderedList"==this.node.name?String(+cO(this.item,e)[2]+t):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function lO(e,t,r){let i=[];for(let t=e;t&&"Document"!=t.name;t=t.parent)"ListItem"!=t.name&&"Blockquote"!=t.name||i.push(t);let o=[],n=0;for(let e=i.length-1;e>=0;e--){let s,a=i[e],l=n;if("Blockquote"==a.name&&(s=/^[ \t]*>( ?)/.exec(t.slice(n))))n+=s[0].length,o.push(new aO(a,l,n,"",s[1],">",null));else if("ListItem"==a.name&&"OrderedList"==a.parent.name&&(s=/^([ \t]*)\d+([.)])([ \t]*)/.exec(sO(a,r)))){let e=s[3],t=s[0].length;e.length>=4&&(e=e.slice(0,e.length-4),t-=4),n+=t,o.push(new aO(a.parent,l,n,s[1],e,s[2],a))}else if("ListItem"==a.name&&"BulletList"==a.parent.name&&(s=/^([ \t]*)([-+*])([ \t]{1,4}\[[ xX]\])?([ \t]+)/.exec(sO(a,r)))){let e=s[4],t=s[0].length;e.length>4&&(e=e.slice(0,e.length-4),t-=4);let r=s[2];s[3]&&(r+=s[3].replace(/[xX]/," ")),n+=t,o.push(new aO(a.parent,l,n,s[1],e,r,a))}}return o}function cO(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function hO(e,t,r,i=0){for(let o=-1,n=e;;){if("ListItem"==n.name){let e=cO(n,t),s=+e[2];if(o>=0){if(s!=o+1)return;r.push({from:n.from+e[1].length,to:n.from+e[0].length,insert:String(o+2+i)})}o=s}let e=n.nextSibling;if(!e)break;n=e}}function uO(e){return"QuoteMark"==e.name||"ListMark"==e.name}const dO=[{key:"Enter",run:({state:e,dispatch:t})=>{let r=zl(e),{doc:i}=e,o=null,n=e.changeByRange((t=>{if(!t.empty||!nO.isActiveAt(e,t.from))return o={range:t};let n=t.from,s=i.lineAt(n),a=lO(r.resolveInner(n,-1),s.text,i);for(;a.length&&a[a.length-1].from>n-s.from;)a.pop();if(!a.length)return o={range:t};let l=a[a.length-1];if(l.to-l.spaceAfter.length>n-s.from)return o={range:t};let c=n>=l.to-l.spaceAfter.length&&!/\S/.test(s.text.slice(l.to));if(l.item&&c){if(l.node.firstChild.to>=n||s.from>0&&!/[^\s>]/.test(i.lineAt(s.from-1).text)){let e,t=a.length>1?a[a.length-2]:null,r="";t&&t.item?(e=s.from+t.from,r=t.marker(i,1)):e=s.from+(t?t.to:0);let o=[{from:e,to:n,insert:r}];return"OrderedList"==l.node.name&&hO(l.item,i,o,-2),t&&"OrderedList"==t.node.name&&hO(t.item,i,o),{range:Ie.cursor(e+r.length),changes:o}}{let t="";for(let e=0,r=a.length-2;e<=r;e++)t+=a[e].blank(e<r);return t+=e.lineBreak,{range:Ie.cursor(n+t.length),changes:{from:s.from,insert:t}}}}if("Blockquote"==l.node.name&&c&&s.from){let r=i.lineAt(s.from-1),o=/>\s*$/.exec(r.text);if(o&&o.index==l.from){let i=e.changes([{from:r.from+o.index,to:r.to},{from:s.from+l.from,to:s.to}]);return{range:t.map(i),changes:i}}}let h=[];"OrderedList"==l.node.name&&hO(l.item,i,h);let u=e.lineBreak,d=l.item&&l.item.from<s.from;if(!d||/^[\s\d.)\-+*>]*/.exec(s.text)[0].length>=l.to)for(let e=0,t=a.length-1;e<=t;e++)u+=e!=t||d?a[e].blank():a[e].marker(i,1);let f=n;for(;f>s.from&&/\s/.test(s.text.charAt(f-s.from-1));)f--;return h.push({from:f,to:n,insert:u}),{range:Ie.cursor(f+u.length),changes:h}}));return!o&&(t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0)}},{key:"Backspace",run:({state:e,dispatch:t})=>{let r=zl(e),i=null,o=e.changeByRange((t=>{let o=t.from,{doc:n}=e;if(t.empty&&nO.isActiveAt(e,t.from)){let e=n.lineAt(o),i=lO(function(e,t){let r,i=e.resolveInner(t,-1),o=t;for(uO(i)&&(o=i.from,i=i.parent);r=i.childBefore(o);)if(uO(r))o=r.from;else{if("OrderedList"!=r.name&&"BulletList"!=r.name)break;i=r.lastChild,o=i.to}return i}(r,o),e.text,n);if(i.length){let r=i[i.length-1],n=r.to-r.spaceAfter.length+(r.spaceAfter?1:0);if(o-e.from>n&&!/\S/.test(e.text.slice(n,o-e.from)))return{range:Ie.cursor(e.from+n),changes:{from:e.from+n,to:o}};if(o-e.from==n){let i=e.from+r.from;if(r.item&&r.node.from<r.item.from&&/\S/.test(e.text.slice(r.from,r.to)))return{range:t,changes:{from:i,to:e.from+r.to,insert:r.blank()}};if(i<o)return{range:Ie.cursor(i),changes:{from:i,to:o}}}}}return i={range:t}}));return!i&&(t(e.update(o,{scrollIntoView:!0,userEvent:"delete"})),!0)}}],fO=Jv({matchClosingTags:!1});function pO(e={}){let{codeLanguages:t,defaultCodeLanguage:r,addKeymap:i=!0,base:{parser:o}=oO}=e;if(!(o instanceof eg))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let n,s=e.extensions?[e.extensions]:[],a=[fO.support];r instanceof Vl?(a.push(r.support),n=r.language):r&&(n=r);let l=t||n?(c=t,h=n,e=>{if(e&&c){let t=null;if(e=/\S*/.exec(e)[0],t="function"==typeof c?c(e):Yl.matchLanguageName(c,e,!0),t instanceof Yl)return t.support?t.support.language.parser:ql.getSkippingParser(t.load());if(t)return t.parser}return h?h.parser:null}):void 0;var c,h;return s.push(function(e){let{codeParser:t,htmlParser:r}=e,i=Na(((e,i)=>{let o=e.type.id;if(!t||o!=wp.CodeBlock&&o!=wp.FencedCode){if(r&&(o==wp.HTMLBlock||o==wp.HTMLTag))return{parser:r,overlay:Eg(e.node,e.from,e.to)}}else{let r="";if(o==wp.FencedCode){let t=e.node.getChild(wp.CodeInfo);t&&(r=i.read(t.from,t.to))}let n=t(r);if(n)return{parser:n,overlay:e=>e.type.id==wp.CodeText}}return null}));return{wrap:i}}({codeParser:l,htmlParser:fO.language.parser})),i&&a.push(tt.high(Hn.of(dO))),new Vl(iO(o.configure(s)),a)}const gO=[];function mO(t,r=e){let i;const o=new Set;function s(e){if(n(t,e)&&(t=e,i)){const e=!gO.length;for(const e of o)e[1](),gO.push(e,t);if(e){for(let e=0;e<gO.length;e+=2)gO[e][0](gO[e+1]);gO.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(n,a=e){const l=[n,a];return o.add(l),1===o.size&&(i=r(s)||e),n(t),()=>{o.delete(l),0===o.size&&(i(),i=null)}}}}const vO=mO({name:"Default",font:"Fira Code, Menlo",fontSize:"16pt",textAreaColor:"#454158",backgroundColor:"#22212C",textColor:"#80ffea",borderColor:"#1B1A23",Cyan:"#80FFEA",Green:"#8AFF80",Orange:"#FFCA80",Pink:"#FF80BF",Purple:"#9580FF",Red:"#FF9580",Yellow:"#FFFF80",functionColor:"#9580FF",stringColor:"#8AFF80",constantColor:"#FFCA80",keywordColor:"#FFFF80",highlightBackgroundColor:"#4f4f5f",selectionColor:"#22212C",buttons:[{color:"#80FFEA",id:0},{color:"#8AFF80",id:1},{color:"#FFCA80",id:2},{color:"#FF80BF",id:3},{color:"#9580FF",id:4},{color:"#FF9580",id:5},{color:"blue",id:6},{color:"green",id:7},{color:"red",id:8},{color:"purple",id:9}]});function OO(t){let r,i;return{c(){r=v("div"),w(r,"name","editor"),w(r,"id","CMeditor"),w(r,"style",i="height: "+t[0]+"; width: "+t[1]+"; "+t[2]),w(r,"class","svelte-1p9zuvj")},m(e,i){p(e,r,i),t[6](r)},p(e,[t]){7&t&&i!==(i="height: "+e[0]+"; width: "+e[1]+"; "+e[2])&&w(r,"style",i)},i:e,o:e,d(e){e&&g(r),t[6](null)}}}function _O(e,t,r){let i;s(e,vO,(e=>r(11,i=e)));const o=M();let{height:n=0}=t,{width:a=0}=t,{styling:l=""}=t,{config:c={}}=t,{initFinished:h=!1}=t,u=null,d=null,f=null,p=null,g=null;const m=Bn.theme({"&":{color:i.textColor,backgroundColor:i.textAreaColor,height:n,minHeight:n},".cm-content":{caretColor:i.Cyan,minHeight:n},"&.cm-focused .cm-cursor":{borderLeftColor:i.Cyan},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection":{backgroundColor:i.selectionColor},".cm-panels":{backgroundColor:i.backgroundColor,color:i.textColor},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:i.highlightBackgroundColor},".cm-selectionMatch":{backgroundColor:"#aafe661a"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutter":{minHeight:n},".cm-gutters":{backgroundColor:i.backgroundColor,color:i.green,border:"none"},".cm-activeLineGutter":{backgroundColor:i.highlightBackgroundColor},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid #181a1f",backgroundColor:i.backgroundColor},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:i.highlightBackgroundColor,color:i.textColor}}},{dark:!0});function v(e,t){o(e,{data:t})}function O(e){h&&_(e)}function _(e){null!==f&&(f.destroy(),r(3,u.innerHTML="",u));const t=[Os(),_h(),Jn(),[cs,hs],At.allowMultipleSelections.of(!0),At.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let r=e.newDoc,{head:i}=e.newSelection.main,o=r.lineAt(i);if(i>o.from+200)return e;let n=r.sliceString(o.from,i);if(!t.some((e=>e.test(n))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let r=rc(s,t.from);if(null==r)continue;let i=/^\s*/.exec(t.text)[0],o=tc(s,r);i!=o&&l.push({from:t.from,to:t.from+i.length,insert:o})}return l.length?[e,{changes:l,sequential:!0}]:e})),Ic(Fc,{fallback:!0}),Yc(),[Wf,Df],Zf(),Ts(),As(),ed(),Hn.of([...Ff,...ju,...Ad,...Mh,...Tc,...Vf,...up]),m,Bn.updateListener.of((e=>{e.docChanged&&v("textChange",{value:E(),cursor:T()})}))];switch(c.lineNumbers&&(t.push(function(e={}){let t=Object.assign(Object.assign({},Qc),e),r=new Lc(t,!0),i=new Lc(t,!1),o=Mi.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Zl)!=e.state.facet(Zl)||e.startState.field(wc,!1)!=e.state.field(wc,!1)||zl(e.startState)!=zl(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new jt;for(let o of e.viewportLineBlocks){let n=Sc(e.state,o.from,o.to)?i:vc(e.state,o.from,o.to)?r:null;n&&t.add(o.from,o.from,n)}return t.finish()}}),{domEventHandlers:n}=t;return[o,ta({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||Dt.empty},initialSpacer:()=>new Lc(t,!1),domEventHandlers:Object.assign(Object.assign({},n),{click:(e,t,r)=>{if(n.click&&n.click(e,t,r))return!0;let i=Sc(e.state,t.from,t.to);if(i)return e.dispatch({effects:bc.of(i)}),!0;let o=vc(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:_c.of(o)}),!0)}})}),Ac()]}()),t.push(function(e={}){return[ua.of(e),ia(),pa]}())),c.language){case"markdown":default:t.push(pO());break;case"javascript":t.push(Av())}c.lineWrapping&&t.push(Bn.lineWrapping),c.lineHighlight&&t.push(Ss),d=At.create({doc:e,extensions:t}),f=new Bn({state:d,parent:u})}function b(e){if(void 0!==f){let t=T(),r=f.state.update({changes:[{from:t,insert:e}]});f.dispatch(r)}}function y(){return void 0!==f&&f.hasFocus}function w(e){return void 0!==f?f.docView.domAtPos(e).node.textContent:""}function S(){if(void 0!==f)return f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to)}function k(e){if(void 0!==f){let t=f.state.selection.main.from,r=f.state.update({changes:[{from:f.state.selection.main.from,to:f.state.selection.main.to},{from:t,insert:e}]});f.dispatch(r)}}function C(){if(void 0!==f)return f.state.selection.ranges.some((e=>!e.empty))}function x(e){void 0!==f&&(g=e,f.dispatch({selection:{anchor:g}}))}function T(){return void 0!==f?(g=f.state.selection.main.head,g):0}function E(){if(void 0!==f)return f.state.doc.toString()}function P(){void 0!==f&&f.focus()}function A(){return f}function R(){return d}return L((()=>(_(""),p={getSelection:S,getValue:E,replaceSelection:k,somethingSelected:C,setCursor:x,getCursor:T,setValue:O,getLine:w,focus:P,getEdView:A,getEdState:R,isFocused:y,insertAtCursor:b},v("editorChange",p),P(),()=>{d=null,f=null,p=null}))),e.$$set=e=>{"height"in e&&r(0,n=e.height),"width"in e&&r(1,a=e.width),"styling"in e&&r(2,l=e.styling),"config"in e&&r(4,c=e.config),"initFinished"in e&&r(5,h=e.initFinished)},[n,a,l,u,c,h,function(e){j[e?"unshift":"push"]((()=>{u=e,r(3,u)}))}]}class bO extends ae{constructor(e){super(),se(this,e,_O,OO,n,{height:0,width:1,styling:2,config:4,initFinished:5})}}function yO(e,t,r){const i=e.slice();return i[17]=t[r],i}function wO(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,k=e[17].name+"",C=e[17].email+"";function x(){return e[11](e[17])}function T(){return e[12](e[17])}return{c(){t=v("tr"),r=v("td"),o=O(k),n=_(),s=v("td"),a=O(C),l=_(),c=v("td"),c.textContent="🖋",h=_(),u=v("td"),u.textContent="❌",d=_(),w(c,"class","iconClick svelte-1c11hkb"),w(u,"class","iconClick svelte-1c11hkb")},m(e,i){p(e,t,i),f(t,r),f(r,o),f(t,n),f(t,s),f(s,a),f(t,l),f(t,c),f(t,h),f(t,u),f(t,d),m||(b=[y(c,"click",x),y(u,"click",T)],m=!0)},p(t,r){e=t,1&r&&k!==(k=e[17].name+"")&&S(o,k),1&r&&C!==(C=e[17].email+"")&&S(a,C)},d(e){e&&g(t),m=!1,i(b)}}}function SO(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,S,x,T,E,P,A;return{c(){t=v("div"),r=v("div"),o=v("label"),o.textContent="Name:",n=_(),s=v("input"),a=_(),l=v("div"),c=v("label"),c.textContent="Email:",h=_(),u=v("input"),d=_(),m=v("div"),b=v("button"),S=O("Save"),x=_(),T=v("button"),E=O("Close"),w(o,"for","aename"),w(s,"type","text"),w(s,"id","aename"),C(s,"background-color",e[4].textAreaColor),C(s,"color",e[4].textColor),C(s,"border-color",e[4].borderColor),w(s,"class","svelte-1c11hkb"),w(r,"id","addeditrow"),w(r,"class","svelte-1c11hkb"),w(c,"for","aeemail"),w(u,"type","text"),w(u,"id","aeemail"),C(u,"background-color",e[4].textAreaColor),C(u,"color",e[4].textColor),C(u,"border-color",e[4].borderColor),w(u,"class","svelte-1c11hkb"),w(l,"id","addeditrow"),w(l,"class","svelte-1c11hkb"),C(b,"background-color",e[4].textAreaColor),C(b,"color",e[4].textColor),C(b,"border-color",e[4].borderColor),w(b,"class","svelte-1c11hkb"),C(T,"background-color",e[4].textAreaColor),C(T,"color",e[4].textColor),C(T,"border-color",e[4].borderColor),w(T,"class","svelte-1c11hkb"),w(m,"id","buttonrow"),w(m,"class","svelte-1c11hkb"),w(t,"id","addeditdiv"),C(t,"background-color",e[4].backgroundColor),C(t,"font-family",e[4].font),C(t,"color",e[4].textColor),C(t,"font-size",e[4].fontSize),C(t,"border-color",e[4].textAreaColor),w(t,"class","svelte-1c11hkb")},m(i,g){p(i,t,g),f(t,r),f(r,o),f(r,n),f(r,s),k(s,e[2]),f(t,a),f(t,l),f(l,c),f(l,h),f(l,u),k(u,e[3]),f(t,d),f(t,m),f(m,b),f(b,S),f(m,x),f(m,T),f(T,E),P||(A=[y(s,"input",e[13]),y(u,"input",e[14]),y(b,"click",e[7]),y(T,"click",e[15])],P=!0)},p(e,r){16&r&&C(s,"background-color",e[4].textAreaColor),16&r&&C(s,"color",e[4].textColor),16&r&&C(s,"border-color",e[4].borderColor),4&r&&s.value!==e[2]&&k(s,e[2]),16&r&&C(u,"background-color",e[4].textAreaColor),16&r&&C(u,"color",e[4].textColor),16&r&&C(u,"border-color",e[4].borderColor),8&r&&u.value!==e[3]&&k(u,e[3]),16&r&&C(b,"background-color",e[4].textAreaColor),16&r&&C(b,"color",e[4].textColor),16&r&&C(b,"border-color",e[4].borderColor),16&r&&C(T,"background-color",e[4].textAreaColor),16&r&&C(T,"color",e[4].textColor),16&r&&C(T,"border-color",e[4].borderColor),16&r&&C(t,"background-color",e[4].backgroundColor),16&r&&C(t,"font-family",e[4].font),16&r&&C(t,"color",e[4].textColor),16&r&&C(t,"font-size",e[4].fontSize),16&r&&C(t,"border-color",e[4].textAreaColor)},d(e){e&&g(t),P=!1,i(A)}}}function kO(t){let r,o,n,s,a,l,c,h,u,d,S,k,x,T,E,P,A,R=t[0],Q=[];for(let e=0;e<R.length;e+=1)Q[e]=wO(yO(t,R,e));let L=t[1]&&SO(t);return{c(){r=v("div"),o=v("div"),n=v("table"),s=v("thead"),s.innerHTML="<th>Name</th>  <th>Address</th>  <th></th>  <th></th>",a=_(),l=v("tbody");for(let e=0;e<Q.length;e+=1)Q[e].c();c=_(),h=v("div"),u=v("button"),d=O("New"),S=_(),k=v("button"),x=O("Close"),T=_(),L&&L.c(),E=b(),w(o,"id","tablediv"),w(o,"class","svelte-1c11hkb"),C(u,"background-color",t[4].textAreaColor),C(u,"color",t[4].textColor),C(u,"border-color",t[4].borderColor),w(u,"class","svelte-1c11hkb"),C(k,"background-color",t[4].textAreaColor),C(k,"color",t[4].textColor),C(k,"border-color",t[4].borderColor),w(k,"class","svelte-1c11hkb"),w(h,"id","buttonrow"),w(h,"class","svelte-1c11hkb"),w(r,"id","addressBook"),C(r,"background-color",t[4].backgroundColor),C(r,"font-family",t[4].font),C(r,"color",t[4].textColor),C(r,"font-size",t[4].fontSize),C(r,"border-color",t[4].borderColor),w(r,"class","svelte-1c11hkb")},m(e,i){p(e,r,i),f(r,o),f(o,n),f(n,s),f(n,a),f(n,l);for(let e=0;e<Q.length;e+=1)Q[e].m(l,null);f(r,c),f(r,h),f(h,u),f(u,d),f(h,S),f(h,k),f(k,x),p(e,T,i),L&&L.m(e,i),p(e,E,i),P||(A=[y(u,"click",t[5]),y(k,"click",t[6])],P=!0)},p(e,[t]){if(769&t){let r;for(R=e[0],r=0;r<R.length;r+=1){const i=yO(e,R,r);Q[r]?Q[r].p(i,t):(Q[r]=wO(i),Q[r].c(),Q[r].m(l,null))}for(;r<Q.length;r+=1)Q[r].d(1);Q.length=R.length}16&t&&C(u,"background-color",e[4].textAreaColor),16&t&&C(u,"color",e[4].textColor),16&t&&C(u,"border-color",e[4].borderColor),16&t&&C(k,"background-color",e[4].textAreaColor),16&t&&C(k,"color",e[4].textColor),16&t&&C(k,"border-color",e[4].borderColor),16&t&&C(r,"background-color",e[4].backgroundColor),16&t&&C(r,"font-family",e[4].font),16&t&&C(r,"color",e[4].textColor),16&t&&C(r,"font-size",e[4].fontSize),16&t&&C(r,"border-color",e[4].borderColor),e[1]?L?L.p(e,t):(L=SO(e),L.c(),L.m(E.parentNode,E)):L&&(L.d(1),L=null)},i:e,o:e,d(e){e&&g(r),m(Q,e),e&&g(T),L&&L.d(e),e&&g(E),P=!1,i(A)}}}function CO(e,t,r){let i;s(e,vO,(e=>r(4,i=e)));let{show:o}=t,n=[],a=!1,l="",c="";function h(e){console.log(e),r(2,l=e.name),r(3,c=e.email)}function u(e){e.email=e.email.trim(),r(0,n=n.filter((t=>t.email!==e.email))),fetch("http://localhost:9978/api/emailit/addEmail",{method:"DELETE",headers:{"Content-type":"application/json"},body:{name:"",email:e.email}})}L((()=>{!function(e){fetch("http://localhost:9978/api/emailit/emails",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(0,n=t.emails),void 0!==e&&e()}))}()}));return e.$$set=e=>{"show"in e&&r(10,o=e.show)},[n,a,l,c,i,function(){r(1,a=!0),r(2,l=""),r(3,c="")},function(){r(10,o=!1)},function(){r(3,c=c.trim()),r(2,l=l.trim()),r(0,n=n.filter((e=>e.email!==c))),n.push({name:l,email:c}),r(0,n),fetch("http://localhost:9978/api/emailit/addEmail",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:l,email:c})}),r(1,a=!1)},h,u,o,e=>{h(e)},e=>{u(e)},function(){l=this.value,r(2,l)},function(){c=this.value,r(3,c)},()=>{r(1,a=!1)}]}class xO extends ae{constructor(e){super(),se(this,e,CO,kO,n,{show:10})}}var TO,EO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},PO={exports:{}};TO=PO,function(){function e(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i].defaultValue);return r}var t={},r={},i={},o=e(!0),n="vanilla",s={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:function(){var t=e(!0),r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=!0);return r}()};function a(e,r){var i=r?"Error in "+r+" extension->":"Error in unnamed extension",o={valid:!0,error:""};t.helper.isArray(e)||(e=[e]);for(var n=0;n<e.length;++n){var s=i+" sub-extension "+n+": ",a=e[n];if("object"!=typeof a)return o.valid=!1,o.error=s+"must be an object, but "+typeof a+" given",o;if(!t.helper.isString(a.type))return o.valid=!1,o.error=s+'property "type" must be a string, but '+typeof a.type+" given",o;var l=a.type=a.type.toLowerCase();if("language"===l&&(l=a.type="lang"),"html"===l&&(l=a.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return o.valid=!1,o.error=s+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',o;if("listener"===l){if(t.helper.isUndefined(a.listeners))return o.valid=!1,o.error=s+'. Extensions of type "listener" must have a property called "listeners"',o}else if(t.helper.isUndefined(a.filter)&&t.helper.isUndefined(a.regex))return o.valid=!1,o.error=s+l+' extensions must define either a "regex" property or a "filter" method',o;if(a.listeners){if("object"!=typeof a.listeners)return o.valid=!1,o.error=s+'"listeners" property must be an object but '+typeof a.listeners+" given",o;for(var c in a.listeners)if(a.listeners.hasOwnProperty(c)&&"function"!=typeof a.listeners[c])return o.valid=!1,o.error=s+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof a.listeners[c]+" given",o}if(a.filter){if("function"!=typeof a.filter)return o.valid=!1,o.error=s+'"filter" must be a function, but '+typeof a.filter+" given",o}else if(a.regex){if(t.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return o.valid=!1,o.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",o;if(t.helper.isUndefined(a.replace))return o.valid=!1,o.error=s+'"regex" extensions must implement a replace string or function',o}}return o}function l(e,t){return"¨E"+t.charCodeAt(0)+"E"}t.helper={},t.extensions={},t.setOption=function(e,t){return o[e]=t,this},t.getOption=function(e){return o[e]},t.getOptions=function(){return o},t.resetOptions=function(){o=e(!0)},t.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");t.resetOptions();var r=s[e];for(var i in n=e,r)r.hasOwnProperty(i)&&(o[i]=r[i])},t.getFlavor=function(){return n},t.getFlavorOptions=function(e){if(s.hasOwnProperty(e))return s[e]},t.getDefaultOptions=function(t){return e(t)},t.subParser=function(e,i){if(t.helper.isString(e)){if(void 0===i){if(r.hasOwnProperty(e))return r[e];throw Error("SubParser named "+e+" not registered!")}r[e]=i}},t.extension=function(e,r){if(!t.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=t.helper.stdExtName(e),t.helper.isUndefined(r)){if(!i.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return i[e]}"function"==typeof r&&(r=r()),t.helper.isArray(r)||(r=[r]);var o=a(r,e);if(!o.valid)throw Error(o.error);i[e]=r},t.getAllExtensions=function(){return i},t.removeExtension=function(e){delete i[e]},t.resetExtensions=function(){i={}},t.validateExtension=function(e){var t=a(e,null);return!!t.valid||(console.warn(t.error),!1)},t.hasOwnProperty("helper")||(t.helper={}),t.helper.isString=function(e){return"string"==typeof e||e instanceof String},t.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.helper.isArray=function(e){return Array.isArray(e)},t.helper.isUndefined=function(e){return void 0===e},t.helper.forEach=function(e,r){if(t.helper.isUndefined(e))throw new Error("obj param is required");if(t.helper.isUndefined(r))throw new Error("callback param is required");if(!t.helper.isFunction(r))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(r);else if(t.helper.isArray(e))for(var i=0;i<e.length;i++)r(e[i],i,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var o in e)e.hasOwnProperty(o)&&r(e[o],o,e)}},t.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},t.helper.escapeCharactersCallback=l,t.helper.escapeCharacters=function(e,t,r){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(i="\\\\"+i);var o=new RegExp(i,"g");return e=e.replace(o,l)},t.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var c=function(e,t,r,i){var o,n,s,a,l,c=i||"",h=c.indexOf("g")>-1,u=new RegExp(t+"|"+r,"g"+c.replace(/g/g,"")),d=new RegExp(t,c.replace(/g/g,"")),f=[];do{for(o=0;s=u.exec(e);)if(d.test(s[0]))o++||(a=(n=u.lastIndex)-s[0].length);else if(o&&!--o){l=s.index+s[0].length;var p={left:{start:a,end:n},match:{start:n,end:s.index},right:{start:s.index,end:l},wholeMatch:{start:a,end:l}};if(f.push(p),!h)return f}}while(o&&(u.lastIndex=n));return f};t.helper.matchRecursiveRegExp=function(e,t,r,i){for(var o=c(e,t,r,i),n=[],s=0;s<o.length;++s)n.push([e.slice(o[s].wholeMatch.start,o[s].wholeMatch.end),e.slice(o[s].match.start,o[s].match.end),e.slice(o[s].left.start,o[s].left.end),e.slice(o[s].right.start,o[s].right.end)]);return n},t.helper.replaceRecursiveRegExp=function(e,r,i,o,n){if(!t.helper.isFunction(r)){var s=r;r=function(){return s}}var a=c(e,i,o,n),l=e,h=a.length;if(h>0){var u=[];0!==a[0].wholeMatch.start&&u.push(e.slice(0,a[0].wholeMatch.start));for(var d=0;d<h;++d)u.push(r(e.slice(a[d].wholeMatch.start,a[d].wholeMatch.end),e.slice(a[d].match.start,a[d].match.end),e.slice(a[d].left.start,a[d].left.end),e.slice(a[d].right.start,a[d].right.end))),d<h-1&&u.push(e.slice(a[d].wholeMatch.end,a[d+1].wholeMatch.start));a[h-1].wholeMatch.end<e.length&&u.push(e.slice(a[h-1].wholeMatch.end)),l=u.join("")}return l},t.helper.regexIndexOf=function(e,r,i){if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(r instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var o=e.substring(i||0).search(r);return o>=0?o+(i||0):o},t.helper.splitAtIndex=function(e,r){if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,r),e.substring(r)]},t.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}))},t.helper.padEnd=function(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=r.repeat(t/r.length)),String(e)+r.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),t.helper.regexes={asteriskDashAndColon:/([*_:~])/g},t.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},t.Converter=function(e){var r={},l=[],c=[],h={},u=n,d={parsed:{},raw:"",format:""};function f(e,r){if(r=r||null,t.helper.isString(e)){if(r=e=t.helper.stdExtName(e),t.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,r){"function"==typeof e&&(e=e(new t.Converter)),t.helper.isArray(e)||(e=[e]);var i=a(e,r);if(!i.valid)throw Error(i.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":l.push(e[o]);break;case"output":c.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(t.extensions[e],e);if(t.helper.isUndefined(i[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=i[e]}"function"==typeof e&&(e=e()),t.helper.isArray(e)||(e=[e]);var o=a(e,r);if(!o.valid)throw Error(o.error);for(var n=0;n<e.length;++n){switch(e[n].type){case"lang":l.push(e[n]);break;case"output":c.push(e[n])}if(e[n].hasOwnProperty("listeners"))for(var s in e[n].listeners)e[n].listeners.hasOwnProperty(s)&&p(s,e[n].listeners[s])}}function p(e,r){if(!t.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof r)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof r+" given");h.hasOwnProperty(e)||(h[e]=[]),h[e].push(r)}!function(){for(var i in e=e||{},o)o.hasOwnProperty(i)&&(r[i]=o[i]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.extensions&&t.helper.forEach(r.extensions,f)}(),this._dispatch=function(e,t,r,i){if(h.hasOwnProperty(e))for(var o=0;o<h[e].length;++o){var n=h[e][o](e,t,this,r,i);n&&void 0!==n&&(t=n)}return t},this.listen=function(e,t){return p(e,t),this},this.makeHtml=function(e){if(!e)return e;var i={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:c,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),r.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,r=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(r,"")}(e)),e="\n\n"+e+"\n\n",e=(e=t.subParser("detab")(e,r,i)).replace(/^[ \t]+$/gm,""),t.helper.forEach(l,(function(o){e=t.subParser("runExtension")(o,e,r,i)})),e=t.subParser("metadata")(e,r,i),e=t.subParser("hashPreCodeTags")(e,r,i),e=t.subParser("githubCodeBlocks")(e,r,i),e=t.subParser("hashHTMLBlocks")(e,r,i),e=t.subParser("hashCodeTags")(e,r,i),e=t.subParser("stripLinkDefinitions")(e,r,i),e=t.subParser("blockGamut")(e,r,i),e=t.subParser("unhashHTMLSpans")(e,r,i),e=(e=(e=t.subParser("unescapeSpecialChars")(e,r,i)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=t.subParser("completeHTMLDocument")(e,r,i),t.helper.forEach(c,(function(o){e=t.subParser("runExtension")(o,e,r,i)})),d=i.metadata,e},this.makeMarkdown=this.makeMd=function(e,r){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!r){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");r=window.document}var i=r.createElement("div");i.innerHTML=e;var o={preList:function(e){for(var r=e.querySelectorAll("pre"),i=[],o=0;o<r.length;++o)if(1===r[o].childElementCount&&"code"===r[o].firstChild.tagName.toLowerCase()){var n=r[o].firstChild.innerHTML.trim(),s=r[o].firstChild.getAttribute("data-language")||"";if(""===s)for(var a=r[o].firstChild.className.split(" "),l=0;l<a.length;++l){var c=a[l].match(/^language-(.+)$/);if(null!==c){s=c[1];break}}n=t.helper.unescapeHTMLEntities(n),i.push(n),r[o].outerHTML='<precode language="'+s+'" precodenum="'+o.toString()+'"></precode>'}else i.push(r[o].innerHTML),r[o].innerHTML="",r[o].setAttribute("prenum",o.toString());return i}(i)};!function e(t){for(var r=0;r<t.childNodes.length;++r){var i=t.childNodes[r];3===i.nodeType?/\S/.test(i.nodeValue)||/^[ ]+$/.test(i.nodeValue)?(i.nodeValue=i.nodeValue.split("\n").join(" "),i.nodeValue=i.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(i),--r):1===i.nodeType&&e(i)}}(i);for(var n=i.childNodes,s="",a=0;a<n.length;a++)s+=t.subParser("makeMarkdown.node")(n[a],o);return s},this.setOption=function(e,t){r[e]=t},this.getOption=function(e){return r[e]},this.getOptions=function(){return r},this.addExtension=function(e,t){f(e,t=t||null)},this.useExtension=function(e){f(e)},this.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");var t=s[e];for(var i in u=e,t)t.hasOwnProperty(i)&&(r[i]=t[i])},this.getFlavor=function(){return u},this.removeExtension=function(e){t.helper.isArray(e)||(e=[e]);for(var r=0;r<e.length;++r){for(var i=e[r],o=0;o<l.length;++o)l[o]===i&&l.splice(o,1);for(var n=0;n<c.length;++n)c[n]===i&&c.splice(n,1)}},this.getAllExtensions=function(){return{language:l,output:c}},this.getMetadata=function(e){return e?d.raw:d.parsed},this.getMetadataFormat=function(){return d.format},this._setMetadataPair=function(e,t){d.parsed[e]=t},this._setMetadataFormat=function(e){d.format=e},this._setMetadataRaw=function(e){d.raw=e}},t.subParser("anchors",(function(e,r,i){var o=function(e,o,n,s,a,l,c){if(t.helper.isUndefined(c)&&(c=""),n=n.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)s="";else if(!s){if(n||(n=o.toLowerCase().replace(/ ?\n/g," ")),s="#"+n,t.helper.isUndefined(i.gUrls[n]))return e;s=i.gUrls[n],t.helper.isUndefined(i.gTitles[n])||(c=i.gTitles[n])}var h='<a href="'+(s=s.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(h+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),r.openLinksInNewWindow&&!/^#/.test(s)&&(h+=' rel="noopener noreferrer" target="¨E95Eblank"'),h+=">"+o+"</a>"};return e=(e=(e=(e=(e=i.converter._dispatch("anchors.before",e,r,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,o)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,o)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,o)).replace(/\[([^\[\]]+)]()()()()()/g,o),r.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,i,o,n,s){if("\\"===o)return i+n;if(!t.helper.isString(r.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var a=r.ghMentionsLink.replace(/\{u}/g,s),l="";return r.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),i+'<a href="'+a+'"'+l+">"+n+"</a>"}))),e=i.converter._dispatch("anchors.after",e,r,i)}));var h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,u=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,d=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,f=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,p=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(e){return function(r,i,o,n,s,a,l){var c=o=o.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback),h="",u="",d=i||"",f=l||"";return/^www\./i.test(o)&&(o=o.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&a&&(h=a),e.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="¨E95Eblank"'),d+'<a href="'+o+'"'+u+">"+c+"</a>"+h+f}},m=function(e,r){return function(i,o,n){var s="mailto:";return o=o||"",n=t.subParser("unescapeSpecialChars")(n,e,r),e.encodeEmails?(s=t.helper.encodeEmailAddress(s+n),n=t.helper.encodeEmailAddress(n)):s+=n,o+'<a href="'+s+'">'+n+"</a>"}};t.subParser("autoLinks",(function(e,t,r){return e=(e=(e=r.converter._dispatch("autoLinks.before",e,t,r)).replace(d,g(t))).replace(p,m(t,r)),e=r.converter._dispatch("autoLinks.after",e,t,r)})),t.subParser("simplifiedAutoLinks",(function(e,t,r){return t.simplifiedAutoLink?(e=r.converter._dispatch("simplifiedAutoLinks.before",e,t,r),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(u,g(t)):e.replace(h,g(t))).replace(f,m(t,r)),e=r.converter._dispatch("simplifiedAutoLinks.after",e,t,r)):e})),t.subParser("blockGamut",(function(e,r,i){return e=i.converter._dispatch("blockGamut.before",e,r,i),e=t.subParser("blockQuotes")(e,r,i),e=t.subParser("headers")(e,r,i),e=t.subParser("horizontalRule")(e,r,i),e=t.subParser("lists")(e,r,i),e=t.subParser("codeBlocks")(e,r,i),e=t.subParser("tables")(e,r,i),e=t.subParser("hashHTMLBlocks")(e,r,i),e=t.subParser("paragraphs")(e,r,i),e=i.converter._dispatch("blockGamut.after",e,r,i)})),t.subParser("blockQuotes",(function(e,r,i){e=i.converter._dispatch("blockQuotes.before",e,r,i),e+="\n\n";var o=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return r.splitAdjacentBlockquotes&&(o=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(o,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=t.subParser("githubCodeBlocks")(e,r,i),e=(e=(e=t.subParser("blockGamut")(e,r,i)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var r=t;return r=(r=r.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),t.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",r,i)})),e=i.converter._dispatch("blockQuotes.after",e,r,i)})),t.subParser("codeBlocks",(function(e,r,i){return e=i.converter._dispatch("codeBlocks.before",e,r,i),e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,o,n){var s=o,a=n,l="\n";return s=t.subParser("outdent")(s,r,i),s=t.subParser("encodeCode")(s,r,i),s=(s=(s=t.subParser("detab")(s,r,i)).replace(/^\n+/g,"")).replace(/\n+$/g,""),r.omitExtraWLInCodeBlocks&&(l=""),s="<pre><code>"+s+l+"</code></pre>",t.subParser("hashBlock")(s,r,i)+a})),e=e.replace(/¨0/,""),e=i.converter._dispatch("codeBlocks.after",e,r,i)})),t.subParser("codeSpans",(function(e,r,i){return void 0===(e=i.converter._dispatch("codeSpans.before",e,r,i))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,o,n,s){var a=s;return a=(a=a.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),a=o+"<code>"+(a=t.subParser("encodeCode")(a,r,i))+"</code>",a=t.subParser("hashHTMLSpans")(a,r,i)})),e=i.converter._dispatch("codeSpans.after",e,r,i)})),t.subParser("completeHTMLDocument",(function(e,t,r){if(!t.completeHTMLDocument)return e;e=r.converter._dispatch("completeHTMLDocument.before",e,t,r);var i="html",o="<!DOCTYPE HTML>\n",n="",s='<meta charset="utf-8">\n',a="",l="";for(var c in void 0!==r.metadata.parsed.doctype&&(o="<!DOCTYPE "+r.metadata.parsed.doctype+">\n","html"!==(i=r.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(s='<meta charset="utf-8">')),r.metadata.parsed)if(r.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":n="<title>"+r.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===i||"html5"===i?'<meta charset="'+r.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+r.metadata.parsed.charset+'">\n';break;case"language":case"lang":a=' lang="'+r.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n'}return e=o+"<html"+a+">\n<head>\n"+n+s+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=r.converter._dispatch("completeHTMLDocument.after",e,t,r)})),t.subParser("detab",(function(e,t,r){return e=(e=(e=(e=r.converter._dispatch("detab.before",e,t,r)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var r=t,i=4-r.length%4,o=0;o<i;o++)r+=" ";return r})),e=(e=e.replace(/¨A/g,"    ")).replace(/¨B/g,""),e=r.converter._dispatch("detab.after",e,t,r)})),t.subParser("ellipsis",(function(e,t,r){return t.ellipsis?(e=(e=r.converter._dispatch("ellipsis.before",e,t,r)).replace(/\.\.\./g,"…"),e=r.converter._dispatch("ellipsis.after",e,t,r)):e})),t.subParser("emoji",(function(e,r,i){return r.emoji?(e=(e=i.converter._dispatch("emoji.before",e,r,i)).replace(/:([\S]+?):/g,(function(e,r){return t.helper.emojis.hasOwnProperty(r)?t.helper.emojis[r]:e})),e=i.converter._dispatch("emoji.after",e,r,i)):e})),t.subParser("encodeAmpsAndAngles",(function(e,t,r){return e=(e=(e=(e=(e=r.converter._dispatch("encodeAmpsAndAngles.before",e,t,r)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=r.converter._dispatch("encodeAmpsAndAngles.after",e,t,r)})),t.subParser("encodeBackslashEscapes",(function(e,r,i){return e=(e=(e=i.converter._dispatch("encodeBackslashEscapes.before",e,r,i)).replace(/\\(\\)/g,t.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,t.helper.escapeCharactersCallback),e=i.converter._dispatch("encodeBackslashEscapes.after",e,r,i)})),t.subParser("encodeCode",(function(e,r,i){return e=(e=i.converter._dispatch("encodeCode.before",e,r,i)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,t.helper.escapeCharactersCallback),e=i.converter._dispatch("encodeCode.after",e,r,i)})),t.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,r,i){return e=(e=(e=i.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,r,i)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)})),e=i.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,r,i)})),t.subParser("githubCodeBlocks",(function(e,r,i){return r.ghCodeBlocks?(e=i.converter._dispatch("githubCodeBlocks.before",e,r,i),e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,o,n,s){var a=r.omitExtraWLInCodeBlocks?"":"\n";return s=t.subParser("encodeCode")(s,r,i),s="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+(s=(s=(s=t.subParser("detab")(s,r,i)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+a+"</code></pre>",s=t.subParser("hashBlock")(s,r,i),"\n\n¨G"+(i.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"})),e=e.replace(/¨0/,""),i.converter._dispatch("githubCodeBlocks.after",e,r,i)):e})),t.subParser("hashBlock",(function(e,t,r){return e=(e=r.converter._dispatch("hashBlock.before",e,t,r)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n",e=r.converter._dispatch("hashBlock.after",e,t,r)})),t.subParser("hashCodeTags",(function(e,r,i){return e=i.converter._dispatch("hashCodeTags.before",e,r,i),e=t.helper.replaceRecursiveRegExp(e,(function(e,o,n,s){var a=n+t.subParser("encodeCode")(o,r,i)+s;return"¨C"+(i.gHtmlSpans.push(a)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=i.converter._dispatch("hashCodeTags.after",e,r,i)})),t.subParser("hashElement",(function(e,t,r){return function(e,t){var i=t;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\n¨K"+(r.gHtmlBlocks.push(i)-1)+"K\n\n"}})),t.subParser("hashHTMLBlocks",(function(e,r,i){e=i.converter._dispatch("hashHTMLBlocks.before",e,r,i);var o=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],n=function(e,t,r,o){var n=e;return-1!==r.search(/\bmarkdown\b/)&&(n=r+i.converter.makeHtml(t)+o),"\n\n¨K"+(i.gHtmlBlocks.push(n)-1)+"K\n\n"};r.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var s=0;s<o.length;++s)for(var a,l=new RegExp("^ {0,3}(<"+o[s]+"\\b[^>]*>)","im"),c="<"+o[s]+"\\b[^>]*>",h="</"+o[s]+">";-1!==(a=t.helper.regexIndexOf(e,l));){var u=t.helper.splitAtIndex(e,a),d=t.helper.replaceRecursiveRegExp(u[1],n,c,h,"im");if(d===u[1])break;e=u[0].concat(d)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,r,i)),e=(e=t.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,r,i)),e=i.converter._dispatch("hashHTMLBlocks.after",e,r,i)})),t.subParser("hashHTMLSpans",(function(e,t,r){function i(e){return"¨C"+(r.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=r.converter._dispatch("hashHTMLSpans.before",e,t,r)).replace(/<[^>]+?\/>/gi,(function(e){return i(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return i(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return i(e)}))).replace(/<[^>]+?>/gi,(function(e){return i(e)})),e=r.converter._dispatch("hashHTMLSpans.after",e,t,r)})),t.subParser("unhashHTMLSpans",(function(e,t,r){e=r.converter._dispatch("unhashHTMLSpans.before",e,t,r);for(var i=0;i<r.gHtmlSpans.length;++i){for(var o=r.gHtmlSpans[i],n=0;/¨C(\d+)C/.test(o);){var s=RegExp.$1;if(o=o.replace("¨C"+s+"C",r.gHtmlSpans[s]),10===n){console.error("maximum nesting of 10 spans reached!!!");break}++n}e=e.replace("¨C"+i+"C",o)}return e=r.converter._dispatch("unhashHTMLSpans.after",e,t,r)})),t.subParser("hashPreCodeTags",(function(e,r,i){return e=i.converter._dispatch("hashPreCodeTags.before",e,r,i),e=t.helper.replaceRecursiveRegExp(e,(function(e,o,n,s){var a=n+t.subParser("encodeCode")(o,r,i)+s;return"\n\n¨G"+(i.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=i.converter._dispatch("hashPreCodeTags.after",e,r,i)})),t.subParser("headers",(function(e,r,i){e=i.converter._dispatch("headers.before",e,r,i);var o=isNaN(parseInt(r.headerLevelStart))?1:parseInt(r.headerLevelStart),n=r.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,s=r.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(n,(function(e,n){var s=t.subParser("spanGamut")(n,r,i),a=r.noHeaderId?"":' id="'+l(n)+'"',c="<h"+o+a+">"+s+"</h"+o+">";return t.subParser("hashBlock")(c,r,i)}))).replace(s,(function(e,n){var s=t.subParser("spanGamut")(n,r,i),a=r.noHeaderId?"":' id="'+l(n)+'"',c=o+1,h="<h"+c+a+">"+s+"</h"+c+">";return t.subParser("hashBlock")(h,r,i)}));var a=r.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var o,n;if(r.customizedHeaderId){var s=e.match(/\{([^{]+?)}\s*$/);s&&s[1]&&(e=s[1])}return o=e,n=t.helper.isString(r.prefixHeaderId)?r.prefixHeaderId:!0===r.prefixHeaderId?"section-":"",r.rawPrefixHeaderId||(o=n+o),o=r.ghCompatibleHeaderId?o.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():r.rawHeaderId?o.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():o.replace(/[^\w]/g,"").toLowerCase(),r.rawPrefixHeaderId&&(o=n+o),i.hashLinkCounts[o]?o=o+"-"+i.hashLinkCounts[o]++:i.hashLinkCounts[o]=1,o}return e=e.replace(a,(function(e,n,s){var a=s;r.customizedHeaderId&&(a=s.replace(/\s?\{([^{]+?)}\s*$/,""));var c=t.subParser("spanGamut")(a,r,i),h=r.noHeaderId?"":' id="'+l(s)+'"',u=o-1+n.length,d="<h"+u+h+">"+c+"</h"+u+">";return t.subParser("hashBlock")(d,r,i)})),e=i.converter._dispatch("headers.after",e,r,i)})),t.subParser("horizontalRule",(function(e,r,i){e=i.converter._dispatch("horizontalRule.before",e,r,i);var o=t.subParser("hashBlock")("<hr />",r,i);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,o)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,o)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,o),e=i.converter._dispatch("horizontalRule.after",e,r,i)})),t.subParser("images",(function(e,r,i){function o(e,r,o,n,s,a,l,c){var h=i.gUrls,u=i.gTitles,d=i.gDimensions;if(o=o.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)n="";else if(""===n||null===n){if(""!==o&&null!==o||(o=r.toLowerCase().replace(/ ?\n/g," ")),n="#"+o,t.helper.isUndefined(h[o]))return e;n=h[o],t.helper.isUndefined(u[o])||(c=u[o]),t.helper.isUndefined(d[o])||(s=d[o].width,a=d[o].height)}r=r.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback);var f='<img src="'+(n=n.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'" alt="'+r+'"';return c&&t.helper.isString(c)&&(f+=' title="'+(c=c.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),s&&a&&(f+=' width="'+(s="*"===s?"auto":s)+'"',f+=' height="'+(a="*"===a?"auto":a)+'"'),f+=" />"}return e=(e=(e=(e=(e=(e=i.converter._dispatch("images.before",e,r,i)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,o)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,r,i,n,s,a,l){return o(e,t,r,i=i.replace(/\s/g,""),n,s,0,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,o)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,o)).replace(/!\[([^\[\]]+)]()()()()()/g,o),e=i.converter._dispatch("images.after",e,r,i)})),t.subParser("italicsAndBold",(function(e,t,r){function i(e,t,r){return t+e+r}return e=r.converter._dispatch("italicsAndBold.before",e,t,r),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return i(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return i(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return i(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,r){return i(r,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,r){return i(r,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,r){return i(r,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e})),e=r.converter._dispatch("italicsAndBold.after",e,t,r)})),t.subParser("lists",(function(e,r,i){function o(e,o){i.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return r.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(n,(function(e,o,n,a,l,c,h){h=h&&""!==h.trim();var u=t.subParser("outdent")(l,r,i),d="";return c&&r.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return h&&(e+=" checked"),e+=">"}))),u=u.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),o||u.search(/\n{2,}/)>-1?(u=t.subParser("githubCodeBlocks")(u,r,i),u=t.subParser("blockGamut")(u,r,i)):(u=(u=t.subParser("lists")(u,r,i)).replace(/\n$/,""),u=(u=t.subParser("hashHTMLBlocks")(u,r,i)).replace(/\n\n+/g,"\n\n"),u=s?t.subParser("paragraphs")(u,r,i):t.subParser("spanGamut")(u,r,i)),u="<li"+d+">"+(u=u.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),i.gListLevel--,o&&(e=e.replace(/\s+$/,"")),e}function n(e,t){if("ol"===t){var r=e.match(/^ *(\d+)\./);if(r&&"1"!==r[1])return' start="'+r[1]+'"'}return""}function s(e,t,i){var s=r.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,a=r.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===t?s:a,c="";if(-1!==e.search(l))!function r(h){var u=h.search(l),d=n(e,t);-1!==u?(c+="\n\n<"+t+d+">\n"+o(h.slice(0,u),!!i)+"</"+t+">\n",l="ul"==(t="ul"===t?"ol":"ul")?s:a,r(h.slice(u))):c+="\n\n<"+t+d+">\n"+o(h,!!i)+"</"+t+">\n"}(e);else{var h=n(e,t);c="\n\n<"+t+h+">\n"+o(e,!!i)+"</"+t+">\n"}return c}return e=i.converter._dispatch("lists.before",e,r,i),e+="¨0",e=(e=i.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r){return s(t,r.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r,i){return s(r,i.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=i.converter._dispatch("lists.after",e,r,i)})),t.subParser("metadata",(function(e,t,r){if(!t.metadata)return e;function i(e){r.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,i){return r.metadata.parsed[t]=i,""}))}return e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,r){return i(r),"¨M"})),e=e.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,o){return t&&(r.metadata.format=t),i(o),"¨M"})),e=e.replace(/¨M/g,""),e=r.converter._dispatch("metadata.after",e,t,r)})),t.subParser("outdent",(function(e,t,r){return e=(e=(e=r.converter._dispatch("outdent.before",e,t,r)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=r.converter._dispatch("outdent.after",e,t,r)})),t.subParser("paragraphs",(function(e,r,i){for(var o=(e=(e=(e=i.converter._dispatch("paragraphs.before",e,r,i)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),n=[],s=o.length,a=0;a<s;a++){var l=o[a];l.search(/¨(K|G)(\d+)\1/g)>=0?n.push(l):l.search(/\S/)>=0&&(l=(l=t.subParser("spanGamut")(l,r,i)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",n.push(l))}for(s=n.length,a=0;a<s;a++){for(var c="",h=n[a],u=!1;/¨(K|G)(\d+)\1/.test(h);){var d=RegExp.$1,f=RegExp.$2;c=(c="K"===d?i.gHtmlBlocks[f]:u?t.subParser("encodeCode")(i.ghCodeBlocks[f].text,r,i):i.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),h=h.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(h)&&(u=!0)}n[a]=h}return e=(e=(e=n.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),i.converter._dispatch("paragraphs.after",e,r,i)})),t.subParser("runExtension",(function(e,t,r,i){if(e.filter)t=e.filter(t,i.converter,r);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t})),t.subParser("spanGamut",(function(e,r,i){return e=i.converter._dispatch("spanGamut.before",e,r,i),e=t.subParser("codeSpans")(e,r,i),e=t.subParser("escapeSpecialCharsWithinTagAttributes")(e,r,i),e=t.subParser("encodeBackslashEscapes")(e,r,i),e=t.subParser("images")(e,r,i),e=t.subParser("anchors")(e,r,i),e=t.subParser("autoLinks")(e,r,i),e=t.subParser("simplifiedAutoLinks")(e,r,i),e=t.subParser("emoji")(e,r,i),e=t.subParser("underline")(e,r,i),e=t.subParser("italicsAndBold")(e,r,i),e=t.subParser("strikethrough")(e,r,i),e=t.subParser("ellipsis")(e,r,i),e=t.subParser("hashHTMLSpans")(e,r,i),e=t.subParser("encodeAmpsAndAngles")(e,r,i),r.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=i.converter._dispatch("spanGamut.after",e,r,i)})),t.subParser("strikethrough",(function(e,r,i){return r.strikethrough&&(e=(e=i.converter._dispatch("strikethrough.before",e,r,i)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,o){return function(e){return r.simplifiedAutoLink&&(e=t.subParser("simplifiedAutoLinks")(e,r,i)),"<del>"+e+"</del>"}(o)})),e=i.converter._dispatch("strikethrough.after",e,r,i)),e})),t.subParser("stripLinkDefinitions",(function(e,r,i){var o=function(o,n,s,a,l,c,h){return n=n.toLowerCase(),e.toLowerCase().split(n).length-1<2?o:(s.match(/^data:.+?\/.+?;base64,/)?i.gUrls[n]=s.replace(/\s/g,""):i.gUrls[n]=t.subParser("encodeAmpsAndAngles")(s,r,i),c?c+h:(h&&(i.gTitles[n]=h.replace(/"|'/g,"&quot;")),r.parseImgDimensions&&a&&l&&(i.gDimensions[n]={width:a,height:l}),""))};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,o)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,o)).replace(/¨0/,"")})),t.subParser("tables",(function(e,r,i){if(!r.tables)return e;function o(e,o){var n="";return e=e.trim(),(r.tablesHeaderId||r.tableHeaderId)&&(n=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),"<th"+n+o+">"+(e=t.subParser("spanGamut")(e,r,i))+"</th>\n"}function n(e){var n,s=e.split("\n");for(n=0;n<s.length;++n)/^ {0,3}\|/.test(s[n])&&(s[n]=s[n].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(s[n])&&(s[n]=s[n].replace(/\|[ \t]*$/,"")),s[n]=t.subParser("codeSpans")(s[n],r,i);var a,l,c=s[0].split("|").map((function(e){return e.trim()})),h=s[1].split("|").map((function(e){return e.trim()})),u=[],d=[],f=[],p=[];for(s.shift(),s.shift(),n=0;n<s.length;++n)""!==s[n].trim()&&u.push(s[n].split("|").map((function(e){return e.trim()})));if(c.length<h.length)return e;for(n=0;n<h.length;++n)f.push((a=h[n],/^:[ \t]*--*$/.test(a)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""));for(n=0;n<c.length;++n)t.helper.isUndefined(f[n])&&(f[n]=""),d.push(o(c[n],f[n]));for(n=0;n<u.length;++n){for(var g=[],m=0;m<d.length;++m)t.helper.isUndefined(u[n][m]),g.push((l=u[n][m],"<td"+f[m]+">"+t.subParser("spanGamut")(l,r,i)+"</td>\n"));p.push(g)}return function(e,t){for(var r="<table>\n<thead>\n<tr>\n",i=e.length,o=0;o<i;++o)r+=e[o];for(r+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){r+="<tr>\n";for(var n=0;n<i;++n)r+=t[o][n];r+="</tr>\n"}return r+"</tbody>\n</table>\n"}(d,p)}return e=(e=(e=(e=i.converter._dispatch("tables.before",e,r,i)).replace(/\\(\|)/g,t.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,n)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,n),e=i.converter._dispatch("tables.after",e,r,i)})),t.subParser("underline",(function(e,r,i){return r.underline?(e=i.converter._dispatch("underline.before",e,r,i),e=(e=r.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,t.helper.escapeCharactersCallback),e=i.converter._dispatch("underline.after",e,r,i)):e})),t.subParser("unescapeSpecialChars",(function(e,t,r){return e=(e=r.converter._dispatch("unescapeSpecialChars.before",e,t,r)).replace(/¨E(\d+)E/g,(function(e,t){var r=parseInt(t);return String.fromCharCode(r)})),e=r.converter._dispatch("unescapeSpecialChars.after",e,t,r)})),t.subParser("makeMarkdown.blockquote",(function(e,r){var i="";if(e.hasChildNodes())for(var o=e.childNodes,n=o.length,s=0;s<n;++s){var a=t.subParser("makeMarkdown.node")(o[s],r);""!==a&&(i+=a)}return i="> "+(i=i.trim()).split("\n").join("\n> ")})),t.subParser("makeMarkdown.codeBlock",(function(e,t){var r=e.getAttribute("language"),i=e.getAttribute("precodenum");return"```"+r+"\n"+t.preList[i]+"\n```"})),t.subParser("makeMarkdown.codeSpan",(function(e){return"`"+e.innerHTML+"`"})),t.subParser("makeMarkdown.emphasis",(function(e,r){var i="";if(e.hasChildNodes()){i+="*";for(var o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);i+="*"}return i})),t.subParser("makeMarkdown.header",(function(e,r,i){var o=new Array(i+1).join("#"),n="";if(e.hasChildNodes()){n=o+" ";for(var s=e.childNodes,a=s.length,l=0;l<a;++l)n+=t.subParser("makeMarkdown.node")(s[l],r)}return n})),t.subParser("makeMarkdown.hr",(function(){return"---"})),t.subParser("makeMarkdown.image",(function(e){var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),t.subParser("makeMarkdown.links",(function(e,r){var i="";if(e.hasChildNodes()&&e.hasAttribute("href")){var o=e.childNodes,n=o.length;i="[";for(var s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);i+="](",i+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(i+=' "'+e.getAttribute("title")+'"'),i+=")"}return i})),t.subParser("makeMarkdown.list",(function(e,r,i){var o="";if(!e.hasChildNodes())return"";for(var n=e.childNodes,s=n.length,a=e.getAttribute("start")||1,l=0;l<s;++l)void 0!==n[l].tagName&&"li"===n[l].tagName.toLowerCase()&&(o+=("ol"===i?a.toString()+". ":"- ")+t.subParser("makeMarkdown.listItem")(n[l],r),++a);return(o+="\n\x3c!-- --\x3e\n").trim()})),t.subParser("makeMarkdown.listItem",(function(e,r){for(var i="",o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);return/\n$/.test(i)?i=i.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):i+="\n",i})),t.subParser("makeMarkdown.node",(function(e,r,i){i=i||!1;var o="";if(3===e.nodeType)return t.subParser("makeMarkdown.txt")(e,r);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":i||(o=t.subParser("makeMarkdown.header")(e,r,1)+"\n\n");break;case"h2":i||(o=t.subParser("makeMarkdown.header")(e,r,2)+"\n\n");break;case"h3":i||(o=t.subParser("makeMarkdown.header")(e,r,3)+"\n\n");break;case"h4":i||(o=t.subParser("makeMarkdown.header")(e,r,4)+"\n\n");break;case"h5":i||(o=t.subParser("makeMarkdown.header")(e,r,5)+"\n\n");break;case"h6":i||(o=t.subParser("makeMarkdown.header")(e,r,6)+"\n\n");break;case"p":i||(o=t.subParser("makeMarkdown.paragraph")(e,r)+"\n\n");break;case"blockquote":i||(o=t.subParser("makeMarkdown.blockquote")(e,r)+"\n\n");break;case"hr":i||(o=t.subParser("makeMarkdown.hr")(e,r)+"\n\n");break;case"ol":i||(o=t.subParser("makeMarkdown.list")(e,r,"ol")+"\n\n");break;case"ul":i||(o=t.subParser("makeMarkdown.list")(e,r,"ul")+"\n\n");break;case"precode":i||(o=t.subParser("makeMarkdown.codeBlock")(e,r)+"\n\n");break;case"pre":i||(o=t.subParser("makeMarkdown.pre")(e,r)+"\n\n");break;case"table":i||(o=t.subParser("makeMarkdown.table")(e,r)+"\n\n");break;case"code":o=t.subParser("makeMarkdown.codeSpan")(e,r);break;case"em":case"i":o=t.subParser("makeMarkdown.emphasis")(e,r);break;case"strong":case"b":o=t.subParser("makeMarkdown.strong")(e,r);break;case"del":o=t.subParser("makeMarkdown.strikethrough")(e,r);break;case"a":o=t.subParser("makeMarkdown.links")(e,r);break;case"img":o=t.subParser("makeMarkdown.image")(e,r);break;default:o=e.outerHTML+"\n\n"}return o})),t.subParser("makeMarkdown.paragraph",(function(e,r){var i="";if(e.hasChildNodes())for(var o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);return i=i.trim()})),t.subParser("makeMarkdown.pre",(function(e,t){var r=e.getAttribute("prenum");return"<pre>"+t.preList[r]+"</pre>"})),t.subParser("makeMarkdown.strikethrough",(function(e,r){var i="";if(e.hasChildNodes()){i+="~~";for(var o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);i+="~~"}return i})),t.subParser("makeMarkdown.strong",(function(e,r){var i="";if(e.hasChildNodes()){i+="**";for(var o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r);i+="**"}return i})),t.subParser("makeMarkdown.table",(function(e,r){var i,o,n="",s=[[],[]],a=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(i=0;i<a.length;++i){var c=t.subParser("makeMarkdown.tableCell")(a[i],r),h="---";if(a[i].hasAttribute("style"))switch(a[i].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":h=":---";break;case"text-align:right;":h="---:";break;case"text-align:center;":h=":---:"}s[0][i]=c.trim(),s[1][i]=h}for(i=0;i<l.length;++i){var u=s.push([])-1,d=l[i].getElementsByTagName("td");for(o=0;o<a.length;++o){var f=" ";void 0!==d[o]&&(f=t.subParser("makeMarkdown.tableCell")(d[o],r)),s[u].push(f)}}var p=3;for(i=0;i<s.length;++i)for(o=0;o<s[i].length;++o){var g=s[i][o].length;g>p&&(p=g)}for(i=0;i<s.length;++i){for(o=0;o<s[i].length;++o)1===i?":"===s[i][o].slice(-1)?s[i][o]=t.helper.padEnd(s[i][o].slice(-1),p-1,"-")+":":s[i][o]=t.helper.padEnd(s[i][o],p,"-"):s[i][o]=t.helper.padEnd(s[i][o],p);n+="| "+s[i].join(" | ")+" |\n"}return n.trim()})),t.subParser("makeMarkdown.tableCell",(function(e,r){var i="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,n=o.length,s=0;s<n;++s)i+=t.subParser("makeMarkdown.node")(o[s],r,!0);return i.trim()})),t.subParser("makeMarkdown.txt",(function(e){var r=e.nodeValue;return r=(r=r.replace(/ +/g," ")).replace(/¨NBSP;/g," "),r=(r=(r=(r=(r=(r=(r=(r=(r=t.helper.unescapeHTMLEntities(r)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")})),TO.exports?TO.exports=t:this.showdown=t}.call(EO);var AO=PO.exports;const RO=mO("emailit"),QO=mO(void 0),LO=mO({to:"",subject:"",body:""}),$O=mO(void 0),MO=mO(void 0),DO=mO(!1),jO=mO(!1);function BO(e,t,r){const i=e.slice();return i[96]=t[r],i}function IO(e,t,r){const i=e.slice();return i[96]=t[r],i}function zO(e,t,r){const i=e.slice();return i[101]=t[r],i}function WO(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,S,x,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W,F,q,G,U,H,N,X,Z,V,Y,K,J,ee,te,re,ie,oe,ne,se;return{c(){t=v("div"),r=v("label"),r.textContent="Default:",o=_(),n=v("input"),s=_(),a=v("label"),a.textContent="Name of Account:",l=_(),c=v("input"),h=_(),u=v("label"),u.textContent="From Email:",d=_(),m=v("input"),b=_(),S=v("label"),S.textContent="Address of SMPT Server:",x=_(),T=v("input"),E=_(),P=v("label"),P.textContent="SMPT Server Port:",A=_(),R=v("input"),Q=_(),L=v("label"),L.textContent="User Name:",$=_(),M=v("input"),D=_(),j=v("label"),j.textContent="Password:",B=_(),I=v("input"),z=_(),W=v("label"),W.textContent="Signiture:",F=_(),q=v("textarea"),G=_(),U=v("label"),U.textContent="Header HTML:",H=_(),N=v("textarea"),X=_(),Z=v("label"),Z.textContent="Footer HTML:",V=_(),Y=v("textarea"),K=_(),J=v("div"),ee=v("button"),te=O("Save"),re=_(),ie=v("button"),oe=O("Cancel"),w(r,"for","accountDefaultInput"),w(r,"class","newAccountLabel svelte-1fv5snm"),w(n,"id","accountDefaultInput"),w(n,"type","checkbox"),w(n,"class","svelte-1fv5snm"),w(a,"for","accountNameInput"),w(a,"class","newAccountLabel svelte-1fv5snm"),w(c,"id","accountNameInput"),C(c,"background-color",e[28].textAreaColor),C(c,"color",e[28].textColor),C(c,"border-color",e[28].borderColor),w(c,"class","svelte-1fv5snm"),w(u,"for","accountFromInput"),w(u,"class","newAccountLabel svelte-1fv5snm"),w(m,"id","accountFromInput"),C(m,"background-color",e[28].textAreaColor),C(m,"color",e[28].textColor),C(m,"border-color",e[28].borderColor),w(m,"class","svelte-1fv5snm"),w(S,"for","accountSmptServerInput"),w(S,"class","newAccountLabel svelte-1fv5snm"),w(T,"id","accountSmptServerInput"),C(T,"background-color",e[28].textAreaColor),C(T,"color",e[28].textColor),C(T,"border-color",e[28].borderColor),w(T,"class","svelte-1fv5snm"),w(P,"for","accountPortInput"),w(P,"class","newAccountLabel svelte-1fv5snm"),w(R,"id","accountPortInput"),C(R,"background-color",e[28].textAreaColor),C(R,"color",e[28].textColor),C(R,"border-color",e[28].borderColor),w(R,"class","svelte-1fv5snm"),w(L,"for","accountUsernameInput"),w(L,"class","newAccountLabel svelte-1fv5snm"),w(M,"id","accountUsernameInput"),C(M,"background-color",e[28].textAreaColor),C(M,"color",e[28].textColor),C(M,"border-color",e[28].borderColor),w(M,"class","svelte-1fv5snm"),w(j,"for","accountPasswordInput"),w(j,"class","newAccountLabel svelte-1fv5snm"),w(I,"id","accountPasswordInput"),C(I,"background-color",e[28].textAreaColor),C(I,"color",e[28].textColor),C(I,"border-color",e[28].borderColor),w(I,"class","svelte-1fv5snm"),w(W,"for","accountSigInput"),w(W,"class","newAccountLabel svelte-1fv5snm"),w(q,"id","accountSigInput"),C(q,"background-color",e[28].textAreaColor),C(q,"color",e[28].textColor),C(q,"border-color",e[28].borderColor),w(q,"class","svelte-1fv5snm"),w(U,"for","accountHeaderHTMLInput"),w(U,"class","newAccountLabel svelte-1fv5snm"),w(N,"id","accountHeaderHTMLInput"),C(N,"background-color",e[28].textAreaColor),C(N,"color",e[28].textColor),C(N,"border-color",e[28].borderColor),w(N,"class","svelte-1fv5snm"),w(Z,"for","accountFooterHTMLInput"),w(Z,"class","newAccountLabel svelte-1fv5snm"),w(Y,"id","accountFooterHTMLInput"),C(Y,"background-color",e[28].textAreaColor),C(Y,"color",e[28].textColor),C(Y,"border-color",e[28].borderColor),w(Y,"class","svelte-1fv5snm"),w(ee,"id","save"),C(ee,"background-color",e[28].textAreaColor),C(ee,"color",e[28].textColor),C(ee,"border-color",e[28].borderColor),w(ee,"class","svelte-1fv5snm"),w(ie,"id","cancel"),C(ie,"background-color",e[28].textAreaColor),C(ie,"color",e[28].textColor),C(ie,"border-color",e[28].borderColor),w(ie,"class","svelte-1fv5snm"),w(J,"id","buttonrow"),C(J,"grid-column","1 / span 2"),w(J,"class","svelte-1fv5snm"),w(t,"id","newAccountDialog"),C(t,"background-color",e[28].backgroundColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(i,g){p(i,t,g),f(t,r),f(t,o),f(t,n),n.checked=e[16],f(t,s),f(t,a),f(t,l),f(t,c),k(c,e[8]),f(t,h),f(t,u),f(t,d),f(t,m),k(m,e[7]),f(t,b),f(t,S),f(t,x),f(t,T),k(T,e[10]),f(t,E),f(t,P),f(t,A),f(t,R),k(R,e[12]),f(t,Q),f(t,L),f(t,$),f(t,M),k(M,e[9]),f(t,D),f(t,j),f(t,B),f(t,I),k(I,e[11]),f(t,z),f(t,W),f(t,F),f(t,q),k(q,e[13]),f(t,G),f(t,U),f(t,H),f(t,N),k(N,e[14]),f(t,X),f(t,Z),f(t,V),f(t,Y),k(Y,e[15]),f(t,K),f(t,J),f(J,ee),f(ee,te),f(J,re),f(J,ie),f(ie,oe),ne||(se=[y(n,"change",e[53]),y(c,"input",e[54]),y(m,"input",e[55]),y(T,"input",e[56]),y(R,"input",e[57]),y(M,"input",e[58]),y(I,"input",e[59]),y(q,"input",e[60]),y(N,"input",e[61]),y(Y,"input",e[62]),y(ee,"click",e[43]),y(ie,"click",e[45])],ne=!0)},p(e,r){65536&r[0]&&(n.checked=e[16]),268435456&r[0]&&C(c,"background-color",e[28].textAreaColor),268435456&r[0]&&C(c,"color",e[28].textColor),268435456&r[0]&&C(c,"border-color",e[28].borderColor),256&r[0]&&c.value!==e[8]&&k(c,e[8]),268435456&r[0]&&C(m,"background-color",e[28].textAreaColor),268435456&r[0]&&C(m,"color",e[28].textColor),268435456&r[0]&&C(m,"border-color",e[28].borderColor),128&r[0]&&m.value!==e[7]&&k(m,e[7]),268435456&r[0]&&C(T,"background-color",e[28].textAreaColor),268435456&r[0]&&C(T,"color",e[28].textColor),268435456&r[0]&&C(T,"border-color",e[28].borderColor),1024&r[0]&&T.value!==e[10]&&k(T,e[10]),268435456&r[0]&&C(R,"background-color",e[28].textAreaColor),268435456&r[0]&&C(R,"color",e[28].textColor),268435456&r[0]&&C(R,"border-color",e[28].borderColor),4096&r[0]&&R.value!==e[12]&&k(R,e[12]),268435456&r[0]&&C(M,"background-color",e[28].textAreaColor),268435456&r[0]&&C(M,"color",e[28].textColor),268435456&r[0]&&C(M,"border-color",e[28].borderColor),512&r[0]&&M.value!==e[9]&&k(M,e[9]),268435456&r[0]&&C(I,"background-color",e[28].textAreaColor),268435456&r[0]&&C(I,"color",e[28].textColor),268435456&r[0]&&C(I,"border-color",e[28].borderColor),2048&r[0]&&I.value!==e[11]&&k(I,e[11]),268435456&r[0]&&C(q,"background-color",e[28].textAreaColor),268435456&r[0]&&C(q,"color",e[28].textColor),268435456&r[0]&&C(q,"border-color",e[28].borderColor),8192&r[0]&&k(q,e[13]),268435456&r[0]&&C(N,"background-color",e[28].textAreaColor),268435456&r[0]&&C(N,"color",e[28].textColor),268435456&r[0]&&C(N,"border-color",e[28].borderColor),16384&r[0]&&k(N,e[14]),268435456&r[0]&&C(Y,"background-color",e[28].textAreaColor),268435456&r[0]&&C(Y,"color",e[28].textColor),268435456&r[0]&&C(Y,"border-color",e[28].borderColor),32768&r[0]&&k(Y,e[15]),268435456&r[0]&&C(ee,"background-color",e[28].textAreaColor),268435456&r[0]&&C(ee,"color",e[28].textColor),268435456&r[0]&&C(ee,"border-color",e[28].borderColor),268435456&r[0]&&C(ie,"background-color",e[28].textAreaColor),268435456&r[0]&&C(ie,"color",e[28].textColor),268435456&r[0]&&C(ie,"border-color",e[28].borderColor),268435456&r[0]&&C(t,"background-color",e[28].backgroundColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),ne=!1,i(se)}}}function FO(e){let t,r,o,n,s,a,l,c,h,u,d,b,S,k,x,T,E,P,A,R,Q,L,$;function M(e,t){return void 0!==e[27]?GO:qO}let D=M(e),j=D(e),B=e[3],I=[];for(let t=0;t<B.length;t+=1)I[t]=UO(zO(e,B,t));return{c(){t=v("div"),r=v("h1"),r.textContent="Email It - Change Account",o=_(),j.c(),n=_(),s=v("div");for(let e=0;e<I.length;e+=1)I[e].c();a=_(),l=v("div"),c=v("button"),h=O("Save"),u=_(),d=v("button"),b=O("New"),S=_(),k=v("button"),x=O("Edit"),T=_(),E=v("button"),P=O("Cancel"),A=_(),R=v("button"),Q=O("Delete"),w(r,"class","svelte-1fv5snm"),w(s,"id","AccountsList"),w(s,"class","svelte-1fv5snm"),w(c,"id","save"),C(c,"background-color",e[28].textAreaColor),C(c,"color",e[28].textColor),C(c,"border-color",e[28].borderColor),w(c,"class","svelte-1fv5snm"),w(d,"id","new"),C(d,"background-color",e[28].textAreaColor),C(d,"color",e[28].textColor),C(d,"border-color",e[28].borderColor),w(d,"class","svelte-1fv5snm"),w(k,"id","edit"),C(k,"background-color",e[28].textAreaColor),C(k,"color",e[28].textColor),C(k,"border-color",e[28].borderColor),w(k,"class","svelte-1fv5snm"),w(E,"id","cancel"),C(E,"background-color",e[28].textAreaColor),C(E,"color",e[28].textColor),C(E,"border-color",e[28].borderColor),w(E,"class","svelte-1fv5snm"),w(R,"id","delete"),C(R,"background-color",e[28].textAreaColor),C(R,"color",e[28].textColor),C(R,"border-color",e[28].borderColor),w(R,"class","svelte-1fv5snm"),w(l,"id","buttonrow"),w(l,"class","svelte-1fv5snm"),w(t,"id","accountsDiv"),C(t,"background-color",e[28].backgroundColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(i,g){p(i,t,g),f(t,r),f(t,o),j.m(t,null),f(t,n),f(t,s);for(let e=0;e<I.length;e+=1)I[e].m(s,null);f(t,a),f(t,l),f(l,c),f(c,h),f(l,u),f(l,d),f(d,b),f(l,S),f(l,k),f(k,x),f(l,T),f(l,E),f(E,P),f(l,A),f(l,R),f(R,Q),L||($=[y(c,"click",e[35]),y(d,"click",e[36]),y(k,"click",e[46]),y(E,"click",e[37]),y(R,"click",e[44])],L=!0)},p(e,r){if(D===(D=M(e))&&j?j.p(e,r):(j.d(1),j=D(e),j&&(j.c(),j.m(t,n))),268435464&r[0]|128&r[1]){let t;for(B=e[3],t=0;t<B.length;t+=1){const i=zO(e,B,t);I[t]?I[t].p(i,r):(I[t]=UO(i),I[t].c(),I[t].m(s,null))}for(;t<I.length;t+=1)I[t].d(1);I.length=B.length}268435456&r[0]&&C(c,"background-color",e[28].textAreaColor),268435456&r[0]&&C(c,"color",e[28].textColor),268435456&r[0]&&C(c,"border-color",e[28].borderColor),268435456&r[0]&&C(d,"background-color",e[28].textAreaColor),268435456&r[0]&&C(d,"color",e[28].textColor),268435456&r[0]&&C(d,"border-color",e[28].borderColor),268435456&r[0]&&C(k,"background-color",e[28].textAreaColor),268435456&r[0]&&C(k,"color",e[28].textColor),268435456&r[0]&&C(k,"border-color",e[28].borderColor),268435456&r[0]&&C(E,"background-color",e[28].textAreaColor),268435456&r[0]&&C(E,"color",e[28].textColor),268435456&r[0]&&C(E,"border-color",e[28].borderColor),268435456&r[0]&&C(R,"background-color",e[28].textAreaColor),268435456&r[0]&&C(R,"color",e[28].textColor),268435456&r[0]&&C(R,"border-color",e[28].borderColor),268435456&r[0]&&C(t,"background-color",e[28].backgroundColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),j.d(),m(I,e),L=!1,i($)}}}function qO(t){let r;return{c(){r=v("h2"),r.textContent="Current Account: Please Create an Account",w(r,"class","svelte-1fv5snm")},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function GO(e){let t,r,i,o=e[27].name+"";return{c(){t=v("h2"),r=O("Current Account: "),i=O(o),w(t,"class","svelte-1fv5snm")},m(e,o){p(e,t,o),f(t,r),f(t,i)},p(e,t){134217728&t[0]&&o!==(o=e[27].name+"")&&S(i,o)},d(e){e&&g(t)}}}function UO(e){let t,r,i,o,n,s=e[101].name+"";function a(){return e[63](e[101])}return{c(){t=v("button"),r=O(s),i=_(),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(e,s){p(e,t,s),f(t,r),f(t,i),o||(n=y(t,"click",a),o=!0)},p(i,o){e=i,8&o[0]&&s!==(s=e[101].name+"")&&S(r,s),268435456&o[0]&&C(t,"background-color",e[28].textAreaColor),268435456&o[0]&&C(t,"color",e[28].textColor),268435456&o[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),o=!1,n()}}}function HO(e){let t,r,i=e[20],o=[];for(let t=0;t<i.length;t+=1)o[t]=NO(IO(e,i,t));return{c(){t=v("div"),r=v("ul");for(let e=0;e<o.length;e+=1)o[e].c();w(r,"class","svelte-1fv5snm"),w(t,"id","elist"),C(t,"width",e[26].offsetWidth+"px"),C(t,"left",n_(e[26]).left+"px"),C(t,"top",n_(e[26]).top+40+"px"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(e,i){p(e,t,i),f(t,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null)},p(e,n){if(68157440&n[0]|1&n[1]){let t;for(i=e[20],t=0;t<i.length;t+=1){const s=IO(e,i,t);o[t]?o[t].p(s,n):(o[t]=NO(s),o[t].c(),o[t].m(r,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=i.length}67108864&n[0]&&C(t,"width",e[26].offsetWidth+"px"),67108864&n[0]&&C(t,"left",n_(e[26]).left+"px"),67108864&n[0]&&C(t,"top",n_(e[26]).top+40+"px"),268435456&n[0]&&C(t,"background-color",e[28].textAreaColor),268435456&n[0]&&C(t,"color",e[28].textColor),268435456&n[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),m(o,e)}}}function NO(e){let t,r,i,o,n,s=e[96]+"";function a(){return e[71](e[96])}return{c(){t=v("li"),r=O(s),i=_(),w(t,"class","svelte-1fv5snm")},m(e,s){p(e,t,s),f(t,r),f(t,i),o||(n=y(t,"click",a),o=!0)},p(t,i){e=t,1048576&i[0]&&s!==(s=e[96]+"")&&S(r,s)},d(e){e&&g(t),o=!1,n()}}}function XO(e){let t,r;return t=new bO({props:{height:"330px",width:"983px",config:e[29],initFinished:e[18],styling:"position: relative; margin-bottom: 20px; border: solid 1px transparent; border-radius: 20px; overflow: hidden;"}}),t.$on("textChange",e[73]),t.$on("editorChange",e[74]),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},p(e,r){const i={};262144&r[0]&&(i.initFinished=e[18]),t.$set(i)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function ZO(t){let r;return{c(){r=v("div"),w(r,"id","preview"),C(r,"border-color",t[28].textColor),w(r,"class","svelte-1fv5snm")},m(e,i){p(e,r,i),r.innerHTML=t[17]},p(e,t){131072&t[0]&&(r.innerHTML=e[17]),268435456&t[0]&&C(r,"border-color",e[28].textColor)},i:e,o:e,d(e){e&&g(r)}}}function VO(e){let t,r,o,n,s,a,l;return{c(){t=v("button"),r=O("Edit"),o=_(),n=v("button"),s=O("Send"),w(t,"id","edit"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm"),w(n,"id","send"),C(n,"background-color",e[28].textAreaColor),C(n,"color",e[28].textColor),C(n,"border-color",e[28].borderColor),w(n,"class","svelte-1fv5snm")},m(i,c){p(i,t,c),f(t,r),p(i,o,c),p(i,n,c),f(n,s),a||(l=[y(t,"click",e[40]),y(n,"click",e[41])],a=!0)},p(e,r){268435456&r[0]&&C(t,"background-color",e[28].textAreaColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor),268435456&r[0]&&C(n,"background-color",e[28].textAreaColor),268435456&r[0]&&C(n,"color",e[28].textColor),268435456&r[0]&&C(n,"border-color",e[28].borderColor)},d(e){e&&g(t),e&&g(o),e&&g(n),a=!1,i(l)}}}function YO(e){let t,r,i,o;return{c(){t=v("button"),r=O("Preview"),w(t,"id","showPreview"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(n,s){p(n,t,s),f(t,r),i||(o=y(t,"click",e[39]),i=!0)},p(e,r){268435456&r[0]&&C(t,"background-color",e[28].textAreaColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),i=!1,o()}}}function KO(e){let t,r,i,o,n=e[27].name+"";return{c(){t=v("button"),r=O(n),w(t,"id","account"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(n,s){p(n,t,s),f(t,r),i||(o=y(t,"click",e[34]),i=!0)},p(e,i){134217728&i[0]&&n!==(n=e[27].name+"")&&S(r,n),268435456&i[0]&&C(t,"background-color",e[28].textAreaColor),268435456&i[0]&&C(t,"color",e[28].textColor),268435456&i[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),i=!1,o()}}}function JO(e){let t,r,i,o;return{c(){t=v("button"),r=O("Create a New Account"),w(t,"id","account"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(n,s){p(n,t,s),f(t,r),i||(o=y(t,"click",e[36]),i=!0)},p(e,r){268435456&r[0]&&C(t,"background-color",e[28].textAreaColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),i=!1,o()}}}function e_(e){let t,r,i,o,n,s,a,l,c,h,u,d,m=e[19].length>0&&t_(e);return{c(){t=v("div"),r=v("h1"),i=O(e[21]),o=_(),n=v("p"),s=O(e[22]),a=_(),m&&m.c(),l=_(),c=v("button"),h=O("Close"),w(r,"class","svelte-1fv5snm"),w(c,"class","alertbutton svelte-1fv5snm"),C(c,"background-color",e[28].textAreaColor),C(c,"color",e[28].textColor),C(c,"border-color",e[28].borderColor),C(c,"border-color",e[28].backgroundColor),w(t,"id","alert"),C(t,"background-color",e[28].textAreaColor),C(t,"color",e[28].textColor),C(t,"border-color",e[28].borderColor),w(t,"class","svelte-1fv5snm")},m(g,v){p(g,t,v),f(t,r),f(r,i),f(t,o),f(t,n),f(n,s),f(t,a),m&&m.m(t,null),f(t,l),f(t,c),f(c,h),u||(d=y(c,"click",e[75]),u=!0)},p(e,r){2097152&r[0]&&S(i,e[21]),4194304&r[0]&&S(s,e[22]),e[19].length>0?m?m.p(e,r):(m=t_(e),m.c(),m.m(t,l)):m&&(m.d(1),m=null),268435456&r[0]&&C(c,"background-color",e[28].textAreaColor),268435456&r[0]&&C(c,"color",e[28].textColor),268435456&r[0]&&C(c,"border-color",e[28].borderColor),268435456&r[0]&&C(c,"border-color",e[28].backgroundColor),268435456&r[0]&&C(t,"background-color",e[28].textAreaColor),268435456&r[0]&&C(t,"color",e[28].textColor),268435456&r[0]&&C(t,"border-color",e[28].borderColor)},d(e){e&&g(t),m&&m.d(),u=!1,d()}}}function t_(e){let t,r=e[19],i=[];for(let t=0;t<r.length;t+=1)i[t]=r_(BO(e,r,t));return{c(){t=v("ul");for(let e=0;e<i.length;e+=1)i[e].c();w(t,"class","svelte-1fv5snm")},m(e,r){p(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,o){if(524288&o[0]){let n;for(r=e[19],n=0;n<r.length;n+=1){const s=BO(e,r,n);i[n]?i[n].p(s,o):(i[n]=r_(s),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){e&&g(t),m(i,e)}}}function r_(e){let t,r,i=e[96]+"";return{c(){t=v("li"),r=O(i),w(t,"class","svelte-1fv5snm")},m(e,i){p(e,t,i),f(t,r)},p(e,t){524288&t[0]&&i!==(i=e[96]+"")&&S(r,i)},d(e){e&&g(t)}}}function i_(e){let t,r,i;function o(t){e[76](t)}let n={};return void 0!==e[25]&&(n.show=e[25]),t=new xO({props:n}),j.push((()=>re(t,"show",o))),{c(){ie(t.$$.fragment)},m(e,r){oe(t,e,r),i=!0},p(e,i){const o={};!r&&33554432&i[0]&&(r=!0,o.show=e[25],U((()=>r=!1))),t.$set(o)},i(e){i||(ee(t.$$.fragment,e),i=!0)},o(e){te(t.$$.fragment,e),i=!1},d(e){ne(t,e)}}}function o_(e){let t,r,o,n,s,a,l,c,h,u,d,m,S,x,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W,F,q,G,U,H,N,X,Z,V,Y,re,ie,oe,ne,se=e[5]&&WO(e),ae=e[4]&&FO(e),le=e[24]&&e[20].length>0&&HO(e);const ce=[ZO,XO],he=[];function ue(e,t){return e[6]?0:1}function de(e,t){return"edit"===e[2]?YO:VO}A=ue(e),R=he[A]=ce[A](e);let fe=de(e),pe=fe(e);function ge(e,t){return void 0===e[27]?JO:KO}let me=ge(e),ve=me(e),Oe=e[23]&&e_(e),_e=e[25]&&i_(e);return{c(){t=v("div"),se&&se.c(),r=_(),ae&&ae.c(),o=_(),n=v("h1"),n.textContent="Email It",s=_(),a=v("div"),l=v("div"),c=v("label"),c.textContent="To:",h=_(),u=v("input"),d=_(),le&&le.c(),m=_(),S=v("div"),x=v("label"),x.textContent="Subject:",T=_(),E=v("input"),P=_(),R.c(),Q=_(),L=v("div"),$=v("button"),M=O("Notes"),D=_(),pe.c(),j=_(),ve.c(),B=_(),I=v("button"),z=O("Clear"),W=_(),F=v("button"),q=O("Templates"),G=_(),U=v("button"),H=O("Scripts"),N=_(),X=v("button"),Z=O("Address Book"),V=_(),Oe&&Oe.c(),Y=_(),_e&&_e.c(),re=b(),w(n,"class","svelte-1fv5snm"),w(c,"for","receiverInput"),w(c,"class","svelte-1fv5snm"),w(u,"id","receiverInput"),w(u,"class","receiverInput svelte-1fv5snm"),C(u,"background-color",e[28].textAreaColor),C(u,"color",e[28].textColor),C(u,"border-color",e[28].borderColor),w(l,"class","headerRow svelte-1fv5snm"),w(x,"for","subject"),w(x,"class","svelte-1fv5snm"),w(E,"id","subject"),C(E,"background-color",e[28].textAreaColor),C(E,"color",e[28].textColor),C(E,"border-color",e[28].borderColor),w(E,"class","svelte-1fv5snm"),w(S,"class","headerRow svelte-1fv5snm"),w(a,"id","header"),w(a,"class","svelte-1fv5snm"),C($,"background-color",e[28].textAreaColor),C($,"color",e[28].textColor),C($,"border-color",e[28].borderColor),w($,"class","svelte-1fv5snm"),w(I,"id","clear"),C(I,"background-color",e[28].textAreaColor),C(I,"color",e[28].textColor),C(I,"border-color",e[28].borderColor),w(I,"class","svelte-1fv5snm"),C(F,"background-color",e[28].textAreaColor),C(F,"color",e[28].textColor),C(F,"border-color",e[28].borderColor),w(F,"class","svelte-1fv5snm"),C(U,"background-color",e[28].textAreaColor),C(U,"color",e[28].textColor),C(U,"border-color",e[28].borderColor),w(U,"class","svelte-1fv5snm"),w(X,"id","addressBook"),C(X,"background-color",e[28].textAreaColor),C(X,"color",e[28].textColor),C(X,"border-color",e[28].borderColor),w(X,"class","svelte-1fv5snm"),w(L,"id","buttonrow"),w(L,"class","svelte-1fv5snm"),w(t,"id","main"),C(t,"background-color",e[28].backgroundColor),C(t,"font-family",e[28].font),C(t,"color",e[28].textColor),C(t,"font-size",e[28].fontSize),w(t,"class","svelte-1fv5snm")},m(i,g){p(i,t,g),se&&se.m(t,null),f(t,r),ae&&ae.m(t,null),f(t,o),f(t,n),f(t,s),f(t,a),f(a,l),f(l,c),f(l,h),f(l,u),k(u,e[0]),e[65](u),f(l,d),le&&le.m(l,null),f(a,m),f(a,S),f(S,x),f(S,T),f(S,E),e[72](E),f(t,P),he[A].m(t,null),f(t,Q),f(t,L),f(L,$),f($,M),f(L,D),pe.m(L,null),f(L,j),ve.m(L,null),f(L,B),f(L,I),f(I,z),f(L,W),f(L,F),f(F,q),f(L,G),f(L,U),f(U,H),f(L,N),f(L,X),f(X,Z),p(i,V,g),Oe&&Oe.m(i,g),p(i,Y,g),_e&&_e.m(i,g),p(i,re,g),ie=!0,oe||(ne=[y(u,"input",e[64]),y(u,"blur",e[66]),y(u,"focus",e[67]),y(u,"keydown",e[68]),y(u,"keyup",e[69]),y(u,"change",e[70]),y(E,"blur",e[48]),y($,"click",e[47]),y(I,"click",e[42]),y(F,"click",e[50]),y(U,"click",e[49]),y(X,"click",e[52])],oe=!0)},p(e,i){e[5]?se?se.p(e,i):(se=WO(e),se.c(),se.m(t,r)):se&&(se.d(1),se=null),e[4]?ae?ae.p(e,i):(ae=FO(e),ae.c(),ae.m(t,o)):ae&&(ae.d(1),ae=null),(!ie||268435456&i[0])&&C(u,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(u,"color",e[28].textColor),(!ie||268435456&i[0])&&C(u,"border-color",e[28].borderColor),1&i[0]&&u.value!==e[0]&&k(u,e[0]),e[24]&&e[20].length>0?le?le.p(e,i):(le=HO(e),le.c(),le.m(l,null)):le&&(le.d(1),le=null),(!ie||268435456&i[0])&&C(E,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(E,"color",e[28].textColor),(!ie||268435456&i[0])&&C(E,"border-color",e[28].borderColor);let n=A;A=ue(e),A===n?he[A].p(e,i):(K(),te(he[n],1,1,(()=>{he[n]=null})),J(),R=he[A],R?R.p(e,i):(R=he[A]=ce[A](e),R.c()),ee(R,1),R.m(t,Q)),(!ie||268435456&i[0])&&C($,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C($,"color",e[28].textColor),(!ie||268435456&i[0])&&C($,"border-color",e[28].borderColor),fe===(fe=de(e))&&pe?pe.p(e,i):(pe.d(1),pe=fe(e),pe&&(pe.c(),pe.m(L,j))),me===(me=ge(e))&&ve?ve.p(e,i):(ve.d(1),ve=me(e),ve&&(ve.c(),ve.m(L,B))),(!ie||268435456&i[0])&&C(I,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(I,"color",e[28].textColor),(!ie||268435456&i[0])&&C(I,"border-color",e[28].borderColor),(!ie||268435456&i[0])&&C(F,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(F,"color",e[28].textColor),(!ie||268435456&i[0])&&C(F,"border-color",e[28].borderColor),(!ie||268435456&i[0])&&C(U,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(U,"color",e[28].textColor),(!ie||268435456&i[0])&&C(U,"border-color",e[28].borderColor),(!ie||268435456&i[0])&&C(X,"background-color",e[28].textAreaColor),(!ie||268435456&i[0])&&C(X,"color",e[28].textColor),(!ie||268435456&i[0])&&C(X,"border-color",e[28].borderColor),(!ie||268435456&i[0])&&C(t,"background-color",e[28].backgroundColor),(!ie||268435456&i[0])&&C(t,"font-family",e[28].font),(!ie||268435456&i[0])&&C(t,"color",e[28].textColor),(!ie||268435456&i[0])&&C(t,"font-size",e[28].fontSize),e[23]?Oe?Oe.p(e,i):(Oe=e_(e),Oe.c(),Oe.m(Y.parentNode,Y)):Oe&&(Oe.d(1),Oe=null),e[25]?_e?(_e.p(e,i),33554432&i[0]&&ee(_e,1)):(_e=i_(e),_e.c(),ee(_e,1),_e.m(re.parentNode,re)):_e&&(K(),te(_e,1,1,(()=>{_e=null})),J())},i(e){ie||(ee(R),ee(_e),ie=!0)},o(e){te(R),te(_e),ie=!1},d(r){r&&g(t),se&&se.d(),ae&&ae.d(),e[65](null),le&&le.d(),e[72](null),he[A].d(),pe.d(),ve.d(),r&&g(V),Oe&&Oe.d(r),r&&g(Y),_e&&_e.d(r),r&&g(re),oe=!1,i(ne)}}}function n_(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}}function s_(e,t,r){let i,o,n,a,l,c,h;s(e,LO,(e=>r(82,i=e))),s(e,jO,(e=>r(83,o=e))),s(e,DO,(e=>r(84,n=e))),s(e,$O,(e=>r(85,a=e))),s(e,QO,(e=>r(27,l=e))),s(e,MO,(e=>r(86,c=e))),s(e,vO,(e=>r(28,h=e)));let u,f,p,g="",m="",v="edit",O=!1,_=!1,b=!1,y="",w="",S="",k="",C="",x="",T="",E="",P="",A=!1,R="",Q="",M="",D=[],B=!0,I=[],z=[],W="",F="",q=!1,G=!1,U=!1;function H(e){if(void 0===e||"Escape"!==e.key&&"Tab"!==e.key){var t=g.toString().toLowerCase(),i="",o=t.split(",");o.length>1?(i=o[o.length-1],r(20,z=D.filter((e=>e.toString().toLowerCase().includes(i.trim()))))):r(20,z=D.filter((e=>e.toString().toLowerCase().includes(t))))}else r(24,G=!1),"Tab"!==e.key&&e.preventDefault()}function N(e){var t=g.split(",");t.length>1?(r(0,g=t.slice(0,t.length-1).map((e=>e.trim())).join(",")+", "+e),r(26,p.selectionStart=g.length,p)):r(0,g=e)}function X(e){d($O,a=e,a)}function Z(e){d(LO,i.body=e.value,i),Q=e.value}function V(){r(8,w=""),r(16,A=!1),r(7,y=""),r(9,S=""),r(10,k=""),r(11,C=""),r(12,x=""),r(13,T=""),r(14,E=""),r(15,P="")}function Y(e){d(QO,l=e,l),"edit"===v?Q=a.getValue():K()}function K(){var e=new AO.Converter({extensions:[]});e.setOption("tables",!0),r(17,R=e.makeHtml(Q+l.signiture)),void 0!==l.headerHTML&&r(17,R=l.headerHTML+R+l.footerHTML)}function J(){r(21,W="Invalid Emails"),r(22,F="Please fix these emails!"),r(23,q=!0)}function ee(e){var t=!0;return r(19,I=[]),e.toString().split(",").forEach((e=>{const r=function(e){if(e.includes("<")){const t=new RegExp(/^[^<]*\<([^\>]*)\>/),r=e.match(t);e=r[1]}return new RegExp(/^[a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1}([a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1})*[a-zA-Z0-9]@[a-zA-Z0-9][-\.]{0,1}([a-zA-Z][-\.]{0,1})*[a-zA-Z0-9]\.[a-zA-Z0-9]{1,}([\.\-]{0,1}[a-zA-Z]){0,}[a-zA-Z0-9]{0,}$/i).test(e)}(e.trim());r||(t=!1,I.push(e))})),t}function te(){if(null!==a){var e=document.getElementById("receiverInput");d(LO,i.to=e.value,i),d(LO,i.body=a.getValue(),i),d(LO,i.subject=m.value,i)}}function re(){d(LO,i.to=g,i)}L((()=>{!function(e){fetch("http://localhost:9978/api/emailit/emails",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{D=t.emails.map((e=>""===e.name?e.email:`${e.name.trim()} <${e.email.trim()}>`)),void 0!==e&&e()}))}(),function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(3,u=t),u.length>0&&void 0===l&&d(QO,l=u.find((e=>e.default)),l),void 0!==e&&e()}))}(),r(2,v="edit"),M="edit",r(18,B=!0)})),$((()=>{void 0!==c&&""!==c&&(r(0,g=c),d(LO,i.to=c,i),d(MO,c=void 0,c)),null!==a&&"edit"===v&&"preview"===M&&(a.setValue(Q),M="edit")}));return[g,m,v,u,O,_,b,y,w,S,k,C,x,T,E,P,A,R,B,I,z,W,F,q,G,U,p,l,h,{language:"markdown",lineNumbers:!1,lineWrapping:!0,lineHighlight:!0},H,N,X,Z,function(){f=l,r(4,O=!O)},function(){"preview"===v&&K(),r(4,O=!1)},function(){V(),r(5,_=!0)},function(){d(QO,l=f,l),"edit"===v?Q=a.getValue():K(),r(4,O=!1)},Y,function(){var e;e=void 0!==i.to?i.to:document.getElementById("receiverInput").value,ee(e)?(Q=a.getValue(),r(2,v="preview"),M=v,K(),r(6,b=!0)):J()},async function(){r(2,v="edit"),r(6,b=!1)},async function(){var e;if(ee(e=void 0!==i.to?i.to:document.getElementById("receiverInput").value)){e.toString().split(",").forEach((e=>{var t=e,r="";if(e.includes("<")){const i=new RegExp(/^([^<]*)\<([^\>]*)\>/),o=e.match(i);r=o[1],t=o[2]}!function(e,t){t=t.trim(),e=e.trim(),D=D.filter((e=>e.email!==t)),D.push({name:e,email:t}),fetch("http://localhost:9978/api/emailit/addEmail",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,email:t})})}(r,t)}));var t=Q+l.signiture.replace(/<hr>/gimu,"\n").replace(/<[/]*[^>]+>/gimu,"");r(6,b=!1),r(2,v="edit"),fetch("http://localhost:9978/api/emailit/send",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({acc:l,to:e,from:l.from,subject:m.value,text:t,html:R})})}else J()},function(){document.getElementById("receiverInput").value="",r(0,g=""),r(1,m.value="",m),a.setValue(""),Q="",d(LO,i.to="",i),d(LO,i.subject="",i),d(LO,i.body="",i),r(6,b=!1),r(2,v="edit"),M="edit"},function(){var e={name:w,default:A,from:y,username:S,smtpserver:k,port:x,password:C,signiture:T,headerHTML:E,footerHTML:P};!function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(e),A&&r(3,u=u.map((e=>(e.default=!1,e)))),u.filter((t=>t.name===e.name)).length>0&&(r(3,u=u.filter((t=>t.name!==e.name))),u.push(e)),d(QO,l=e,l),r(3,u),"preview"===v&&K(),V(),r(5,_=!1)},function(){var e=l;r(3,u=u.filter((t=>t.name!==e.name))),u.length>0?(d(QO,l=u[0],l),f=u[0],"preview"===v&&K()):(r(5,_=!1),d(QO,l=void 0,l),f=void 0),function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"DELETE",headers:{"Content-type":"application/json"},body:e})}(e)},function(){V(),r(5,_=!1)},function(){r(8,w=l.name),r(16,A=l.default),r(7,y=l.from),r(9,S=l.username),r(10,k=l.smtpserver),r(11,C=l.password),r(12,x=l.port),r(13,T=l.signiture),r(14,E=l.headerHTML),r(15,P=l.footerHTML),r(5,_=!0)},function(){te(),RO.set("notes")},te,function(){d(DO,n=!n,n)},function(){d(jO,o=!o,o)},re,function(){r(25,U=!U)},function(){A=this.checked,r(16,A)},function(){w=this.value,r(8,w)},function(){y=this.value,r(7,y)},function(){k=this.value,r(10,k)},function(){x=this.value,r(12,x)},function(){S=this.value,r(9,S)},function(){C=this.value,r(11,C)},function(){T=this.value,r(13,T)},function(){E=this.value,r(14,E)},function(){P=this.value,r(15,P)},e=>{Y(e)},function(){g=this.value,r(0,g)},function(e){j[e?"unshift":"push"]((()=>{p=e,r(26,p)}))},()=>{re()},()=>{r(24,G=!0),H(),r(26,p.selectionStart=g.length,p)},e=>{H(e)},e=>{H(e)},()=>{H()},e=>{N(e),p.focus()},function(e){j[e?"unshift":"push"]((()=>{m=e,r(1,m)}))},e=>{Z(e.detail.data)},e=>{X(e.detail.data)},()=>{r(23,q=!1)},function(e){U=e,r(25,U)}]}class a_ extends ae{constructor(e){super(),se(this,e,s_,o_,n,{},null,[-1,-1,-1,-1])}}function l_(e){window.runtime.BrowserOpenURL(e)}function c_(e){let t;return{c(){t=v("div"),w(t,"id","logItems"),w(t,"class","svelte-1p4g52i")},m(r,i){p(r,t,i),t.innerHTML=e[0],e[8](t)},p(e,r){1&r&&(t.innerHTML=e[0])},d(r){r&&g(t),e[8](null)}}}function h_(t){let r;return{c(){r=v("p"),r.textContent="No Logs"},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function u_(t){let r,o,n,s,a,l,c,h,u,d,m,b,S,k,x,T,E,P,A;function R(e,t){return void 0===e[0]?h_:c_}let Q=R(t),L=Q(t);return{c(){r=v("div"),L.c(),o=_(),n=v("div"),s=v("button"),a=O("EmailIt"),l=_(),c=v("button"),h=O("Notes"),u=_(),d=v("button"),m=O("Script Terminal"),b=_(),S=v("button"),k=O("Node-Red"),x=_(),T=v("button"),E=O("Node-Red Dashboard"),C(s,"background-color",t[2].textAreaColor),C(s,"color",t[2].textColor),C(s,"border-color",t[2].borderColor),w(s,"class","svelte-1p4g52i"),C(c,"background-color",t[2].textAreaColor),C(c,"color",t[2].textColor),C(c,"border-color",t[2].borderColor),w(c,"class","svelte-1p4g52i"),C(d,"background-color",t[2].textAreaColor),C(d,"color",t[2].textColor),C(d,"border-color",t[2].borderColor),w(d,"class","svelte-1p4g52i"),C(S,"background-color",t[2].textAreaColor),C(S,"color",t[2].textColor),C(S,"border-color",t[2].borderColor),w(S,"class","svelte-1p4g52i"),C(T,"background-color",t[2].textAreaColor),C(T,"color",t[2].textColor),C(T,"border-color",t[2].borderColor),w(T,"class","svelte-1p4g52i"),w(n,"id","buttonRow"),w(n,"class","svelte-1p4g52i"),w(r,"id","log"),C(r,"background-color",t[2].backgroundColor),C(r,"font-family",t[2].font),C(r,"color",t[2].textColor),C(r,"font-size",t[2].fontSize),w(r,"class","svelte-1p4g52i")},m(e,i){p(e,r,i),L.m(r,null),f(r,o),f(r,n),f(n,s),f(s,a),f(n,l),f(n,c),f(c,h),f(n,u),f(n,d),f(d,m),f(n,b),f(n,S),f(S,k),f(n,x),f(n,T),f(T,E),P||(A=[y(s,"click",t[3]),y(c,"click",t[4]),y(d,"click",t[5]),y(S,"click",t[6]),y(T,"click",t[7])],P=!0)},p(e,[t]){Q===(Q=R(e))&&L?L.p(e,t):(L.d(1),L=Q(e),L&&(L.c(),L.m(r,o))),4&t&&C(s,"background-color",e[2].textAreaColor),4&t&&C(s,"color",e[2].textColor),4&t&&C(s,"border-color",e[2].borderColor),4&t&&C(c,"background-color",e[2].textAreaColor),4&t&&C(c,"color",e[2].textColor),4&t&&C(c,"border-color",e[2].borderColor),4&t&&C(d,"background-color",e[2].textAreaColor),4&t&&C(d,"color",e[2].textColor),4&t&&C(d,"border-color",e[2].borderColor),4&t&&C(S,"background-color",e[2].textAreaColor),4&t&&C(S,"color",e[2].textColor),4&t&&C(S,"border-color",e[2].borderColor),4&t&&C(T,"background-color",e[2].textAreaColor),4&t&&C(T,"color",e[2].textColor),4&t&&C(T,"border-color",e[2].borderColor),4&t&&C(r,"background-color",e[2].backgroundColor),4&t&&C(r,"font-family",e[2].font),4&t&&C(r,"color",e[2].textColor),4&t&&C(r,"font-size",e[2].fontSize)},i:e,o:e,d(e){e&&g(r),L.d(),P=!1,i(A)}}}function d_(e,t,r){let i,o,n,a;return s(e,RO,(e=>r(9,i=e))),s(e,vO,(e=>r(2,o=e))),L((()=>{!function(e){fetch("http://localhost:9978/api/messages",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(0,n=function(e){var t="";return e.map((e=>t+="<p>"+e.replaceAll(" ","&nbsp;").replaceAll("\n","<br />").replaceAll("\t","&nbsp;&nbsp;")+"</p>")),t}(t.data)),void 0!==e&&e()}))}()})),$((()=>{void 0!==a&&r(1,a.scrollTop=a.scrollHeight,a)})),[n,a,o,function(){d(RO,i="emailit",i)},function(){d(RO,i="notes",i)},function(){d(RO,i="scriptterm",i)},async function(){l_("http://localhost:9978/red/admin")},async function(){l_("http://localhost:9978/red/api/ui")},function(e){j[e?"unshift":"push"]((()=>{a=e,r(1,a)}))}]}class f_ extends ae{constructor(e){super(),se(this,e,d_,u_,n,{})}}const p_=mO(0),g_=mO(["","","","","","","","","",""]),m_=mO(["","","","","","","","","",""]),v_=mO(void 0);function O_(e,t,r){const i=e.slice();return i[28]=t[r],i[30]=r,i}function __(e){let t,r,i,o;function n(){return e[16](e[30])}return{c(){t=v("div"),w(t,"class",r="noteButton "+(e[1]===e[2].buttons[e[30]].id?"selectedButton":"")+" svelte-yyde1d"),C(t,"background-color",e[2].buttons[e[30]].color)},m(e,r){p(e,t,r),i||(o=y(t,"click",n),i=!0)},p(i,o){e=i,6&o&&r!==(r="noteButton "+(e[1]===e[2].buttons[e[30]].id?"selectedButton":"")+" svelte-yyde1d")&&w(t,"class",r),4&o&&C(t,"background-color",e[2].buttons[e[30]].color)},d(e){e&&g(t),i=!1,o()}}}function b_(e){let t,r,o,n,s,a,l,c,h,u,d,b,S,k,x,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W;o=new bO({props:{height:"500px",width:"900px",config:e[3],initFinished:e[0]}}),o.$on("textChange",e[14]),o.$on("editorChange",e[15]);let F=e[2].buttons,q=[];for(let t=0;t<F.length;t+=1)q[t]=__(O_(e,F,t));return{c(){t=v("div"),r=v("div"),ie(o.$$.fragment),n=_(),s=v("div");for(let e=0;e<q.length;e+=1)q[e].c();a=_(),l=v("div"),c=v("button"),h=O("EmailIt"),u=_(),d=v("button"),b=O("Logs"),S=_(),k=v("button"),x=O("Script Terminal"),T=_(),E=v("button"),P=O("Scripts"),A=_(),R=v("button"),Q=O("Templates"),L=_(),$=v("button"),M=O("Edit Scripts"),D=_(),j=v("button"),B=O("Edit Templates"),w(s,"id","noteButtons"),w(s,"class","svelte-yyde1d"),w(r,"id","editorRow"),w(r,"class","svelte-yyde1d"),C(c,"background-color",e[2].textAreaColor),C(c,"color",e[2].textColor),C(c,"border-color",e[2].borderColor),w(c,"class","svelte-yyde1d"),C(d,"background-color",e[2].textAreaColor),C(d,"color",e[2].textColor),C(d,"border-color",e[2].borderColor),w(d,"class","svelte-yyde1d"),C(k,"background-color",e[2].textAreaColor),C(k,"color",e[2].textColor),C(k,"border-color",e[2].borderColor),w(k,"class","svelte-yyde1d"),C(E,"background-color",e[2].textAreaColor),C(E,"color",e[2].textColor),C(E,"border-color",e[2].borderColor),w(E,"class","svelte-yyde1d"),C(R,"background-color",e[2].textAreaColor),C(R,"color",e[2].textColor),C(R,"border-color",e[2].borderColor),w(R,"class","svelte-yyde1d"),C($,"background-color",e[2].textAreaColor),C($,"color",e[2].textColor),C($,"border-color",e[2].borderColor),w($,"class","svelte-yyde1d"),C(j,"background-color",e[2].textAreaColor),C(j,"color",e[2].textColor),C(j,"border-color",e[2].borderColor),w(j,"class","svelte-yyde1d"),w(l,"id","buttonRow"),w(l,"class","svelte-yyde1d"),w(t,"id","notes"),C(t,"background-color",e[2].backgroundColor),C(t,"font-family",e[2].font),C(t,"color",e[2].textColor),C(t,"font-size",e[2].fontSize),w(t,"class","svelte-yyde1d")},m(i,g){p(i,t,g),f(t,r),oe(o,r,null),f(r,n),f(r,s);for(let e=0;e<q.length;e+=1)q[e].m(s,null);f(t,a),f(t,l),f(l,c),f(c,h),f(l,u),f(l,d),f(d,b),f(l,S),f(l,k),f(k,x),f(l,T),f(l,E),f(E,P),f(l,A),f(l,R),f(R,Q),f(l,L),f(l,$),f($,M),f(l,D),f(l,j),f(j,B),I=!0,z||(W=[y(c,"click",e[7]),y(d,"click",e[6]),y(k,"click",e[13]),y(E,"click",e[9]),y(R,"click",e[10]),y($,"click",e[12]),y(j,"click",e[11])],z=!0)},p(e,[r]){const i={};if(1&r&&(i.initFinished=e[0]),o.$set(i),262&r){let t;for(F=e[2].buttons,t=0;t<F.length;t+=1){const i=O_(e,F,t);q[t]?q[t].p(i,r):(q[t]=__(i),q[t].c(),q[t].m(s,null))}for(;t<q.length;t+=1)q[t].d(1);q.length=F.length}(!I||4&r)&&C(c,"background-color",e[2].textAreaColor),(!I||4&r)&&C(c,"color",e[2].textColor),(!I||4&r)&&C(c,"border-color",e[2].borderColor),(!I||4&r)&&C(d,"background-color",e[2].textAreaColor),(!I||4&r)&&C(d,"color",e[2].textColor),(!I||4&r)&&C(d,"border-color",e[2].borderColor),(!I||4&r)&&C(k,"background-color",e[2].textAreaColor),(!I||4&r)&&C(k,"color",e[2].textColor),(!I||4&r)&&C(k,"border-color",e[2].borderColor),(!I||4&r)&&C(E,"background-color",e[2].textAreaColor),(!I||4&r)&&C(E,"color",e[2].textColor),(!I||4&r)&&C(E,"border-color",e[2].borderColor),(!I||4&r)&&C(R,"background-color",e[2].textAreaColor),(!I||4&r)&&C(R,"color",e[2].textColor),(!I||4&r)&&C(R,"border-color",e[2].borderColor),(!I||4&r)&&C($,"background-color",e[2].textAreaColor),(!I||4&r)&&C($,"color",e[2].textColor),(!I||4&r)&&C($,"border-color",e[2].borderColor),(!I||4&r)&&C(j,"background-color",e[2].textAreaColor),(!I||4&r)&&C(j,"color",e[2].textColor),(!I||4&r)&&C(j,"border-color",e[2].borderColor),(!I||4&r)&&C(t,"background-color",e[2].backgroundColor),(!I||4&r)&&C(t,"font-family",e[2].font),(!I||4&r)&&C(t,"color",e[2].textColor),(!I||4&r)&&C(t,"font-size",e[2].fontSize)},i(e){I||(ee(o.$$.fragment,e),I=!0)},o(e){te(o.$$.fragment,e),I=!1},d(e){e&&g(t),ne(o),m(q,e),z=!1,i(W)}}}function y_(e,t,r){let i,o,n,a,l,c,h,u;s(e,RO,(e=>r(17,i=e))),s(e,jO,(e=>r(18,o=e))),s(e,DO,(e=>r(19,n=e))),s(e,v_,(e=>r(20,a=e))),s(e,p_,(e=>r(1,l=e))),s(e,m_,(e=>r(21,c=e))),s(e,g_,(e=>r(22,h=e))),s(e,vO,(e=>r(2,u=e)));let f=!1;function p(e,t){fetch(`http://localhost:9978/api/note/${e}/w`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((r=>{d(g_,h[e]=r.note,h),void 0!==t&&t()}))}function g(e){d(v_,a=e,a)}function m(e){d(g_,h[l]=e.value,h),d(m_,c[l]=e.cursor,c),function(e){var t=h[e];fetch(`http://localhost:9978/api/note/${e}/w`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({note:t})})}(l)}function v(){null!==a&&a.focus()}function O(){d(m_,c[l]=a.getCursor(),c)}function _(e){d(p_,l=e,l),a.setValue(h[l]);var t=parseInt(c[l]);Number.isInteger(t)||(t=0),a.setCursor(t),v()}L((()=>{p(0),p(1),p(2),p(3),p(4),p(5),p(6),p(7),p(8),p(9,(async()=>{r(0,f=!0),await q(),_(l),v()}))}));return[f,l,u,{language:"markdown",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},g,m,function(){O(),d(RO,i="viewlog",i)},function(){O(),d(RO,i="emailit",i)},_,function(){d(DO,n=!n,n)},function(){d(jO,o=!o,o)},function(){d(RO,i="templates",i)},function(){d(RO,i="scripts",i)},function(){d(RO,i="scriptterm",i)},e=>{m(e.detail.data)},e=>{g(e.detail.data)},e=>{_(e)}]}class w_ extends ae{constructor(e){super(),se(this,e,y_,b_,n,{})}}const S_=mO([]),k_=mO(void 0),C_=mO(void 0);function x_(e,t,r){const i=e.slice();return i[20]=t[r],i[22]=r,i}function T_(e){let t,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=E_(x_(e,r,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=b()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);p(e,t,r)},p(e,o){if(212&o){let n;for(r=e[2],n=0;n<r.length;n+=1){const s=x_(e,r,n);i[n]?i[n].p(s,o):(i[n]=E_(s),i[n].c(),i[n].m(t.parentNode,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){m(i,e),e&&g(t)}}}function E_(e){let t,r,i,o,n,s=e[20].name+"";function a(){return e[11](e[20])}return{c(){t=v("li"),r=O(s),i=_(),C(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent"),w(t,"data-key",e[22]),w(t,"class","svelte-n0htir")},m(e,s){p(e,t,s),f(t,r),f(t,i),o||(n=y(t,"click",a),o=!0)},p(i,o){e=i,4&o&&s!==(s=e[20].name+"")&&S(r,s),80&o&&C(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent")},d(e){e&&g(t),o=!1,n()}}}function P_(t){let r,o,n,s,a,l,c,h="object"==typeof t[5]&&T_(t);return{c(){r=v("div"),o=v("input"),n=_(),s=v("div"),a=v("ul"),h&&h.c(),w(o,"type","text"),C(o,"background-color",t[6].textAreaColor),C(o,"font-family",t[6].font),C(o,"color",t[6].textColor),C(o,"font-size",t[6].fontSize),C(o,"border","solid 3px "+t[6].borderColor),w(o,"class","svelte-n0htir"),w(a,"class","svelte-n0htir"),w(s,"id","list"),w(s,"class","svelte-n0htir"),w(r,"id","scriptmenu"),C(r,"left",t[1]?"10px":"-900px"),C(r,"background-color",t[6].backgroundColor),C(r,"font-family",t[6].font),C(r,"color",t[6].textColor),C(r,"font-size",t[6].fontSize),C(r,"border","solid 3px "+t[6].borderColor),w(r,"class","svelte-n0htir")},m(e,i){p(e,r,i),f(r,o),k(o,t[0]),t[10](o),f(r,n),f(r,s),f(s,a),h&&h.m(a,null),l||(c=[y(o,"input",t[9]),y(o,"keydown",t[8])],l=!0)},p(e,[t]){64&t&&C(o,"background-color",e[6].textAreaColor),64&t&&C(o,"font-family",e[6].font),64&t&&C(o,"color",e[6].textColor),64&t&&C(o,"font-size",e[6].fontSize),64&t&&C(o,"border","solid 3px "+e[6].borderColor),1&t&&o.value!==e[0]&&k(o,e[0]),"object"==typeof e[5]?h?h.p(e,t):(h=T_(e),h.c(),h.m(a,null)):h&&(h.d(1),h=null),2&t&&C(r,"left",e[1]?"10px":"-900px"),64&t&&C(r,"background-color",e[6].backgroundColor),64&t&&C(r,"font-family",e[6].font),64&t&&C(r,"color",e[6].textColor),64&t&&C(r,"font-size",e[6].fontSize),64&t&&C(r,"border","solid 3px "+e[6].borderColor)},i:e,o:e,d(e){e&&g(r),t[10](null),h&&h.d(),l=!1,i(c)}}}function A_(e,t,r){let i,o,n,a,l,c,h,u;s(e,DO,(e=>r(1,i=e))),s(e,k_,(e=>r(13,o=e))),s(e,RO,(e=>r(14,n=e))),s(e,C_,(e=>r(15,a=e))),s(e,v_,(e=>r(16,l=e))),s(e,$O,(e=>r(17,c=e))),s(e,S_,(e=>r(5,h=e))),s(e,vO,(e=>r(6,u=e)));let f,p="",g=[],m=!0,v=0;function O(e){var t=[];return""===e||void 0===e?t=h:(e=e.toLowerCase(),t=h.filter((t=>null!=t&&t.name.toLowerCase().includes(e)))),t=t.sort(((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()))}function _(e){var t="",s=!1;"emailit"===n?c.somethingSelected()?(s=!0,t=c.getSelection()):t=c.getValue():"notes"===n?l.somethingSelected()?(s=!0,t=l.getSelection()):t=l.getValue():"scripts"===n?a.somethingSelected()?(s=!0,t=a.getSelection()):t=a.getValue():"templates"===n&&(o.somethingSelected()?(s=!0,t=o.getSelection()):t=o.getValue()),fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:e.name,text:t,info:e})}).then((e=>e.json())).then((t=>{"emailit"===n?(s?c.replaceSelection(t.text):e.insert?c.insertAtCursor(t.text):c.setValue(t.text),c.focus()):"notes"===n?(s?l.replaceSelection(t.text):e.insert?l.insertAtCursor(t.text):l.setValue(t.text),l.focus()):"scripts"===n?(s?a.replaceSelection(t.text):e.insert?a.insertAtCursor(t.text):a.setValue(t.text),a.focus()):"templates"===n&&(s?o.replaceSelection(t.text):e.insert?o.insertAtCursor(t.text):o.setValue(t.text),o.focus()),d(DO,i=!1,i),r(0,p="")}))}L((()=>{})),$((()=>{i&&m&&(r(2,g=O(p)),m=!1,f.focus())}));return e.$$.update=()=>{1&e.$$.dirty&&r(2,g=O(p)),2&e.$$.dirty&&i&&(r(4,v=0),r(0,p=""),f.focus())},[p,i,g,f,v,h,u,_,function(e){switch(e.key){case"ArrowDown":e.preventDefault(),r(4,v+=1),v>=g.length&&r(4,v=g.length-1);break;case"ArrowUp":e.preventDefault(),r(4,v-=1),v<0&&r(4,v=0);break;case"Enter":e.preventDefault(),_(g[v]);break;case"Escape":d(DO,i=!1,i)}},function(){p=this.value,r(0,p)},function(e){j[e?"unshift":"push"]((()=>{f=e,r(3,f)}))},e=>{_(e)}]}class R_ extends ae{constructor(e){super(),se(this,e,A_,P_,n,{})}}const Q_=mO([]);function L_(e,t,r){const i=e.slice();return i[20]=t[r],i[22]=r,i}function $_(e){let t,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=M_(L_(e,r,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=b()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);p(e,t,r)},p(e,o){if(212&o){let n;for(r=e[2],n=0;n<r.length;n+=1){const s=L_(e,r,n);i[n]?i[n].p(s,o):(i[n]=M_(s),i[n].c(),i[n].m(t.parentNode,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){m(i,e),e&&g(t)}}}function M_(e){let t,r,i,o,n,s=e[20]+"";function a(){return e[11](e[20])}return{c(){t=v("li"),r=O(s),i=_(),C(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent"),w(t,"data-key",e[22]),w(t,"class","svelte-wbzyyy")},m(e,s){p(e,t,s),f(t,r),f(t,i),o||(n=y(t,"click",a),o=!0)},p(i,o){e=i,4&o&&s!==(s=e[20]+"")&&S(r,s),80&o&&C(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent")},d(e){e&&g(t),o=!1,n()}}}function D_(t){let r,o,n,s,a,l,c,h="object"==typeof t[5]&&$_(t);return{c(){r=v("div"),o=v("input"),n=_(),s=v("div"),a=v("ul"),h&&h.c(),w(o,"type","text"),C(o,"background-color",t[6].textAreaColor),C(o,"font-family",t[6].font),C(o,"color",t[6].textColor),C(o,"font-size",t[6].fontSize),C(o,"border","solid 3px "+t[6].borderColor),w(o,"class","svelte-wbzyyy"),w(a,"class","svelte-wbzyyy"),w(s,"id","list"),w(s,"class","svelte-wbzyyy"),w(r,"id","templatemenu"),C(r,"left",t[1]?"10px":"-900px"),C(r,"background-color",t[6].backgroundColor),C(r,"font-family",t[6].font),C(r,"color",t[6].textColor),C(r,"font-size",t[6].fontSize),C(r,"border","solid 3px "+t[6].borderColor),w(r,"class","svelte-wbzyyy")},m(e,i){p(e,r,i),f(r,o),k(o,t[0]),t[10](o),f(r,n),f(r,s),f(s,a),h&&h.m(a,null),l||(c=[y(o,"input",t[9]),y(o,"keydown",t[8])],l=!0)},p(e,[t]){64&t&&C(o,"background-color",e[6].textAreaColor),64&t&&C(o,"font-family",e[6].font),64&t&&C(o,"color",e[6].textColor),64&t&&C(o,"font-size",e[6].fontSize),64&t&&C(o,"border","solid 3px "+e[6].borderColor),1&t&&o.value!==e[0]&&k(o,e[0]),"object"==typeof e[5]?h?h.p(e,t):(h=$_(e),h.c(),h.m(a,null)):h&&(h.d(1),h=null),2&t&&C(r,"left",e[1]?"10px":"-900px"),64&t&&C(r,"background-color",e[6].backgroundColor),64&t&&C(r,"font-family",e[6].font),64&t&&C(r,"color",e[6].textColor),64&t&&C(r,"font-size",e[6].fontSize),64&t&&C(r,"border","solid 3px "+e[6].borderColor)},i:e,o:e,d(e){e&&g(r),t[10](null),h&&h.d(),l=!1,i(c)}}}function j_(e,t,r){let i,o,n,a,l,c,h,u;s(e,jO,(e=>r(1,i=e))),s(e,k_,(e=>r(13,o=e))),s(e,RO,(e=>r(14,n=e))),s(e,C_,(e=>r(15,a=e))),s(e,v_,(e=>r(16,l=e))),s(e,$O,(e=>r(17,c=e))),s(e,Q_,(e=>r(5,h=e))),s(e,vO,(e=>r(6,u=e)));let f,p="",g=[],m=!0,v=0;function O(e){var t=[];return""===e||void 0===e?t=h:(e=e.toLowerCase(),t=h.filter((t=>null!=t&&t.toLowerCase().includes(e)))),t=t.sort(((e,t)=>e.toLowerCase()>t.toLowerCase()))}function _(e){var t="",s=!1;"emailit"===n?c.somethingSelected()?(s=!0,t=c.getSelection()):t=c.getValue():"notes"===n?l.somethingSelected()?(s=!0,t=l.getSelection()):t=l.getValue():"scripts"===n?a.somethingSelected()?(s=!0,t=a.getSelection()):t=a.getValue():"templates"===n&&(o.somethingSelected()?(s=!0,t=o.getSelection()):t=o.getValue()),fetch("http://localhost:9978/api/template/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({template:e,text:t})}).then((e=>e.json())).then((e=>{"emailit"===n?(s?c.replaceSelection(e.text):c.setValue(e.text),c.focus()):"notes"===n?(s?l.replaceSelection(e.text):l.setValue(e.text),l.focus()):"scripts"===n?(s?a.replaceSelection(e.text):a.setValue(e.text),a.focus()):"templates"===n&&(s?o.replaceSelection(e.text):o.setValue(e.text),o.focus()),d(jO,i=!1,i),r(0,p="")}))}L((()=>{})),$((()=>{i&&m&&(r(2,g=O(p)),m=!1,f.focus())}));return e.$$.update=()=>{1&e.$$.dirty&&r(2,g=O(p)),2&e.$$.dirty&&i&&(r(4,v=0),r(0,p=""),f.focus())},[p,i,g,f,v,h,u,_,function(e){switch(e.key){case"ArrowDown":e.preventDefault(),r(4,v+=1),v>=g.length&&r(4,v=g.length-1);break;case"ArrowUp":e.preventDefault(),r(4,v-=1),v<0&&r(4,v=0);break;case"Enter":e.preventDefault(),_(g[v]);break;case"Escape":d(jO,i=!1,i)}},function(){p=this.value,r(0,p)},function(e){j[e?"unshift":"push"]((()=>{f=e,r(3,f)}))},e=>{_(e)}]}class B_ extends ae{constructor(e){super(),se(this,e,j_,D_,n,{})}}const I_=e=>({noResultsText:2048&e[0]}),z_=e=>({noResultsText:e[11]}),W_=e=>({createText:8192&e[0]}),F_=e=>({createText:e[13]}),q_=e=>({loadingText:4096&e[0]}),G_=e=>({loadingText:e[12]});function U_(e,t,r){const i=e.slice();return i[107]=t[r],i[109]=r,i}const H_=e=>({item:1&e[1],label:1&e[1]}),N_=e=>({item:e[107].item,label:e[107].highlighted?e[107].highlighted.label:e[107].label});function X_(e,t,r){const i=e.slice();return i[110]=t[r],i}const Z_=e=>({label:2&e[0],item:2&e[0]}),V_=e=>({label:e[35](e[110]),item:e[110],unselectItem:e[42]});function Y_(e,t,r){const i=e.slice();return i[109]=t[r],i}function K_(e){let t,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=eb(Y_(e,r,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=b()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);p(e,t,r)},p(e,o){if(18&o[0]|16&o[1]){let n;for(r=e[1],n=0;n<r.length;n+=1){const s=Y_(e,r,n);i[n]?i[n].p(s,o):(i[n]=eb(s),i[n].c(),i[n].m(t.parentNode,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){m(i,e),e&&g(t)}}}function J_(e){let t,r;return{c(){t=v("option"),r=O(e[3]),t.__value=e[2],t.value=t.__value,t.selected=!0,w(t,"class","svelte-xmtx21")},m(e,i){p(e,t,i),f(t,r)},p(e,i){8&i[0]&&S(r,e[3]),22&i[0]&&(t.__value=e[2],t.value=t.__value)},d(e){e&&g(t)}}}function eb(e){let t,r,i,o,n=e[35](e[109])+"";return{c(){t=v("option"),r=O(n),i=_(),t.__value=o=e[4](e[109],!0),t.value=t.__value,t.selected=!0,w(t,"class","svelte-xmtx21")},m(e,o){p(e,t,o),f(t,r),f(t,i)},p(e,i){2&i[0]&&n!==(n=e[35](e[109])+"")&&S(r,n),18&i[0]&&o!==(o=e[4](e[109],!0))&&(t.__value=o,t.value=t.__value)},d(e){e&&g(t)}}}function tb(e){let t,r,i=e[1],o=[];for(let t=0;t<i.length;t+=1)o[t]=rb(X_(e,i,t));const n=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=b()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);p(e,t,i),r=!0},p(e,r){if(2&r[0]|2064&r[1]|2048&r[2]){let s;for(i=e[1],s=0;s<i.length;s+=1){const n=X_(e,i,s);o[s]?(o[s].p(n,r),ee(o[s],1)):(o[s]=rb(n),o[s].c(),ee(o[s],1),o[s].m(t.parentNode,t))}for(K(),s=i.length;s<o.length;s+=1)n(s);J()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)ee(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);r=!1},d(e){m(o,e),e&&g(t)}}}function rb(e){let t;const r=e[74].tag,i=a(r,e,e[73],V_),o=i||function(e){let t,r,i,o,n,s,a,l,c=e[35](e[110])+"";function h(){return e[76](e[110])}return{c(){t=v("div"),r=v("span"),i=O(c),o=_(),n=v("span"),s=_(),w(r,"class","tag svelte-xmtx21"),w(n,"class","tag is-delete svelte-xmtx21"),w(t,"class","tags has-addons svelte-xmtx21")},m(e,c){var u;p(e,t,c),f(t,r),f(r,i),f(t,o),f(t,n),p(e,s,c),a||(l=y(n,"click",(u=h,function(e){return e.preventDefault(),u.call(this,e)})),a=!0)},p(t,r){e=t,2&r[0]&&c!==(c=e[35](e[110])+"")&&S(i,c)},d(e){e&&g(t),e&&g(s),a=!1,l()}}}(e);return{c(){o&&o.c()},m(e,r){o&&o.m(e,r),t=!0},p(e,n){i?i.p&&(!t||2&n[0]|2048&n[2])&&h(i,r,e,e[73],t?c(r,e[73],n,Z_):u(e[73]),V_):o&&o.p&&(!t||2&n[0])&&o.p(e,t?n:[-1,-1,-1,-1])},i(e){t||(ee(o,e),t=!0)},o(e){te(o,e),t=!1},d(e){o&&o.d(e)}}}function ib(t){let r,i,o;return{c(){r=v("span"),r.textContent="✖",w(r,"class","autocomplete-clear-button svelte-xmtx21")},m(e,n){p(e,r,n),i||(o=y(r,"click",t[46]),i=!0)},p:e,d(e){e&&g(r),i=!1,o()}}}function ob(e){let t,r;const i=e[74]["no-results"],o=a(i,e,e[73],z_),n=o||function(e){let t;return{c(){t=O(e[11])},m(e,r){p(e,t,r)},p(e,r){2048&r[0]&&S(t,e[11])},d(e){e&&g(t)}}}(e);return{c(){t=v("div"),n&&n.c(),w(t,"class","autocomplete-list-item-no-results svelte-xmtx21")},m(e,i){p(e,t,i),n&&n.m(t,null),r=!0},p(e,t){o?o.p&&(!r||2048&t[0]|2048&t[2])&&h(o,i,e,e[73],r?c(i,e[73],t,I_):u(e[73]),z_):n&&n.p&&(!r||2048&t[0])&&n.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(n,e),r=!0)},o(e){te(n,e),r=!1},d(e){e&&g(t),n&&n.d(e)}}}function nb(e){let t,r,i,o;const n=e[74].create,s=a(n,e,e[73],F_),l=s||function(e){let t;return{c(){t=O(e[13])},m(e,r){p(e,t,r)},p(e,r){8192&r[0]&&S(t,e[13])},d(e){e&&g(t)}}}(e);return{c(){t=v("div"),l&&l.c(),w(t,"class","autocomplete-list-item-create svelte-xmtx21")},m(n,s){p(n,t,s),l&&l.m(t,null),r=!0,i||(o=y(t,"click",e[36]),i=!0)},p(e,t){s?s.p&&(!r||8192&t[0]|2048&t[2])&&h(s,n,e,e[73],r?c(n,e[73],t,W_):u(e[73]),F_):l&&l.p&&(!r||8192&t[0])&&l.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(l,e),r=!0)},o(e){te(l,e),r=!1},d(e){e&&g(t),l&&l.d(e),i=!1,o()}}}function sb(e){let t,r;const i=e[74].loading,o=a(i,e,e[73],G_),n=o||function(e){let t;return{c(){t=O(e[12])},m(e,r){p(e,t,r)},p(e,r){4096&r[0]&&S(t,e[12])},d(e){e&&g(t)}}}(e);return{c(){t=v("div"),n&&n.c(),w(t,"class","autocomplete-list-item-loading svelte-xmtx21")},m(e,i){p(e,t,i),n&&n.m(t,null),r=!0},p(e,t){o?o.p&&(!r||4096&t[0]|2048&t[2])&&h(o,i,e,e[73],r?c(i,e[73],t,q_):u(e[73]),G_):n&&n.p&&(!r||4096&t[0])&&n.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(n,e),r=!0)},o(e){te(n,e),r=!1},d(e){e&&g(t),n&&n.d(e)}}}function ab(e){let t,r,i,o=e[31],n=[];for(let t=0;t<o.length;t+=1)n[t]=db(U_(e,o,t));const s=e=>te(n[e],1,1,(()=>{n[e]=null}));let a=e[5]>0&&e[31].length>e[5]&&fb(e);return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=_(),a&&a.c(),r=b()},m(e,o){for(let t=0;t<n.length;t+=1)n[t].m(e,o);p(e,t,o),a&&a.m(e,o),p(e,r,o),i=!0},p(e,i){if(1073741856&i[0]|131137&i[1]|2048&i[2]){let r;for(o=e[31],r=0;r<o.length;r+=1){const s=U_(e,o,r);n[r]?(n[r].p(s,i),ee(n[r],1)):(n[r]=db(s),n[r].c(),ee(n[r],1),n[r].m(t.parentNode,t))}for(K(),r=o.length;r<n.length;r+=1)s(r);J()}e[5]>0&&e[31].length>e[5]?a?a.p(e,i):(a=fb(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(e){if(!i){for(let e=0;e<o.length;e+=1)ee(n[e]);i=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)te(n[e]);i=!1},d(e){m(n,e),e&&g(t),a&&a.d(e),e&&g(r)}}}function lb(e){let t,r,i=e[107]&&cb(e);return{c(){i&&i.c(),t=b()},m(e,o){i&&i.m(e,o),p(e,t,o),r=!0},p(e,r){e[107]?i?(i.p(e,r),1&r[1]&&ee(i,1)):(i=cb(e),i.c(),ee(i,1),i.m(t.parentNode,t)):i&&(K(),te(i,1,1,(()=>{i=null})),J())},i(e){r||(ee(i),r=!0)},o(e){te(i),r=!1},d(e){i&&i.d(e),e&&g(t)}}}function cb(e){let t,r,o,n,s;const l=e[74].item,d=a(l,e,e[73],N_),f=d||function(e){let t;function r(e,t){return e[107].highlighted?ub:hb}let i=r(e),o=i(e);return{c(){o.c(),t=b()},m(e,r){o.m(e,r),p(e,t,r)},p(e,n){i===(i=r(e))&&o?o.p(e,n):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}(e);function m(){return e[79](e[107])}function O(){return e[80](e[109])}return{c(){t=v("div"),f&&f.c(),w(t,"class",r="autocomplete-list-item "+(e[109]===e[30]?"selected":"")+" svelte-xmtx21"),E(t,"confirmed",e[48](e[107].item))},m(e,r){p(e,t,r),f&&f.m(t,null),o=!0,n||(s=[y(t,"click",m),y(t,"pointerenter",O)],n=!0)},p(i,n){e=i,d?d.p&&(!o||1&n[1]|2048&n[2])&&h(d,l,e,e[73],o?c(l,e[73],n,H_):u(e[73]),N_):f&&f.p&&(!o||1&n[1])&&f.p(e,o?n:[-1,-1,-1,-1]),(!o||1073741824&n[0]&&r!==(r="autocomplete-list-item "+(e[109]===e[30]?"selected":"")+" svelte-xmtx21"))&&w(t,"class",r),1073741824&n[0]|131073&n[1]&&E(t,"confirmed",e[48](e[107].item))},i(e){o||(ee(f,e),o=!0)},o(e){te(f,e),o=!1},d(e){e&&g(t),f&&f.d(e),n=!1,i(s)}}}function hb(e){let t,r,i=e[107].label+"";return{c(){t=new P(!1),r=b(),t.a=r},m(e,o){t.m(i,e,o),p(e,r,o)},p(e,r){1&r[1]&&i!==(i=e[107].label+"")&&t.p(i)},d(e){e&&g(r),e&&t.d()}}}function ub(e){let t,r,i=e[107].highlighted.label+"";return{c(){t=new P(!1),r=b(),t.a=r},m(e,o){t.m(i,e,o),p(e,r,o)},p(e,r){1&r[1]&&i!==(i=e[107].highlighted.label+"")&&t.p(i)},d(e){e&&g(r),e&&t.d()}}}function db(e){let t,r,i=e[107]&&(e[5]<=0||e[109]<e[5])&&lb(e);return{c(){i&&i.c(),t=b()},m(e,o){i&&i.m(e,o),p(e,t,o),r=!0},p(e,r){e[107]&&(e[5]<=0||e[109]<e[5])?i?(i.p(e,r),32&r[0]|1&r[1]&&ee(i,1)):(i=lb(e),i.c(),ee(i,1),i.m(t.parentNode,t)):i&&(K(),te(i,1,1,(()=>{i=null})),J())},i(e){r||(ee(i),r=!0)},o(e){te(i),r=!1},d(e){i&&i.d(e),e&&g(t)}}}function fb(e){let t,r,i,o,n=e[31].length-e[5]+"";return{c(){t=v("div"),r=O("..."),i=O(n),o=O(" results not shown"),w(t,"class","autocomplete-list-item-no-results svelte-xmtx21")},m(e,n){p(e,t,n),f(t,r),f(t,i),f(t,o)},p(e,t){32&t[0]|1&t[1]&&n!==(n=e[31].length-e[5]+"")&&S(i,n)},d(e){e&&g(t)}}}function pb(t){let r,n,s,a,l,c,h,u,d,m,O,b,S,T,P,A,R,Q,L,$;function M(e,t){return!e[6]&&e[2]?J_:e[6]&&e[1]?K_:void 0}let D=M(t),j=D&&D(t),B=t[6]&&t[1]&&tb(t),I=t[32]&&ib(t);const z=[ab,sb,nb,ob],W=[];function F(e,t){return e[31]&&e[31].length>0?0:e[29]&&e[12]?1:e[7]?2:e[11]?3:-1}return~(T=F(t))&&(P=W[T]=z[T](t)),{c(){r=v("div"),n=v("select"),j&&j.c(),s=_(),a=v("div"),B&&B.c(),l=_(),c=v("input"),O=_(),I&&I.c(),b=_(),S=v("div"),P&&P.c(),w(n,"name",t[19]),w(n,"id",t[20]),w(n,"class","svelte-xmtx21"),void 0===t[2]&&G((()=>t[75].call(n))),w(c,"type","text"),w(c,"class",h=(t[16]?t[16]:"")+" input autocomplete-input svelte-xmtx21"),w(c,"id",u=t[17]?t[17]:""),w(c,"autocomplete",d=t[22]?"on":"off"),w(c,"placeholder",t[14]),w(c,"name",t[18]),c.disabled=t[25],w(c,"title",t[21]),c.readOnly=m=t[23]||t[8]&&t[1],C(c,"background-color",t[26].textAreaColor),C(c,"color",t[26].textColor),C(c,"border-color",t[26].borderColor),w(a,"class","input-container svelte-xmtx21"),w(S,"class",A=(t[24]?t[24]:"")+" autocomplete-list "+(t[33]?"":"hidden")+" is-fullwidth svelte-xmtx21"),C(S,"background-color",t[26].textAreaColor),C(S,"color",t[26].textColor),C(S,"border-color",t[26].borderColor),w(r,"class",R=(t[15]?t[15]:"")+" "+(t[9]||!t[0].length?"hide-arrow":"")+" "+(t[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+t[34]+" svelte-xmtx21"),E(r,"show-clear",t[32]),E(r,"is-loading",t[10]&&t[29])},m(i,h){var u;p(i,r,h),f(r,n),j&&j.m(n,null),x(n,t[2]),f(r,s),f(r,a),B&&B.m(a,null),f(a,l),f(a,c),t[77](c),k(c,t[3]),f(a,O),I&&I.m(a,null),f(r,b),f(r,S),~T&&W[T].m(S,null),t[81](S),Q=!0,L||($=[y(window,"click",t[38]),y(n,"change",t[75]),(u=t[47].call(null,n),u&&o(u.destroy)?u.destroy:e),y(c,"input",t[78]),y(c,"input",t[41]),y(c,"focus",t[44]),y(c,"blur",t[45]),y(c,"keydown",t[39]),y(c,"click",t[43]),y(c,"keypress",t[40])],L=!0)},p(e,t){D===(D=M(e))&&j?j.p(e,t):(j&&j.d(1),j=D&&D(e),j&&(j.c(),j.m(n,null))),(!Q||524288&t[0])&&w(n,"name",e[19]),(!Q||1048576&t[0])&&w(n,"id",e[20]),22&t[0]&&x(n,e[2]),e[6]&&e[1]?B?(B.p(e,t),66&t[0]&&ee(B,1)):(B=tb(e),B.c(),ee(B,1),B.m(a,l)):B&&(K(),te(B,1,1,(()=>{B=null})),J()),(!Q||65536&t[0]&&h!==(h=(e[16]?e[16]:"")+" input autocomplete-input svelte-xmtx21"))&&w(c,"class",h),(!Q||131072&t[0]&&u!==(u=e[17]?e[17]:""))&&w(c,"id",u),(!Q||4194304&t[0]&&d!==(d=e[22]?"on":"off"))&&w(c,"autocomplete",d),(!Q||16384&t[0])&&w(c,"placeholder",e[14]),(!Q||262144&t[0])&&w(c,"name",e[18]),(!Q||33554432&t[0])&&(c.disabled=e[25]),(!Q||2097152&t[0])&&w(c,"title",e[21]),(!Q||8388866&t[0]&&m!==(m=e[23]||e[8]&&e[1]))&&(c.readOnly=m),(!Q||67108864&t[0])&&C(c,"background-color",e[26].textAreaColor),(!Q||67108864&t[0])&&C(c,"color",e[26].textColor),(!Q||67108864&t[0])&&C(c,"border-color",e[26].borderColor),8&t[0]&&c.value!==e[3]&&k(c,e[3]),e[32]?I?I.p(e,t):(I=ib(e),I.c(),I.m(a,null)):I&&(I.d(1),I=null);let i=T;T=F(e),T===i?~T&&W[T].p(e,t):(P&&(K(),te(W[i],1,1,(()=>{W[i]=null})),J()),~T?(P=W[T],P?P.p(e,t):(P=W[T]=z[T](e),P.c()),ee(P,1),P.m(S,null)):P=null),(!Q||16777216&t[0]|4&t[1]&&A!==(A=(e[24]?e[24]:"")+" autocomplete-list "+(e[33]?"":"hidden")+" is-fullwidth svelte-xmtx21"))&&w(S,"class",A),(!Q||67108864&t[0])&&C(S,"background-color",e[26].textAreaColor),(!Q||67108864&t[0])&&C(S,"color",e[26].textColor),(!Q||67108864&t[0])&&C(S,"border-color",e[26].borderColor),(!Q||33345&t[0]&&R!==(R=(e[15]?e[15]:"")+" "+(e[9]||!e[0].length?"hide-arrow":"")+" "+(e[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+e[34]+" svelte-xmtx21"))&&w(r,"class",R),33345&t[0]|2&t[1]&&E(r,"show-clear",e[32]),536905281&t[0]&&E(r,"is-loading",e[10]&&e[29])},i(e){Q||(ee(B),ee(P),Q=!0)},o(e){te(B),te(P),Q=!1},d(e){e&&g(r),j&&j.d(),B&&B.d(),t[77](null),I&&I.d(),~T&&W[T].d(),t[81](null),L=!1,i($)}}}function gb(e,t){let r;"function"!=typeof e&&console.error("Not a function: "+e+", argument: "+t);try{r=e(t)}catch(r){console.warn("Error executing Autocomplete function on value: "+t+" function: "+e)}let i=r;return null==i&&(i=""),"string"!=typeof i&&(i=i.toString()),i}function mb(e,t){if(!e)return 0;const r=e.keywords;let i=0;return t.forEach((e=>{r.includes(e)&&i++})),i}function vb(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ob(e,t,r){let i,o,{$$slots:n={},$$scope:s}=t,{items:a=[]}=t,{searchFunction:l=!1}=t,{labelFieldName:c}=t,{keywordsFieldName:h=c}=t,{valueFieldName:u}=t,{labelFunction:d=function(e){return null==e?"":c?e[c]:e}}=t,{keywordsFunction:f=function(e){return null==e?"":h?e[h]:d(e)}}=t,{valueFunction:p=function(e,t=!1){return null==e?e:!C||t?u?e[u]:e:e.map((e=>u?e[u]:e))}}=t,{keywordsCleanFunction:g=function(e){return e}}=t,{textCleanFunction:m=function(e){return e}}=t,{beforeChange:v=function(e,t){return!0}}=t,{onChange:O=function(e){}}=t,{onFocus:_=function(){}}=t,{onBlur:b=function(){}}=t,{onCreate:y=function(e){J&&console.log("onCreate: "+e)}}=t,{selectFirstIfEmpty:w=!1}=t,{minCharactersToSearch:S=1}=t,{maxItemsToShowInList:k=0}=t,{multiple:C=!1}=t,{create:x=!1}=t,{ignoreAccents:E=!0}=t,{matchAllKeywords:P=!0}=t,{sortByMatchedKeywords:A=!1}=t,{lock:R=!1}=t,{delay:Q=0}=t,{localFiltering:L=!0}=t,{hideArrow:$=!1}=t,{showClear:M=!1}=t,{showLoadingIndicator:D=!1}=t,{noResultsText:B="No results found"}=t,{loadingText:I="Loading results..."}=t,{createText:z="Not found, add anyway?"}=t,{placeholder:W}=t,{className:F}=t,{inputClassName:q}=t,{inputId:G}=t,{name:U}=t,{selectName:H}=t,{selectId:N}=t,{title:X}=t,{html5autocomplete:Z}=t,{readonly:V}=t,{dropdownClassName:Y}=t,{disabled:K=!1}=t,{debug:J=!1}=t,{selectedItem:ee}=t,{value:te}=t,{theme:re}=t;const ie="sautocomplete-"+Math.floor(1e3*Math.random());let oe,ne,se,ae,le=!1,ce=!1,he=-1,{text:ue}=t,de=0,fe=[],pe=0,ge=0;function me(e){return gb(d,e)}function ve(e){const t=gb(f,e);let r=gb(g,t);return r=r.toLowerCase().trim(),E&&(r=vb(r)),J&&console.log("Extracted keywords: '"+r+"' from item: "+JSON.stringify(e)),r}function Oe(){let e;J&&(e=`Autocomplete prepare list ${G?`(id: ${G})`:""})`,console.time(e),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(a))),Array.isArray(a)||(console.warn("Autocomplete items / search function did not return array but",a),r(0,a=[]));const t=a?a.length:0;fe=new Array(t),t>0&&a.forEach(((e,t)=>{const r=function(e){return{keywords:ve(e),label:me(e),item:e}}(e);null==r&&console.log("Undefined item for: ",e),fe[t]=r})),J&&(console.log(fe.length+" items to search"),console.timeEnd(e))}async function _e(){let e;J&&(e=`Autocomplete search ${G?`(id: ${G})`:""})`,console.time(e),console.log("Searching user entered text: '"+ue+"'"));const t=function(e){if(null==e)return"";const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();if(r(72,de=t.length),S>1&&de<S)return"";const i=m(t).toLowerCase().trim();return J&&console.log("Change user entered text '"+e+"' into '"+i+"'"),i}(ue);if(""===t)return l?(r(0,a=[]),J&&console.log("User entered text is empty clear list of items")):(r(31,se=fe),J&&console.log("User entered text is empty set the list of items to all items")),Me(),void(J&&console.timeEnd(e));if(l){pe+=1;const e=pe;r(29,ce=!0);if(l instanceof async function*(){}.constructor)for await(const i of l(t)){if(e<ge)return!1;e>ge&&r(0,a=[]),ge=e,r(0,a=[...a,...i]),be(t)}else{let i=await l(t);if(e<ge)return!1;ge=e,r(0,a=i),be(t)}r(29,ce=!1)}else be(t);J&&(console.timeEnd(e),console.log("Search found "+se.length+" items"))}function be(e){let t;if(Oe(),L){var i=e.split(" ");E&&(i=i.map((e=>vb(e)))),t=fe.filter((e=>{var t=mb(e,i);return P?t>=i.length:t>0})),A&&(t=t.sort(((e,t)=>mb(t,i)-mb(e,i))))}else t=fe;const o=De(e,["label"]),n=t.map(o);return r(31,se=n),Me(),!0}function ye(e){if(J&&console.log("selectListItem"),void 0===e)return x?(y(ue),!0):(J&&console.log("listItem is undefined. Can not select."),!1);const t=e.item;return v(ee,t)&&(C?ee?ee.includes(t)?r(1,ee=ee.filter((e=>e!==t))):r(1,ee=[...ee,t]):r(1,ee=[t]):r(1,ee=t)),!0}function we(){J&&console.log("selectItem");ye(se[he])&&(Le(),C&&oe.focus())}function Se(){J&&console.log("up"),Qe(),he>0&&r(30,he--,he),Ce()}function ke(){J&&console.log("down"),Qe(),he<se.length-1&&r(30,he++,he),Ce()}function Ce(){J&&console.log("highlight");const e=".selected";J&&console.log("Seaching DOM element: .selected in "+ne);const t=ne&&ne.querySelector(e);t?"function"==typeof t.scrollIntoViewIfNeeded?(J&&console.log("Scrolling selected item into view"),t.scrollIntoViewIfNeeded()):J&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):J&&console.warn("Selected item not found to scroll into view")}function xe(e){J&&console.log("onListItemClick"),ye(e)&&(Le(),C&&oe.focus())}function Te(e){J&&console.log("unselectItem",e),r(1,ee=ee.filter((t=>t!==e))),oe.focus()}function Ee(){_e()&&(r(30,he=0),Qe())}function Pe(e){J&&console.log("onEsc"),e.stopPropagation(),le&&(oe.focus(),Le())}function Ae(e){J&&console.log("onBackspace"),Te(ee[ee.length-1])}function Re(){if(J&&console.log("resetListToAllItemsAndOpen"),ue?!fe.length&&ee&&l&&_e():r(31,se=fe),Qe(),ee){J&&console.log("Searching currently selected item: "+JSON.stringify(ee));for(let e=0;e<fe.length;e++){const t=fe[e];if(void 0!==t){if(J&&console.log("Item "+e+": "+JSON.stringify(t)),ee==t.item){r(30,he=e),J&&console.log("Found selected item: "+e+": "+JSON.stringify(t)),Ce();break}}else J&&console.log(`listItem ${e} is undefined. Skipping.`)}}}function Qe(){J&&console.log("open"),$e()||r(71,le=!0)}function Le(){J&&console.log("close"),r(71,le=!1),r(29,ce=!1),!ue&&w&&(De=0,we())}function $e(){return S>1&&de<S}function Me(){$e()&&Le()}function De(e,t){return e=e.split(/\s+/g),r=>{const i=Object.assign({highlighted:{}},r);return t&&t.forEach((t=>{i[t]&&!i.highlighted[t]&&(i.highlighted[t]=i[t]),i.highlighted[t]&&e.forEach((e=>{const r=new RegExp("("+e+")","ig");i.highlighted[t]=i.highlighted[t].replace(r,"<b>$1</b>")}))})),i}}return e.$$set=e=>{"items"in e&&r(0,a=e.items),"searchFunction"in e&&r(49,l=e.searchFunction),"labelFieldName"in e&&r(50,c=e.labelFieldName),"keywordsFieldName"in e&&r(51,h=e.keywordsFieldName),"valueFieldName"in e&&r(52,u=e.valueFieldName),"labelFunction"in e&&r(53,d=e.labelFunction),"keywordsFunction"in e&&r(54,f=e.keywordsFunction),"valueFunction"in e&&r(4,p=e.valueFunction),"keywordsCleanFunction"in e&&r(55,g=e.keywordsCleanFunction),"textCleanFunction"in e&&r(56,m=e.textCleanFunction),"beforeChange"in e&&r(57,v=e.beforeChange),"onChange"in e&&r(58,O=e.onChange),"onFocus"in e&&r(59,_=e.onFocus),"onBlur"in e&&r(60,b=e.onBlur),"onCreate"in e&&r(61,y=e.onCreate),"selectFirstIfEmpty"in e&&r(62,w=e.selectFirstIfEmpty),"minCharactersToSearch"in e&&r(63,S=e.minCharactersToSearch),"maxItemsToShowInList"in e&&r(5,k=e.maxItemsToShowInList),"multiple"in e&&r(6,C=e.multiple),"create"in e&&r(7,x=e.create),"ignoreAccents"in e&&r(64,E=e.ignoreAccents),"matchAllKeywords"in e&&r(65,P=e.matchAllKeywords),"sortByMatchedKeywords"in e&&r(66,A=e.sortByMatchedKeywords),"lock"in e&&r(8,R=e.lock),"delay"in e&&r(67,Q=e.delay),"localFiltering"in e&&r(68,L=e.localFiltering),"hideArrow"in e&&r(9,$=e.hideArrow),"showClear"in e&&r(69,M=e.showClear),"showLoadingIndicator"in e&&r(10,D=e.showLoadingIndicator),"noResultsText"in e&&r(11,B=e.noResultsText),"loadingText"in e&&r(12,I=e.loadingText),"createText"in e&&r(13,z=e.createText),"placeholder"in e&&r(14,W=e.placeholder),"className"in e&&r(15,F=e.className),"inputClassName"in e&&r(16,q=e.inputClassName),"inputId"in e&&r(17,G=e.inputId),"name"in e&&r(18,U=e.name),"selectName"in e&&r(19,H=e.selectName),"selectId"in e&&r(20,N=e.selectId),"title"in e&&r(21,X=e.title),"html5autocomplete"in e&&r(22,Z=e.html5autocomplete),"readonly"in e&&r(23,V=e.readonly),"dropdownClassName"in e&&r(24,Y=e.dropdownClassName),"disabled"in e&&r(25,K=e.disabled),"debug"in e&&r(70,J=e.debug),"selectedItem"in e&&r(1,ee=e.selectedItem),"value"in e&&r(2,te=e.value),"theme"in e&&r(26,re=e.theme),"text"in e&&r(3,ue=e.text),"$$scope"in e&&r(73,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty[0]&&(r(2,te=p(ee)),r(3,ue=C?"":me(ee)),O(ee)),1&e.$$.dirty[0]|1536&e.$$.dirty[2]&&r(33,i=le&&(a&&a.length>0||de>0)),322&e.$$.dirty[0]|128&e.$$.dirty[2]&&r(32,o=M||(R||C)&&ee),1&e.$$.dirty[0]&&Oe()},[a,ee,te,ue,p,k,C,x,R,$,D,B,I,z,W,F,q,G,U,H,N,X,Z,V,Y,K,re,oe,ne,ce,he,se,o,i,ie,me,we,xe,function(e){J&&console.log("onDocumentClick: "+JSON.stringify(e.target)),e.target.closest("."+ie)?(J&&console.log("onDocumentClick inside"),Ce()):(J&&console.log("onDocumentClick outside"),Le())},function(e){J&&console.log("onKeyDown");let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const r={Tab:le?ke.bind(this):null,ShiftTab:le?Se.bind(this):null,ArrowDown:ke.bind(this),Escape:Pe.bind(this),Backspace:C&&ee&&ee.length&&!ue?Ae.bind(this):null}[t];"function"==typeof r&&(e.preventDefault(),r(e))},function(e){J&&console.log("onKeyPress"),"Enter"===e.key&&le&&(e.preventDefault(),we())},function(e){J&&console.log("onInput"),r(3,ue=e.target.value),ae&&clearTimeout(ae),Q?ae=setTimeout(Ee,Q):Ee()},Te,function(){J&&console.log("onInputClick"),Re()},function(){J&&console.log("onFocus"),_(),Re()},function(){J&&console.log("onBlur"),b()},function(){J&&console.log("clear"),r(3,ue=""),r(1,ee=void 0),setTimeout((()=>{oe.focus(),Le()}))},function(e){e.multiple=C},function(e){return!!ee&&(C?ee.includes(e):e==ee)},l,c,h,u,d,f,g,m,v,O,_,b,y,w,S,E,P,A,Q,L,M,J,le,de,s,n,function(){te=T(this),r(2,te),r(4,p),r(1,ee)},e=>{Te(e)},function(e){j[e?"unshift":"push"]((()=>{oe=e,r(27,oe)}))},function(){ue=this.value,r(3,ue)},e=>xe(e),e=>{r(30,he=e)},function(e){j[e?"unshift":"push"]((()=>{ne=e,r(28,ne)}))}]}class _b extends ae{constructor(e){super(),se(this,e,Ob,pb,n,{items:0,searchFunction:49,labelFieldName:50,keywordsFieldName:51,valueFieldName:52,labelFunction:53,keywordsFunction:54,valueFunction:4,keywordsCleanFunction:55,textCleanFunction:56,beforeChange:57,onChange:58,onFocus:59,onBlur:60,onCreate:61,selectFirstIfEmpty:62,minCharactersToSearch:63,maxItemsToShowInList:5,multiple:6,create:7,ignoreAccents:64,matchAllKeywords:65,sortByMatchedKeywords:66,lock:8,delay:67,localFiltering:68,hideArrow:9,showClear:69,showLoadingIndicator:10,noResultsText:11,loadingText:12,createText:13,placeholder:14,className:15,inputClassName:16,inputId:17,name:18,selectName:19,selectId:20,title:21,html5autocomplete:22,readonly:23,dropdownClassName:24,disabled:25,debug:70,selectedItem:1,value:2,theme:26,text:3},null,[-1,-1,-1,-1])}}const bb=mO([]);function yb(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,S,x,T,E,P,A,R,Q,L,$,M,D,B,I,z,W,F,q,G,H,N,X,Z,V,Y,K,J,se,ae,le,ce;function he(t){e[21](t)}let ue={inputId:"scriptName",items:e[7],inputClassName:"scriptInput",className:"scriptDiv",create:"true",theme:e[9],onChange:e[19],onCreate:e[20]};return void 0!==e[2]&&(ue.selectedItem=e[2]),a=new _b({props:ue}),j.push((()=>re(a,"selectedItem",he))),L=new bO({props:{height:"380px",width:"980px",config:e[10],initFinished:e[0]}}),L.$on("textChange",e[25]),L.$on("editorChange",e[26]),{c(){t=v("div"),r=v("div"),o=v("div"),n=v("label"),n.textContent="Name:",s=_(),ie(a.$$.fragment),c=_(),h=v("label"),h.textContent="Insert?",u=_(),d=v("input"),m=_(),b=v("div"),S=v("label"),S.textContent="Description:",x=_(),T=v("input"),E=_(),P=v("label"),P.textContent="Terminal Script?",A=_(),R=v("input"),Q=_(),ie(L.$$.fragment),$=_(),M=v("div"),D=v("button"),B=O("Save Script"),I=_(),z=v("button"),W=O("Delete Script"),F=_(),q=v("button"),G=O("Notes"),H=_(),N=v("button"),X=O("Script Terminal"),Z=_(),V=v("button"),Y=O("Scripts Menu"),K=_(),J=v("button"),se=O("Templates Menu"),w(n,"for","scriptName"),w(n,"class","svelte-j1x0bs"),w(h,"id","insertChkLab"),w(h,"for","insertChk"),w(h,"class","svelte-j1x0bs"),w(d,"id","insertChk"),w(d,"name","insertChk"),w(d,"type","checkbox"),C(d,"background-color",e[9].textAreaColor),C(d,"color",e[9].textColor),C(d,"border-color",e[9].borderColor),w(d,"class","svelte-j1x0bs"),w(o,"class","headerRow svelte-j1x0bs"),w(S,"for","description"),w(S,"class","svelte-j1x0bs"),w(T,"id","description"),C(T,"background-color",e[9].textAreaColor),C(T,"color",e[9].textColor),C(T,"border-color",e[9].borderColor),C(T,"font-size",e[9].fontSize),w(T,"class","svelte-j1x0bs"),w(P,"id","termScriptLab"),w(P,"for","termScriptChk"),w(P,"class","svelte-j1x0bs"),w(R,"id","termScriptChk"),w(R,"name","termScriptChk"),w(R,"type","checkbox"),C(R,"background-color",e[9].textAreaColor),C(R,"color",e[9].textColor),C(R,"border-color",e[9].borderColor),C(R,"font-size",e[9].fontSize),w(R,"class","svelte-j1x0bs"),w(b,"class","headerRow svelte-j1x0bs"),w(r,"id","header"),w(r,"class","svelte-j1x0bs"),C(D,"background-color",e[9].textAreaColor),C(D,"color",e[9].textColor),C(D,"border-color",e[9].borderColor),w(D,"class","svelte-j1x0bs"),C(z,"background-color",e[9].textAreaColor),C(z,"color",e[9].textColor),C(z,"border-color",e[9].borderColor),w(z,"class","svelte-j1x0bs"),C(q,"background-color",e[9].textAreaColor),C(q,"color",e[9].textColor),C(q,"border-color",e[9].borderColor),w(q,"class","svelte-j1x0bs"),C(N,"background-color",e[9].textAreaColor),C(N,"color",e[9].textColor),C(N,"border-color",e[9].borderColor),w(N,"class","svelte-j1x0bs"),C(V,"background-color",e[9].textAreaColor),C(V,"color",e[9].textColor),C(V,"border-color",e[9].borderColor),w(V,"class","svelte-j1x0bs"),C(J,"background-color",e[9].textAreaColor),C(J,"color",e[9].textColor),C(J,"border-color",e[9].borderColor),w(J,"class","svelte-j1x0bs"),w(M,"id","buttonRow"),w(M,"class","svelte-j1x0bs"),w(t,"id","scripts"),C(t,"background-color",e[9].backgroundColor),C(t,"font-family",e[9].font),C(t,"color",e[9].textColor),C(t,"font-size",e[9].fontSize),w(t,"class","svelte-j1x0bs")},m(i,l){p(i,t,l),f(t,r),f(r,o),f(o,n),f(o,s),oe(a,o,null),f(o,c),f(o,h),f(o,u),f(o,d),d.checked=e[5],f(r,m),f(r,b),f(b,S),f(b,x),f(b,T),k(T,e[4]),f(b,E),f(b,P),f(b,A),f(b,R),R.checked=e[6],f(t,Q),oe(L,t,null),f(t,$),f(t,M),f(M,D),f(D,B),f(M,I),f(M,z),f(z,W),f(M,F),f(M,q),f(q,G),f(M,H),f(M,N),f(N,X),f(M,Z),f(M,V),f(V,Y),f(M,K),f(M,J),f(J,se),ae=!0,le||(ce=[y(d,"change",e[22]),y(T,"input",e[23]),y(R,"change",e[24]),y(D,"click",e[11]),y(z,"click",e[12]),y(q,"click",e[15]),y(N,"click",e[18]),y(V,"click",e[16]),y(J,"click",e[17])],le=!0)},p(e,r){const i={};128&r[0]&&(i.items=e[7]),512&r[0]&&(i.theme=e[9]),282&r[0]&&(i.onCreate=e[20]),!l&&4&r[0]&&(l=!0,i.selectedItem=e[2],U((()=>l=!1))),a.$set(i),(!ae||512&r[0])&&C(d,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(d,"color",e[9].textColor),(!ae||512&r[0])&&C(d,"border-color",e[9].borderColor),32&r[0]&&(d.checked=e[5]),(!ae||512&r[0])&&C(T,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(T,"color",e[9].textColor),(!ae||512&r[0])&&C(T,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(T,"font-size",e[9].fontSize),16&r[0]&&T.value!==e[4]&&k(T,e[4]),(!ae||512&r[0])&&C(R,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(R,"color",e[9].textColor),(!ae||512&r[0])&&C(R,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(R,"font-size",e[9].fontSize),64&r[0]&&(R.checked=e[6]);const o={};1&r[0]&&(o.initFinished=e[0]),L.$set(o),(!ae||512&r[0])&&C(D,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(D,"color",e[9].textColor),(!ae||512&r[0])&&C(D,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(z,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(z,"color",e[9].textColor),(!ae||512&r[0])&&C(z,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(q,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(q,"color",e[9].textColor),(!ae||512&r[0])&&C(q,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(N,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(N,"color",e[9].textColor),(!ae||512&r[0])&&C(N,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(V,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(V,"color",e[9].textColor),(!ae||512&r[0])&&C(V,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(J,"background-color",e[9].textAreaColor),(!ae||512&r[0])&&C(J,"color",e[9].textColor),(!ae||512&r[0])&&C(J,"border-color",e[9].borderColor),(!ae||512&r[0])&&C(t,"background-color",e[9].backgroundColor),(!ae||512&r[0])&&C(t,"font-family",e[9].font),(!ae||512&r[0])&&C(t,"color",e[9].textColor),(!ae||512&r[0])&&C(t,"font-size",e[9].fontSize)},i(e){ae||(ee(a.$$.fragment,e),ee(L.$$.fragment,e),ae=!0)},o(e){te(a.$$.fragment,e),te(L.$$.fragment,e),ae=!1},d(e){e&&g(t),ne(a),ne(L),le=!1,i(ce)}}}function wb(e,t,r){let i,o,n,a,l,c,h;s(e,RO,(e=>r(27,i=e))),s(e,jO,(e=>r(28,o=e))),s(e,DO,(e=>r(29,n=e))),s(e,C_,(e=>r(8,a=e))),s(e,bb,(e=>r(30,l=e))),s(e,S_,(e=>r(31,c=e))),s(e,vO,(e=>r(9,h=e)));let u,f,p=!1,g="",m="",v="",O=!1,_=!1;function b(e){fetch("http://localhost:9978/api/scripts/user",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(7,f=t.scripts.sort()),void 0!==e&&e()}))}function y(e){fetch("http://localhost:9978/api/scripts/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{d(S_,c=t.data,c),void 0!==e&&e()}))}function w(e){fetch("http://localhost:9978/api/scripts/term/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{d(bb,l=t.data,l),void 0!==e&&e()}))}function S(e){d(C_,a=e,a)}function k(e){r(1,u=e.value)}L((()=>{b((()=>{})),r(0,p=!0)}));return[p,u,g,m,v,O,_,f,a,h,{language:"javascript",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/scripts/${m}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:{name:m,insert:O,description:v,script:u,termscript:_,help:v}})}).then((()=>{r(2,g=""),r(3,m=""),r(5,O=!1),r(4,v=""),r(1,u=""),r(6,_=!1),a.setValue(u),y(),b(),w()}))},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/scripts/${m}`,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((()=>{r(3,m=""),r(2,g=""),r(5,O=!0),r(4,v=""),r(1,u=""),a.setValue(u),y(),b(),w()}))},S,k,function(){d(RO,i="notes",i)},function(){d(DO,n=!n,n)},function(){d(jO,o=!o,o)},function(){d(RO,i="scriptterm",i)},function(e){void 0!==e&&""!==e&&(r(3,m=e),function(e,t){void 0!==e&&""!==e&&fetch(`http://localhost:9978/api/scripts/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{r(3,m=e.script.name),r(1,u=e.script.script),r(4,v=e.script.description),r(5,O="true"==e.script.insert),void 0===e.script.termscript?r(6,_=!1):r(6,_=e.script.termscript),a.setValue(u),void 0!==t&&t()}))}(m))},e=>{void 0!==e&&""!==e&&(r(3,m=e),r(4,v=""),r(1,u=""),a.setValue(u))},function(e){g=e,r(2,g)},function(){O=this.checked,r(5,O)},function(){v=this.value,r(4,v)},function(){_=this.checked,r(6,_)},e=>{k(e.detail.data)},e=>{S(e.detail.data)}]}class Sb extends ae{constructor(e){super(),se(this,e,wb,yb,n,{},null,[-1,-1])}}function kb(e){let t,r,i,o;return{c(){t=v("button"),r=O("Delete Template"),C(t,"background-color",e[7].textAreaColor),C(t,"color",e[7].textColor),C(t,"border-color",e[7].borderColor),w(t,"class","svelte-2ihs3u")},m(n,s){p(n,t,s),f(t,r),i||(o=y(t,"click",e[10]),i=!0)},p(e,r){128&r&&C(t,"background-color",e[7].textAreaColor),128&r&&C(t,"color",e[7].textColor),128&r&&C(t,"border-color",e[7].borderColor)},d(e){e&&g(t),i=!1,o()}}}function Cb(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,S,x,T,E,P,A,R,Q,L,$,M,D,B,I,z,W,F,q;function G(t){e[18](t)}let H={inputId:"templateName",items:e[5],inputClassName:"templateInput",className:"templateDiv",create:"true",theme:e[7],onChange:e[16],onCreate:e[17]};void 0!==e[4]&&(H.selectedItem=e[4]),a=new _b({props:H}),j.push((()=>re(a,"selectedItem",G))),S=new bO({props:{height:"375px",width:"980px",config:e[8],initFinished:e[0]}}),S.$on("textChange",e[20]),S.$on("editorChange",e[21]);let N="Defaults"!==e[3]&&kb(e);return{c(){t=v("div"),r=v("div"),o=v("div"),n=v("label"),n.textContent="Name:",s=_(),ie(a.$$.fragment),c=_(),h=v("div"),u=v("label"),u.textContent="Description:",d=_(),m=v("input"),b=_(),ie(S.$$.fragment),x=_(),T=v("div"),E=v("button"),P=O("Save Template"),A=_(),N&&N.c(),R=_(),Q=v("button"),L=O("Notes"),$=_(),M=v("button"),D=O("Scripts Menu"),B=_(),I=v("button"),z=O("Templates Menu"),w(n,"for","templateName"),w(n,"class","svelte-2ihs3u"),w(o,"class","headerRow svelte-2ihs3u"),w(u,"for","description"),w(u,"class","svelte-2ihs3u"),w(m,"id","description"),C(m,"background-color",e[7].textAreaColor),C(m,"color",e[7].textColor),C(m,"border-color",e[7].borderColor),w(m,"class","svelte-2ihs3u"),w(h,"class","headerRow svelte-2ihs3u"),w(r,"id","header"),w(r,"class","svelte-2ihs3u"),C(E,"background-color",e[7].textAreaColor),C(E,"color",e[7].textColor),C(E,"border-color",e[7].borderColor),w(E,"class","svelte-2ihs3u"),C(Q,"background-color",e[7].textAreaColor),C(Q,"color",e[7].textColor),C(Q,"border-color",e[7].borderColor),w(Q,"class","svelte-2ihs3u"),C(M,"background-color",e[7].textAreaColor),C(M,"color",e[7].textColor),C(M,"border-color",e[7].borderColor),w(M,"class","svelte-2ihs3u"),C(I,"background-color",e[7].textAreaColor),C(I,"color",e[7].textColor),C(I,"border-color",e[7].borderColor),w(I,"class","svelte-2ihs3u"),w(T,"id","buttonRow"),w(T,"class","svelte-2ihs3u"),w(t,"id","templates"),C(t,"background-color",e[7].backgroundColor),C(t,"font-family",e[7].font),C(t,"color",e[7].textColor),C(t,"font-size",e[7].fontSize),w(t,"class","svelte-2ihs3u")},m(i,l){p(i,t,l),f(t,r),f(r,o),f(o,n),f(o,s),oe(a,o,null),f(r,c),f(r,h),f(h,u),f(h,d),f(h,m),k(m,e[2]),f(t,b),oe(S,t,null),f(t,x),f(t,T),f(T,E),f(E,P),f(T,A),N&&N.m(T,null),f(T,R),f(T,Q),f(Q,L),f(T,$),f(T,M),f(M,D),f(T,B),f(T,I),f(I,z),W=!0,F||(q=[y(m,"input",e[19]),y(E,"click",e[9]),y(Q,"click",e[13]),y(M,"click",e[14]),y(I,"click",e[15])],F=!0)},p(e,[r]){const i={};32&r&&(i.items=e[5]),128&r&&(i.theme=e[7]),78&r&&(i.onCreate=e[17]),!l&&16&r&&(l=!0,i.selectedItem=e[4],U((()=>l=!1))),a.$set(i),(!W||128&r)&&C(m,"background-color",e[7].textAreaColor),(!W||128&r)&&C(m,"color",e[7].textColor),(!W||128&r)&&C(m,"border-color",e[7].borderColor),4&r&&m.value!==e[2]&&k(m,e[2]);const o={};1&r&&(o.initFinished=e[0]),S.$set(o),(!W||128&r)&&C(E,"background-color",e[7].textAreaColor),(!W||128&r)&&C(E,"color",e[7].textColor),(!W||128&r)&&C(E,"border-color",e[7].borderColor),"Defaults"!==e[3]?N?N.p(e,r):(N=kb(e),N.c(),N.m(T,R)):N&&(N.d(1),N=null),(!W||128&r)&&C(Q,"background-color",e[7].textAreaColor),(!W||128&r)&&C(Q,"color",e[7].textColor),(!W||128&r)&&C(Q,"border-color",e[7].borderColor),(!W||128&r)&&C(M,"background-color",e[7].textAreaColor),(!W||128&r)&&C(M,"color",e[7].textColor),(!W||128&r)&&C(M,"border-color",e[7].borderColor),(!W||128&r)&&C(I,"background-color",e[7].textAreaColor),(!W||128&r)&&C(I,"color",e[7].textColor),(!W||128&r)&&C(I,"border-color",e[7].borderColor),(!W||128&r)&&C(t,"background-color",e[7].backgroundColor),(!W||128&r)&&C(t,"font-family",e[7].font),(!W||128&r)&&C(t,"color",e[7].textColor),(!W||128&r)&&C(t,"font-size",e[7].fontSize)},i(e){W||(ee(a.$$.fragment,e),ee(S.$$.fragment,e),W=!0)},o(e){te(a.$$.fragment,e),te(S.$$.fragment,e),W=!1},d(e){e&&g(t),ne(a),ne(S),N&&N.d(),F=!1,i(q)}}}function xb(e,t,r){let i,o,n,a,l,c;s(e,jO,(e=>r(22,i=e))),s(e,DO,(e=>r(23,o=e))),s(e,RO,(e=>r(24,n=e))),s(e,k_,(e=>r(6,a=e))),s(e,Q_,(e=>r(25,l=e))),s(e,vO,(e=>r(7,c=e)));let h,u,f=!1,p="",g="",m="";function v(e){fetch("http://localhost:9978/api/template/user",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(5,u=t.templates.sort()),void 0!==e&&e()}))}function O(e){fetch("http://localhost:9978/api/template/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{d(Q_,l=t.templates,l),void 0!==e&&e()}))}function _(e){d(k_,a=e,a)}function b(e){r(1,p=e.value)}L((()=>{v((()=>{r(0,f=!0)}))}));return[f,p,g,m,h,u,a,c,{language:"javascript",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/template/${m}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({template:{name:m,description:g,template:p}})}).then((()=>{r(1,p=""),r(3,m=""),r(2,g=""),r(4,h=""),a.setValue(p),O(),v()}))},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/template/${m}`,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((()=>{r(1,p=""),r(3,m=""),r(2,g=""),r(4,h=""),a.setValue(p),O(),v()}))},_,b,function(){d(RO,n="notes",n)},function(){d(DO,o=!o,o)},function(){d(jO,i=!i,i)},function(e){void 0!==e&&(r(3,m=e),function(e,t){void 0!==e&&""!==e&&fetch(`http://localhost:9978/api/template/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{r(1,p=e.text.template),a.setValue(p),r(2,g=e.text.description),void 0!==t&&t()}))}(m))},e=>{void 0!==e&&(r(3,m=e),r(2,g=""),r(1,p=""),a.setValue(p))},function(e){h=e,r(4,h)},function(){g=this.value,r(2,g)},e=>{b(e.detail.data)},e=>{_(e.detail.data)}]}class Tb extends ae{constructor(e){super(),se(this,e,xb,Cb,n,{})}}function Eb(t){let r,o,n,s,a,l,c,h,u,d,m,O;return{c(){r=v("div"),o=v("div"),n=v("label"),n.textContent="Auto Launch Node-Red?",s=_(),a=v("input"),l=_(),c=v("div"),h=v("label"),h.textContent="Dashboard configured?",u=_(),d=v("input"),w(n,"class","styleLabel svelte-n1ihpd"),w(a,"class","PrefCheck svelte-n1ihpd"),w(a,"type","checkbox"),w(o,"class","labelRadialHolder svelte-n1ihpd"),w(h,"class","styleLabel svelte-n1ihpd"),w(d,"class","PrefCheck svelte-n1ihpd"),w(d,"type","checkbox"),w(c,"class","labelRadialHolder svelte-n1ihpd")},m(e,i){p(e,r,i),f(r,o),f(o,n),f(o,s),f(o,a),a.checked=t[0].REDAuto,f(r,l),f(r,c),f(c,h),f(c,u),f(c,d),d.checked=t[0].REDDashboard,m||(O=[y(a,"change",t[2]),y(a,"change",t[3]),y(d,"change",t[4]),y(d,"change",t[5])],m=!0)},p(e,[t]){1&t&&(a.checked=e[0].REDAuto),1&t&&(d.checked=e[0].REDDashboard)},i:e,o:e,d(e){e&&g(r),m=!1,i(O)}}}function Pb(e,t,r){const i=M();var o={REDAuto:!0,REDDashboard:!0};function n(){!function(e,t){i(e,{data:t})}("changeTodos",{auto:o.REDAuto,dashboard:o.REDDashboard})}return[o,n,function(){o.REDAuto=this.checked,r(0,o)},()=>{n()},function(){o.REDDashboard=this.checked,r(0,o)},()=>{n()}]}class Ab extends ae{constructor(e){super(),se(this,e,Pb,Eb,n,{})}}function Rb(t){let r;return{c(){r=v("div"),C(r,"background-color",t[0].backgroundColor)},m(e,t){p(e,r,t)},p(e,[t]){1&t&&C(r,"background-color",e[0].backgroundColor)},i:e,o:e,d(e){e&&g(r)}}}function Qb(e,t,r){let i;return s(e,vO,(e=>r(0,i=e))),[i]}class Lb extends ae{constructor(e){super(),se(this,e,Qb,Rb,n,{})}}
/**
     * @category  html5 widgets
     * @package   Kelly
     * @author    Rubchuk Vladimir <torrenttvi@gmail.com>
     * @copyright 2015-2017 Rubchuk Vladimir
     * @license   GPLv3
     * @version   1.19
     *
     * Usage example :
     *
     *   new KellyColorPicker({place : 'color-picker'});
     *
     * ToDo :
     * 
     * Add switch color in colorsavers button (analog of X button in Photoshop)
     *
     **/function $b(e){var t,r=Math.PI,i=!0,o=new Object;o.radius=4;var n=!1,s=!1,a="quad",l=!1,c=!1,h=!0,u=new Array,d=new Array,f=document.createElement("canvas"),p=!1,g=!1,m=null,v=!1,O=!0,_="mixed",b=new Object;b.tag=!1,b.margin=6;var y,w,S,k,C=!1,x=this,T=200,E="#000000",P=1,A=!1,R=!1,Q=new Array,L=!1,$=new Array;function M(e,t,r){t=!!t;var i=new Object;i.width,i.widthPercentage=22,i.imageData=null,i.align=e,i.selected=t,i.color="#ffffff",i.position,i.paddingY=-4,i.paddingX=4,i.lineWidth=1,i.selectSize=4,"right"==e&&(i.paddingX=-1*i.paddingX),i.selected&&(i.color=E),r&&(i.color=r),i.updateSize=function(){this.width=parseInt(T-T/100*(100-this.widthPercentage)),"left"==this.align?this.position={x:0,y:T-this.width}:"right"==this.align&&(this.position={x:T-this.width,y:T-this.width})},i.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},i.isDotIn=function(e){var t=new Array;"left"==this.align?(t[0]={x:this.position.x,y:this.position.y},t[1]={x:this.position.x,y:this.position.y+this.width},t[2]={x:this.position.x+this.width,y:this.position.y+this.width}):(t[0]={x:this.position.x+this.width,y:this.position.y},t[1]={x:t[0].x,y:t[0].y+this.width},t[2]={x:t[0].x-this.width,y:this.position.y+this.width});for(var r=0;r<=t.length-1;++r)t[r].x+=this.paddingX,t[r].y+=this.paddingY;var i=this.calcS(t),o=[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y},{x:e.x,y:e.y}],n=this.calcS(o);return o[1]={x:t[2].x,y:t[2].y},n+=this.calcS(o),o[0]={x:t[1].x,y:t[1].y},n+=this.calcS(o),Math.ceil(n)==Math.ceil(i)},i.draw=function(){f.width=this.width,f.height=this.width,p.clearRect(0,0,this.width,this.width),p.beginPath(),"left"==this.align&&(p.moveTo(this.lineWidth/2,this.width-this.lineWidth),p.lineTo(this.width,this.width-this.lineWidth),p.lineTo(this.lineWidth,this.lineWidth),p.lineTo(this.lineWidth,this.width-this.lineWidth)),"right"==this.align&&(p.moveTo(this.lineWidth/2,this.width-this.lineWidth),p.lineTo(this.width-this.lineWidth,this.width-this.lineWidth),p.lineTo(this.width-this.lineWidth,this.lineWidth),p.lineTo(this.lineWidth,this.width-this.lineWidth)),this.selected&&(p.fillStyle="rgba(255,255,255, 1)",p.fill(),p.strokeStyle="rgba(0, 0, 0, 1)",p.stroke(),p.closePath(),p.beginPath(),p.lineWidth=this.lineWidth,"left"==this.align&&(p.moveTo(this.selectSize,this.width-this.selectSize),p.lineTo(this.width-2*this.selectSize,this.width-this.selectSize),p.lineTo(this.selectSize,2*this.selectSize),p.lineTo(this.selectSize,this.width-this.selectSize)),"right"==this.align&&(p.moveTo(2*this.selectSize,this.width-this.selectSize),p.lineTo(this.width-this.selectSize,this.width-this.selectSize),p.lineTo(this.width-this.selectSize,2*this.selectSize),p.lineTo(2*this.selectSize,this.width-this.selectSize)));var e=X(this.color);p.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",p.fill(),p.strokeStyle="rgba(0, 0, 0, 1)",p.stroke(),this.imageData=p.getImageData(0,0,this.width,this.width),s.drawImage(f,this.position.x+this.paddingX,this.position.y+this.paddingY)};var o=Q.length;Q[o]=i}var D=new Object;D.width=18,D.imageData=null,D.innerRadius,D.startAngle=0,D.outerRadius,D.outerStrokeStyle="rgba(0,0,0,0.2)",D.innerStrokeStyle="rgba(0,0,0,0.2)",D.pos,D.draw=function(){if(this.imageData)s.putImageData(this.imageData,0,0);else{for(var e=this.startAngle,t=0;t<=360;t++){var i=V(t-2),o=V(t);s.beginPath(),s.moveTo(w,w),s.arc(w,w,this.outerRadius,i,o,!1),s.closePath();var n=H(e/360,1,1);s.fillStyle="rgb("+n.r+", "+n.g+", "+n.b+")",s.fill(),++e>=360&&(e=0)}s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(w,w,this.innerRadius,0,2*r),s.fill(),s.globalCompositeOperation="source-over",s.strokeStyle=this.innerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),s.beginPath(),s.arc(w,w,this.outerRadius,0,2*r),s.strokeStyle=this.outerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),this.imageData=s.getImageData(0,0,T,T)}},D.isDotIn=function(e){return Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)<Math.pow(this.outerRadius,2)&&Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)>Math.pow(this.innerRadius,2)};var j=new Object;j.lineWeight=2,j.height=4,j.paddingX=2,j.path;var B=new Object;B.width=18,B.padding=4,B.outerStrokeStyle="rgba(0,0,0,0.2)",B.innerStrokeStyle="rgba(0,0,0,0.2)",B.height,B.pos,B.updateSize=function(){this.pos={x:T+B.padding,y:B.padding},this.height=T-2*B.padding},B.draw=function(){var e=s.createLinearGradient(0,0,0,this.height),t=H(S.h,1,1);e.addColorStop(0,"rgba("+t.r+","+t.g+","+t.b+",1)"),e.addColorStop(1,"rgba("+t.r+","+t.g+","+t.b+",0)"),s.beginPath(),s.rect(this.pos.x,this.pos.y,this.width,this.height),s.fillStyle="white",s.fill(),s.fillStyle=e,s.fill(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2,s.stroke(),s.closePath()},B.dotToAlpha=function(e){return 1-Math.abs(this.pos.y-e.y)/this.height},B.alphaToDot=function(e){return{x:0,y:this.height-this.height*e}},B.limitDotPosition=function(e){var t=e.y;return t<this.pos.y&&(t=this.pos.y),t>this.pos.y+this.height&&(t=this.pos.y+this.height),{x:this.pos.x,y:t}},B.isDotIn=function(e){return!(e.x<this.pos.x||e.x>this.pos.x+B.width||e.y<this.pos.y||e.y>this.pos.y+this.height)};var I=new Object;function z(e){var t=e.getBoundingClientRect(),r=0,i=0;return l&&(i=B.width+2*B.padding),e===n?t.width<=t.height?r=t.height:t.height<t.width&&(r=t.width):R?"height"==R?r=t.height:"width"==R&&(r=t.width):t.width>t.height?r=t.height:t.height>=t.width&&(r=t.width),r=parseInt(r),l&&(r-=i),!(r<=0)&&r}function W(e,t){var r=1,i=!1;if((e=e.trim(e)).length<=7)"#"==e.charAt(0)&&(e=e.slice(1)),3==e.length?i=e+e:6==e.length&&(i=e);else if("rgb"==e.substring(0,3)){var o=e.split(",");if(o.length>=3&&o.length<=4){o[0]=o[0].replace("rgba(",""),o[0]=o[0].replace("rgb(","");var n={r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])};n.r<=255&&n.g<=255&&n.b<=255&&(i=Z(n),4==o.length&&((!(r=parseFloat(o[3]))||r<0)&&(r=0),r>1&&(r=1)))}}return(!1!==i||!t)&&(!1===i&&(i="000000"),"#"!=i.charAt(0)&&(i="#"+i),{h:i,a:r})}function F(){if($.quad)return $.quad;var e=new Object;return e.size,e.padding=2,e.path,e.imageData=null,e.dotToSv=function(e){return{s:Math.abs(this.path[3].x-e.x)/this.size,v:Math.abs(this.path[3].y-e.y)/this.size}},e.svToDot=function(e){var t=this.path[0].x,r=this.path[0].y,i=.02;T<150?i=.07:T<100&&(i=.16);for(var o=0;o<this.size;o++)for(var n=0;n<this.size;n++){var s={x:n+t,y:o+r},a=this.dotToSv(s),l=Math.abs(a.s-e.s),c=Math.abs(a.v-e.v);if(l<i&&c<i)return s}return{x:0,y:0}},e.limitDotPosition=function(e){var t=e.x,r=e.y;return t<this.path[0].x&&(t=this.path[0].x),t>this.path[0].x+this.size&&(t=this.path[0].x+this.size),r<this.path[0].y&&(r=this.path[0].y),r>this.path[0].y+this.size&&(r=this.path[0].y+this.size),{x:t,y:r}},e.draw=function(){this.imageData||(this.imageData=s.createImageData(this.size,this.size));for(var e=0,t=this.path[0].x,r=this.path[0].y,i=0;i<this.size;i++)for(var o=0;o<this.size;o++){var n={x:o+t,y:i+r},a=this.dotToSv(n),l=H(S.h,a.s,a.v);this.imageData.data[e+0]=l.r,this.imageData.data[e+1]=l.g,this.imageData.data[e+2]=l.b,this.imageData.data[e+3]=255,e+=4}s.putImageData(this.imageData,t,r),s.beginPath(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2;for(e=0;e<=this.path.length-1;++e)0==e?s.moveTo(this.path[e].x,this.path[e].y):s.lineTo(this.path[e].x,this.path[e].y);s.stroke(),s.closePath()},e.updateSize=function(){var e=2*D.innerRadius-2*j.paddingX-2*this.padding;this.size=Math.floor(e/Math.sqrt(2)),this.path=new Array,this.path[0]={x:this.size/2*-1,y:this.size/2*-1},this.path[1]={x:this.path[0].x+this.size,y:this.path[0].y},this.path[2]={x:this.path[1].x,y:this.path[1].y+this.size},this.path[3]={x:this.path[2].x-this.size,y:this.path[2].y},this.path[4]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=D.pos.x,this.path[t].y+=D.pos.y},e.isDotIn=function(e){return!(e.x<this.path[0].x||e.x>this.path[0].x+this.size||e.y<this.path[0].y||e.y>this.path[0].y+this.size)},$.quad=e,e}function q(){if($.triangle)return $.triangle;var e=new Object;return e.size,e.padding=2,e.path,e.imageData=null,e.followWheel=!0,e.s,e.sOnTop=!1,e.outerRadius,e.limitDotPosition=function(e){var t=e.x,r=e.y,i=this.path[0].x,o=this.path[2].x,n=t,s=r;n=Math.min(Math.max(o,n),i);var a=(this.path[0].y-this.path[1].y)/(this.path[0].x-this.path[1].x),l=Math.ceil(this.path[1].y+a*(n-this.path[1].x));a=(this.path[0].y-this.path[2].y)/(this.path[0].x-this.path[2].x);var c=Math.floor(this.path[2].y+a*(n-this.path[2].x));return t<o&&(D.pos.y,D.pos.x,s=r),{x:n,y:s=Math.min(Math.max(l,s),c)}},e.svToDot=function(e){var r=.02;T<150?r=.07:T<100&&(r=.16);for(var i=0;i<this.size;i++)for(var o=0;o<this.size;o++){var n={x:this.path[1].x+o,y:this.path[1].y+i};if(t.isDotIn(n)){var s=this.dotToSv(n),a=Math.abs(s.s-e.s),l=Math.abs(s.v-e.v);if(a<r&&l<r)return n}}return{x:0,y:0}},e.draw=function(){this.imageData||(this.imageData=p.createImageData(this.size,this.size)),f.width=this.size,f.height=this.size;for(var e=this.path[1].x,r=this.path[1].y,i=0,o=0;o<this.size;o++)for(var n=0;n<this.size;n++){var a={x:this.path[1].x+n,y:this.path[1].y+o};if(t.isDotIn(a)){var l=this.dotToSv(a),c=H(S.h,l.s,l.v);this.imageData.data[i+0]=c.r,this.imageData.data[i+1]=c.g,this.imageData.data[i+2]=c.b,this.imageData.data[i+3]=255}else this.imageData.data[i+0]=0,this.imageData.data[i+1]=0,this.imageData.data[i+2]=0,this.imageData.data[i+3]=0;i+=4}p.putImageData(this.imageData,0,0),s.drawImage(f,e,r),s.beginPath(),s.strokeStyle="rgba(0, 0, 0, 0.3)",s.lineWidth=2;var h=this.path;for(i=0;i<=h.length-1;++i)0==i?s.moveTo(h[i].x,h[i].y):s.lineTo(h[i].x,h[i].y);s.stroke(),s.closePath()},e.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},e.dotToSv=function(e){var t,r,i=function(e,t){var r=(t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y),i=(e.x-t[0].x)*(t[1].x-t[0].x)+(e.y-t[0].y)*(t[1].y-t[0].y),o=!0,n=i/r;n<0&&(n=0,o=!1);n>1&&(n=1,o=!1);return{x:t[0].x+n*(t[1].x-t[0].x),y:t[0].y+n*(t[1].y-t[0].y),pt:o}}({x:e.x,y:e.y},this.vol),o=(t=i,r=this.vol[0],Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)));o<1&&(o=Math.floor(o)),o>this.h-1&&(o=this.h);var n=o/this.h,s=Math.abs(K(e,this.sSide));return s<30&&(s=30),s=60-(s-=30),{s:s/=60,v:n}},e.isDotIn=function(e){var t=[{x:this.path[0].x,y:this.path[0].y},{x:this.path[1].x,y:this.path[1].y},{x:e.x,y:e.y}],r=this.calcS(t);return t[1]={x:this.path[2].x,y:this.path[2].y},r+=this.calcS(t),t[0]={x:this.path[1].x,y:this.path[1].y},r+=this.calcS(t),Math.ceil(r)==Math.ceil(this.s)},e.updateSize=function(){this.outerRadius=D.innerRadius-j.paddingX-this.padding,this.size=Math.floor(2*this.outerRadius*Math.sin(V(60)));var e=Math.sqrt(3)/2*this.size;this.h=Math.sqrt(3)/2*this.size,this.path=new Array,this.path[0]={x:this.outerRadius,y:0},this.path[1]={x:this.path[0].x-e,y:this.size/2*-1},this.path[2]={x:this.path[1].x,y:this.size/2},this.path[3]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=D.pos.x,this.path[t].y+=D.pos.y;if(this.vol=new Array,this.s=this.calcS(this.path),this.sOnTop){var r=Y(this.path[0],this.path[2]);this.vol[0]={x:this.path[1].x,y:this.path[1].y},this.vol[1]={x:r.x,y:r.y},this.sSide=this.path[1]}else{r=Y(this.path[0],this.path[1]);this.vol[0]={x:this.path[2].x,y:this.path[2].y},this.vol[1]={x:r.x,y:r.y},this.sSide=this.path[2]}},$.triangle=e,e}function G(e,t,r,i){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(i||(i=""),u[i+t]=r,e.addEventListener?e.addEventListener(t,u[i+t]):e.attachEvent("on"+t,u[i+t]),!0)}function U(e,t,r){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(r||(r=""),!!u[r+t]&&(e.removeEventListener?e.removeEventListener(t,u[r+t]):e.detachEvent("on"+t,u[r+t]),u[r+t]=null,!0))}function H(e,t,r){var i,o,n,s,a,l,c,h;switch(e&&void 0===t&&void 0===r&&(t=e.s,r=e.v,e=e.h),l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:i=r,o=h,n=l;break;case 1:i=c,o=r,n=l;break;case 2:i=l,o=r,n=h;break;case 3:i=l,o=c,n=r;break;case 4:i=h,o=l,n=r;break;case 5:i=r,o=l,n=c}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*n)}}function N(e,t,r){e&&void 0===t&&void 0===r&&(t=e.g,r=e.b,e=e.r),e/=255,t/=255,r/=255;var i,o,n=Math.max(e,t,r),s=Math.min(e,t,r),a=n,l=n-s;if(o=0==n?0:l/n,n==s)i=0;else{switch(n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4}i/=6}return{h:i,s:o,v:a}}function X(e){var t=parseInt("#"==e.charAt(0)?e.slice(1):e,16);return{r:t>>16,g:t>>8&255,b:255&t}}function Z(e){var t=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};return"#"+t(e.r)+t(e.g)+t(e.b)}function V(e){return e*(r/180)}function Y(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function K(e,t,i){t||(t={x:0,y:0});var o=e.x-t.x,n=e.y-t.y,s=180*Math.atan2(n,o)/r;return i&&s<0&&(s=360+s),s}function J(){y=2+j.paddingX,g=!1,D.imageData=null,w=T/2,D.pos={x:w,y:w},D.outerRadius=w-y,D.innerRadius=D.outerRadius-D.width,j.path=[{x:D.innerRadius-j.paddingX,y:-1*j.height},{x:D.outerRadius+j.paddingX,y:-1*j.height},{x:D.outerRadius+j.paddingX,y:j.height},{x:D.innerRadius-j.paddingX,y:j.height},{x:D.innerRadius-j.paddingX,y:-1*j.height}];var e=T;l&&(e+=B.width+2*B.padding),"CANVAS"!=C.tagName&&(C.style.width=e+"px",C.style.height=T+"px"),n.width=e,n.height=T,A!=n&&(n.style.width=e+"px",n.style.height=T+"px");for(var r=0;r<=Q.length-1;++r)Q[r].updateSize();L&&(L.imageData.triangle=null,L.imageData.quad=null,L.updateSize()),t.updateSize(),l&&B.updateSize()}function ee(e){if(v){if(d.updateinput)if(!(0,d.updateinput)(x,v,e))return;var t="rgba("+k.r+", "+k.g+", "+k.b+", "+P.toFixed(2)+")";e||(v.value=P<1&&"mixed"===_?t:"hex"===_||"mixed"===_?E:t),O&&(S.v<.5?v.style.color="#FFF":v.style.color="#000",v.style.background=t)}}function te(){G(n,"mousedown",(function(e){x.mouseDownEvent(e)}),"wait_action_"),G(n,"touchstart",(function(e){x.mouseDownEvent(e)}),"wait_action_"),G(n,"mouseout",(function(e){x.mouseOutEvent(e)}),"wait_action_"),G(window,"touchmove",(function(e){x.touchMoveEvent(e)}),"wait_action_"),G(n,"mousemove",(function(e){x.mouseMoveRest(e)}),"wait_action_")}function re(){U(n,"mousedown","wait_action_"),U(n,"touchstart","wait_action_"),U(n,"mouseout","wait_action_"),U(window,"touchmove","wait_action_"),U(n,"mousemove","wait_action_")}function ie(e){var t,r;e=e||window.event;var i=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop;"touchend"==e.type?(t=e.changedTouches[0].clientX+i,r=e.changedTouches[0].clientY+o):"touchmove"==e.type||e.touches?(t=e.touches[0].clientX+i,r=e.touches[0].clientY+o):(t=e.clientX+i,r=e.clientY+o);var s=n.getBoundingClientRect();return{x:t-=s.left+i,y:r-=s.top+o}}function oe(e){for(var t=!1,r=0;r<=Q.length-1;++r)Q[r].selected&&(t=r),Q[r].selected=!1;var i=!1;for(r=0;r<=Q.length-1;++r)if(r==e){Q[r].selected=!0,x.setColorByHex(Q[r].color),i=!0;break}i&&d.selectcolorsaver&&(0,d.selectcolorsaver)(x,Q[e]);return i||!1===t||(Q[t].selected=!0),i}function ne(){for(var e=0;e<=Q.length-1;++e)Q[e].selected&&(Q[e].color=E)}function se(){if(Q.length)for(var e=0;e<=Q.length-1;++e)Q[e].draw()}function ae(){if(!s||(s.clearRect(0,0,n.width,n.height),!(g?(s.putImageData(m,0,0),se(),1):(D.draw(),t.draw(),l&&B.draw(),se(),L&&L.draw(),c||(m=s.getImageData(0,0,n.width,n.height),g=!0),1))))return!1;var e=360*S.h-D.startAngle;if(l){s.beginPath();var i=B.height*(1-P);s.rect(B.pos.x-2,B.padding+i-1,B.width+4,2),s.strokeStyle="rgba(0,0,0, 0.8)",s.lineWidth=2,s.stroke(),s.closePath()}s.beginPath();for(var a=function(e,t){t=V(t);for(var r=new Array,i=0;i<=e.length-1;++i)r[i]={x:e[i].x*Math.cos(t)-e[i].y*Math.sin(t),y:e[i].x*Math.sin(t)+e[i].y*Math.cos(t)};return r}(j.path,e,(D.pos.x,D.pos.y)),h=0;h<=a.length-1;++h)a[h].x+=D.pos.x,a[h].y+=D.pos.y,0==h?s.moveTo(a[h].x,a[h].y):s.lineTo(a[h].x,a[h].y);return s.strokeStyle="rgba(0,0,0,0.8)",s.lineWidth=j.lineWeight,s.stroke(),s.closePath(),S.v>.5&&S.s<.5?s.strokeStyle="rgba(0, 0, 0, 1)":s.strokeStyle="rgba(255, 255, 255, 1)",s.beginPath(),s.lineWidth=2,s.arc(S.x,S.y,o.radius,0,2*r),s.stroke(),s.closePath(),!1}I.svCursorData=null,I.stCursor=null,I.curType=0,I.size=16,I.cEl=document.body,I.initSvCursor=function(){if(!n)return!1;if(this.curType=1,this.stCursor||(this.stCursor=window.getComputedStyle(this.cEl).cursor,this.stCursor||(this.stCursor="auto")),this.svCursorData)return this.cEl.style.cursor=this.svCursorData,!0;if(!f)return!1;var e=this.size+2;f.width=e,f.height=e,p.clearRect(0,0,this.size,this.size),p.strokeStyle="rgba(255, 255, 255, 1)",p.beginPath(),p.lineWidth=2,p.arc(e/2,e/2,this.size/2,0,2*r),p.stroke(),p.closePath();var t=e,i=f.toDataURL();return this.svCursorData="url("+i+") "+t/2+" "+t/2+", auto",!!this.svCursorData&&(this.cEl.style.cursor=this.svCursorData,-1===this.cEl.style.cursor.indexOf(i)&&(this.svCursorData="crosshair",this.cEl.style.cursor="crosshair"),!0)},I.initStandartCursor=function(){this.stCursor&&(I.curType=0,this.cEl.style.cursor=this.stCursor)},I.updateCursor=function(e){i&&($b.cursorLock||(t.isDotIn(e)?I.initSvCursor():I.initStandartCursor()))},this.popUpClose=function(e){if(!1!==b.tag){if(e){if(e.target==v||e.target==n)return!1;if(e.target==b.tag)return!1}b.tag.style.display="none",$b.activePopUp==x&&($b.activePopUp=!1)}},this.popUpShow=function(e){if(!1!==b.tag){if(d.popupshow)if(!(0,d.popupshow)(x,e))return;$b.popupEventsInclude||(G(document,"click",(function(e){return!!$b.activePopUp&&$b.activePopUp.popUpClose(e)}),"popup_close_"),G(window,"resize",(function(e){if($b.activePopUp)return $b.activePopUp.popUpShow(e)}),"popup_resize_"),$b.popupEventsInclude=!0),$b.activePopUp&&$b.activePopUp.popUpClose(!1);var t=x.getCanvas().width,r=x.getAlphaFig();r&&(t-=r.width+r.padding);var i=window.getComputedStyle(b.tag),o=parseInt(i.paddingBottom)+parseInt(i.paddingTop);o<=0&&(o=0);var n=v.getBoundingClientRect(),s=n.top+(window.scrollY||window.pageYOffset||document.body.scrollTop)-o,a=n.left+(window.scrollX||window.pageXOffset||document.body.scrollLeft);return b.tag.style.top=s-t-b.margin+"px",b.tag.style.left=a+"px",b.tag.style.display="block",$b.activePopUp=x,!1}},this.setHueByDot=function(e){var t=K(e,D.pos)+D.startAngle;(t<0&&(t=360+t),S.h=t/360,k=H(S.h,S.s,S.v),E=Z(k),ne(),d.change)&&(0,d.change)(x);ee(),g=!1,ae()},this.setColorForColorSaver=function(e,t){var r=W(e,!0);if(r){var i=x.getColorSaver(t);return i.selected?this.setColorByHex(e,!1):(i.color=r.h,ae()),!0}},this.setColor=function(e,t){x.setColorByHex(e,t)},this.setColorByHex=function(e,r){r||(r=!1);var i=P;if(!1!==e){if(!e||!e.length)return;var o=W(e,!0);if(!o)return;e=o.h,l&&(i=o.a)}else e=E;if(l&&e==E&&g&&i!=P)return P=i,void ae();if(!E||e!=E||!g){P=i,k=X(e),E=e,S=N(k);var n=t.svToDot(S);if(S.x=n.x,S.y=n.y,g=!1,ne(),ae(),d.change)(0,d.change)(x);ee(r)}},this.setAlphaByDot=function(e){(P=B.dotToAlpha(e),d.change)&&(0,d.change)(x);ee(),ae()},this.setAlpha=function(e){P=e,ee(),ae()},this.setColorByDot=function(e){var r=t.dotToSv(e);(S.s=r.s,S.v=r.v,S.x=e.x,S.y=e.y,S.s>1&&(S.s=1),S.s<0&&(S.s=0),S.v>1&&(S.v=1),S.v<0&&(S.v=0),k=H(S.h,S.s,S.v),E=Z(k),ne(),d.change)&&(0,d.change)(x);ee(),ae()},this.mouseOutEvent=function(e){I.curType>0&&!$b.cursorLock&&I.initStandartCursor()},this.mouseMoveRest=function(e){if(!c&&h){h=!1;var t=ie(e);if(I.updateCursor(t),requestAnimationFrame((function(){h=!0})),d.mousemoverest)(0,d.mousemoverest)(e,x,t)}},this.touchMoveEvent=function(e){c&&event.preventDefault()},this.mouseDownEvent=function(e){e.preventDefault();var r,i=!1,o=ie(e);if(D.isDotIn(o))c="wheel",x.setHueByDot(o),r=function(e){x.wheelMouseMove(e,o)},i=function(e){$b.cursorLock=!1,x.wheelMouseUp(e,o)};else if(t.isDotIn(o))c="sv",x.setColorByDot(o),r=function(e){x.svMouseMove(e,o)},i=function(e){$b.cursorLock=!1,x.svMouseUp(e,o)};else if(l&&B.isDotIn(o))c="alpha",x.setAlphaByDot(o),r=function(e){x.alphaMouseMove(e,o)},i=function(e){$b.cursorLock=!1,x.alphaMouseUp(e,o)};else if(L&&L.isDotIn(o))x.setMethod();else if(Q.length)for(var n=0;n<=Q.length-1;++n)if(Q[n].isDotIn(o)){oe(n);break}r&&i&&(re(),$b.cursorLock=x,G(document,"mouseup",i,"action_process_"),G(document,"mousemove",r,"action_process_"),G(document,"touchend",i,"action_process_"),G(document,"touchmove",r,"action_process_"))},this.wheelMouseMove=function(e,t){if(e.preventDefault(),c&&h){h=!1;var r=ie(e);if(requestAnimationFrame((function(){h=!0})),x.setHueByDot(r),d.mousemoveh)(0,d.mousemoveh)(e,x,r)}},this.wheelMouseUp=function(e,t){if(e.preventDefault(),c){U(document,"mouseup","action_process_"),U(document,"mousemove","action_process_"),U(document,"touchend","action_process_"),U(document,"touchmove","action_process_"),te(),c=!1,g=!1,ae();var r=ie(e);if(I.updateCursor(r),d.mouseuph)(0,d.mouseuph)(e,x,r)}},this.alphaMouseMove=function(e,t){if(e.preventDefault(),c&&h){h=!1;var r=ie(e);if(r=B.limitDotPosition(r),requestAnimationFrame((function(){h=!0})),x.setAlphaByDot(r),d.mousemovealpha)(0,d.mousemovealpha)(e,x,r)}},this.alphaMouseUp=function(e,t){if(e.preventDefault(),c){U(document,"mouseup","action_process_"),U(document,"mousemove","action_process_"),U(document,"touchend","action_process_"),U(document,"touchmove","action_process_"),te(),c=!1;var r=ie(e);if(I.updateCursor(r),d.mouseupalpha)(0,d.mouseupalpha)(e,x,r)}},this.svMouseMove=function(e,r){if(e.preventDefault(),c&&h){h=!1;var i=ie(e);if(i=t.limitDotPosition(i),requestAnimationFrame((function(){h=!0})),x.setColorByDot(i),d.mousemovesv)(0,d.mousemovesv)(e,x,i)}},this.svMouseUp=function(e,t){if(e.preventDefault(),c){U(document,"mouseup","action_process_"),U(document,"mousemove","action_process_"),U(document,"touchend","action_process_"),U(document,"touchmove","action_process_"),te(),c=!1;var r=ie(e);if(I.updateCursor(r),l&&(g=!1,ae()),d.mouseupsv)(0,d.mouseupsv)(e,x,r)}},this.addUserEvent=function(e,t){return d[e]=t,!0},this.removeUserEvent=function(e){return!!d[e]&&(d[e]=null,!0)},this.getCanvas=function(){return!!s&&n},this.getCtx=function(){return s||!1},this.getInput=function(){return v},this.getSvFig=function(){return t},this.getSvFigCursor=function(){return o},this.getWheel=function(){return D},this.getWheelCursor=function(){return j},this.getCurColorHsv=function(){return S},this.getCurColorRgb=function(){return k},this.getCurColorHex=function(){return E},this.getCurColorRgba=function(){return{r:k.r,g:k.g,b:k.b,a:P}},this.getCurAlpha=function(){return P},this.getAlphaFig=function(){return!!l&&B},this.getPopup=function(){return b},this.getSize=function(){return T},this.getColorSaver=function(e){for(var t=0;t<=Q.length-1;++t)if(!e&&Q[t].selected||Q[t].align==e)return Q[t].rgb=X(Q[t].color),Q[t].hsv=N(Q[t].rgb.r,Q[t].rgb.g,Q[t].rgb.b),Q[t]},this.setColorSaver=function(e){if(!e)return!1;for(var t=0;t<=Q.length-1;++t)if(Q[t].align==e)return oe(t),Q[t]},this.updateView=function(e){return!!s&&(e&&(D.imageData=null,t.imageData=null,m=null),g=!1,J(),ae(),!0)},this.resize=function(e,r){return!!s&&(e==T&&!r||(g=!1,D.imageData=null,t.imageData=null,m=null,T=e,J(),x.setColorByHex(!1),!1))},this.syncSize=function(e){if(!A)return!1;var t=z(A);return t&&x.resize(t),!1},this.setMethod=function(e){if(e||(e="triangle","triangle"==a&&(e="quad")),e==a)return!1;if("quad"!=a&&"triangle"!=a)return!1;("quad"==(a=e)&&(t=F()),"triangle"==a&&(t=q()),x.resize(T,!0),d.setmethod)&&(0,d.setmethod)(x,a);return!0},this.destroy=function(){if(!x)return!1;I.curType>0&&($b.cursorLock=!1,I.initStandartCursor()),c&&(U(document,"mouseup","action_process_"),U(document,"mousemove","action_process_"),U(document,"touchend","action_process_"),U(document,"touchmove","action_process_"),c=!1),b.tag&&U(v,"click","popup_"),v&&(U(v,"click","input_edit_"),U(v,"change","input_edit_"),U(v,"keyup","input_edit_"),U(v,"keypress","input_edit_")),$b.popupEventsInclude&&u.popup_close_click&&($b.activePopUp&&$b.activePopUp.popUpClose(!1),U(document,"click","popup_close_"),U(window,"resize","popup_resize_"),$b.popupEventsInclude=!1),D.imageData=null,t.imageData=null,m=null,f=null,C&&C.parentNode&&C.parentNode.removeChild(C),A&&U(window,"resize","canvas_"),re(),x=null},function(e){var o="",c="";if(void 0!==e.alpha_slider&&(e.alphaSlider=e.alpha_slider),void 0!==e.input_color&&(e.inputColor=e.input_color),void 0!==e.input_format&&(e.inputFormat=e.input_format),e.input&&"object"!=typeof e.input?(e.input=document.getElementById(e.input),v=e.input):"object"==typeof e.input&&(v=e.input),void 0!==e.changeCursor&&(i=e.changeCursor),void 0!==e.alpha&&(P=e.alpha),void 0!==e.alphaSlider&&(l=e.alphaSlider),void 0!==e.inputColor&&(O=e.inputColor),void 0!==e.inputFormat&&(_=e.inputFormat),e.userEvents&&(d=e.userEvents),e.place&&"object"!=typeof e.place&&(c=e.place,e.place=document.getElementById(e.place)),e.place)C=e.place;else if(v){b.tag=document.createElement("div"),b.tag.className="popup-kelly-color",e.popupClass?b.tag.className=e.popupClass:(b.tag.className="popup-kelly-color",b.tag.style.position="absolute",b.tag.style.bottom="0px",b.tag.style.left="0px",b.tag.style.display="none",b.tag.style.backgroundColor="#e1e1e1",b.tag.style.border="1px solid #bfbfbf",b.tag.style.boxShadow="7px 7px 14px -3px rgba(0,0,0,0.24)",b.tag.style.borderTopLeftRadius="4px",b.tag.style.borderTopRightRadius="4px",b.tag.style.borderBottomLeftRadius="4px",b.tag.style.borderBottomRightRadius="4px",b.tag.style.padding="12px",b.tag.style.boxSizing="content-box"),C=b.tag,document.getElementsByTagName("body")[0].appendChild(b.tag),G(v,"click",(function(e){return x.popUpShow(e)}),"popup_")}else o+='| "place" ('+c+") not not found";var h=!1;if(e.color?h=W(e.color):v&&v.value&&(h=W(v.value)),h&&(E=h.h,l&&(P=h.a)),!e.method||"triangle"!=e.method&&"quad"!=e.method||(a=e.method),function(){if(!C)return!1;"CANVAS"!=C.tagName?(n=document.createElement("CANVAS"),C.appendChild(n)):n=C;void 0!==window.G_vmlCanvasManager&&(n=window.G_vmlCanvasManager.initElement(n),f=window.G_vmlCanvasManager.initElement(f));return!(!n.getContext||!n.getContext("2d"))&&(s=n.getContext("2d"),p=f.getContext("2d"),!0)}()||(o+=" | cant init canvas context"),e.resizeWith&&("object"!=typeof e.resizeWith&&"boolean"!=typeof e.resizeWith&&(e.resizeWith=document.getElementById(e.resizeWith)),A=!0===e.resizeWith?n:e.resizeWith,e.resizeSide&&(R=e.resizeSide),A&&(z(A)&&(e.size=z(A)),G(window,"resize",(function(e){return x.syncSize(e)}),"canvas_"))),e.size&&e.size>0&&(T=e.size),o)"undefined"!=typeof console&&console.log("KellyColorPicker : "+o);else{if("quad"==a&&(t=F()),"triangle"==a&&(t=q()),v){var u=function(e){(e=e||window.event).target||(e.target=e.srcElement),x.setColorByHex(e.target.value,!0)};G(v,"click",u,"input_edit_"),G(v,"change",u,"input_edit_"),G(v,"keyup",u,"input_edit_"),G(v,"keypress",u,"input_edit_")}e.colorSaver&&(M("left",!0),M("right")),e.methodSwitch&&((L=new Object).size,L.sizePercentage=10,L.position,L.paddingY=4,L.paddingX=4,L.imageData=new Array,L.lineWidth=2,L.color="#c1ebf5",L.updateSize=function(){this.size=parseInt(T-T/100*(100-this.sizePercentage)),this.size<16&&(this.size=16),this.position={x:this.paddingX,y:this.paddingY}},L.draw=function(){if(this.imageData[a])s.putImageData(this.imageData[a],this.position.x,this.position.y);else{var e=X(this.color);f.width=this.size,f.height=this.size,p.clearRect(0,0,this.size,this.size),p.beginPath();var t,i="triangle";if("triangle"==a&&(i="quad"),p.beginPath(),this.size<35)var o=n=f.width/2;else{var n=f.width/2-this.lineWidth;p.arc(this.size/2,this.size/2,n,0,2*r),p.strokeStyle="rgba(0, 0, 0, 0.4)",p.lineWidth=this.lineWidth,p.stroke(),o=n-6,p.closePath(),p.beginPath(),p.arc(this.size/2,this.size/2,o,0,2*r),p.strokeStyle="rgba(0, 0, 0, 0.4)",p.lineWidth=this.lineWidth,p.stroke(),p.closePath()}if(p.beginPath(),"quad"==i){var l=2*o-4;t=Math.floor(l/Math.sqrt(2));var c=(this.size-t)/2;(h={x:c+t,y:c+t/2}).y=h.y-t/2,p.moveTo(h.x,h.y),p.lineTo(h.x-t,h.y),p.lineTo(h.x-t,h.y+t),p.lineTo(h.x,h.y+t)}else{t=Math.floor((2*o-4)*Math.sin(V(60)));var h={x:2*o+(n-o),y:this.size/2},u=Math.sqrt(3)/2*t;p.moveTo(h.x,h.y),p.lineTo(h.x-u,h.y-t/2),p.lineTo(h.x-u,h.y+t/2),p.lineTo(h.x,h.y)}p.lineTo(h.x,h.y),p.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",p.fill(),p.lineWidth=this.lineWidth,p.strokeStyle="rgba(0, 0, 0, 0.6)",p.stroke(),p.closePath(),this.imageData[a]=p.getImageData(0,0,f.width,f.width),s.drawImage(f,this.position.x,this.position.y)}},L.isDotIn=function(e){return e.x>=this.position.x&&e.x<=this.position.x+this.size&&e.y>=this.position.y&&e.y<=this.position.y+this.size}),te(),J(),x.setColorByHex(!1)}}(e)}function Mb(e){let t,r,o,n,s,a,l,c,h,u,d,m,b,k,x,T,E,P;return{c(){t=v("div"),r=v("p"),o=O("The color for "),n=O(e[2]),s=O(":"),a=_(),l=v("canvas"),c=v("br"),h=_(),u=v("input"),d=_(),m=v("button"),b=O("Select"),k=_(),x=v("button"),T=O("Quit"),w(l,"id","picker"),w(u,"id","color"),u.value=e[0],C(m,"background-color",e[5].textAreaColor),C(m,"font-family",e[5].font),C(m,"color",e[5].textColor),C(m,"font-size",e[5].fontSize),w(m,"class","svelte-6rjn91"),C(x,"background-color",e[5].textAreaColor),C(x,"font-family",e[5].font),C(x,"color",e[5].textColor),C(x,"font-size",e[5].fontSize),w(x,"class","svelte-6rjn91"),w(t,"id","colorPicker"),C(t,"background-color",e[5].backgroundColor),C(t,"font-family",e[5].font),C(t,"color",e[5].textColor),C(t,"font-size",e[5].fontSize),w(t,"class","svelte-6rjn91")},m(i,g){p(i,t,g),f(t,r),f(r,o),f(r,n),f(r,s),f(t,a),f(t,l),e[11](l),f(t,c),f(t,h),f(t,u),e[12](u),f(t,d),f(t,m),f(m,b),f(t,k),f(t,x),f(x,T),E||(P=[y(u,"keyup",e[13]),y(m,"click",e[14]),y(x,"click",e[15])],E=!0)},p(e,r){4&r&&S(n,e[2]),1&r&&u.value!==e[0]&&(u.value=e[0]),32&r&&C(m,"background-color",e[5].textAreaColor),32&r&&C(m,"font-family",e[5].font),32&r&&C(m,"color",e[5].textColor),32&r&&C(m,"font-size",e[5].fontSize),32&r&&C(x,"background-color",e[5].textAreaColor),32&r&&C(x,"font-family",e[5].font),32&r&&C(x,"color",e[5].textColor),32&r&&C(x,"font-size",e[5].fontSize),32&r&&C(t,"background-color",e[5].backgroundColor),32&r&&C(t,"font-family",e[5].font),32&r&&C(t,"color",e[5].textColor),32&r&&C(t,"font-size",e[5].fontSize)},d(r){r&&g(t),e[11](null),e[12](null),E=!1,i(P)}}}function Db(t){let r,i=t[1]&&Mb(t);return{c(){i&&i.c(),r=b()},m(e,t){i&&i.m(e,t),p(e,r,t)},p(e,[t]){e[1]?i?i.p(e,t):(i=Mb(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:e,o:e,d(e){i&&i.d(e),e&&g(r)}}}function jb(e,t,r){let i;s(e,vO,(e=>r(5,i=e)));let o,n,{color:a=""}=t,{id:l=0}=t,{show:c=!1}=t,{item:h="circle"}=t,{explainText:u=""}=t;const d=M();function f(e,t){d(e,{data:t})}function p(){f("quitColorPicker",{})}function g(){document.body.style.cursor="default",f("colorChanged",{color:n.value,id:l})}function m(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),g())}$((()=>{c&&new $b({place:o,input:n,colorSaver:!0,methodSwitch:!0})}));return e.$$set=e=>{"color"in e&&r(0,a=e.color),"id"in e&&r(9,l=e.id),"show"in e&&r(1,c=e.show),"item"in e&&r(10,h=e.item),"explainText"in e&&r(2,u=e.explainText)},[a,c,u,o,n,i,p,g,m,l,h,function(e){j[e?"unshift":"push"]((()=>{o=e,r(3,o)}))},function(e){j[e?"unshift":"push"]((()=>{n=e,r(4,n)}))},e=>{m(e)},e=>{g()},e=>{p()}]}$b.cursorLock=!1,$b.activePopUp=!1,$b.popupEventsInclude=!1,$b.attachToInputByClass=function(e,t){for(var r=new Array,i=document.getElementsByClassName(e),o=0;o<i.length;o++)t?t.input=i[o]:t={input:i[o],size:150},r.push(new $b(t));return r};class Bb extends ae{constructor(e){super(),se(this,e,jb,Db,n,{color:0,id:9,show:1,item:10,explainText:2})}}function Ib(e,t,r){const i=e.slice();return i[40]=t[r],i[42]=r,i}function zb(e,t,r){const i=e.slice();return i[43]=t[r],i}function Wb(e){let t,r,o,n,s,a,l,c,h,u,d=void 0!==e[7]&&qb(e);return{c(){t=v("select"),d&&d.c(),r=v("option"),r.textContent="New",o=_(),n=v("button"),s=O("Update Theme"),a=_(),l=v("button"),c=O("Delete Theme"),r.__value="New",r.value=r.__value,w(t,"class","prefSelector svelte-1y4fm5x"),C(t,"background-color",e[8].textAreaColor),C(t,"color",e[8].textColor),void 0===e[5]&&G((()=>e[17].call(t))),C(n,"background-color",e[8].textAreaColor),C(n,"font-family",e[8].font),C(n,"color",e[8].textColor),C(n,"font-size",e[8].fontSize),w(n,"class","svelte-1y4fm5x"),C(l,"background-color",e[8].textAreaColor),C(l,"font-family",e[8].font),C(l,"color",e[8].textColor),C(l,"font-size",e[8].fontSize),w(l,"class","svelte-1y4fm5x")},m(i,g){p(i,t,g),d&&d.m(t,null),f(t,r),x(t,e[5]),p(i,o,g),p(i,n,g),f(n,s),p(i,a,g),p(i,l,g),f(l,c),h||(u=[y(t,"change",e[17]),y(t,"change",e[18]),y(n,"click",e[13]),y(l,"click",e[14])],h=!0)},p(e,i){void 0!==e[7]?d?d.p(e,i):(d=qb(e),d.c(),d.m(t,r)):d&&(d.d(1),d=null),256&i[0]&&C(t,"background-color",e[8].textAreaColor),256&i[0]&&C(t,"color",e[8].textColor),160&i[0]&&x(t,e[5]),256&i[0]&&C(n,"background-color",e[8].textAreaColor),256&i[0]&&C(n,"font-family",e[8].font),256&i[0]&&C(n,"color",e[8].textColor),256&i[0]&&C(n,"font-size",e[8].fontSize),256&i[0]&&C(l,"background-color",e[8].textAreaColor),256&i[0]&&C(l,"font-family",e[8].font),256&i[0]&&C(l,"color",e[8].textColor),256&i[0]&&C(l,"font-size",e[8].fontSize)},d(e){e&&g(t),d&&d.d(),e&&g(o),e&&g(n),e&&g(a),e&&g(l),h=!1,i(u)}}}function Fb(e){let t,r,o,n,s,a;return{c(){t=v("input"),r=_(),o=v("button"),n=O("Save New"),w(t,"class","prefInput svelte-1y4fm5x"),C(t,"background-color",e[8].textAreaColor),C(t,"color",e[8].textColor),C(o,"background-color",e[8].textAreaColor),C(o,"font-family",e[8].font),C(o,"color",e[8].textColor),C(o,"font-size",e[8].fontSize),w(o,"class","svelte-1y4fm5x")},m(i,l){p(i,t,l),k(t,e[5]),p(i,r,l),p(i,o,l),f(o,n),s||(a=[y(t,"input",e[15]),y(t,"change",e[16]),y(o,"click",e[12])],s=!0)},p(e,r){256&r[0]&&C(t,"background-color",e[8].textAreaColor),256&r[0]&&C(t,"color",e[8].textColor),160&r[0]&&t.value!==e[5]&&k(t,e[5]),256&r[0]&&C(o,"background-color",e[8].textAreaColor),256&r[0]&&C(o,"font-family",e[8].font),256&r[0]&&C(o,"color",e[8].textColor),256&r[0]&&C(o,"font-size",e[8].fontSize)},d(e){e&&g(t),e&&g(r),e&&g(o),s=!1,i(a)}}}function qb(e){let t,r=e[7],i=[];for(let t=0;t<r.length;t+=1)i[t]=Gb(zb(e,r,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=b()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);p(e,t,r)},p(e,o){if(128&o[0]){let n;for(r=e[7],n=0;n<r.length;n+=1){const s=zb(e,r,n);i[n]?i[n].p(s,o):(i[n]=Gb(s),i[n].c(),i[n].m(t.parentNode,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){m(i,e),e&&g(t)}}}function Gb(e){let t,r,i,o=e[43]+"";return{c(){t=v("option"),r=O(o),t.__value=i=e[43],t.value=t.__value},m(e,i){p(e,t,i),f(t,r)},p(e,n){128&n[0]&&o!==(o=e[43]+"")&&S(r,o),128&n[0]&&i!==(i=e[43])&&(t.__value=i,t.value=t.__value)},d(e){e&&g(t)}}}function Ub(e){let t,r,i,o,n,s,a,l,c,h,u,d,m=e[40].color+"";function b(...t){return e[19](e[40],...t)}return{c(){t=v("div"),r=v("label"),i=O("#"),o=O(e[42]),n=_(),s=v("div"),a=_(),l=v("label"),c=O(m),h=_(),w(r,"class","circlePickerLabel svelte-1y4fm5x"),w(s,"class","circlePicker svelte-1y4fm5x"),C(s,"background-color",e[40].color),w(l,"class","circlePickerLabel svelte-1y4fm5x"),w(t,"class","circlePickerWrap svelte-1y4fm5x")},m(e,g){p(e,t,g),f(t,r),f(r,i),f(r,o),f(t,n),f(t,s),f(t,a),f(t,l),f(l,c),f(t,h),u||(d=y(s,"click",b),u=!0)},p(t,r){e=t,256&r[0]&&C(s,"background-color",e[40].color),256&r[0]&&m!==(m=e[40].color+"")&&S(c,m)},d(e){e&&g(t),u=!1,d()}}}function Hb(e){let t,r;return t=new Bb({props:{item:e[4],explainText:e[6],color:e[0],id:e[1],show:e[2]}}),t.$on("colorChanged",e[37]),t.$on("quitColorPicker",e[38]),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},p(e,r){const i={};16&r[0]&&(i.item=e[4]),64&r[0]&&(i.explainText=e[6]),1&r[0]&&(i.color=e[0]),2&r[0]&&(i.id=e[1]),4&r[0]&&(i.show=e[2]),t.$set(i)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function Nb(e){let t,r,o,n,s,a,l,c,h,u,d,k,x,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W,F,q,G,U,H,N,X,Z,V,Y,re,ie,oe,ne,se,ae,le,ce,he,ue,de,fe,pe,ge,me,ve,Oe,_e,be,ye,we,Se,ke,Ce,xe,Te,Ee,Pe,Ae,Re,Qe,Le,$e,Me,De,je,Be,Ie,ze,We,Fe,qe,Ge,Ue,He,Ne,Xe,Ze,Ve,Ye,Ke,Je,et,tt,rt,it,ot,nt,st,at,lt,ct,ht,ut,dt,ft,pt,gt,mt,vt,Ot,_t,bt,yt,wt,St,kt,Ct,xt,Tt,Et,Pt,At,Rt,Qt,Lt,$t,Mt,Dt,jt,Bt,It,zt,Wt,Ft,qt,Gt=e[8].textAreaColor+"",Ut=e[8].backgroundColor+"",Ht=e[8].textColor+"",Nt=e[8].borderColor+"",Xt=e[8].functionColor+"",Zt=e[8].stringColor+"",Vt=e[8].constantColor+"",Yt=e[8].keywordColor+"",Kt=e[8].highlightBackgroundColor+"",Jt=e[8].selectionColor+"",er=e[8].Cyan+"",tr=e[8].Green+"",rr=e[8].Orange+"",ir=e[8].Pink+"",or=e[8].Purple+"",nr=e[8].Red+"",sr=e[8].Yellow+"";function ar(e,t){return e[3]?Fb:Wb}let lr=ar(e),cr=lr(e),hr=e[8].buttons,ur=[];for(let t=0;t<hr.length;t+=1)ur[t]=Ub(Ib(e,hr,t));let dr=void 0!==e[8]&&Hb(e);return{c(){t=v("div"),r=v("label"),r.textContent="Name of theme:",o=_(),cr.c(),n=_(),s=v("h3"),s.textContent="Circle Colors",a=_(),l=v("div");for(let e=0;e<ur.length;e+=1)ur[e].c();c=_(),h=v("h3"),h.textContent="Various Other Colors",u=_(),d=v("div"),k=v("label"),k.textContent="textAreaColor",x=_(),T=v("div"),E=_(),P=v("label"),A=O(Gt),R=_(),Q=v("label"),Q.textContent="backgroundColor",L=_(),$=v("div"),M=_(),D=v("label"),j=O(Ut),B=_(),I=v("label"),I.textContent="textColor",z=_(),W=v("div"),F=_(),q=v("label"),G=O(Ht),U=_(),H=v("label"),H.textContent="borderColor",N=_(),X=v("div"),Z=_(),V=v("label"),Y=O(Nt),re=_(),ie=v("label"),ie.textContent="functionColor",oe=_(),ne=v("div"),se=_(),ae=v("label"),le=O(Xt),ce=_(),he=v("label"),he.textContent="stringColor",ue=_(),de=v("div"),fe=_(),pe=v("label"),ge=O(Zt),me=_(),ve=v("label"),ve.textContent="constantColor",Oe=_(),_e=v("div"),be=_(),ye=v("label"),we=O(Vt),Se=_(),ke=v("label"),ke.textContent="keywordColor",Ce=_(),xe=v("div"),Te=_(),Ee=v("label"),Pe=O(Yt),Ae=_(),Re=v("label"),Re.textContent="highlightBackgroundColor",Qe=_(),Le=v("div"),$e=_(),Me=v("label"),De=O(Kt),je=_(),Be=v("label"),Be.textContent="selectionColor",Ie=_(),ze=v("div"),We=_(),Fe=v("label"),qe=O(Jt),Ge=_(),Ue=v("label"),Ue.textContent="Cyan",He=_(),Ne=v("div"),Xe=_(),Ze=v("label"),Ve=O(er),Ye=_(),Ke=v("label"),Ke.textContent="Green",Je=_(),et=v("div"),tt=_(),rt=v("label"),it=O(tr),ot=_(),nt=v("label"),nt.textContent="Orange",st=_(),at=v("div"),lt=_(),ct=v("label"),ht=O(rr),ut=_(),dt=v("label"),dt.textContent="Pink",ft=_(),pt=v("div"),gt=_(),mt=v("label"),vt=O(ir),Ot=_(),_t=v("label"),_t.textContent="Purple",bt=_(),yt=v("div"),wt=_(),St=v("label"),kt=O(or),Ct=_(),xt=v("label"),xt.textContent="Red",Tt=_(),Et=v("div"),Pt=_(),At=v("label"),Rt=O(nr),Qt=_(),Lt=v("label"),Lt.textContent="Yellow",$t=_(),Mt=v("div"),Dt=_(),jt=v("label"),Bt=O(sr),It=_(),dr&&dr.c(),zt=b(),w(t,"id","themeName"),w(t,"class","svelte-1y4fm5x"),w(l,"class","circlePickersWrap svelte-1y4fm5x"),w(k,"class","variousPickerLabel1 svelte-1y4fm5x"),w(T,"class","circlePicker svelte-1y4fm5x"),C(T,"background-color",e[8].textAreaColor),w(P,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Q,"class","variousPickerLabel1 svelte-1y4fm5x"),w($,"class","circlePicker svelte-1y4fm5x"),C($,"background-color",e[8].backgroundColor),w(D,"class","variousPickerLabel2 svelte-1y4fm5x"),w(I,"class","variousPickerLabel1 svelte-1y4fm5x"),w(W,"class","circlePicker svelte-1y4fm5x"),C(W,"background-color",e[8].textColor),w(q,"class","variousPickerLabel2 svelte-1y4fm5x"),w(H,"class","variousPickerLabel1 svelte-1y4fm5x"),w(X,"class","circlePicker svelte-1y4fm5x"),C(X,"background-color",e[8].borderColor),w(V,"class","variousPickerLabel2 svelte-1y4fm5x"),w(ie,"class","variousPickerLabel1 svelte-1y4fm5x"),w(ne,"class","circlePicker svelte-1y4fm5x"),C(ne,"background-color",e[8].functionColor),w(ae,"class","variousPickerLabel2 svelte-1y4fm5x"),w(he,"class","variousPickerLabel1 svelte-1y4fm5x"),w(de,"class","circlePicker svelte-1y4fm5x"),C(de,"background-color",e[8].stringColor),w(pe,"class","variousPickerLabel2 svelte-1y4fm5x"),w(ve,"class","variousPickerLabel1 svelte-1y4fm5x"),w(_e,"class","circlePicker svelte-1y4fm5x"),C(_e,"background-color",e[8].constantColor),w(ye,"class","variousPickerLabel2 svelte-1y4fm5x"),w(ke,"class","variousPickerLabel1 svelte-1y4fm5x"),w(xe,"class","circlePicker svelte-1y4fm5x"),C(xe,"background-color",e[8].keywordColor),w(Ee,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Re,"class","variousPickerLabel1 svelte-1y4fm5x"),w(Le,"class","circlePicker svelte-1y4fm5x"),C(Le,"background-color",e[8].highlightBackgroundColor),w(Me,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Be,"class","variousPickerLabel1 svelte-1y4fm5x"),w(ze,"class","circlePicker svelte-1y4fm5x"),C(ze,"background-color",e[8].selectionColor),w(Fe,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Ue,"class","variousPickerLabel1 svelte-1y4fm5x"),w(Ne,"class","circlePicker svelte-1y4fm5x"),C(Ne,"background-color",e[8].Cyan),w(Ze,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Ke,"class","variousPickerLabel1 svelte-1y4fm5x"),w(et,"class","circlePicker svelte-1y4fm5x"),C(et,"background-color",e[8].Green),w(rt,"class","variousPickerLabel2 svelte-1y4fm5x"),w(nt,"class","variousPickerLabel1 svelte-1y4fm5x"),w(at,"class","circlePicker svelte-1y4fm5x"),C(at,"background-color",e[8].Orange),w(ct,"class","variousPickerLabel2 svelte-1y4fm5x"),w(dt,"class","variousPickerLabel1 svelte-1y4fm5x"),w(pt,"class","circlePicker svelte-1y4fm5x"),C(pt,"background-color",e[8].Pink),w(mt,"class","variousPickerLabel2 svelte-1y4fm5x"),w(_t,"class","variousPickerLabel1 svelte-1y4fm5x"),w(yt,"class","circlePicker svelte-1y4fm5x"),C(yt,"background-color",e[8].Purple),w(St,"class","variousPickerLabel2 svelte-1y4fm5x"),w(xt,"class","variousPickerLabel1 svelte-1y4fm5x"),w(Et,"class","circlePicker svelte-1y4fm5x"),C(Et,"background-color",e[8].Red),w(At,"class","variousPickerLabel2 svelte-1y4fm5x"),w(Lt,"class","variousPickerLabel1 svelte-1y4fm5x"),w(Mt,"class","circlePicker svelte-1y4fm5x"),C(Mt,"background-color",e[8].Yellow),w(jt,"class","variousPickerLabel2 svelte-1y4fm5x"),w(d,"id","variousOtherColorsDiv"),w(d,"class","svelte-1y4fm5x")},m(i,g){p(i,t,g),f(t,r),f(t,o),cr.m(t,null),p(i,n,g),p(i,s,g),p(i,a,g),p(i,l,g);for(let e=0;e<ur.length;e+=1)ur[e].m(l,null);p(i,c,g),p(i,h,g),p(i,u,g),p(i,d,g),f(d,k),f(d,x),f(d,T),f(d,E),f(d,P),f(P,A),f(d,R),f(d,Q),f(d,L),f(d,$),f(d,M),f(d,D),f(D,j),f(d,B),f(d,I),f(d,z),f(d,W),f(d,F),f(d,q),f(q,G),f(d,U),f(d,H),f(d,N),f(d,X),f(d,Z),f(d,V),f(V,Y),f(d,re),f(d,ie),f(d,oe),f(d,ne),f(d,se),f(d,ae),f(ae,le),f(d,ce),f(d,he),f(d,ue),f(d,de),f(d,fe),f(d,pe),f(pe,ge),f(d,me),f(d,ve),f(d,Oe),f(d,_e),f(d,be),f(d,ye),f(ye,we),f(d,Se),f(d,ke),f(d,Ce),f(d,xe),f(d,Te),f(d,Ee),f(Ee,Pe),f(d,Ae),f(d,Re),f(d,Qe),f(d,Le),f(d,$e),f(d,Me),f(Me,De),f(d,je),f(d,Be),f(d,Ie),f(d,ze),f(d,We),f(d,Fe),f(Fe,qe),f(d,Ge),f(d,Ue),f(d,He),f(d,Ne),f(d,Xe),f(d,Ze),f(Ze,Ve),f(d,Ye),f(d,Ke),f(d,Je),f(d,et),f(d,tt),f(d,rt),f(rt,it),f(d,ot),f(d,nt),f(d,st),f(d,at),f(d,lt),f(d,ct),f(ct,ht),f(d,ut),f(d,dt),f(d,ft),f(d,pt),f(d,gt),f(d,mt),f(mt,vt),f(d,Ot),f(d,_t),f(d,bt),f(d,yt),f(d,wt),f(d,St),f(St,kt),f(d,Ct),f(d,xt),f(d,Tt),f(d,Et),f(d,Pt),f(d,At),f(At,Rt),f(d,Qt),f(d,Lt),f(d,$t),f(d,Mt),f(d,Dt),f(d,jt),f(jt,Bt),p(i,It,g),dr&&dr.m(i,g),p(i,zt,g),Wt=!0,Ft||(qt=[y(T,"click",e[20]),y($,"click",e[21]),y(W,"click",e[22]),y(X,"click",e[23]),y(ne,"click",e[24]),y(de,"click",e[25]),y(_e,"click",e[26]),y(xe,"click",e[27]),y(Le,"click",e[28]),y(ze,"click",e[29]),y(Ne,"click",e[30]),y(et,"click",e[31]),y(at,"click",e[32]),y(pt,"click",e[33]),y(yt,"click",e[34]),y(Et,"click",e[35]),y(Mt,"click",e[36])],Ft=!0)},p(e,r){if(lr===(lr=ar(e))&&cr?cr.p(e,r):(cr.d(1),cr=lr(e),cr&&(cr.c(),cr.m(t,null))),2304&r[0]){let t;for(hr=e[8].buttons,t=0;t<hr.length;t+=1){const i=Ib(e,hr,t);ur[t]?ur[t].p(i,r):(ur[t]=Ub(i),ur[t].c(),ur[t].m(l,null))}for(;t<ur.length;t+=1)ur[t].d(1);ur.length=hr.length}(!Wt||256&r[0])&&C(T,"background-color",e[8].textAreaColor),(!Wt||256&r[0])&&Gt!==(Gt=e[8].textAreaColor+"")&&S(A,Gt),(!Wt||256&r[0])&&C($,"background-color",e[8].backgroundColor),(!Wt||256&r[0])&&Ut!==(Ut=e[8].backgroundColor+"")&&S(j,Ut),(!Wt||256&r[0])&&C(W,"background-color",e[8].textColor),(!Wt||256&r[0])&&Ht!==(Ht=e[8].textColor+"")&&S(G,Ht),(!Wt||256&r[0])&&C(X,"background-color",e[8].borderColor),(!Wt||256&r[0])&&Nt!==(Nt=e[8].borderColor+"")&&S(Y,Nt),(!Wt||256&r[0])&&C(ne,"background-color",e[8].functionColor),(!Wt||256&r[0])&&Xt!==(Xt=e[8].functionColor+"")&&S(le,Xt),(!Wt||256&r[0])&&C(de,"background-color",e[8].stringColor),(!Wt||256&r[0])&&Zt!==(Zt=e[8].stringColor+"")&&S(ge,Zt),(!Wt||256&r[0])&&C(_e,"background-color",e[8].constantColor),(!Wt||256&r[0])&&Vt!==(Vt=e[8].constantColor+"")&&S(we,Vt),(!Wt||256&r[0])&&C(xe,"background-color",e[8].keywordColor),(!Wt||256&r[0])&&Yt!==(Yt=e[8].keywordColor+"")&&S(Pe,Yt),(!Wt||256&r[0])&&C(Le,"background-color",e[8].highlightBackgroundColor),(!Wt||256&r[0])&&Kt!==(Kt=e[8].highlightBackgroundColor+"")&&S(De,Kt),(!Wt||256&r[0])&&C(ze,"background-color",e[8].selectionColor),(!Wt||256&r[0])&&Jt!==(Jt=e[8].selectionColor+"")&&S(qe,Jt),(!Wt||256&r[0])&&C(Ne,"background-color",e[8].Cyan),(!Wt||256&r[0])&&er!==(er=e[8].Cyan+"")&&S(Ve,er),(!Wt||256&r[0])&&C(et,"background-color",e[8].Green),(!Wt||256&r[0])&&tr!==(tr=e[8].Green+"")&&S(it,tr),(!Wt||256&r[0])&&C(at,"background-color",e[8].Orange),(!Wt||256&r[0])&&rr!==(rr=e[8].Orange+"")&&S(ht,rr),(!Wt||256&r[0])&&C(pt,"background-color",e[8].Pink),(!Wt||256&r[0])&&ir!==(ir=e[8].Pink+"")&&S(vt,ir),(!Wt||256&r[0])&&C(yt,"background-color",e[8].Purple),(!Wt||256&r[0])&&or!==(or=e[8].Purple+"")&&S(kt,or),(!Wt||256&r[0])&&C(Et,"background-color",e[8].Red),(!Wt||256&r[0])&&nr!==(nr=e[8].Red+"")&&S(Rt,nr),(!Wt||256&r[0])&&C(Mt,"background-color",e[8].Yellow),(!Wt||256&r[0])&&sr!==(sr=e[8].Yellow+"")&&S(Bt,sr),void 0!==e[8]?dr?(dr.p(e,r),256&r[0]&&ee(dr,1)):(dr=Hb(e),dr.c(),ee(dr,1),dr.m(zt.parentNode,zt)):dr&&(K(),te(dr,1,1,(()=>{dr=null})),J())},i(e){Wt||(ee(dr),Wt=!0)},o(e){te(dr),Wt=!1},d(e){e&&g(t),cr.d(),e&&g(n),e&&g(s),e&&g(a),e&&g(l),m(ur,e),e&&g(c),e&&g(h),e&&g(u),e&&g(d),e&&g(It),dr&&dr.d(e),e&&g(zt),Ft=!1,i(qt)}}}async function Xb(e){let t=await fetch(`http://localhost:9978/api/theme/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}),r=await t.json();return r.theme.name=e,r.theme}async function Zb(){let e=await fetch("http://localhost:9978/api/theme/list",{method:"GET",headers:{"Content-type":"application/json"}});return(await e.json()).themes}function Vb(e,t,r){let i;s(e,vO,(e=>r(8,i=e)));let o,n,a="",l=0,c=!1,h=!1,u=!1,f="",p="Default";async function g(){"New"===p?(r(3,u=!0),d(vO,i.name=p,i)):(d(vO,i=await Xb(p),i),d(vO,i.name=p,i))}function m(e,t){if(h)d(vO,i.buttons[e].color=t,i);else switch(e){case"textAreaColor":d(vO,i.textAreaColor=t,i);break;case"backgroundColor":d(vO,i.backgroundColor=t,i);break;case"textColor":d(vO,i.textColor=t,i);break;case"borderColor":d(vO,i.borderColor=t,i);break;case"Cyan":d(vO,i.Cyan=t,i);break;case"Green":d(vO,i.Green=t,i);break;case"Orange":d(vO,i.Orange=t,i);break;case"Pink":d(vO,i.Pink=t,i);break;case"Purple":d(vO,i.Purple=t,i);break;case"Red":d(vO,i.Red=t,i);break;case"Yellow":d(vO,i.Yellow=t,i);break;case"functionColor":d(vO,i.functionColor=t,i);break;case"stringColor":d(vO,i.stringColor=t,i);break;case"constantColor":d(vO,i.constantColor=t,i);break;case"keywordColor":d(vO,i.keywordColor=t,i);break;case"highlightBackgroundColor":d(vO,i.highlightBackgroundColor=t,i);break;case"selectionColor":d(vO,i.selectionColor=t,i);break;default:console.log("Invalid id.")}r(2,c=!1),h=!1}function v(e){r(0,a=e.color),r(1,l=e.id),r(2,c=!0),isNaN(l)?(h=!1,r(4,f=l),r(6,o=`${l}`)):(h=!0,r(4,f="Circle"),r(6,o=`#${l} Circle`))}async function O(){d(vO,i.name=p,i),await fetch(`http://localhost:9978/api/theme/${p}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}),r(7,n=await Zb())}L((async()=>{r(7,n=await Zb()),r(5,p=i.name)}));return[a,l,c,u,f,p,o,n,i,g,m,v,function(){r(3,u=!1),O()},O,async function(){await fetch(`http://localhost:9978/api/theme/${p}`,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}),r(7,n=await Zb()),r(5,p=n[0]),d(vO,i=await Xb(p),i)},function(){p=this.value,r(5,p),r(7,n)},()=>{r(3,u=!0)},function(){p=T(this),r(5,p),r(7,n)},()=>{g()},(e,t)=>{v(e)},e=>{v({id:"textAreaColor",color:i.textAreaColor})},e=>{v({id:"backgroundColor",color:i.backgroundColor})},e=>{v({id:"textColor",color:i.textColor})},e=>{v({id:"borderColor",color:i.borderColor})},e=>{v({id:"functionColor",color:i.functionColor})},e=>{v({id:"stringColor",color:i.stringColor})},e=>{v({id:"constantColor",color:i.constantColor})},e=>{v({id:"keywordColor",color:i.keywordColor})},e=>{v({id:"highlightBackgroundColor",color:i.highlightBackgroundColor})},e=>{v({id:"selectionColor",color:i.selectionColor})},e=>{v({id:"Cyan",color:i.Cyan})},e=>{v({id:"Green",color:i.Green})},e=>{v({id:"Orange",color:i.Orange})},e=>{v({id:"Pink",color:i.Pink})},e=>{v({id:"Purple",color:i.Purple})},e=>{v({id:"Red",color:i.Red})},e=>{v({id:"Yellow",color:i.Yellow})},e=>{m(e.detail.data.id,e.detail.data.color)},e=>{r(2,c=!1)}]}class Yb extends ae{constructor(e){super(),se(this,e,Vb,Nb,n,{},null,[-1,-1])}}function Kb(e,t,r){const i=e.slice();return i[6]=t[r],i}function Jb(e){let t,r,i,o,n,s,a=e[6].name+"";function l(){return e[4](e[6])}return{c(){t=v("li"),r=v("span"),i=O(a),o=_(),w(r,"class","scriptName svelte-xv3rwd")},m(e,a){p(e,t,a),f(t,r),f(r,i),f(t,o),n||(s=y(r,"click",l),n=!0)},p(t,r){e=t,1&r&&a!==(a=e[6].name+"")&&S(i,a)},d(e){e&&g(t),n=!1,s()}}}function ey(t){let r,i,o,n,s,a,l,c,h,u,d=t[0],b=[];for(let e=0;e<d.length;e+=1)b[e]=Jb(Kb(t,d,e));return{c(){r=v("div"),i=v("h2"),i.textContent="External Scripts",o=_(),n=v("ol");for(let e=0;e<b.length;e+=1)b[e].c();s=_(),a=v("div"),l=v("button"),c=O("New Script"),w(i,"class","svelte-xv3rwd"),w(n,"class","svelte-xv3rwd"),w(l,"id","new"),w(l,"class","buttonStyle svelte-xv3rwd"),w(l,"type","button"),C(l,"background-color",t[1].textAreaColor),C(l,"color",t[1].textColor),C(l,"font-name",t[1].font),C(l,"font-size",t[1].fontSize),w(a,"id","buttonRow"),w(a,"class","svelte-xv3rwd"),w(r,"id","scriptlist"),w(r,"class","svelte-xv3rwd")},m(e,d){p(e,r,d),f(r,i),f(r,o),f(r,n);for(let e=0;e<b.length;e+=1)b[e].m(n,null);f(r,s),f(r,a),f(a,l),f(l,c),h||(u=y(l,"click",t[3]),h=!0)},p(e,[t]){if(5&t){let r;for(d=e[0],r=0;r<d.length;r+=1){const i=Kb(e,d,r);b[r]?b[r].p(i,t):(b[r]=Jb(i),b[r].c(),b[r].m(n,null))}for(;r<b.length;r+=1)b[r].d(1);b.length=d.length}2&t&&C(l,"background-color",e[1].textAreaColor),2&t&&C(l,"color",e[1].textColor),2&t&&C(l,"font-name",e[1].font),2&t&&C(l,"font-size",e[1].fontSize)},i:e,o:e,d(e){e&&g(r),m(b,e),h=!1,u()}}}function ty(e,t,r){let i;s(e,vO,(e=>r(1,i=e)));let o=[];const n=M();function a(e){n("changeView",{view:"script",config:{script:e}})}L((async()=>{r(0,o=await async function(){let e=await fetch("http://localhost:9978/api/scripts/ext/list",{headers:{"Content-type":"application/json"}});return await e.json()}())}));return[o,i,a,function(){n("changeView",{view:"script",config:{script:"new"}})},e=>{a(e.name)}]}class ry extends ae{constructor(e){super(),se(this,e,ty,ey,n,{})}}function iy(e,t,r){const i=e.slice();return i[16]=t[r],i}function oy(e){let t,r,o,n,s,a,l,c,h,u,d,f,O,b,S,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W=e[1],F=[];for(let t=0;t<W.length;t+=1)F[t]=ny(iy(e,W,t));return{c(){t=v("label"),t.textContent="Name of Script",r=_(),o=v("input"),n=_(),s=v("label"),s.textContent="Description",a=_(),l=v("input"),c=_(),h=v("label"),h.textContent="Help",u=_(),d=v("input"),f=_(),O=v("label"),O.textContent="What is the name of the Script file?",b=_(),S=v("input"),T=_(),E=v("label"),E.textContent="What is the directory for the script?",P=_(),A=v("input"),R=_(),Q=v("label"),Q.textContent="What is the environment for the script?",L=_(),$=v("select");for(let e=0;e<F.length;e+=1)F[e].c();M=_(),D=v("label"),D.textContent="Terminal Script?",j=_(),B=v("input"),w(t,"id","scriptNameLab"),w(t,"for","scriptName"),w(t,"class","svelte-npefic"),w(o,"id","scriptName"),w(o,"name","scriptName"),C(o,"border-radius","5px"),C(o,"border-color","$"+e[2].borderColor),C(o,"background-color",e[2].textAreaColor),C(o,"color",e[2].textColor),C(o,"font-name",e[2].font),C(o,"font-size",e[2].fontSize),w(s,"id","scriptDesLab"),w(s,"for","scriptDes"),w(s,"class","svelte-npefic"),w(l,"id","scriptDes"),w(l,"name","scriptDes"),C(l,"border-radius","5px"),C(l,"border-color","$"+e[2].borderColor),C(l,"background-color",e[2].textAreaColor),C(l,"color",e[2].textColor),C(l,"font-name",e[2].font),C(l,"font-size",e[2].fontSize),w(h,"id","helpLab"),w(h,"for","help"),w(h,"class","svelte-npefic"),w(d,"id","help"),w(d,"name","help"),C(d,"border-radius","5px"),C(d,"border-color","$"+e[2].borderColor),C(d,"background-color",e[2].textAreaColor),C(d,"color",e[2].textColor),C(d,"font-name",e[2].font),C(d,"font-size",e[2].fontSize),w(O,"id","scriptScript"),w(O,"for","scriptScript"),w(O,"class","svelte-npefic"),w(S,"id","scriptScript"),w(S,"name","scriptScript"),C(S,"border-radius","5px"),C(S,"border-color","$"+e[2].borderColor),C(S,"background-color",e[2].textAreaColor),C(S,"color",e[2].textColor),C(S,"font-name",e[2].font),C(S,"font-size",e[2].fontSize),w(E,"id","scriptPath"),w(E,"for","scriptPath"),w(E,"class","svelte-npefic"),w(A,"id","scriptPath"),w(A,"name","scriptPath"),C(A,"border-radius","5px"),C(A,"border-color","$"+e[2].borderColor),C(A,"background-color",e[2].textAreaColor),C(A,"color",e[2].textColor),C(A,"font-name",e[2].font),C(A,"font-size",e[2].fontSize),w(Q,"id","scriptEnv"),w(Q,"for","scriptEnv"),w(Q,"class","svelte-npefic"),w($,"id","scriptEnv"),w($,"name","scriptEnv"),C($,"border-radius","5px"),C($,"border-color","$"+e[2].borderColor),C($,"background-color",e[2].textAreaColor),C($,"color",e[2].textColor),C($,"font-name",e[2].font),C($,"font-size",e[2].fontSize),w($,"class","svelte-npefic"),void 0===e[0].env&&G((()=>e[12].call($))),w(D,"id","termScriptLab"),w(D,"for","termScriptChk"),w(D,"class","svelte-npefic"),w(B,"id","termScriptChk"),w(B,"name","termScriptChk"),w(B,"type","checkbox")},m(i,g){p(i,t,g),p(i,r,g),p(i,o,g),k(o,e[0].name),p(i,n,g),p(i,s,g),p(i,a,g),p(i,l,g),k(l,e[0].description),p(i,c,g),p(i,h,g),p(i,u,g),p(i,d,g),k(d,e[0].help),p(i,f,g),p(i,O,g),p(i,b,g),p(i,S,g),k(S,e[0].script),p(i,T,g),p(i,E,g),p(i,P,g),p(i,A,g),k(A,e[0].path),p(i,R,g),p(i,Q,g),p(i,L,g),p(i,$,g);for(let e=0;e<F.length;e+=1)F[e].m($,null);x($,e[0].env),p(i,M,g),p(i,D,g),p(i,j,g),p(i,B,g),k(B,e[0].termscript),I||(z=[y(o,"blur",e[3]),y(o,"input",e[7]),y(l,"input",e[8]),y(l,"blur",e[3]),y(d,"input",e[9]),y(d,"blur",e[3]),y(S,"blur",e[3]),y(S,"input",e[10]),y(A,"blur",e[3]),y(A,"input",e[11]),y($,"blur",e[3]),y($,"change",e[12]),y(B,"change",e[13])],I=!0)},p(e,t){if(4&t&&C(o,"border-color","$"+e[2].borderColor),4&t&&C(o,"background-color",e[2].textAreaColor),4&t&&C(o,"color",e[2].textColor),4&t&&C(o,"font-name",e[2].font),4&t&&C(o,"font-size",e[2].fontSize),3&t&&o.value!==e[0].name&&k(o,e[0].name),4&t&&C(l,"border-color","$"+e[2].borderColor),4&t&&C(l,"background-color",e[2].textAreaColor),4&t&&C(l,"color",e[2].textColor),4&t&&C(l,"font-name",e[2].font),4&t&&C(l,"font-size",e[2].fontSize),3&t&&l.value!==e[0].description&&k(l,e[0].description),4&t&&C(d,"border-color","$"+e[2].borderColor),4&t&&C(d,"background-color",e[2].textAreaColor),4&t&&C(d,"color",e[2].textColor),4&t&&C(d,"font-name",e[2].font),4&t&&C(d,"font-size",e[2].fontSize),3&t&&d.value!==e[0].help&&k(d,e[0].help),4&t&&C(S,"border-color","$"+e[2].borderColor),4&t&&C(S,"background-color",e[2].textAreaColor),4&t&&C(S,"color",e[2].textColor),4&t&&C(S,"font-name",e[2].font),4&t&&C(S,"font-size",e[2].fontSize),3&t&&S.value!==e[0].script&&k(S,e[0].script),4&t&&C(A,"border-color","$"+e[2].borderColor),4&t&&C(A,"background-color",e[2].textAreaColor),4&t&&C(A,"color",e[2].textColor),4&t&&C(A,"font-name",e[2].font),4&t&&C(A,"font-size",e[2].fontSize),3&t&&A.value!==e[0].path&&k(A,e[0].path),2&t){let r;for(W=e[1],r=0;r<W.length;r+=1){const i=iy(e,W,r);F[r]?F[r].p(i,t):(F[r]=ny(i),F[r].c(),F[r].m($,null))}for(;r<F.length;r+=1)F[r].d(1);F.length=W.length}4&t&&C($,"border-color","$"+e[2].borderColor),4&t&&C($,"background-color",e[2].textAreaColor),4&t&&C($,"color",e[2].textColor),4&t&&C($,"font-name",e[2].font),4&t&&C($,"font-size",e[2].fontSize),3&t&&x($,e[0].env),3&t&&k(B,e[0].termscript)},d(e){e&&g(t),e&&g(r),e&&g(o),e&&g(n),e&&g(s),e&&g(a),e&&g(l),e&&g(c),e&&g(h),e&&g(u),e&&g(d),e&&g(f),e&&g(O),e&&g(b),e&&g(S),e&&g(T),e&&g(E),e&&g(P),e&&g(A),e&&g(R),e&&g(Q),e&&g(L),e&&g($),m(F,e),e&&g(M),e&&g(D),e&&g(j),e&&g(B),I=!1,i(z)}}}function ny(e){let t,r,i,o=e[16]+"";return{c(){t=v("option"),r=O(o),t.__value=i=e[16],t.value=t.__value},m(e,i){p(e,t,i),f(t,r)},p(e,n){2&n&&o!==(o=e[16]+"")&&S(r,o),2&n&&i!==(i=e[16])&&(t.__value=i,t.value=t.__value)},d(e){e&&g(t)}}}function sy(t){let r,o,n,s,a,l,c,h,u,d,m=void 0!==t[0]&&void 0!==t[1]&&oy(t);return{c(){r=v("div"),m&&m.c(),o=_(),n=v("div"),s=v("button"),a=O("Return"),l=_(),c=v("button"),h=O("Delete"),w(r,"id","script"),C(r,"color",t[2].textColor),C(r,"font-name",t[2].font),C(r,"font-size",t[2].fontSize),w(r,"class","svelte-npefic"),w(s,"class","buttonStyle svelte-npefic"),w(s,"type","button"),C(s,"border-radius","5px"),C(s,"border-color","$"+t[2].borderColor),C(s,"background-color",t[2].textAreaColor),C(s,"color",t[2].textColor),C(s,"font-name",t[2].font),C(s,"font-size",t[2].fontSize),w(c,"class","buttonStyle svelte-npefic"),w(c,"type","button"),C(c,"border-radius","5px"),C(c,"border-color","$"+t[2].borderColor),C(c,"background-color",t[2].textAreaColor),C(c,"color",t[2].textColor),C(c,"font-name",t[2].font),C(c,"font-size",t[2].fontSize),w(n,"id","buttonRow"),w(n,"class","svelte-npefic")},m(e,i){p(e,r,i),m&&m.m(r,null),p(e,o,i),p(e,n,i),f(n,s),f(s,a),f(n,l),f(n,c),f(c,h),u||(d=[y(s,"click",t[14]),y(c,"click",t[4])],u=!0)},p(e,[t]){void 0!==e[0]&&void 0!==e[1]?m?m.p(e,t):(m=oy(e),m.c(),m.m(r,null)):m&&(m.d(1),m=null),4&t&&C(r,"color",e[2].textColor),4&t&&C(r,"font-name",e[2].font),4&t&&C(r,"font-size",e[2].fontSize),4&t&&C(s,"border-color","$"+e[2].borderColor),4&t&&C(s,"background-color",e[2].textAreaColor),4&t&&C(s,"color",e[2].textColor),4&t&&C(s,"font-name",e[2].font),4&t&&C(s,"font-size",e[2].fontSize),4&t&&C(c,"border-color","$"+e[2].borderColor),4&t&&C(c,"background-color",e[2].textAreaColor),4&t&&C(c,"color",e[2].textColor),4&t&&C(c,"font-name",e[2].font),4&t&&C(c,"font-size",e[2].fontSize)},i:e,o:e,d(e){e&&g(r),m&&m.d(),e&&g(o),e&&g(n),u=!1,i(d)}}}function ay(e,t,r){let i;s(e,vO,(e=>r(2,i=e)));let o,n,{config:a}=t;const l=M();async function c(){""!==o.name&&null!==o.name&&"new"!==o.name&&await fetch(`http://localhost:9978/api/scripts/ext/${o.name}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(o)})}function h(){l("changeView",{view:"lists",config:{}})}L((async()=>{"new"!==a.script?r(0,o=await async function(e){let t=await fetch(`http://localhost:9978/api/scripts/ext/${e}`,{headers:{"Content-type":"application/json"}});return await t.json()}(a.script)):r(0,o={name:"new",script:"",path:"",env:"",termscript:!1,description:"",help:""}),r(1,n=await async function(){let e=await fetch("http://localhost:9978/api/scripts/env/list",{headers:{"Content-type":"application/json"}});return await e.json()}())}));return e.$$set=e=>{"config"in e&&r(6,a=e.config)},[o,n,i,c,async function(){await fetch(`http://localhost:9978/api/scripts/ext/${o.name}`,{method:"DELETE",headers:{"Content-type":"application/json"}}),q(),h()},h,a,function(){o.name=this.value,r(0,o),r(1,n)},function(){o.description=this.value,r(0,o),r(1,n)},function(){o.help=this.value,r(0,o),r(1,n)},function(){o.script=this.value,r(0,o),r(1,n)},function(){o.path=this.value,r(0,o),r(1,n)},function(){o.env=T(this),r(0,o),r(1,n)},function(){o.termscript=this.value,r(0,o),r(1,n)},()=>{c(),h()}]}class ly extends ae{constructor(e){super(),se(this,e,ay,sy,n,{config:6})}}function cy(e){let t,r;return t=new ly({props:{config:e[1]}}),t.$on("changeView",e[3]),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},p(e,r){const i={};2&r&&(i.config=e[1]),t.$set(i)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function hy(t){let r,i,o;return i=new ry({}),i.$on("changeView",t[3]),{c(){r=v("div"),ie(i.$$.fragment),w(r,"id","listviews"),w(r,"class","svelte-10ddyhx")},m(e,t){p(e,r,t),oe(i,r,null),o=!0},p:e,i(e){o||(ee(i.$$.fragment,e),o=!0)},o(e){te(i.$$.fragment,e),o=!1},d(e){e&&g(r),ne(i)}}}function uy(e){let t,r,i,o;const n=[hy,cy],s=[];function a(e,t){return"lists"===e[0]?0:"script"===e[0]?1:-1}return~(r=a(e))&&(i=s[r]=n[r](e)),{c(){t=v("div"),i&&i.c(),w(t,"id","ExtScriptEditor"),C(t,"color",e[2].textcolor),C(t,"background-color",e[2].appBackground),w(t,"class","svelte-10ddyhx")},m(e,i){p(e,t,i),~r&&s[r].m(t,null),o=!0},p(e,[l]){let c=r;r=a(e),r===c?~r&&s[r].p(e,l):(i&&(K(),te(s[c],1,1,(()=>{s[c]=null})),J()),~r?(i=s[r],i?i.p(e,l):(i=s[r]=n[r](e),i.c()),ee(i,1),i.m(t,null)):i=null),(!o||4&l)&&C(t,"color",e[2].textcolor),(!o||4&l)&&C(t,"background-color",e[2].appBackground)},i(e){o||(ee(i),o=!0)},o(e){te(i),o=!1},d(e){e&&g(t),~r&&s[r].d()}}}function dy(e,t,r){let i;s(e,vO,(e=>r(2,i=e)));let o="lists",n={};return[o,n,i,function(e){r(0,o=e.detail.view),r(1,n=e.detail.config)}]}class fy extends ae{constructor(e){super(),se(this,e,dy,uy,n,{})}}function py(e,t,r){const i=e.slice();return i[9]=t[r],i}function gy(e){let t,r,i,o,n,s,a=e[9]+"";function l(){return e[6](e[9])}return{c(){t=v("li"),r=v("span"),i=O(a),o=_(),w(r,"class","envName svelte-1xg0rtz")},m(e,a){p(e,t,a),f(t,r),f(r,i),f(t,o),n||(s=y(r,"click",l),n=!0)},p(t,r){e=t,1&r&&a!==(a=e[9]+"")&&S(i,a)},d(e){e&&g(t),n=!1,s()}}}function my(e){let t,r,i,o;return{c(){t=v("button"),r=O("Create Default"),w(t,"id","default"),w(t,"class","buttonStyle svelte-1xg0rtz"),C(t,"background-color",e[2].textAreaColor),C(t,"color",e[2].textColor),C(t,"font-name",e[2].font),C(t,"font-size",e[2].fontSize),w(t,"type","button")},m(n,s){p(n,t,s),f(t,r),i||(o=y(t,"click",e[5]),i=!0)},p(e,r){4&r&&C(t,"background-color",e[2].textAreaColor),4&r&&C(t,"color",e[2].textColor),4&r&&C(t,"font-name",e[2].font),4&r&&C(t,"font-size",e[2].fontSize)},d(e){e&&g(t),i=!1,o()}}}function vy(t){let r,i,o,n,s,a,l,c,h,u,d,b=t[0],S=[];for(let e=0;e<b.length;e+=1)S[e]=gy(py(t,b,e));let k=t[1]&&my(t);return{c(){r=v("div"),i=v("h2"),i.textContent="Environments",o=_(),n=v("ol");for(let e=0;e<S.length;e+=1)S[e].c();s=_(),a=v("div"),l=v("button"),c=O("New Environment"),h=_(),k&&k.c(),w(i,"class","svelte-1xg0rtz"),w(n,"class","svelte-1xg0rtz"),w(l,"id","new"),w(l,"class","buttonStyle svelte-1xg0rtz"),C(l,"background-color",t[2].textAreaColor),C(l,"color",t[2].textColor),C(l,"font-name",t[2].font),C(l,"font-size",t[2].fontSize),w(l,"type","button"),w(a,"id","buttonRow"),w(a,"class","svelte-1xg0rtz"),w(r,"id","envlist"),w(r,"class","svelte-1xg0rtz")},m(e,g){p(e,r,g),f(r,i),f(r,o),f(r,n);for(let e=0;e<S.length;e+=1)S[e].m(n,null);f(r,s),f(r,a),f(a,l),f(l,c),f(a,h),k&&k.m(a,null),u||(d=y(l,"click",t[3]),u=!0)},p(e,[t]){if(17&t){let r;for(b=e[0],r=0;r<b.length;r+=1){const i=py(e,b,r);S[r]?S[r].p(i,t):(S[r]=gy(i),S[r].c(),S[r].m(n,null))}for(;r<S.length;r+=1)S[r].d(1);S.length=b.length}4&t&&C(l,"background-color",e[2].textAreaColor),4&t&&C(l,"color",e[2].textColor),4&t&&C(l,"font-name",e[2].font),4&t&&C(l,"font-size",e[2].fontSize),e[1]?k?k.p(e,t):(k=my(e),k.c(),k.m(a,null)):k&&(k.d(1),k=null)},i:e,o:e,d(e){e&&g(r),m(S,e),k&&k.d(),u=!1,d()}}}function Oy(e,t,r){let i;s(e,vO,(e=>r(2,i=e)));let o=[],n=!1;const a=M();function l(e){a("changeView",{view:"env",config:{env:e}})}L((async()=>{await async function(){var e=await fetch("http://localhost:9978/api/scripts/env/list");r(0,o=await e.json())}();var e=o.filter((e=>"Default"==e));Array.isArray(e)&&0===e.length&&r(1,n=!0)}));return[o,n,i,async function(){a("changeView",{view:"env",config:{env:"new",envVar:[]}})},l,async function(){await fetch("http://localhost:9978/api/scripts/env/Default",{method:"PUT"}),a("changeView",{view:"env",config:{env:"Default"}})},e=>{l(e)}]}class _y extends ae{constructor(e){super(),se(this,e,Oy,vy,n,{})}}function by(e){let t,r,o,n,s,a,l,c,h,u,d,m,b;return{c(){t=v("td"),r=v("span"),r.textContent="✏️",o=_(),n=v("td"),s=v("span"),s.textContent="❌",a=_(),l=v("td"),c=O(e[0]),h=_(),u=v("td"),d=O(e[1]),w(t,"class","editTD svelte-iq93qk"),C(s,"width","10px"),C(s,"cursor","pointer"),w(n,"class","deleteTD svelte-iq93qk")},m(i,g){p(i,t,g),f(t,r),p(i,o,g),p(i,n,g),f(n,s),p(i,a,g),p(i,l,g),f(l,c),p(i,h,g),p(i,u,g),f(u,d),m||(b=[y(r,"click",e[10]),y(s,"click",e[6])],m=!0)},p(e,t){1&t&&S(c,e[0]),2&t&&S(d,e[1])},d(e){e&&g(t),e&&g(o),e&&g(n),e&&g(a),e&&g(l),e&&g(h),e&&g(u),m=!1,i(b)}}}function yy(e){let t,r,o,n,s,a,l,c,h,u;return{c(){t=v("td"),r=v("td"),o=_(),n=v("td"),s=v("input"),a=_(),l=v("td"),c=v("input"),w(s,"type","text"),C(s,"padding-left","10px"),C(s,"border-radius","10px"),C(s,"border-color",e[4].borderColor),C(s,"background-color",e[4].textAreaColor),C(s,"color",e[4].textColor),C(s,"font-family","'"+e[4].font+"'"),C(s,"font-size",e[4].fontSize),w(c,"type","text"),C(c,"padding-left","10px"),C(c,"border-radius","10px"),C(c,"border-color",e[4].borderColor),C(c,"background-color",e[4].textAreaColor),C(c,"color",e[4].textColor),C(c,"font-family",e[4].font),C(c,"font-size",e[4].fontSize)},m(i,d){p(i,t,d),p(i,r,d),p(i,o,d),p(i,n,d),f(n,s),e[7](s),k(s,e[0]),p(i,a,d),p(i,l,d),f(l,c),k(c,e[1]),h||(u=[y(s,"input",e[8]),y(c,"input",e[9]),y(c,"blur",e[5])],h=!0)},p(e,t){16&t&&C(s,"border-color",e[4].borderColor),16&t&&C(s,"background-color",e[4].textAreaColor),16&t&&C(s,"color",e[4].textColor),16&t&&C(s,"font-family","'"+e[4].font+"'"),16&t&&C(s,"font-size",e[4].fontSize),1&t&&s.value!==e[0]&&k(s,e[0]),16&t&&C(c,"border-color",e[4].borderColor),16&t&&C(c,"background-color",e[4].textAreaColor),16&t&&C(c,"color",e[4].textColor),16&t&&C(c,"font-family",e[4].font),16&t&&C(c,"font-size",e[4].fontSize),2&t&&c.value!==e[1]&&k(c,e[1])},d(s){s&&g(t),s&&g(r),s&&g(o),s&&g(n),e[7](null),s&&g(a),s&&g(l),h=!1,i(u)}}}function wy(t){let r;function i(e,t){return e[2]?yy:by}let o=i(t),n=o(t);return{c(){r=v("tr"),n.c()},m(e,t){p(e,r,t),n.m(r,null)},p(e,[t]){o===(o=i(e))&&n?n.p(e,t):(n.d(1),n=o(e),n&&(n.c(),n.m(r,null)))},i:e,o:e,d(e){e&&g(r),n.d()}}}function Sy(e,t,r){let i;s(e,vO,(e=>r(4,i=e)));const o=M();let{name:n}=t,{value:a}=t;var l,c=!1;$((()=>{c&&l.focus()}));return e.$$set=e=>{"name"in e&&r(0,n=e.name),"value"in e&&r(1,a=e.value)},[n,a,c,l,i,function(){r(2,c=!1),o("editRow",{name:n,value:a})},function(){o("deleteRow",{name:n,value:a})},function(e){j[e?"unshift":"push"]((()=>{r(3,l=e)}))},function(){n=this.value,r(0,n)},function(){a=this.value,r(1,a)},()=>{r(2,c=!0)}]}class ky extends ae{constructor(e){super(),se(this,e,Sy,wy,n,{name:0,value:1})}}function Cy(e,t,r){const i=e.slice();return i[19]=t[r],i}function xy(e){let t,r,o,n,s,a,l,c,h,u="undefined"!==e[0].envVar&&Ty(e);return{c(){t=v("div"),r=v("label"),r.textContent="Name of the Environment",o=_(),n=v("input"),s=_(),u&&u.c(),a=b(),w(r,"id","envName"),w(r,"for","envName"),w(n,"id","envName"),w(n,"name","envName"),C(n,"padding-left","10px"),C(n,"margin-top","-5px"),C(n,"margin-left","20px"),C(n,"border-radius","10px"),C(n,"border-color",e[4].borderColor),C(n,"background-color",e[4].textAreaColor),C(n,"font-family",e[4].font),C(n,"color",e[4].textColor),C(n,"font-size",e[4].fontSize),C(n,"border","solid 3px "+e[4].borderColor),C(t,"display","flex"),C(t,"flex-direction","row")},m(i,d){p(i,t,d),f(t,r),f(t,o),f(t,n),k(n,e[0].name),p(i,s,d),u&&u.m(i,d),p(i,a,d),l=!0,c||(h=[y(n,"blur",e[5]),y(n,"input",e[11])],c=!0)},p(e,t){(!l||16&t)&&C(n,"border-color",e[4].borderColor),(!l||16&t)&&C(n,"background-color",e[4].textAreaColor),(!l||16&t)&&C(n,"font-family",e[4].font),(!l||16&t)&&C(n,"color",e[4].textColor),(!l||16&t)&&C(n,"font-size",e[4].fontSize),(!l||16&t)&&C(n,"border","solid 3px "+e[4].borderColor),1&t&&n.value!==e[0].name&&k(n,e[0].name),"undefined"!==e[0].envVar?u?(u.p(e,t),1&t&&ee(u,1)):(u=Ty(e),u.c(),ee(u,1),u.m(a.parentNode,a)):u&&(K(),te(u,1,1,(()=>{u=null})),J())},i(e){l||(ee(u),l=!0)},o(e){te(u),l=!1},d(e){e&&g(t),e&&g(s),u&&u.d(e),e&&g(a),c=!1,i(h)}}}function Ty(e){let t,r,i,o,n,s,a,l=Object.entries(e[0].envVar).length>0,c=l&&Ey(e);function h(e,t){return e[1]?Ry:Ay}let u=h(e),d=u(e);return{c(){t=v("div"),r=v("table"),i=v("thead"),i.innerHTML='<tr><th class="svelte-13talvl"></th> \n              <th class="svelte-13talvl"></th> \n              <th class="svelte-13talvl">Name</th> \n              <th class="svelte-13talvl">Value</th></tr>',o=_(),n=v("tbody"),c&&c.c(),s=_(),d.c(),w(t,"id","EnvTable"),w(t,"class","svelte-13talvl")},m(e,l){p(e,t,l),f(t,r),f(r,i),f(r,o),f(r,n),c&&c.m(n,null),f(n,s),d.m(n,null),a=!0},p(e,t){1&t&&(l=Object.entries(e[0].envVar).length>0),l?c?(c.p(e,t),1&t&&ee(c,1)):(c=Ey(e),c.c(),ee(c,1),c.m(n,s)):c&&(K(),te(c,1,1,(()=>{c=null})),J()),u===(u=h(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null)))},i(e){a||(ee(c),a=!0)},o(e){te(c),a=!1},d(e){e&&g(t),c&&c.d(),d.d()}}}function Ey(e){let t,r,i=Object.entries(e[0].envVar),o=[];for(let t=0;t<i.length;t+=1)o[t]=Py(Cy(e,i,t));const n=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=b()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);p(e,t,i),r=!0},p(e,r){if(769&r){let s;for(i=Object.entries(e[0].envVar),s=0;s<i.length;s+=1){const n=Cy(e,i,s);o[s]?(o[s].p(n,r),ee(o[s],1)):(o[s]=Py(n),o[s].c(),ee(o[s],1),o[s].m(t.parentNode,t))}for(K(),s=i.length;s<o.length;s+=1)n(s);J()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)ee(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);r=!1},d(e){m(o,e),e&&g(t)}}}function Py(e){let t,r;return t=new ky({props:{name:e[19][0],value:e[19][1]}}),t.$on("deleteRow",(function(){return e[12](e[19])})),t.$on("editRow",e[13]),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},p(r,i){e=r;const o={};1&i&&(o.name=e[19][0]),1&i&&(o.value=e[19][1]),t.$set(o)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function Ay(t){let r,i,o,n,s;return{c(){r=v("tr"),i=v("td"),o=v("span"),o.textContent="+",w(o,"class","addNewItem svelte-13talvl"),w(i,"span","2"),w(i,"class","svelte-13talvl")},m(e,a){p(e,r,a),f(r,i),f(i,o),n||(s=y(o,"click",t[16]),n=!0)},p:e,d(e){e&&g(r),n=!1,s()}}}function Ry(e){let t,r,o,n,s,a,l,c,h,u;return{c(){t=v("tr"),r=v("td"),o=v("input"),s=_(),a=v("td"),l=v("input"),w(o,"class","inputKV"),w(o,"type","text"),w(o,"style",n="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";"),w(r,"class","svelte-13talvl"),w(l,"class","inputKV"),w(l,"type","text"),w(l,"style",c="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";"),w(a,"class","svelte-13talvl")},m(i,n){p(i,t,n),f(t,r),f(r,o),k(o,e[2]),f(t,s),f(t,a),f(a,l),k(l,e[3]),h||(u=[y(o,"input",e[14]),y(l,"input",e[15]),y(l,"blur",e[8])],h=!0)},p(e,t){16&t&&n!==(n="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";")&&w(o,"style",n),4&t&&o.value!==e[2]&&k(o,e[2]),16&t&&c!==(c="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";")&&w(l,"style",c),8&t&&l.value!==e[3]&&k(l,e[3])},d(e){e&&g(t),h=!1,i(u)}}}function Qy(e){let t,r,o,n,s,a,l,c,h,u,d,m=void 0!==e[0]&&xy(e);return{c(){t=v("div"),m&&m.c(),r=_(),o=v("div"),n=v("button"),s=O("Return"),a=_(),l=v("button"),c=O("Delete"),w(n,"id","goback"),w(n,"class","buttonStyle svelte-13talvl"),w(n,"type","button"),C(n,"background-color",e[4].textAreaColor),C(n,"color",e[4].textColor),C(n,"font-name",e[4].font),C(n,"font-size",e[4].fontSize),w(l,"class","buttonStyle svelte-13talvl"),w(l,"type","button"),C(l,"background-color",e[4].textAreaColor),C(l,"color",e[4].textColor),C(l,"font-name",e[4].font),C(l,"font-size",e[4].fontSize),w(o,"id","buttonRow"),w(o,"class","svelte-13talvl"),w(t,"id","env"),C(t,"color",e[4].textColor),C(t,"background-color",e[4].textareaColor),w(t,"class","svelte-13talvl")},m(i,g){p(i,t,g),m&&m.m(t,null),f(t,r),f(t,o),f(o,n),f(n,s),f(o,a),f(o,l),f(l,c),h=!0,u||(d=[y(n,"click",e[17]),y(l,"click",e[6])],u=!0)},p(e,[i]){void 0!==e[0]?m?(m.p(e,i),1&i&&ee(m,1)):(m=xy(e),m.c(),ee(m,1),m.m(t,r)):m&&(K(),te(m,1,1,(()=>{m=null})),J()),(!h||16&i)&&C(n,"background-color",e[4].textAreaColor),(!h||16&i)&&C(n,"color",e[4].textColor),(!h||16&i)&&C(n,"font-name",e[4].font),(!h||16&i)&&C(n,"font-size",e[4].fontSize),(!h||16&i)&&C(l,"background-color",e[4].textAreaColor),(!h||16&i)&&C(l,"color",e[4].textColor),(!h||16&i)&&C(l,"font-name",e[4].font),(!h||16&i)&&C(l,"font-size",e[4].fontSize),(!h||16&i)&&C(t,"color",e[4].textColor),(!h||16&i)&&C(t,"background-color",e[4].textareaColor)},i(e){h||(ee(m),h=!0)},o(e){te(m),h=!1},d(e){e&&g(t),m&&m.d(),u=!1,i(d)}}}async function Ly(e){var t=await fetch(`http://localhost:9978/api/scripts/env/${e}`);return await t.json()}function $y(e,t,r){let i;s(e,vO,(e=>r(4,i=e)));let o,{config:n}=t,a=!1,l="",c="";const h=M();async function u(){null!=o&&""!==o.name&&null!==o.name&&"new"!==o.name&&await async function(e){await fetch(`http://localhost:9978/api/scripts/env/${e.name}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(o)}function d(){h("changeView",{view:"lists",config:{}})}async function f(){r(0,o.envVar[l]=c,o),r(1,a=!1),r(2,l=""),r(3,c=""),await u()}async function p(e){delete o.envVar[e[0]],await u(),r(0,o=await Ly(n.env))}L((async()=>{void 0!==n.env&&("new"!==n.env&&null!==n.env?("default"===n.env&&r(10,n.env="Default",n),r(0,o=await Ly(n.env))):r(0,o={name:"new",envVar:{}}))}));return e.$$set=e=>{"config"in e&&r(10,n=e.config)},[o,a,l,c,i,u,async function(){void 0!==o&&null!==o.name&&"new"!==o.name&&""!==o.name&&(await async function(e){await fetch(`http://localhost:9978/api/scripts/env/${e}`,{method:"DELETE"})}(o.name),q(),d())},d,f,p,n,function(){o.name=this.value,r(0,o)},e=>{p(e)},e=>{r(0,o.envVar[e.detail.name]=e.detail.value,o),f()},function(){l=this.value,r(2,l)},function(){c=this.value,r(3,c)},()=>{r(1,a=!0)},()=>{u(),d()}]}class My extends ae{constructor(e){super(),se(this,e,$y,Qy,n,{config:10})}}function Dy(e){let t,r;return t=new My({props:{config:e[1]}}),t.$on("changeView",e[3]),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},p(e,r){const i={};2&r&&(i.config=e[1]),t.$set(i)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function jy(t){let r,i,o;return i=new _y({}),i.$on("changeView",t[3]),{c(){r=v("div"),ie(i.$$.fragment),w(r,"id","listviews"),w(r,"class","svelte-gorzvb")},m(e,t){p(e,r,t),oe(i,r,null),o=!0},p:e,i(e){o||(ee(i.$$.fragment,e),o=!0)},o(e){te(i.$$.fragment,e),o=!1},d(e){e&&g(r),ne(i)}}}function By(e){let t,r,i,o;const n=[jy,Dy],s=[];function a(e,t){return"lists"===e[0]?0:"env"===e[0]?1:-1}return~(r=a(e))&&(i=s[r]=n[r](e)),{c(){t=v("div"),i&&i.c(),w(t,"id","EnvEditor"),C(t,"color",e[2].textColor),C(t,"background-color",e[2].backgroundColor),w(t,"class","svelte-gorzvb")},m(e,i){p(e,t,i),~r&&s[r].m(t,null),o=!0},p(e,[l]){let c=r;r=a(e),r===c?~r&&s[r].p(e,l):(i&&(K(),te(s[c],1,1,(()=>{s[c]=null})),J()),~r?(i=s[r],i?i.p(e,l):(i=s[r]=n[r](e),i.c()),ee(i,1),i.m(t,null)):i=null),(!o||4&l)&&C(t,"color",e[2].textColor),(!o||4&l)&&C(t,"background-color",e[2].backgroundColor)},i(e){o||(ee(i),o=!0)},o(e){te(i),o=!1},d(e){e&&g(t),~r&&s[r].d()}}}function Iy(e,t,r){let i;s(e,vO,(e=>r(2,i=e)));let o="lists",n={env:"Default"};return[o,n,i,function(e){r(0,o=e.detail.view),r(1,n=e.detail.config)}]}class zy extends ae{constructor(e){super(),se(this,e,Iy,By,n,{})}}function Wy(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof process&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Fy={exports:{}},qy=function e(t,r,i,o){if("function"!=typeof i)throw new Error("method for before hook must be a function");o||(o={});if(Array.isArray(r))return r.reverse().reduce((function(r,i){return e.bind(null,t,i,r,o)}),i)();return Promise.resolve().then((function(){return t.registry[r]?t.registry[r].reduce((function(e,t){return t.hook.bind(null,e,o)}),i)():i(o)}))};var Gy=function(e,t,r,i){var o=i;e.registry[r]||(e.registry[r]=[]);"before"===t&&(i=function(e,t){return Promise.resolve().then(o.bind(null,t)).then(e.bind(null,t))});"after"===t&&(i=function(e,t){var r;return Promise.resolve().then(e.bind(null,t)).then((function(e){return o(r=e,t)})).then((function(){return r}))});"error"===t&&(i=function(e,t){return Promise.resolve().then(e.bind(null,t)).catch((function(e){return o(e,t)}))});e.registry[r].push({hook:i,orig:o})};var Uy=function(e,t,r){if(!e.registry[t])return;var i=e.registry[t].map((function(e){return e.orig})).indexOf(r);if(-1===i)return;e.registry[t].splice(i,1)};var Hy=qy,Ny=Gy,Xy=Uy,Zy=Function.bind,Vy=Zy.bind(Zy);function Yy(e,t,r){var i=Vy(Xy,null).apply(null,r?[t,r]:[t]);e.api={remove:i},e.remove=i,["before","error","after","wrap"].forEach((function(i){var o=r?[t,i,r]:[t,i];e[i]=e.api[i]=Vy(Ny,null).apply(null,o)}))}function Ky(){var e={registry:{}},t=Hy.bind(null,e);return Yy(t,e),t}var Jy=!1;function ew(){return Jy||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),Jy=!0),Ky()}ew.Singular=function(){var e={registry:{}},t=Hy.bind(null,e,"h");return Yy(t,e,"h"),t}.bind(),ew.Collection=Ky.bind(),Fy.exports=ew,Fy.exports.Hook=ew,Fy.exports.Singular=ew.Singular;var tw=Fy.exports.Collection=ew.Collection;
/*!
     * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     */function rw(e){return"[object Object]"===Object.prototype.toString.call(e)}function iw(e){var t,r;return!1!==rw(e)&&(void 0===(t=e.constructor)||!1!==rw(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function ow(e,t){const r=Object.assign({},e);return Object.keys(t).forEach((i=>{iw(t[i])?i in e?r[i]=ow(e[i],t[i]):Object.assign(r,{[i]:t[i]}):Object.assign(r,{[i]:t[i]})})),r}function nw(e){for(const t in e)void 0===e[t]&&delete e[t];return e}function sw(e,t,r){if("string"==typeof t){let[e,i]=t.split(" ");r=Object.assign(i?{method:e,url:i}:{url:e},r)}else r=Object.assign({},t);var i;r.headers=(i=r.headers)?Object.keys(i).reduce(((e,t)=>(e[t.toLowerCase()]=i[t],e)),{}):{},nw(r),nw(r.headers);const o=ow(e||{},r);return e&&e.mediaType.previews.length&&(o.mediaType.previews=e.mediaType.previews.filter((e=>!o.mediaType.previews.includes(e))).concat(o.mediaType.previews)),o.mediaType.previews=o.mediaType.previews.map((e=>e.replace(/-preview/,""))),o}const aw=/\{[^}]+\}/g;function lw(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function cw(e,t){return Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{})}function hw(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map((function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e})).join("")}function uw(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function dw(e,t,r){return t="+"===e||"#"===e?hw(t):uw(t),r?uw(r)+"="+t:t}function fw(e){return null!=e}function pw(e){return";"===e||"&"===e||"?"===e}function gw(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,i,o){if(i){let e="";const o=[];if(-1!==r.indexOf(i.charAt(0))&&(e=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach((function(r){var i=/([^:\*]*)(?::(\d+)|(\*))?/.exec(r);o.push(function(e,t,r,i){var o=e[r],n=[];if(fw(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),i&&"*"!==i&&(o=o.substring(0,parseInt(i,10))),n.push(dw(t,o,pw(t)?r:""));else if("*"===i)Array.isArray(o)?o.filter(fw).forEach((function(e){n.push(dw(t,e,pw(t)?r:""))})):Object.keys(o).forEach((function(e){fw(o[e])&&n.push(dw(t,o[e],e))}));else{const e=[];Array.isArray(o)?o.filter(fw).forEach((function(r){e.push(dw(t,r))})):Object.keys(o).forEach((function(r){fw(o[r])&&(e.push(uw(r)),e.push(dw(t,o[r].toString())))})),pw(t)?n.push(uw(r)+"="+e.join(",")):0!==e.length&&n.push(e.join(","))}else";"===t?fw(o)&&n.push(uw(r)):""!==o||"&"!==t&&"?"!==t?""===o&&n.push(""):n.push(uw(r)+"=");return n}(t,e,i[1],i[2]||i[3]))})),e&&"+"!==e){var n=",";return"?"===e?n="&":"#"!==e&&(n=e),(0!==o.length?e:"")+o.join(n)}return o.join(",")}return hw(o)}))}function mw(e){let t,r=e.method.toUpperCase(),i=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),o=Object.assign({},e.headers),n=cw(e,["method","baseUrl","url","headers","request","mediaType"]);const s=function(e){const t=e.match(aw);return t?t.map(lw).reduce(((e,t)=>e.concat(t)),[]):[]}(i);i=function(e){return{expand:gw.bind(null,e)}}(i).expand(n),/^http/.test(i)||(i=e.baseUrl+i);const a=cw(n,Object.keys(e).filter((e=>s.includes(e))).concat("baseUrl"));if(!/application\/octet-stream/i.test(o.accept)&&(e.mediaType.format&&(o.accept=o.accept.split(/,/).map((t=>t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`))).join(",")),e.mediaType.previews.length)){const t=o.accept.match(/[\w-]+(?=-preview)/g)||[];o.accept=t.concat(e.mediaType.previews).map((t=>`application/vnd.github.${t}-preview${e.mediaType.format?`.${e.mediaType.format}`:"+json"}`)).join(",")}return["GET","HEAD"].includes(r)?i=function(e,t){const r=/\?/.test(e)?"&":"?",i=Object.keys(t);return 0===i.length?e:e+r+i.map((e=>"q"===e?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${e}=${encodeURIComponent(t[e])}`)).join("&")}(i,a):"data"in a?t=a.data:Object.keys(a).length?t=a:o["content-length"]=0,o["content-type"]||void 0===t||(o["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(r)&&void 0===t&&(t=""),Object.assign({method:r,url:i,headers:o},void 0!==t?{body:t}:null,e.request?{request:e.request}:null)}function vw(e,t,r){return mw(sw(e,t,r))}const Ow=function e(t,r){const i=sw(t,r),o=vw.bind(null,i);return Object.assign(o,{DEFAULTS:i,defaults:e.bind(null,i),merge:sw.bind(null,i),parse:mw})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":`octokit-endpoint.js/7.0.0 ${Wy()}`},mediaType:{format:"",previews:[]}});var _w={exports:{}};!function(e,t){var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response}(_w,_w.exports);var bw=_w.exports;class yw extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var ww={exports:{}},Sw=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){i[e]=t[e]})),i;function i(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),o=e[e.length-1];return"function"==typeof i&&i!==o&&Object.keys(o).forEach((function(e){i[e]=o[e]})),i}};var kw=Sw;function Cw(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function xw(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}ww.exports=kw(Cw),ww.exports.strict=kw(xw),Cw.proto=Cw((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Cw(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return xw(this)},configurable:!0})}));const Tw=ww.exports((e=>console.warn(e))),Ew=ww.exports((e=>console.warn(e)));class Pw extends Error{constructor(e,t,r){let i;super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t,"headers"in r&&void 0!==r.headers&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);const o=Object.assign({},r.request);r.request.headers.authorization&&(o.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get:()=>(Tw(new yw("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t)}),Object.defineProperty(this,"headers",{get:()=>(Ew(new yw("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{})})}}function Aw(e){const t=e.request&&e.request.log?e.request.log:console;(iw(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r,i,o={};return(e.request&&e.request.fetch||globalThis.fetch||bw)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then((async n=>{i=n.url,r=n.status;for(const e of n.headers)o[e[0]]=e[1];if("deprecation"in o){const r=o.link&&o.link.match(/<([^>]+)>; rel="deprecation"/),i=r&&r.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${o.sunset}${i?`. See ${i}`:""}`)}if(204!==r&&205!==r){if("HEAD"===e.method){if(r<400)return;throw new Pw(n.statusText,r,{response:{url:i,status:r,headers:o,data:void 0},request:e})}if(304===r)throw new Pw("Not modified",r,{response:{url:i,status:r,headers:o,data:await Rw(n)},request:e});if(r>=400){const t=await Rw(n),s=new Pw(function(e){if("string"==typeof e)return e;if("message"in e)return Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message;return`Unknown error: ${JSON.stringify(e)}`}(t),r,{response:{url:i,status:r,headers:o,data:t},request:e});throw s}return Rw(n)}})).then((e=>({status:r,url:i,headers:o,data:e}))).catch((t=>{if(t instanceof Pw)throw t;if("AbortError"===t.name)throw t;throw new Pw(t.message,500,{request:e})}))}async function Rw(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():function(e){return e.arrayBuffer()}(e)}const Qw=function e(t,r){const i=t.defaults(r);return Object.assign((function(t,r){const o=i.merge(t,r);if(!o.request||!o.request.hook)return Aw(i.parse(o));const n=(e,t)=>Aw(i.parse(i.merge(e,t)));return Object.assign(n,{endpoint:i,defaults:e.bind(null,i)}),o.request.hook(n,o)}),{endpoint:i,defaults:e.bind(null,i)})}(Ow,{headers:{"user-agent":`octokit-request.js/6.2.0 ${Wy()}`}});class Lw extends Error{constructor(e,t,r){super(function(e){return"Request failed due to following response errors:\n"+e.errors.map((e=>` - ${e.message}`)).join("\n")}(r)),this.request=e,this.headers=t,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const $w=["method","baseUrl","url","headers","request","query","mediaType"],Mw=["query","method","url"],Dw=/\/api\/v3\/?$/;function jw(e,t){const r=e.defaults(t);return Object.assign(((e,t)=>function(e,t,r){if(r){if("string"==typeof t&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const e in r)if(Mw.includes(e))return Promise.reject(new Error(`[@octokit/graphql] "${e}" cannot be used as variable name`))}const i="string"==typeof t?Object.assign({query:t},r):t,o=Object.keys(i).reduce(((e,t)=>$w.includes(t)?(e[t]=i[t],e):(e.variables||(e.variables={}),e.variables[t]=i[t],e)),{}),n=i.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Dw.test(n)&&(o.url=n.replace(Dw,"/api/graphql")),e(o).then((e=>{if(e.data.errors){const t={};for(const r of Object.keys(e.headers))t[r]=e.headers[r];throw new Lw(o,t,e.data)}return e.data.data}))}(r,e,t)),{defaults:jw.bind(null,r),endpoint:Qw.endpoint})}jw(Qw,{headers:{"user-agent":`octokit-graphql.js/5.0.0 ${Wy()}`},method:"POST",url:"/graphql"});const Bw=/^v1\./,Iw=/^ghs_/,zw=/^ghu_/;async function Ww(e){const t=3===e.split(/\./).length,r=Bw.test(e)||Iw.test(e),i=zw.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":i?"user-to-server":"oauth"}}async function Fw(e,t,r,i){const o=t.endpoint.merge(r,i);return o.headers.authorization=function(e){return 3===e.split(/\./).length?`bearer ${e}`:`token ${e}`}(e),t(o)}const qw=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if("string"!=typeof e)throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Ww.bind(null,e),{hook:Fw.bind(null,e)})},Gw="4.0.4";class Uw{constructor(e={}){const t=new tw,r={baseUrl:Qw.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};var i;if(r.headers["user-agent"]=[e.userAgent,`octokit-core.js/4.0.4 ${Wy()}`].filter(Boolean).join(" "),e.baseUrl&&(r.baseUrl=e.baseUrl),e.previews&&(r.mediaType.previews=e.previews),e.timeZone&&(r.headers["time-zone"]=e.timeZone),this.request=Qw.defaults(r),this.graphql=(i=this.request,jw(i,{method:"POST",url:"/graphql"})).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:r,...i}=e,o=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:i},e.auth));t.wrap("request",o.hook),this.auth=o}else if(e.auth){const r=qw(e.auth);t.wrap("request",r.hook),this.auth=r}else this.auth=async()=>({type:"unauthenticated"});this.constructor.plugins.forEach((t=>{Object.assign(this,t(this,e))}))}static defaults(e){return class extends(this){constructor(...t){const r=t[0]||{};super("function"!=typeof e?Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null):e(r))}}}static plugin(...e){var t;const r=this.plugins;return(t=class extends(this){}).plugins=r.concat(e.filter((e=>!r.includes(e)))),t}}Uw.VERSION=Gw,Uw.plugins=[];function Hw(e){e.hook.wrap("request",((t,r)=>{e.log.debug("request",r);const i=Date.now(),o=e.request.endpoint.parse(r),n=o.url.replace(r.baseUrl,"");return t(r).then((t=>(e.log.info(`${o.method} ${n} - ${t.status} in ${Date.now()-i}ms`),t))).catch((t=>{throw e.log.info(`${o.method} ${n} - ${t.status} in ${Date.now()-i}ms`),t}))}))}Hw.VERSION="1.0.4";function Nw(e,t,r){const i="function"==typeof t?t.endpoint(r):e.request.endpoint(t,r),o="function"==typeof t?t:e.request,n=i.method,s=i.headers;let a=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{const e=function(e){if(!e.data)return{...e,data:[]};if(!("total_count"in e.data)||"url"in e.data)return e;const t=e.data.incomplete_results,r=e.data.repository_selection,i=e.data.total_count;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count;const o=Object.keys(e.data)[0],n=e.data[o];return e.data=n,void 0!==t&&(e.data.incomplete_results=t),void 0!==r&&(e.data.repository_selection=r),e.data.total_count=i,e}(await o({method:n,url:a,headers:s}));return a=((e.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:e}}catch(e){if(409!==e.status)throw e;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function Xw(e,t,r,i){return"function"==typeof r&&(i=r,r=void 0),Zw(e,[],Nw(e,t,r)[Symbol.asyncIterator](),i)}function Zw(e,t,r,i){return r.next().then((o=>{if(o.done)return t;let n=!1;return t=t.concat(i?i(o.value,(function(){n=!0})):o.value.data),n?t:Zw(e,t,r,i)}))}function Vw(e){return{paginate:Object.assign(Xw.bind(null,e),{iterator:Nw.bind(null,e)})}}Object.assign(Xw,{iterator:Nw}),Vw.VERSION="3.1.0";const Yw={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForEnterprise:["GET /enterprises/{enterprise}/actions/cache/usage"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsDefaultWorkflowPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setGithubActionsDefaultWorkflowPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubAdvancedSecurityBillingGhe:["GET /enterprises/{enterprise}/settings/billing/advanced-security"],getGithubAdvancedSecurityBillingOrg:["GET /orgs/{org}/settings/billing/advanced-security"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/code-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{addCustomLabelsToSelfHostedRunnerForEnterprise:["POST /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],getServerStatistics:["GET /enterprise-installation/{enterprise_or_org}/server-statistics"],listLabelsForSelfHostedRunnerForEnterprise:["GET /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],removeAllCustomLabelsFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels/{name}"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForEnterprise:["PUT /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomRoles:["GET /organizations/{organization_id}/custom_roles"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}};function Kw(e,t,r,i,o){const n=e.request.defaults(i);return Object.assign((function(...i){let s=n.endpoint.merge(...i);if(o.mapToData)return s=Object.assign({},s,{data:s[o.mapToData],[o.mapToData]:void 0}),n(s);if(o.renamed){const[i,n]=o.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${i}.${n}()`)}if(o.deprecated&&e.log.warn(o.deprecated),o.renamedParameters){const s=n.endpoint.merge(...i);for(const[i,n]of Object.entries(o.renamedParameters))i in s&&(e.log.warn(`"${i}" parameter is deprecated for "octokit.${t}.${r}()". Use "${n}" instead`),n in s||(s[n]=s[i]),delete s[i]);return n(s)}return n(...i)}),n)}function Jw(e){const t=function(e,t){const r={};for(const[i,o]of Object.entries(t))for(const[t,n]of Object.entries(o)){const[o,s,a]=n,[l,c]=o.split(/ /),h=Object.assign({method:l,url:c},s);r[i]||(r[i]={});const u=r[i];u[t]=a?Kw(e,i,t,h,a):e.request.defaults(h)}return r}(e,Yw);return{...t,rest:t}}Jw.VERSION="6.2.0";const eS=Uw.plugin(Hw,Jw,Vw).defaults({userAgent:"octokit-rest.js/19.0.3"}),tS={runCommandLine:async function(e,t,r,i){var o=await fetch("http://localhost:9978/api/scripts/env/Default"),n=await o.json();void 0!==t&&(n={...n,...t});var s=[];for(const e in n)s.push(`${e}=${n[e]}`);void 0===i&&(i=".");var a=["/bin/zsh","-c",e],l=await window.go.main.App.RunCommandLine("/bin/zsh",a,s,i),c=await window.go.main.App.GetError();void 0===r&&null===r||r(c,l)}};function rS(e,t,r){const i=e.slice();return i[33]=t[r],i}function iS(e,t,r){const i=e.slice();return i[36]=t[r],i}function oS(e){let t,r,i=e[0],o=[];for(let t=0;t<i.length;t+=1)o[t]=cS(iS(e,i,t));let n=e[1],s=[];for(let t=0;t<n.length;t+=1)s[t]=fS(rS(e,n,t));return{c(){t=v("div");for(let e=0;e<o.length;e+=1)o[e].c();r=_();for(let e=0;e<s.length;e+=1)s[e].c();w(t,"id","GitHubList"),w(t,"class","svelte-17joies")},m(i,n){p(i,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null);f(t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);e[20](t)},p(e,a){if(7713&a[0]){let n;for(i=e[0],n=0;n<i.length;n+=1){const s=iS(e,i,n);o[n]?o[n].p(s,a):(o[n]=cS(s),o[n].c(),o[n].m(t,r))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}if(6626&a[0]){let r;for(n=e[1],r=0;r<n.length;r+=1){const i=rS(e,n,r);s[r]?s[r].p(i,a):(s[r]=fS(i),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(r){r&&g(t),m(o,r),m(s,r),e[20](null)}}}function nS(t){let r;return{c(){r=v("h1"),r.textContent="Loading...."},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function sS(e){let t,r=e[12](e[36])+"";return{c(){t=v("div"),w(t,"class","reporow svelte-17joies"),C(t,"color",e[5].Red)},m(e,i){p(e,t,i),t.innerHTML=r},p(e,i){1&i[0]&&r!==(r=e[12](e[36])+"")&&(t.innerHTML=r),32&i[0]&&C(t,"color",e[5].Red)},d(e){e&&g(t)}}}function aS(e){let t,r,i,o;function n(){return e[16](e[36])}return{c(){t=v("button"),r=O("Install"),C(t,"background-color",e[5].Green),w(t,"class","svelte-17joies")},m(e,s){p(e,t,s),f(t,r),i||(o=y(t,"click",n),i=!0)},p(r,i){e=r,32&i[0]&&C(t,"background-color",e[5].Green)},d(e){e&&g(t),i=!1,o()}}}function lS(e){let t,r,i,o;function n(){return e[15](e[36])}return{c(){t=v("button"),r=O("Delete"),C(t,"background-color",e[5].Red),w(t,"class","svelte-17joies")},m(e,s){p(e,t,s),f(t,r),i||(o=y(t,"click",n),i=!0)},p(r,i){e=r,32&i[0]&&C(t,"background-color",e[5].Red)},d(e){e&&g(t),i=!1,o()}}}function cS(e){let t,r,i,o,n,s,a,l,c,h,u,d,m,b,y,k=e[36].name+"",x=e[36].stargazers_count+"",T=e[36].description+"",E=e[11](e[36]),P=E&&sS(e);function A(e,t){return e[36].loaded?lS:aS}let R=A(e),Q=R(e);return{c(){t=v("div"),r=v("div"),i=v("p"),o=O(k),n=_(),s=v("p"),a=O(x),l=O(" ⭐️s"),c=_(),h=v("div"),u=v("p"),d=O(T),m=_(),P&&P.c(),b=_(),y=v("div"),Q.c(),w(i,"class","reponame svelte-17joies"),w(s,"class","repostars svelte-17joies"),C(s,"color",e[5].Yellow),w(r,"class","reporow svelte-17joies"),w(u,"class","repodisc svelte-17joies"),w(h,"class","reporow svelte-17joies"),w(y,"class","repobuttons svelte-17joies"),w(t,"class","repoblock svelte-17joies")},m(e,g){p(e,t,g),f(t,r),f(r,i),f(i,o),f(r,n),f(r,s),f(s,a),f(s,l),f(t,c),f(t,h),f(h,u),f(u,d),f(t,m),P&&P.m(t,null),f(t,b),f(t,y),Q.m(y,null)},p(e,r){1&r[0]&&k!==(k=e[36].name+"")&&S(o,k),1&r[0]&&x!==(x=e[36].stargazers_count+"")&&S(a,x),32&r[0]&&C(s,"color",e[5].Yellow),1&r[0]&&T!==(T=e[36].description+"")&&S(d,T),1&r[0]&&(E=e[11](e[36])),E?P?P.p(e,r):(P=sS(e),P.c(),P.m(t,b)):P&&(P.d(1),P=null),R===(R=A(e))&&Q?Q.p(e,r):(Q.d(1),Q=R(e),Q&&(Q.c(),Q.m(y,null)))},d(e){e&&g(t),P&&P.d(),Q.d()}}}function hS(e){let t,r=e[12](e[33])+"";return{c(){t=v("div"),w(t,"class","reporow svelte-17joies"),C(t,"color",e[5].Red)},m(e,i){p(e,t,i),t.innerHTML=r},p(e,i){2&i[0]&&r!==(r=e[12](e[33])+"")&&(t.innerHTML=r),32&i[0]&&C(t,"color",e[5].Red)},d(e){e&&g(t)}}}function uS(e){let t,r,i,o;function n(){return e[19](e[33])}return{c(){t=v("button"),r=O("Install"),C(t,"background-color",e[5].Green),w(t,"class","svelte-17joies")},m(e,s){p(e,t,s),f(t,r),i||(o=y(t,"click",n),i=!0)},p(r,i){e=r,32&i[0]&&C(t,"background-color",e[5].Green)},d(e){e&&g(t),i=!1,o()}}}function dS(e){let t,r,o,n,s,a,l;function c(){return e[17](e[33])}function h(){return e[18](e[33])}return{c(){t=v("button"),r=O("Load"),o=_(),n=v("button"),s=O("Delete"),C(t,"background-color",e[5].Green),w(t,"class","svelte-17joies"),C(n,"background-color",e[5].Red),w(n,"class","svelte-17joies")},m(e,i){p(e,t,i),f(t,r),p(e,o,i),p(e,n,i),f(n,s),a||(l=[y(t,"click",c),y(n,"click",h)],a=!0)},p(r,i){e=r,32&i[0]&&C(t,"background-color",e[5].Green),32&i[0]&&C(n,"background-color",e[5].Red)},d(e){e&&g(t),e&&g(o),e&&g(n),a=!1,i(l)}}}function fS(e){let t,r,i,o,n,s,a,l,c,h,u,d,m,b,y,k,x=e[33].name+"",T=e[33].stargazers_count+"",E=e[33].description+"",P=e[11](e[33]),A=P&&hS(e);function R(e,t){return e[33].loaded?dS:uS}let Q=R(e),L=Q(e);return{c(){t=v("div"),r=v("div"),i=v("p"),o=O(x),n=_(),s=v("p"),a=O(T),l=O(" ⭐️ s"),c=_(),h=v("div"),u=v("p"),d=O(E),m=_(),A&&A.c(),b=_(),y=v("div"),L.c(),k=_(),w(i,"class","reponame svelte-17joies"),w(s,"class","repostars svelte-17joies"),C(s,"color",e[5].Yellow),w(r,"class","reporow svelte-17joies"),w(u,"class","repodisc svelte-17joies"),w(h,"class","reporow svelte-17joies"),w(y,"class","repobuttons svelte-17joies"),w(t,"class","repoblock svelte-17joies")},m(e,g){p(e,t,g),f(t,r),f(r,i),f(i,o),f(r,n),f(r,s),f(s,a),f(s,l),f(t,c),f(t,h),f(h,u),f(u,d),f(t,m),A&&A.m(t,null),f(t,b),f(t,y),L.m(y,null),f(t,k)},p(e,r){2&r[0]&&x!==(x=e[33].name+"")&&S(o,x),2&r[0]&&T!==(T=e[33].stargazers_count+"")&&S(a,T),32&r[0]&&C(s,"color",e[5].Yellow),2&r[0]&&E!==(E=e[33].description+"")&&S(d,E),2&r[0]&&(P=e[11](e[33])),P?A?A.p(e,r):(A=hS(e),A.c(),A.m(t,b)):A&&(A.d(1),A=null),Q===(Q=R(e))&&L?L.p(e,r):(L.d(1),L=Q(e),L&&(L.c(),L.m(y,null)))},d(e){e&&g(t),A&&A.d(),L.d()}}}function pS(t){let r,i,o,n,s,a,l,c;function h(e,t){return e[4]?nS:oS}let u=h(t),d=u(t);return{c(){r=v("div"),i=v("div"),o=v("h3"),o.textContent="GitHub Themes and Scripts Importer",n=_(),s=v("input"),a=_(),d.c(),w(o,"class","svelte-17joies"),w(s,"id","inputHidden"),w(s,"class","svelte-17joies"),w(i,"id","GitHubHeader"),w(i,"class","svelte-17joies"),w(r,"id","GitHub"),C(r,"background-color",t[5].backgroundColor),C(r,"color",t[5].textColor),w(r,"class","svelte-17joies")},m(e,h){p(e,r,h),f(r,i),f(i,o),f(i,n),f(i,s),t[14](s),f(r,a),d.m(r,null),l||(c=y(s,"keydown",t[13]),l=!0)},p(e,t){u===(u=h(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(r,null))),32&t[0]&&C(r,"background-color",e[5].backgroundColor),32&t[0]&&C(r,"color",e[5].textColor)},i:e,o:e,d(e){e&&g(r),t[14](null),d.d(),l=!1,c()}}}function gS(e){return void 0!==e&&void 0!==e.data&&void 0!==e.data.items}function mS(e,t,r){let i,o,n,a;s(e,S_,(e=>r(25,i=e))),s(e,bb,(e=>r(26,o=e))),s(e,vO,(e=>r(5,n=e)));let l,c,h,u=null,f=null,p=[],g=!0,m={configDir:""};function v(){clearTimeout(h),null!=c&&c.focus(),h=setTimeout(v,1e3)}async function O(){if(null===u&&null===f){r(4,g=!0),void 0!==u&&r(0,u={}),void 0!==f&&r(1,f={});var e=await a.search.repos({q:"topic:emailit+topic:script"});if(gS(e)){e=e.data.items;for(var t=0;t<e.length;t++)e[t].loaded=await k(e[t]);r(0,u=e)}var i=await a.search.repos({q:"topic:emailit+topic:theme"});if(gS(i)){i=i.data.items;for(t=0;t<i.length;t++)i[t].loaded=await y(i[t]);r(1,f=i)}r(4,g=!1)}r(0,u),r(1,f)}async function _(e){var t=await window.go.main.App.AppendPath(m.configDir,"styles");await window.go.main.App.DirExists(t)||await window.go.main.App.MakeDir(t),t=await window.go.main.App.AppendPath(t,e.name),await window.go.main.App.DirExists(t)||await window.go.main.App.MakeDir(t),await tS.runCommandLine(`git clone '${e.git_url}' '${t}'`,[],(()=>{b(e),r(1,f=f.map((t=>(t.name===e.name&&(t.loaded=!0),t)))),O()}),".")}async function b(e){var t=await window.go.main.App.AppendPath(m.configDir,"styles");t=await window.go.main.App.AppendPath(t,e.name);const r=await window.go.main.App.AppendPath(t,"package.json");if(await window.go.main.App.FileExists(r)){var i=await window.go.main.App.ReadFile(r);i=JSON.parse(i);const s=await window.go.main.App.AppendPath(t,i.theme.main);var o=await window.go.main.App.ReadFile(s);o=JSON.parse(o),d(vO,n=o,n),T(e,"This theme is now being used.")}else T(e,"The theme doesn't have a package.json file.")}async function y(e){var t=await window.go.main.App.AppendPath(m.configDir,"styles");return t=await window.go.main.App.AppendPath(t,e.name),await window.go.main.App.DirExists(t)}async function w(e){var t=await window.go.main.App.AppendPath(m.configDir,"styles"),i=await window.go.main.App.AppendPath(t,e.name);await window.go.main.App.DeleteEntries(i),r(1,f=f.map((t=>(t.name===e.name&&(t.loaded=!1),t)))),O()}async function S(e){var t=await window.go.main.App.AppendPath(m.configDir,"scripts");await window.go.main.App.DirExists(t)||await window.go.main.App.MakeDir(t),t=await window.go.main.App.AppendPath(t,e.name),await window.go.main.App.DirExists(t)||await window.go.main.App.MakeDir(t),await tS.runCommandLine(`git clone '${e.git_url}' '${t}'`,[],(async()=>{let n=await window.go.main.App.AppendPath(t,"package.json"),s=await window.go.main.App.ReadFile(n);s=JSON.parse(s);let a={name:s.script.name,script:s.script.script,path:t,env:"Default",termscript:s.script.termscript,description:s.script.description,help:s.script.help};await fetch(`http://localhost:9978/api/scripts/ext/${a.name}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}),a.termscript?o.push(a):(a.insert=!1,i.push(a)),r(0,u=u.map((t=>(t.name===e.name&&(t.loaded=!0),t)))),T(e,`${e.name} external script has been downloaded.`),O()}),".")}async function k(e){var t=await window.go.main.App.AppendPath(m.configDir,"scripts");return t=await window.go.main.App.AppendPath(t,e.name),await window.go.main.App.DirExists(t)}async function C(e){var t=await window.go.main.App.AppendPath(m.configDir,"scripts");let n=await window.go.main.App.AppendPath(t,e.name),s=await window.go.main.App.AppendPath(n,"package.json"),a=await window.go.main.App.ReadFile(s);a=JSON.parse(a),await window.go.main.App.DeleteEntries(n),r(0,u=u.map((t=>(t.name===e.name&&(t.loaded=!1),t)))),O(),await fetch(`http://localhost:9978/api/scripts/ext/${e.name}`,{method:"DELETE",headers:{"Content-type":"application/json"}}),a.termscript?d(bb,o=o.filter((t=>t.name!==e.name)),o):d(S_,i=i.filter((t=>t.name!==e.name)),i),T(e,"This external script has been removed.")}function x(e){return p.length>0&&"undefined"!==p.find((t=>t.name===e.name))}function T(e,t){p.push({name:e.name,msg:t}),r(1,f),r(0,u)}function E(e){var t=20*e;null!==l&&(r(2,l.scrollTop+=t,l),l.scrollTop<0&&r(2,l.scrollTop=0,l))}L((async()=>{let e=await window.go.main.App.GetHomeDir();return m.configDir=await window.go.main.App.AppendPath(e,".config/scriptserver"),a=new eS,await O(),h=setTimeout(v,1e3),()=>{r(3,c=null),clearTimeout(h)}})),$((()=>{void 0!==c&&c.focus()}));return[u,f,l,c,g,n,_,b,w,S,C,x,function(e){if(x(e)){var t=p.find((t=>t.name===e.name));if(void 0!==t)return t.msg}return""},function(e){"ArrowUp"===e.key||"k"===e.key?E(-1):"ArrowDown"!==e.key&&"j"!==e.key||E(1)},function(e){j[e?"unshift":"push"]((()=>{c=e,r(3,c)}))},e=>{C(e)},e=>{S(e)},e=>{b(e)},e=>{w(e)},e=>{_(e)},function(e){j[e?"unshift":"push"]((()=>{l=e,r(2,l)}))}]}class vS extends ae{constructor(e){super(),se(this,e,mS,pS,n,{},null,[-1,-1])}}function OS(e,t,r){const i=e.slice();return i[12]=t[r],i}function _S(e){let t,r,i,o,n,s=e[12].name+"";function a(){return e[7](e[12])}return{c(){t=v("li"),r=O(s),i=_(),w(t,"class","tabName svelte-1c0xrvo"),C(t,"border-color","gray")},m(e,s){p(e,t,s),f(t,r),f(t,i),o||(n=y(t,"click",a),o=!0)},p(t,r){e=t},d(e){e&&g(t),o=!1,n()}}}function bS(e){let t,r,i,o=e[12].name+"";return{c(){t=v("li"),r=O(o),i=_(),w(t,"class","tabName svelte-1c0xrvo"),C(t,"border-bottom","3px "+e[1].backgroundColor),C(t,"z-index","100")},m(e,o){p(e,t,o),f(t,r),f(t,i)},p(e,r){2&r&&C(t,"border-bottom","3px "+e[1].backgroundColor)},d(e){e&&g(t)}}}function yS(e){let t;function r(e,t){return e[12].name===e[0]?bS:_S}let i=r(e),o=i(e);return{c(){o.c(),t=b()},m(e,r){o.m(e,r),p(e,t,r)},p(e,n){i===(i=r(e))&&o?o.p(e,n):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}function wS(e){let t,r;return t=new vS({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function SS(e){let t,r;return t=new zy({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function kS(e){let t,r;return t=new fy({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function CS(e){let t,r;return t=new Ab({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function xS(e){let t,r;return t=new Yb({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function TS(e){let t,r;return t=new Lb({}),{c(){ie(t.$$.fragment)},m(e,i){oe(t,e,i),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function ES(e){let t,r,o,n,s,a,l,c,h,u,d,b,S,k,x,T,E,P,A,R=e[2],Q=[];for(let t=0;t<R.length;t+=1)Q[t]=yS(OS(e,R,t));const L=[TS,xS,CS,kS,SS,wS],$=[];function M(e,t){return"General"===e[0]?0:"Theme"===e[0]?1:"Node-Red"===e[0]?2:"External Scripts"===e[0]?3:"Environments"===e[0]?4:"GitHub"===e[0]?5:-1}return~(s=M(e))&&(a=$[s]=L[s](e)),{c(){t=v("div"),r=v("ul");for(let e=0;e<Q.length;e+=1)Q[e].c();o=_(),n=v("div"),a&&a.c(),l=_(),c=v("div"),h=v("button"),u=O("EmailIt+"),d=_(),b=v("button"),S=O("Notes"),k=_(),x=v("button"),T=O("Script Terminal"),w(r,"id","tabs"),w(r,"class","svelte-1c0xrvo"),w(n,"id","prefListWrap"),w(n,"class","svelte-1c0xrvo"),C(h,"background-color",e[1].textAreaColor),C(h,"font-family",e[1].font),C(h,"color",e[1].textColor),C(h,"font-size",e[1].fontSize),w(h,"class","svelte-1c0xrvo"),C(b,"background-color",e[1].textAreaColor),C(b,"font-family",e[1].font),C(b,"color",e[1].textColor),C(b,"font-size",e[1].fontSize),w(b,"class","svelte-1c0xrvo"),C(x,"background-color",e[1].textAreaColor),C(x,"font-family",e[1].font),C(x,"color",e[1].textColor),C(x,"font-size",e[1].fontSize),w(x,"class","svelte-1c0xrvo"),w(c,"id","buttonPanel"),w(c,"class","svelte-1c0xrvo"),w(t,"id","PreferencePanel"),C(t,"background-color",e[1].backgroundColor),C(t,"font-family",e[1].font),C(t,"color",e[1].textColor),C(t,"font-size",e[1].fontSize),w(t,"class","svelte-1c0xrvo")},m(i,a){p(i,t,a),f(t,r);for(let e=0;e<Q.length;e+=1)Q[e].m(r,null);f(t,o),f(t,n),~s&&$[s].m(n,null),f(t,l),f(t,c),f(c,h),f(h,u),f(c,d),f(c,b),f(b,S),f(c,k),f(c,x),f(x,T),E=!0,P||(A=[y(h,"click",e[8]),y(b,"click",e[9]),y(x,"click",e[10])],P=!0)},p(e,[i]){if(15&i){let t;for(R=e[2],t=0;t<R.length;t+=1){const o=OS(e,R,t);Q[t]?Q[t].p(o,i):(Q[t]=yS(o),Q[t].c(),Q[t].m(r,null))}for(;t<Q.length;t+=1)Q[t].d(1);Q.length=R.length}let o=s;s=M(e),s!==o&&(a&&(K(),te($[o],1,1,(()=>{$[o]=null})),J()),~s?(a=$[s],a||(a=$[s]=L[s](e),a.c()),ee(a,1),a.m(n,null)):a=null),(!E||2&i)&&C(h,"background-color",e[1].textAreaColor),(!E||2&i)&&C(h,"font-family",e[1].font),(!E||2&i)&&C(h,"color",e[1].textColor),(!E||2&i)&&C(h,"font-size",e[1].fontSize),(!E||2&i)&&C(b,"background-color",e[1].textAreaColor),(!E||2&i)&&C(b,"font-family",e[1].font),(!E||2&i)&&C(b,"color",e[1].textColor),(!E||2&i)&&C(b,"font-size",e[1].fontSize),(!E||2&i)&&C(x,"background-color",e[1].textAreaColor),(!E||2&i)&&C(x,"font-family",e[1].font),(!E||2&i)&&C(x,"color",e[1].textColor),(!E||2&i)&&C(x,"font-size",e[1].fontSize),(!E||2&i)&&C(t,"background-color",e[1].backgroundColor),(!E||2&i)&&C(t,"font-family",e[1].font),(!E||2&i)&&C(t,"color",e[1].textColor),(!E||2&i)&&C(t,"font-size",e[1].fontSize)},i(e){E||(ee(a),E=!0)},o(e){te(a),E=!1},d(e){e&&g(t),m(Q,e),~s&&$[s].d(),P=!1,i(A)}}}function PS(e,t,r){let i,o;s(e,RO,(e=>r(11,i=e))),s(e,vO,(e=>r(1,o=e)));let n="General";function a(e){r(0,n=e)}function l(){d(RO,i="emailit",i)}function c(){d(RO,i="notes",i)}function h(){d(RO,i="scriptterm",i)}return[n,o,[{name:"General"},{name:"Theme"},{name:"Node-Red"},{name:"External Scripts"},{name:"Environments"},{name:"GitHub"}],a,l,c,h,e=>{a(e.name)},()=>{l()},e=>{c()},e=>{h()}]}class AS extends ae{constructor(e){super(),se(this,e,PS,ES,n,{})}}var RS={exports:{}};!function(e,t){self,e.exports=(()=>{var e={4567:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var n=r(9042),s=r(6114),a=r(9924),l=r(3656),c=r(844),h=r(5596),u=r(9631),d=function(e){function t(t,r){var i=e.call(this)||this;i._terminal=t,i._renderService=r,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._accessibilityTreeRoot.tabIndex=0,i._rowContainer=document.createElement("div"),i._rowContainer.setAttribute("role","list"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowElements=[];for(var o=0;o<i._terminal.rows;o++)i._rowElements[o]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[o]);if(i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new a.TimeBasedDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),!i._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize((function(e){return i._onResize(e.rows)}))),i.register(i._terminal.onRender((function(e){return i._refreshRows(e.start,e.end)}))),i.register(i._terminal.onScroll((function(){return i._refreshRows()}))),i.register(i._terminal.onA11yChar((function(e){return i._onChar(e)}))),i.register(i._terminal.onLineFeed((function(){return i._onChar("\n")}))),i.register(i._terminal.onA11yTab((function(e){return i._onTab(e)}))),i.register(i._terminal.onKey((function(e){return i._onKey(e.key)}))),i.register(i._terminal.onBlur((function(){return i._clearLiveRegion()}))),i.register(i._renderService.onDimensionsChange((function(){return i._refreshRowsDimensions()}))),i._screenDprMonitor=new h.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener((function(){return i._refreshRowsDimensions()})),i.register((0,l.addDisposableDomListener)(window,"resize",(function(){return i._refreshRowsDimensions()}))),i}return o(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),(0,u.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var r=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var o,n;if(0===t?(o=r,n=this._rowElements.pop(),this._rowContainer.removeChild(n)):(o=this._rowElements.shift(),n=r,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),n.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=n.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&(0,u.removeElementFromParent)(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var r=this._terminal.buffer,i=r.lines.length.toString(),o=e;o<=t;o++){var n=r.translateBufferLineToString(r.ydisp+o,!0),s=(r.ydisp+o+1).toString(),a=this._rowElements[o];a&&(0===n.length?a.innerText=" ":a.textContent=n,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",i))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(c.Disposable);t.AccessibilityManager=d},3614:(e,t)=>{function r(e){return e.replace(/\r?\n/g,"\r")}function i(e,t){return t?"[200~"+e+"[201~":e}function o(e,t,o){e=i(e=r(e),o.decPrivateModes.bracketedPasteMode),o.triggerDataEvent(e,!0),t.value=""}function n(e,t,r){var i=r.getBoundingClientRect(),o=e.clientX-i.left-10,n=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left=o+"px",t.style.top=n+"px",t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=i,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,r)},t.paste=o,t.moveTextAreaUnderMouseCursor=n,t.rightClickHandler=function(e,t,r,i,o){n(e,t,r),o&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}},7239:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var r=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,r){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=r},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,r){this._color[e]||(this._color[e]={}),this._color[e][t]=r},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=r},5680:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var o=r(8055),n=r(7239),s=o.css.toColor("#ffffff"),a=o.css.toColor("#000000"),l=o.css.toColor("#ffffff"),c=o.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var e=[o.css.toColor("#2e3436"),o.css.toColor("#cc0000"),o.css.toColor("#4e9a06"),o.css.toColor("#c4a000"),o.css.toColor("#3465a4"),o.css.toColor("#75507b"),o.css.toColor("#06989a"),o.css.toColor("#d3d7cf"),o.css.toColor("#555753"),o.css.toColor("#ef2929"),o.css.toColor("#8ae234"),o.css.toColor("#fce94f"),o.css.toColor("#729fcf"),o.css.toColor("#ad7fa8"),o.css.toColor("#34e2e2"),o.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],r=0;r<216;r++){var i=t[r/36%6|0],n=t[r/6%6|0],s=t[r%6];e.push({css:o.channels.toCss(i,n,s),rgba:o.channels.toRgba(i,n,s)})}for(r=0;r<24;r++){var a=8+10*r;e.push({css:o.channels.toCss(a,a,a),rgba:o.channels.toRgba(a,a,a)})}return e}());var u=function(){function e(e,r){this.allowTransparency=r;var i=e.createElement("canvas");i.width=1,i.height=1;var u=i.getContext("2d");if(!u)throw new Error("Could not get rendering context");this._ctx=u,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new n.ColorContrastCache,this.colors={foreground:s,background:a,cursor:l,cursorAccent:c,selectionTransparent:h,selectionOpaque:o.color.blend(a,h),selectionForeground:void 0,ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,s),this.colors.background=this._parseColor(e.background,a),this.colors.cursor=this._parseColor(e.cursor,l,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,c,!0),this.colors.selectionTransparent=this._parseColor(e.selection,h,!0),this.colors.selectionOpaque=o.color.blend(this.colors.background,this.colors.selectionTransparent);var r={css:"",rgba:0};this.colors.selectionForeground=e.selectionForeground?this._parseColor(e.selectionForeground,r):void 0,this.colors.selectionForeground===r&&(this.colors.selectionForeground=void 0),o.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=o.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},e.prototype.restoreColor=function(e){if(void 0!==e)switch(e){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[e]=this._restoreColors.ansi[e]}else for(var t=0;t<this._restoreColors.ansi.length;++t)this.colors.ansi[t]=this._restoreColors.ansi[t]},e.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}},e.prototype._parseColor=function(e,t,r){if(void 0===r&&(r=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var n=this._ctx.getImageData(0,0,1,1).data;if(255!==n[3]){if(!r)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var s=i(this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),4),a=s[0],l=s[1],c=s[2],h=s[3],u=Math.round(255*h);return{rgba:o.channels.toRgba(a,l,c,u),css:e}}return{css:this._ctx.fillStyle,rgba:o.channels.toRgba(n[0],n[1],n[2],n[3])}},e}();t.ColorManager=u},9631:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementFromParent=void 0,t.removeElementFromParent=function(){for(var e,t,i,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];try{for(var s=r(o),a=s.next();!a.done;a=s.next()){var l=a.value;null===(i=null==l?void 0:l.parentElement)||void 0===i||i.removeChild(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,r,i){e.addEventListener(t,r,i);var o=!1;return{dispose:function(){o||(o=!0,e.removeEventListener(t,r,i))}}}},3551:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var n=r(8460),s=r(2585),a=function(){function e(e,t,r){this._bufferService=e,this._logService=t,this._unicodeService=r,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new n.EventEmitter,this._onHideLinkUnderline=new n.EventEmitter,this._onLinkTooltip=new n.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,r)),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var r=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),o=this._bufferService.buffer.iterator(!1,t,r,i,i);o.hasNext();)for(var n=o.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(n.range.first,n.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,r){if(void 0===r&&(r={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,willLinkActivate:r.willLinkActivate,priority:r.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,r){for(var i,o=this,n=new RegExp(r.regex.source,(r.regex.flags||"")+"g"),s=-1,a=function(){var a=i["number"!=typeof r.matchIndex?0:r.matchIndex];if(!a)return l._logService.debug("match found without corresponding matchIndex",i,r),"break";if(s=t.indexOf(a,s+1),n.lastIndex=s+a.length,s<0)return"break";var c=l._bufferService.buffer.stringIndexToBufferIndex(e,s);if(c[0]<0)return"break";var h=l._bufferService.buffer.lines.get(c[0]);if(!h)return"break";var u=h.getFg(c[1]),d=u?u>>9&511:void 0;r.validationCallback?r.validationCallback(a,(function(e){o._rowsTimeoutId||e&&o._addLink(c[1],c[0]-o._bufferService.buffer.ydisp,a,r,d)})):l._addLink(c[1],c[0]-l._bufferService.buffer.ydisp,a,r,d)},l=this;null!==(i=n.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,r,i,o){var n=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(r),a=e%this._bufferService.cols,c=t+Math.floor(e/this._bufferService.cols),h=(a+s)%this._bufferService.cols,u=c+Math.floor((a+s)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,u--),this._mouseZoneManager.add(new l(a+1,c+1,h+1,u+1,(function(e){if(i.handler)return i.handler(e,r);var t=window.open();t?(t.opener=null,t.location.href=r):console.warn("Opening link blocked as opener could not be cleared")}),(function(){n._onShowLinkUnderline.fire(n._createLinkHoverEvent(a,c,h,u,o)),n._element.classList.add("xterm-cursor-pointer")}),(function(e){n._onLinkTooltip.fire(n._createLinkHoverEvent(a,c,h,u,o)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,r,{start:{x:a,y:c},end:{x:h,y:u}})}),(function(){n._onHideLinkUnderline.fire(n._createLinkHoverEvent(a,c,h,u,o)),n._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()}),(function(e){return!i.willLinkActivate||i.willLinkActivate(e,r)})))}},e.prototype._createLinkHoverEvent=function(e,t,r,i,o){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:o}},e._timeBeforeLatency=200,e=i([o(0,s.IBufferService),o(1,s.ILogService),o(2,s.IUnicodeService)],e)}();t.Linkifier=a;var l=function(e,t,r,i,o,n,s,a,l){this.x1=e,this.y1=t,this.x2=r,this.y2=i,this.clickCallback=o,this.hoverCallback=n,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=l};t.MouseZone=l},6465:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var c=r(2585),h=r(8460),u=r(844),d=r(3656),f=function(e){function t(t){var r=e.call(this)||this;return r._bufferService=t,r._linkProviders=[],r._linkCacheDisposables=[],r._isMouseOut=!0,r._activeLine=-1,r._onShowLinkUnderline=r.register(new h.EventEmitter),r._onHideLinkUnderline=r.register(new h.EventEmitter),r.register((0,u.getDisposeArrayDisposable)(r._linkCacheDisposables)),r}return o(t,e),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var r=t._linkProviders.indexOf(e);-1!==r&&t._linkProviders.splice(r,1)}}},t.prototype.attachToDom=function(e,t,r){var i=this;this._element=e,this._mouseService=t,this._renderService=r,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",(function(){i._isMouseOut=!0,i._clearCurrentLink()}))),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var r=e.composedPath(),i=0;i<r.length;i++){var o=r[i];if(o.classList.contains("xterm"))break;if(o.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var r,i,o,n,s=this;this._activeProviderReplies&&t||(null===(o=this._activeProviderReplies)||void 0===o||o.forEach((function(e){null==e||e.forEach((function(e){e.link.dispose&&e.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=e.y);var c=!1,h=function(r,i){t?(null===(n=u._activeProviderReplies)||void 0===n?void 0:n.get(r))&&(c=u._checkLinkProviderResult(r,e,c)):i.provideLinks(e.y,(function(t){var i,o;if(!s._isMouseOut){var n=null==t?void 0:t.map((function(e){return{link:e}}));null===(i=s._activeProviderReplies)||void 0===i||i.set(r,n),c=s._checkLinkProviderResult(r,e,c),(null===(o=s._activeProviderReplies)||void 0===o?void 0:o.size)===s._linkProviders.length&&s._removeIntersectingLinks(e.y,s._activeProviderReplies)}}))},u=this;try{for(var d=a(this._linkProviders.entries()),f=d.next();!f.done;f=d.next()){var p=l(f.value,2);h(p[0],p[1])}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}},t.prototype._removeIntersectingLinks=function(e,t){for(var r=new Set,i=0;i<t.size;i++){var o=t.get(i);if(o)for(var n=0;n<o.length;n++)for(var s=o[n],a=s.link.range.start.y<e?0:s.link.range.start.x,l=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,c=a;c<=l;c++){if(r.has(c)){o.splice(n--,1);break}r.add(c)}}},t.prototype._checkLinkProviderResult=function(e,t,r){var i,o=this;if(!this._activeProviderReplies)return r;for(var n=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&n){var l=n.find((function(e){return o._linkAtPosition(e.link,t)}));l&&(r=!0,this._handleNewLink(l))}if(this._activeProviderReplies.size===this._linkProviders.length&&!r)for(a=0;a<this._activeProviderReplies.size;a++){var c=null===(i=this._activeProviderReplies.get(a))||void 0===i?void 0:i.find((function(e){return o._linkAtPosition(e.link,t)}));if(c){r=!0,this._handleNewLink(c);break}}return r},t.prototype._handleMouseDown=function(){this._mouseDownLink=this._currentLink},t.prototype._handleMouseUp=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,u.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var r=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);r&&this._linkAtPosition(e.link,r)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.pointerCursor},set:function(e){var r,i;(null===(r=t._currentLink)||void 0===r?void 0:r.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(i=t._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.underline},set:function(r){var i,o,n;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&(null===(n=null===(o=t._currentLink)||void 0===o?void 0:o.state)||void 0===n?void 0:n.decorations.underline)!==r&&(t._currentLink.state.decorations.underline=r,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,r))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((function(e){var r=0===e.start?0:e.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(r,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var r=e.range,i=this._bufferService.buffer.ydisp,o=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(o)},t.prototype._linkLeave=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)},t.prototype._linkAtPosition=function(e,t){var r=e.range.start.y===e.range.end.y,i=e.range.start.y<t.y,o=e.range.end.y>t.y;return(r&&e.range.start.x<=t.x&&e.range.end.x>=t.x||i&&e.range.end.x>=t.x||o&&e.range.start.x<=t.x||i&&o)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,r){var i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,r,i,o){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:o}},n([s(0,c.IBufferService)],t)}(u.Disposable);t.Linkifier2=f},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=r(844),l=r(3656),c=r(4725),h=r(2585),u=function(e){function t(t,r,i,o,n,s){var a=e.call(this)||this;return a._element=t,a._screenElement=r,a._bufferService=i,a._mouseService=o,a._selectionService=n,a._optionsService=s,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register((0,l.addDisposableDomListener)(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return o(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var r=0;r<this._zones.length;r++){var i=this._zones[r];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(r--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,r=this._findZoneEventAt(e);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.rawOptions.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);null==t||t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),r=this._getSelectionLength();t&&r===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var r=t[0],i=t[1],o=0;o<this._zones.length;o++){var n=this._zones[o];if(n.y1===n.y2){if(i===n.y1&&r>=n.x1&&r<n.x2)return n}else if(i===n.y1&&r>=n.x1||i===n.y2&&r<n.x2||i>n.y1&&i<n.y2)return n}},n([s(2,h.IBufferService),s(3,c.IMouseService),s(4,c.ISelectionService),s(5,h.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=u},6193:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var i=function(){function e(e){this._renderCallback=e,this._refreshCallbacks=[]}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.addRefreshCallback=function(e){var t=this;return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return t._innerRefresh()}))),this._animationFrame},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){if(this._animationFrame=void 0,void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}else this._runRefreshCallbacks()},e.prototype._runRefreshCallbacks=function(){var e,t;try{for(var i=r(this._refreshCallbacks),o=i.next();!o.done;o=i.next())(0,o.value)(0)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._refreshCallbacks=[]},e}();t.RenderDebouncer=i},5596:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return o(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(r(844).Disposable);t.ScreenDprMonitor=n},3236:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var l=r(2950),c=r(1680),h=r(3614),u=r(2584),d=r(5435),f=r(3525),p=r(3551),g=r(9312),m=r(6114),v=r(3656),O=r(9042),_=r(357),b=r(6954),y=r(4567),w=r(1296),S=r(7399),k=r(8460),C=r(8437),x=r(5680),T=r(3230),E=r(4725),P=r(428),A=r(8934),R=r(6465),Q=r(5114),L=r(8969),$=r(8055),M=r(4269),D=r(5941),j=r(3107),B=r(5744),I=r(9074),z=r(2585),W="undefined"!=typeof window?window.document:null,F=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.browser=m,r._keyDownHandled=!1,r._keyDownSeen=!1,r._keyPressHandled=!1,r._unprocessedDeadKey=!1,r._onCursorMove=new k.EventEmitter,r._onKey=new k.EventEmitter,r._onRender=new k.EventEmitter,r._onSelectionChange=new k.EventEmitter,r._onTitleChange=new k.EventEmitter,r._onBell=new k.EventEmitter,r._onFocus=new k.EventEmitter,r._onBlur=new k.EventEmitter,r._onA11yCharEmitter=new k.EventEmitter,r._onA11yTabEmitter=new k.EventEmitter,r._setup(),r.linkifier=r._instantiationService.createInstance(p.Linkifier),r.linkifier2=r.register(r._instantiationService.createInstance(R.Linkifier2)),r._decorationService=r._instantiationService.createInstance(I.DecorationService),r._instantiationService.setService(z.IDecorationService,r._decorationService),r.register(r._inputHandler.onRequestBell((function(){return r.bell()}))),r.register(r._inputHandler.onRequestRefreshRows((function(e,t){return r.refresh(e,t)}))),r.register(r._inputHandler.onRequestSendFocus((function(){return r._reportFocus()}))),r.register(r._inputHandler.onRequestReset((function(){return r.reset()}))),r.register(r._inputHandler.onRequestWindowsOptionsReport((function(e){return r._reportWindowsOptions(e)}))),r.register(r._inputHandler.onColor((function(e){return r._handleColorEvent(e)}))),r.register((0,k.forwardEvent)(r._inputHandler.onCursorMove,r._onCursorMove)),r.register((0,k.forwardEvent)(r._inputHandler.onTitleChange,r._onTitleChange)),r.register((0,k.forwardEvent)(r._inputHandler.onA11yChar,r._onA11yCharEmitter)),r.register((0,k.forwardEvent)(r._inputHandler.onA11yTab,r._onA11yTabEmitter)),r.register(r._bufferService.onResize((function(e){return r._afterResize(e.cols,e.rows)}))),r}return o(t,e),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype._handleColorEvent=function(e){var t,r,i,o;if(this._colorManager){try{for(var l=n(e),c=l.next();!c.done;c=l.next()){var h=c.value,d=void 0,f="";switch(h.index){case 256:d="foreground",f="10";break;case 257:d="background",f="11";break;case 258:d="cursor",f="12";break;default:d="ansi",f="4;"+h.index}if(d)switch(h.type){case 0:var p=$.color.toColorRGB("ansi"===d?this._colorManager.colors.ansi[h.index]:this._colorManager.colors[d]);this.coreService.triggerDataEvent(u.C0.ESC+"]"+f+";"+(0,D.toRgbString)(p)+u.C1_ESCAPED.ST);break;case 1:"ansi"===d?this._colorManager.colors.ansi[h.index]=$.rgba.toColor.apply($.rgba,a([],s(h.color),!1)):this._colorManager.colors[d]=$.rgba.toColor.apply($.rgba,a([],s(h.color),!1));break;case 2:this._colorManager.restoreColor(h.index)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(o=this.viewport)||void 0===o||o.onThemeChange(this._colorManager.colors)}},t.prototype.dispose=function(){var t,r,i;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(i=null===(r=this.element)||void 0===r?void 0:r.parentNode)||void 0===i||i.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var r,i,o,n;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(r=this._renderService)||void 0===r||r.clear(),null===(i=this._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(o=this.viewport)||void 0===o||o.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new y.AccessibilityManager(this,this._renderService)):(null===(n=this._accessibilityManager)||void 0===n||n.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},t.prototype._onTextAreaFocus=function(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(t){var r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.actualCellHeight,o=t.getWidth(r),n=this._renderService.dimensions.actualCellWidth*o,s=this.buffer.y*this._renderService.dimensions.actualCellHeight,a=r*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=a+"px",this.textarea.style.top=s+"px",this.textarea.style.width=n+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}}},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",(function(t){e.hasSelection()&&(0,h.copyHandler)(t,e._selectionService)})));var t=function(t){return(0,h.handlePasteEvent)(t,e.textarea,e.coreService)};this.register((0,v.addDisposableDomListener)(this.textarea,"paste",t)),this.register((0,v.addDisposableDomListener)(this.element,"paste",t)),m.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(function(t){2===t.button&&(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",(function(t){(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),m.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",(function(t){1===t.button&&(0,h.moveTextAreaUnderMouseCursor)(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register((0,v.addDisposableDomListener)(this.textarea,"input",(function(t){return e._inputEvent(t)}),!0)),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var r=W.createDocumentFragment();this._viewportElement=W.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),r.appendChild(this._viewportElement),this._viewportScrollArea=W.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=W.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=W.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=W.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",O.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,v.addDisposableDomListener)(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var i=this._instantiationService.createInstance(Q.CoreBrowserService,this.textarea);this._instantiationService.setService(E.ICoreBrowserService,i),this._charSizeService=this._instantiationService.createInstance(P.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new x.ColorManager(W,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(M.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService);var o=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,o,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._compositionView=W.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r),this._soundService=this._instantiationService.createInstance(_.SoundService),this._instantiationService.setService(E.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(c.Viewport,(function(e){return t.scrollLines(e,!0,1)}),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){t._renderService.onCursorMove(),t._syncTextArea()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this._onScroll.event((function(e){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(b.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(j.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new y.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this._instantiationService.createInstance(B.OverviewRulerRenderer,this._viewportElement,this.screenElement)),this.optionsService.onOptionChange((function(){!t._overviewRulerRenderer&&t.options.overviewRulerWidth&&t._viewportElement&&t.screenElement&&(t._overviewRulerRenderer=t._instantiationService.createInstance(B.OverviewRulerRenderer,t._viewportElement,t.screenElement))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(f.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(w.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,r,i;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(r=this._renderService)||void 0===r||r.setColors(this._colorManager.colors),null===(i=this.viewport)||void 0===i||i.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,r=this.element;function i(e){var r,i,o=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!o)return!1;switch(e.overrideType||e.type){case"mousemove":i=32,void 0===e.buttons?(r=3,void 0!==e.button&&(r=e.button<3?e.button:3)):r=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":i=0,r=e.button<3?e.button:3;break;case"mousedown":i=1,r=e.button<3?e.button:3;break;case"wheel":if(0===t.viewport.getLinesScrolled(e))return!1;i=e.deltaY<0?0:1,r=4;break;default:return!1}return!(void 0===i||void 0===r||r>4)&&t.coreMouseService.triggerMouseEvent({col:o.x-33,row:o.y-33,button:r,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var o={mouseup:null,wheel:null,mousedrag:null,mousemove:null},n=function(t){return i(t),t.buttons||(e._document.removeEventListener("mouseup",o.mouseup),o.mousedrag&&e._document.removeEventListener("mousemove",o.mousedrag)),e.cancel(t)},s=function(t){return i(t),e.cancel(t,!0)},a=function(e){e.buttons&&i(e)},l=function(e){e.buttons||i(e)};this.register(this.coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.rawOptions.logLevel&&e._logService.debug("Binding to mouse events:",e.coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?o.mousemove||(r.addEventListener("mousemove",l),o.mousemove=l):(r.removeEventListener("mousemove",o.mousemove),o.mousemove=null),16&t?o.wheel||(r.addEventListener("wheel",s,{passive:!1}),o.wheel=s):(r.removeEventListener("wheel",o.wheel),o.wheel=null),2&t?o.mouseup||(o.mouseup=n):(e._document.removeEventListener("mouseup",o.mouseup),o.mouseup=null),4&t?o.mousedrag||(o.mousedrag=a):(e._document.removeEventListener("mousemove",o.mousedrag),o.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(r,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e.coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return i(t),o.mouseup&&e._document.addEventListener("mouseup",o.mouseup),o.mousedrag&&e._document.addEventListener("mousemove",o.mousedrag),e.cancel(t)}))),this.register((0,v.addDisposableDomListener)(r,"wheel",(function(t){if(!o.wheel){if(!e.buffer.hasScrollback){var r=e.viewport.getLinesScrolled(t);if(0===r)return;for(var i=u.C0.ESC+(e.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),n="",s=0;s<Math.abs(r);s++)n+=i;return e.coreService.triggerDataEvent(n,!0),e.cancel(t,!0)}return e.viewport.onWheel(t)?e.cancel(t):void 0}}),{passive:!1})),this.register((0,v.addDisposableDomListener)(r,"touchstart",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}),{passive:!0})),this.register((0,v.addDisposableDomListener)(r,"touchmove",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)}),{passive:!1}))},t.prototype.refresh=function(e,t){var r;null===(r=this._renderService)||void 0===r||r.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var r;null===(r=this.linkifier)||void 0===r||r.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,r,i){void 0===i&&(i=0),e.prototype.scrollLines.call(this,t,r,i),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){(0,h.paste)(e,this.textarea,this.coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,r){var i=this.linkifier.registerLinkMatcher(e,t,r);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.registerDecoration=function(e){return this._decorationService.registerDecoration(e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,r){this._selectionService.setSelection(e,t,r)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var r;null===(r=this._selectionService)||void 0===r||r.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;var t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);var r=(0,S.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===r.type||2===r.type){var i=this.rows-1;return this.scrollLines(2===r.type?-i:i),this.cancel(e,!0)}return 1===r.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(r.key!==u.C0.ETX&&r.key!==u.C0.CR||(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0))))},t.prototype._isThirdLevelShift=function(e,t){var r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?r:r&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)},t.prototype._keyPress=function(e){var t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},t.prototype._inputEvent=function(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1},t.prototype.bell=function(){var e;this._soundBell()&&(null===(e=this._soundService)||void 0===e||e.playBellSound()),this._onBell.fire()},t.prototype.resize=function(t,r){t!==this.cols||r!==this.rows?e.prototype.resize.call(this,t,r):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var r,i;null===(r=this._charSizeService)||void 0===r||r.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},t.prototype.reset=function(){var t,r;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1),null===(r=this.viewport)||void 0===r||r.syncScrollArea()},t.prototype.clearTextureAtlas=function(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()},t.prototype._reportFocus=function(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(u.C0.ESC+"[I"):this.coreService.triggerDataEvent(u.C0.ESC+"[O")},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case d.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),r=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[4;"+r+";"+t+"t");break;case d.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var i=this._renderService.dimensions.scaledCellWidth.toFixed(0),o=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[6;"+o+";"+i+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(L.CoreTerminal);t.Terminal=F},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0;var r=function(){function e(e,t){void 0===t&&(t=1e3),this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return e.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;var o=Date.now();if(o-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=o,this._innerRefresh();else if(!this._additionalRefreshRequested){var n=o-this._lastRefreshMs,s=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((function(){i._lastRefreshMs=Date.now(),i._innerRefresh(),i._additionalRefreshRequested=!1,i._refreshTimeoutID=void 0}),s)}},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},e}();t.TimeBasedDebouncer=r},1680:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=r(844),l=r(3656),c=r(4725),h=r(2585),u=function(e){function t(t,r,i,o,n,s,a,c){var h=e.call(this)||this;return h._scrollLines=t,h._viewportElement=r,h._scrollArea=i,h._element=o,h._bufferService=n,h._optionsService=s,h._charSizeService=a,h._renderService=c,h.scrollBarWidth=0,h._currentRowHeight=0,h._currentScaledCellHeight=0,h._lastRecordedBufferLength=0,h._lastRecordedViewportHeight=0,h._lastRecordedBufferHeight=0,h._lastTouchY=0,h._lastScrollTop=0,h._wheelPartialScroll=0,h._refreshAnimationFrame=null,h._ignoreNextScrollEvent=!1,h.scrollBarWidth=h._viewportElement.offsetWidth-h._scrollArea.offsetWidth||15,h.register((0,l.addDisposableDomListener)(h._viewportElement,"scroll",h._onScroll.bind(h))),h._activeBuffer=h._bufferService.buffer,h.register(h._bufferService.buffers.onBufferActivate((function(e){return h._activeBuffer=e.activeBuffer}))),h._renderDimensions=h._renderService.dimensions,h.register(h._renderService.onDimensionsChange((function(e){return h._renderDimensions=e}))),setTimeout((function(){return h.syncScrollArea()}),0),h}return o(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t)}},t.prototype._bubbleScroll=function(e,t){var r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var r=this._optionsService.rawOptions.fastScrollModifier;return"alt"===r&&t.altKey||"ctrl"===r&&t.ctrlKey||"shift"===r&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},n([s(4,h.IBufferService),s(5,h.IOptionsService),s(6,c.ICharSizeService),s(7,c.IRenderService)],t)}(a.Disposable);t.Viewport=u},3107:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;var l=r(3656),c=r(4725),h=r(844),u=r(2585),d=function(e){function t(t,r,i,o){var n=e.call(this)||this;return n._screenElement=t,n._bufferService=r,n._decorationService=i,n._renderService=o,n._decorationElements=new Map,n._altBufferIsActive=!1,n._dimensionsChanged=!1,n._container=document.createElement("div"),n._container.classList.add("xterm-decoration-container"),n._screenElement.appendChild(n._container),n.register(n._renderService.onRenderedViewportChange((function(){return n._queueRefresh()}))),n.register(n._renderService.onDimensionsChange((function(){n._dimensionsChanged=!0,n._queueRefresh()}))),n.register((0,l.addDisposableDomListener)(window,"resize",(function(){return n._queueRefresh()}))),n.register(n._bufferService.buffers.onBufferActivate((function(){n._altBufferIsActive=n._bufferService.buffer===n._bufferService.buffers.alt}))),n.register(n._decorationService.onDecorationRegistered((function(){return n._queueRefresh()}))),n.register(n._decorationService.onDecorationRemoved((function(e){return n._removeDecoration(e)}))),n}return o(t,e),t.prototype.dispose=function(){this._container.remove(),this._decorationElements.clear(),e.prototype.dispose.call(this)},t.prototype._queueRefresh=function(){var e=this;void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback((function(){e.refreshDecorations(),e._animationFrame=void 0})))},t.prototype.refreshDecorations=function(){var e,t;try{for(var r=a(this._decorationService.decorations),i=r.next();!i.done;i=r.next()){var o=i.value;this._renderDecoration(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsChanged=!1},t.prototype._renderDecoration=function(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)},t.prototype._createElement=function(e){var t,r=document.createElement("div");r.classList.add("xterm-decoration"),r.style.width=Math.round((e.options.width||1)*this._renderService.dimensions.actualCellWidth)+"px",r.style.height=(e.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",r.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",r.style.lineHeight=this._renderService.dimensions.actualCellHeight+"px";var i=null!==(t=e.options.x)&&void 0!==t?t:0;return i&&i>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(e,r),r},t.prototype._refreshStyle=function(e){var t=this,r=e.marker.line-this._bufferService.buffers.active.ydisp;if(r<0||r>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{var i=this._decorationElements.get(e);i||(e.onDispose((function(){return t._removeDecoration(e)})),i=this._createElement(e),e.element=i,this._decorationElements.set(e,i),this._container.appendChild(i)),i.style.top=r*this._renderService.dimensions.actualCellHeight+"px",i.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(i)}},t.prototype._refreshXPosition=function(e,t){var r;if(void 0===t&&(t=e.element),t){var i=null!==(r=e.options.x)&&void 0!==r?r:0;"right"===(e.options.anchor||"left")?t.style.right=i?i*this._renderService.dimensions.actualCellWidth+"px":"":t.style.left=i?i*this._renderService.dimensions.actualCellWidth+"px":""}},t.prototype._removeDecoration=function(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e)},n([s(1,u.IBufferService),s(2,u.IDecorationService),s(3,c.IRenderService)],t)}(h.Disposable);t.BufferDecorationRenderer=d},5871:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0;var i=function(){function e(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}return Object.defineProperty(e.prototype,"zones",{get:function(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._zones.length=0,this._zonePoolIndex=0},e.prototype.addDecoration=function(e){var t,i;if(e.options.overviewRulerOptions){try{for(var o=r(this._zones),n=o.next();!n.done;n=o.next()){var s=n.value;if(s.color===e.options.overviewRulerOptions.color&&s.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(s,e.marker.line))return;if(this._lineAdjacentToZone(s,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(s,e.marker.line)}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}},e.prototype.setPadding=function(e){this._linePadding=e},e.prototype._lineIntersectsZone=function(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine},e.prototype._lineAdjacentToZone=function(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]},e.prototype._addLineToZone=function(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)},e}();t.ColorZoneStore=i},5744:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;var l=r(5871),c=r(3656),h=r(4725),u=r(844),d=r(2585),f={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0},m=function(e){function t(t,r,i,o,n,s){var a,c=e.call(this)||this;c._viewportElement=t,c._screenElement=r,c._bufferService=i,c._decorationService=o,c._renderService=n,c._optionsService=s,c._colorZoneStore=new l.ColorZoneStore,c._shouldUpdateDimensions=!0,c._shouldUpdateAnchor=!0,c._lastKnownBufferLength=0,c._canvas=document.createElement("canvas"),c._canvas.classList.add("xterm-decoration-overview-ruler"),c._refreshCanvasDimensions(),null===(a=c._viewportElement.parentElement)||void 0===a||a.insertBefore(c._canvas,c._viewportElement);var h=c._canvas.getContext("2d");if(!h)throw new Error("Ctx cannot be null");return c._ctx=h,c._registerDecorationListeners(),c._registerBufferChangeListeners(),c._registerDimensionChangeListeners(),c}return o(t,e),Object.defineProperty(t.prototype,"_width",{get:function(){return this._optionsService.options.overviewRulerWidth||0},enumerable:!1,configurable:!0}),t.prototype._registerDecorationListeners=function(){var e=this;this.register(this._decorationService.onDecorationRegistered((function(){return e._queueRefresh(void 0,!0)}))),this.register(this._decorationService.onDecorationRemoved((function(){return e._queueRefresh(void 0,!0)})))},t.prototype._registerBufferChangeListeners=function(){var e=this;this.register(this._renderService.onRenderedViewportChange((function(){return e._queueRefresh()}))),this.register(this._bufferService.buffers.onBufferActivate((function(){e._canvas.style.display=e._bufferService.buffer===e._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((function(){e._lastKnownBufferLength!==e._bufferService.buffers.normal.lines.length&&(e._refreshDrawHeightConstants(),e._refreshColorZonePadding())})))},t.prototype._registerDimensionChangeListeners=function(){var e=this;this.register(this._renderService.onRender((function(){e._containerHeight&&e._containerHeight===e._screenElement.clientHeight||(e._queueRefresh(!0),e._containerHeight=e._screenElement.clientHeight)}))),this.register(this._optionsService.onOptionChange((function(t){"overviewRulerWidth"===t&&e._queueRefresh(!0)}))),this.register((0,c.addDisposableDomListener)(window,"resize",(function(){e._queueRefresh(!0)}))),this._queueRefresh(!0)},t.prototype.dispose=function(){var t;null===(t=this._canvas)||void 0===t||t.remove(),e.prototype.dispose.call(this)},t.prototype._refreshDrawConstants=function(){var e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=e,p.center=t,p.right=e,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=p.left,g.right=p.left+p.center},t.prototype._refreshDrawHeightConstants=function(){f.full=Math.round(2*window.devicePixelRatio);var e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*window.devicePixelRatio);f.left=t,f.center=t,f.right=t},t.prototype._refreshColorZonePadding=function(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length},t.prototype._refreshCanvasDimensions=function(){this._canvas.style.width=this._width+"px",this._canvas.width=Math.round(this._width*window.devicePixelRatio),this._canvas.style.height=this._screenElement.clientHeight+"px",this._canvas.height=Math.round(this._screenElement.clientHeight*window.devicePixelRatio),this._refreshDrawConstants(),this._refreshColorZonePadding()},t.prototype._refreshDecorations=function(){var e,t,r,i,o,n;this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();try{for(var s=a(this._decorationService.decorations),l=s.next();!l.done;l=s.next()){var c=l.value;this._colorZoneStore.addDecoration(c)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this._ctx.lineWidth=1;var h=this._colorZoneStore.zones;try{for(var u=a(h),d=u.next();!d.done;d=u.next())"full"!==(g=d.value).position&&this._renderColorZone(g)}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var f=a(h),p=f.next();!p.done;p=f.next()){var g;"full"===(g=p.value).position&&this._renderColorZone(g)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(o)throw o.error}}this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1},t.prototype._renderColorZone=function(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(g[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-f[e.position||"full"]/2),p[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[e.position||"full"]))},t.prototype._queueRefresh=function(e,t){var r=this;this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=window.requestAnimationFrame((function(){r._refreshDecorations(),r._animationFrame=void 0})))},n([s(2,d.IBufferService),s(3,d.IDecorationService),s(4,h.IRenderService),s(5,d.IOptionsService)],t)}(u.Disposable);t.OverviewRulerRenderer=m},2950:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var n=r(4725),s=r(2585),a=function(){function e(e,t,r,i,o,n){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=o,this._renderService=n,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(e.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){var r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,r.start+=t._dataAlreadySent.length,(e=t._isComposing?t._textarea.value.substring(r.start,r.end):t._textarea.value.substring(r.start)).length>0&&t._coreService.triggerDataEvent(e,!0))}),0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var r=e._textarea.value.replace(t,"");r.length>0&&(e._dataAlreadySent=r,e._coreService.triggerDataEvent(r,!0))}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),i=this._renderService.dimensions.actualCellHeight,o=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,n=r*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=n+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var s=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(s.width,1)+"px",this._textarea.style.height=Math.max(s.height,1)+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},i([o(2,s.IBufferService),o(3,s.IOptionsService),o(4,s.ICoreService),o(5,n.IRenderService)],e)}();t.CompositionHelper=a},9806:(e,t)=>{function r(e,t,r){var i=r.getBoundingClientRect(),o=e.getComputedStyle(r),n=parseInt(o.getPropertyValue("padding-left")),s=parseInt(o.getPropertyValue("padding-top"));return[t.clientX-i.left-n,t.clientY-i.top-s]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,o,n,s,a,l,c){if(s){var h=r(e,t,i);if(h)return h[0]=Math.ceil((h[0]+(c?a/2:0))/a),h[1]=Math.ceil(h[1]/l),h[0]=Math.min(Math.max(h[0],1),o+(c?1:0)),h[1]=Math.min(Math.max(h[1],1),n),h}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},9504:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var i=r(2584);function o(e,t,r,i){var o=e-n(r,e),a=t-n(r,t),h=Math.abs(o-a)-function(e,t,r){for(var i=0,o=e-n(r,e),a=t-n(r,t),l=0;l<Math.abs(o-a);l++){var c="A"===s(e,t)?-1:1,h=r.buffer.lines.get(o+c*l);(null==h?void 0:h.isWrapped)&&i++}return i}(e,t,r);return c(h,l(s(e,t),i))}function n(e,t){for(var r=0,i=e.buffer.lines.get(t),o=null==i?void 0:i.isWrapped;o&&t>=0&&t<e.rows;)r++,o=null==(i=e.buffer.lines.get(--t))?void 0:i.isWrapped;return r}function s(e,t){return e>t?"A":"B"}function a(e,t,r,i,o,n){for(var s=e,a=t,l="";s!==r||a!==i;)s+=o?1:-1,o&&s>n.cols-1?(l+=n.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!o&&s<0&&(l+=n.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=n.cols-1,a--);return l+n.buffer.translateBufferLineToString(a,!1,e,s)}function l(e,t){var r=t?"O":"[";return i.C0.ESC+r+e}function c(e,t){e=Math.floor(e);for(var r="",i=0;i<e;i++)r+=t;return r}t.moveToCellSequence=function(e,t,r,i){var s,h=r.buffer.x,u=r.buffer.y;if(!r.buffer.hasScrollback)return function(e,t,r,i,s,h){return 0===o(t,i,s,h).length?"":c(a(e,t,e,t-n(s,t),!1,s).length,l("D",h))}(h,u,0,t,r,i)+o(u,t,r,i)+function(e,t,r,i,s,h){var u;u=o(t,i,s,h).length>0?i-n(s,i):t;var d=i,f=function(e,t,r,i,s,a){var l;return l=o(r,i,s,a).length>0?i-n(s,i):t,e<r&&l<=i||e>=r&&l<i?"C":"D"}(e,t,r,i,s,h);return c(a(e,u,r,d,"C"===f,s).length,l(f,h))}(h,u,e,t,r,i);if(u===t)return s=h>e?"D":"C",c(Math.abs(h-e),l(s,i));s=u>t?"D":"C";var d=Math.abs(u-t);return c(function(e,t){return t.cols-e}(u>t?e:h,r)+(d-1)*r.cols+1+((u>t?h:e)-1),l(s,i))}},4389:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var n=r(3236),s=r(9042),a=r(7975),l=r(7090),c=r(5741),h=r(8285),u=["cols","rows"],d=function(){function e(e){var t=this;this._core=new n.Terminal(e),this._addonManager=new c.AddonManager,this._publicOptions=i({},this._core.options);var r=function(e){return t._core.options[e]},o=function(e,r){t._checkReadonlyOptions(e),t._core.options[e]=r};for(var s in this._core.options){var a={get:r.bind(this,s),set:o.bind(this,s)};Object.defineProperty(this._publicOptions,s,a)}}return e.prototype._checkReadonlyOptions=function(e){if(u.includes(e))throw new Error('Option "'+e+'" can only be set in the constructor')},e.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._core.onWriteParsed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new a.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new l.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new h.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modes",{get:function(){var e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._publicOptions},set:function(e){for(var t in e)this._publicOptions[t]=e[t]},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,r){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,r)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return void 0===e&&(e=0),this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.registerDecoration=function(e){var t,r,i;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(r=e.width)&&void 0!==r?r:0,null!==(i=e.height)&&void 0!==i?i:0),this._core.registerDecoration(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._checkReadonlyOptions(e),this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return s},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var n=o(r),s=n.next();!s.done;s=n.next()){var a=s.value;if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype._verifyPositiveIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var n=o(r),s=n.next();!s.done;s=n.next()){var a=s.value;if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e}();t.Terminal=d},1546:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var o=r(643),n=r(8803),s=r(1420),a=r(3734),l=r(1752),c=r(8055),h=r(9631),u=r(8978),d=function(){function e(e,t,r,i,o,n,s,a,l){this._container=e,this._alpha=i,this._colors=o,this._rendererId=n,this._bufferService=s,this._optionsService=a,this._decorationService=l,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._columnSelectMode=!1,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;(0,h.removeElementFromParent)(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=(0,l.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,s.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype.clearTextureAtlas=function(){var e;null===(e=this._charAtlas)||void 0===e||e.clear()},e.prototype._fillCells=function(e,t,r,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype._fillMiddleLineAtCells=function(e,t,r){void 0===r&&(r=1);var i=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-i-window.devicePixelRatio,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillBottomLineAtCells=function(e,t,r){void 0===r&&(r=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,r){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*r,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,r,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,r,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=n.TEXT_BASELINE,this._clipRow(r);var i=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(i=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),i||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},e.prototype._drawChars=function(e,t,r){var s,a,l,c=this._getContrastColor(e,t,r);if(c||e.isFgRGB()||e.isBgRGB())this._drawUncachedChars(e,t,r,c);else{var h,u;e.isInverse()?(h=e.isBgDefault()?n.INVERTED_DEFAULT_COLOR:e.getBgColor(),u=e.isFgDefault()?n.INVERTED_DEFAULT_COLOR:e.getFgColor()):(u=e.isBgDefault()?o.DEFAULT_COLOR:e.getBgColor(),h=e.isFgDefault()?o.DEFAULT_COLOR:e.getFgColor()),h+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&h<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||o.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||o.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=u,this._currentGlyphIdentifier.fg=h,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic();var d=!1;try{for(var f=i(this._decorationService.getDecorationsAtCell(t,r)),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.backgroundColorRGB||g.foregroundColorRGB){d=!0;break}}}catch(e){s={error:e}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}!d&&(null===(l=this._charAtlas)||void 0===l?void 0:l.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(e,t,r)}},e.prototype._drawUncachedChars=function(e,t,r,i){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline=n.TEXT_BASELINE,e.isInverse())if(i)this._ctx.fillStyle=i.css;else if(e.isBgDefault())this._ctx.fillStyle=c.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}else if(i)this._ctx.fillStyle=i.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var s=e.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),this._ctx.fillStyle=this._colors.ansi[s].css}this._clipRow(r),e.isDim()&&(this._ctx.globalAlpha=n.DIM_OPACITY);var l=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(l=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),l||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},e.prototype._getContrastColor=function(e,t,r){var o,n,s,a,h=!1;try{for(var u=i(this._decorationService.getDecorationsAtCell(t,r)),d=u.next();!d.done;d=u.next()){var f=d.value;"top"!==f.options.layer&&h||(f.backgroundColorRGB&&(s=f.backgroundColorRGB.rgba),f.foregroundColorRGB&&(a=f.foregroundColorRGB.rgba),h="top"===f.options.layer)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}if(h||this._colors.selectionForeground&&this._isCellInSelection(t,r)&&(a=this._colors.selectionForeground.rgba),s||a||1!==this._optionsService.rawOptions.minimumContrastRatio&&!(0,l.excludeFromContrastRatioDemands)(e.getCode())){if(!s&&!a){var p=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==p)return p||void 0}var g=e.getFgColor(),m=e.getFgColorMode(),v=e.getBgColor(),O=e.getBgColorMode(),_=!!e.isInverse(),b=!!e.isInverse();if(_){var y=g;g=v,v=y;var w=m;m=O,O=w}var S=this._resolveBackgroundRgba(void 0!==s?50331648:O,null!=s?s:v,_),k=this._resolveForegroundRgba(m,g,_,b),C=c.rgba.ensureContrastRatio(null!=s?s:S,null!=a?a:k,this._optionsService.rawOptions.minimumContrastRatio);if(!C){if(!a)return void this._colors.contrastCache.setColor(e.bg,e.fg,null);C=a}var x={css:c.channels.toCss(C>>24&255,C>>16&255,C>>8&255),rgba:C};return s||a||this._colors.contrastCache.setColor(e.bg,e.fg,x),x}},e.prototype._resolveBackgroundRgba=function(e,t,r){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,r,i){switch(e){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&i&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.background.rgba:this._colors.foreground.rgba}},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?e>=r[0]&&t>=r[1]&&e<i[0]&&t<i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},e}();t.BaseRenderLayer=d},2512:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var a=r(1546),l=r(511),c=r(2585),h=r(4725),u=600,d=function(e){function t(t,r,i,o,n,s,a,c,h,u){var d=e.call(this,t,"cursor",r,!0,i,o,s,a,u)||this;return d._onRequestRedraw=n,d._coreService=c,d._coreBrowserService=h,d._cell=new l.CellData,d._state={x:0,y:0,isFocused:!1,style:"",width:0},d._cursorRenderers={bar:d._renderBarCursor.bind(d),block:d._renderBlockCursor.bind(d),underline:d._renderUnderlineCursor.bind(d)},d}return o(t,e),t.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){var e;this._clearCursor(),null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation(),this.onOptionsChanged()},t.prototype.onBlur=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new f(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,r=t-this._bufferService.buffer.ydisp;if(r<0||r>=this._bufferService.rows)this._clearCursor();else{var i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(i,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var o=this._optionsService.rawOptions.cursorStyle;return o&&"block"!==o?this._cursorRenderers[o](i,r,this._cell):this._renderBlurCursor(i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=o,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===i&&this._state.y===r&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(r,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,r.getWidth(),1),this._ctx.restore()},n([s(5,c.IBufferService),s(6,c.IOptionsService),s(7,c.ICoreService),s(8,h.ICoreBrowserService),s(9,c.IDecorationService)],t)}(a.BaseRenderLayer);t.CursorRenderLayer=d;var f=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=u),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),u)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:function(e,t,r){var i,o,n,s,a,l,c,h,u,d,f,p,g,m,v,O,_,b,y,w,S,k,C,x,T,E,P,A,R,Q,L,$,M,D,j,B,I,z,W,F,q,G,U,H,N,X,Z,V,Y,K,J,ee,te,re,ie,oe,ne,se,ae,le,ce,he,ue,de,fe,pe,ge,me,ve,Oe,_e,be,ye,we,Se,ke,Ce,xe,Te,Ee,Pe,Ae,Re,Qe,Le,$e,Me,De,je,Be,Ie,ze,We,Fe,qe,Ge,Ue,He,Ne,Xe,Ze,Ve,Ye,Ke,Je,et,tt,rt,it,ot,nt,st,at,lt,ct,ht,ut,dt,ft,pt,gt,mt,vt,Ot,_t,bt,yt,wt,St=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},kt=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.tryDrawCustomChar=t.powerlineDefinitions=t.boxDrawingDefinitions=t.blockElementDefinitions=void 0;var Ct=r(1752);t.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:9,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"🭰":[{x:1,y:0,w:1,h:8}],"🭱":[{x:2,y:0,w:1,h:8}],"🭲":[{x:3,y:0,w:1,h:8}],"🭳":[{x:4,y:0,w:1,h:8}],"🭴":[{x:5,y:0,w:1,h:8}],"🭵":[{x:6,y:0,w:1,h:8}],"🭶":[{x:0,y:1,w:8,h:1}],"🭷":[{x:0,y:2,w:8,h:1}],"🭸":[{x:0,y:3,w:8,h:1}],"🭹":[{x:0,y:4,w:8,h:1}],"🭺":[{x:0,y:5,w:8,h:1}],"🭻":[{x:0,y:6,w:8,h:1}],"🭼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🭽":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🮀":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮁":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮂":[{x:0,y:0,w:8,h:2}],"🮃":[{x:0,y:0,w:8,h:3}],"🮄":[{x:0,y:0,w:8,h:5}],"🮅":[{x:0,y:0,w:8,h:6}],"🮆":[{x:0,y:0,w:8,h:7}],"🮇":[{x:6,y:0,w:2,h:8}],"🮈":[{x:5,y:0,w:3,h:8}],"🮉":[{x:3,y:0,w:5,h:8}],"🮊":[{x:2,y:0,w:6,h:8}],"🮋":[{x:1,y:0,w:7,h:8}],"🮕":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"🮖":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"🮗":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var xt={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};t.boxDrawingDefinitions={"─":(i={},i[1]="M0,.5 L1,.5",i),"━":(o={},o[3]="M0,.5 L1,.5",o),"│":(n={},n[1]="M.5,0 L.5,1",n),"┃":(s={},s[3]="M.5,0 L.5,1",s),"┌":(a={},a[1]="M0.5,1 L.5,.5 L1,.5",a),"┏":(l={},l[3]="M0.5,1 L.5,.5 L1,.5",l),"┐":(c={},c[1]="M0,.5 L.5,.5 L.5,1",c),"┓":(h={},h[3]="M0,.5 L.5,.5 L.5,1",h),"└":(u={},u[1]="M.5,0 L.5,.5 L1,.5",u),"┗":(d={},d[3]="M.5,0 L.5,.5 L1,.5",d),"┘":(f={},f[1]="M.5,0 L.5,.5 L0,.5",f),"┛":(p={},p[3]="M.5,0 L.5,.5 L0,.5",p),"├":(g={},g[1]="M.5,0 L.5,1 M.5,.5 L1,.5",g),"┣":(m={},m[3]="M.5,0 L.5,1 M.5,.5 L1,.5",m),"┤":(v={},v[1]="M.5,0 L.5,1 M.5,.5 L0,.5",v),"┫":(O={},O[3]="M.5,0 L.5,1 M.5,.5 L0,.5",O),"┬":(_={},_[1]="M0,.5 L1,.5 M.5,.5 L.5,1",_),"┳":(b={},b[3]="M0,.5 L1,.5 M.5,.5 L.5,1",b),"┴":(y={},y[1]="M0,.5 L1,.5 M.5,.5 L.5,0",y),"┻":(w={},w[3]="M0,.5 L1,.5 M.5,.5 L.5,0",w),"┼":(S={},S[1]="M0,.5 L1,.5 M.5,0 L.5,1",S),"╋":(k={},k[3]="M0,.5 L1,.5 M.5,0 L.5,1",k),"╴":(C={},C[1]="M.5,.5 L0,.5",C),"╸":(x={},x[3]="M.5,.5 L0,.5",x),"╵":(T={},T[1]="M.5,.5 L.5,0",T),"╹":(E={},E[3]="M.5,.5 L.5,0",E),"╶":(P={},P[1]="M.5,.5 L1,.5",P),"╺":(A={},A[3]="M.5,.5 L1,.5",A),"╷":(R={},R[1]="M.5,.5 L.5,1",R),"╻":(Q={},Q[3]="M.5,.5 L.5,1",Q),"═":(L={},L[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},L),"║":($={},$[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},$),"╒":(M={},M[1]=function(e,t){return"M.5,1 L.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},M),"╓":(D={},D[1]=function(e,t){return"M"+(.5-e)+",1 L"+(.5-e)+",.5 L1,.5 M"+(.5+e)+",.5 L"+(.5+e)+",1"},D),"╔":(j={},j[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},j),"╕":(B={},B[1]=function(e,t){return"M0,"+(.5-t)+" L.5,"+(.5-t)+" L.5,1 M0,"+(.5+t)+" L.5,"+(.5+t)},B),"╖":(I={},I[1]=function(e,t){return"M"+(.5+e)+",1 L"+(.5+e)+",.5 L0,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1"},I),"╗":(z={},z[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",1"},z),"╘":(W={},W[1]=function(e,t){return"M.5,0 L.5,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5-t)+" L1,"+(.5-t)},W),"╙":(F={},F[1]=function(e,t){return"M1,.5 L"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},F),"╚":(q={},q[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0 M1,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",0"},q),"╛":(G={},G[1]=function(e,t){return"M0,"+(.5+t)+" L.5,"+(.5+t)+" L.5,0 M0,"+(.5-t)+" L.5,"+(.5-t)},G),"╜":(U={},U[1]=function(e,t){return"M0,.5 L"+(.5+e)+",.5 L"+(.5+e)+",0 M"+(.5-e)+",.5 L"+(.5-e)+",0"},U),"╝":(H={},H[1]=function(e,t){return"M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M0,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",0"},H),"╞":(N={},N[1]=function(e,t){return"M.5,0 L.5,1 M.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},N),"╟":(X={},X[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1 M"+(.5+e)+",.5 L1,.5"},X),"╠":(Z={},Z[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},Z),"╡":(V={},V[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L.5,"+(.5-t)+" M0,"+(.5+t)+" L.5,"+(.5+t)},V),"╢":(Y={},Y[1]=function(e,t){return"M0,.5 L"+(.5-e)+",.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},Y),"╣":(K={},K[1]=function(e,t){return"M"+(.5+e)+",0 L"+(.5+e)+",1 M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0"},K),"╤":(J={},J[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5+t)+" L.5,1"},J),"╥":(ee={},ee[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1 M"+(.5+e)+",.5 L"+(.5+e)+",1"},ee),"╦":(te={},te[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},te),"╧":(re={},re[1]=function(e,t){return"M.5,0 L.5,"+(.5-t)+" M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},re),"╨":(ie={},ie[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},ie),"╩":(oe={},oe[1]=function(e,t){return"M0,"+(.5+t)+" L1,"+(.5+t)+" M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},oe),"╪":(ne={},ne[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},ne),"╫":(se={},se[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},se),"╬":(ae={},ae[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},ae),"╱":(le={},le[1]="M1,0 L0,1",le),"╲":(ce={},ce[1]="M0,0 L1,1",ce),"╳":(he={},he[1]="M1,0 L0,1 M0,0 L1,1",he),"╼":(ue={},ue[1]="M.5,.5 L0,.5",ue[3]="M.5,.5 L1,.5",ue),"╽":(de={},de[1]="M.5,.5 L.5,0",de[3]="M.5,.5 L.5,1",de),"╾":(fe={},fe[1]="M.5,.5 L1,.5",fe[3]="M.5,.5 L0,.5",fe),"╿":(pe={},pe[1]="M.5,.5 L.5,1",pe[3]="M.5,.5 L.5,0",pe),"┍":(ge={},ge[1]="M.5,.5 L.5,1",ge[3]="M.5,.5 L1,.5",ge),"┎":(me={},me[1]="M.5,.5 L1,.5",me[3]="M.5,.5 L.5,1",me),"┑":(ve={},ve[1]="M.5,.5 L.5,1",ve[3]="M.5,.5 L0,.5",ve),"┒":(Oe={},Oe[1]="M.5,.5 L0,.5",Oe[3]="M.5,.5 L.5,1",Oe),"┕":(_e={},_e[1]="M.5,.5 L.5,0",_e[3]="M.5,.5 L1,.5",_e),"┖":(be={},be[1]="M.5,.5 L1,.5",be[3]="M.5,.5 L.5,0",be),"┙":(ye={},ye[1]="M.5,.5 L.5,0",ye[3]="M.5,.5 L0,.5",ye),"┚":(we={},we[1]="M.5,.5 L0,.5",we[3]="M.5,.5 L.5,0",we),"┝":(Se={},Se[1]="M.5,0 L.5,1",Se[3]="M.5,.5 L1,.5",Se),"┞":(ke={},ke[1]="M0.5,1 L.5,.5 L1,.5",ke[3]="M.5,.5 L.5,0",ke),"┟":(Ce={},Ce[1]="M.5,0 L.5,.5 L1,.5",Ce[3]="M.5,.5 L.5,1",Ce),"┠":(xe={},xe[1]="M.5,.5 L1,.5",xe[3]="M.5,0 L.5,1",xe),"┡":(Te={},Te[1]="M.5,.5 L.5,1",Te[3]="M.5,0 L.5,.5 L1,.5",Te),"┢":(Ee={},Ee[1]="M.5,.5 L.5,0",Ee[3]="M0.5,1 L.5,.5 L1,.5",Ee),"┥":(Pe={},Pe[1]="M.5,0 L.5,1",Pe[3]="M.5,.5 L0,.5",Pe),"┦":(Ae={},Ae[1]="M0,.5 L.5,.5 L.5,1",Ae[3]="M.5,.5 L.5,0",Ae),"┧":(Re={},Re[1]="M.5,0 L.5,.5 L0,.5",Re[3]="M.5,.5 L.5,1",Re),"┨":(Qe={},Qe[1]="M.5,.5 L0,.5",Qe[3]="M.5,0 L.5,1",Qe),"┩":(Le={},Le[1]="M.5,.5 L.5,1",Le[3]="M.5,0 L.5,.5 L0,.5",Le),"┪":($e={},$e[1]="M.5,.5 L.5,0",$e[3]="M0,.5 L.5,.5 L.5,1",$e),"┭":(Me={},Me[1]="M0.5,1 L.5,.5 L1,.5",Me[3]="M.5,.5 L0,.5",Me),"┮":(De={},De[1]="M0,.5 L.5,.5 L.5,1",De[3]="M.5,.5 L1,.5",De),"┯":(je={},je[1]="M.5,.5 L.5,1",je[3]="M0,.5 L1,.5",je),"┰":(Be={},Be[1]="M0,.5 L1,.5",Be[3]="M.5,.5 L.5,1",Be),"┱":(Ie={},Ie[1]="M.5,.5 L1,.5",Ie[3]="M0,.5 L.5,.5 L.5,1",Ie),"┲":(ze={},ze[1]="M.5,.5 L0,.5",ze[3]="M0.5,1 L.5,.5 L1,.5",ze),"┵":(We={},We[1]="M.5,0 L.5,.5 L1,.5",We[3]="M.5,.5 L0,.5",We),"┶":(Fe={},Fe[1]="M.5,0 L.5,.5 L0,.5",Fe[3]="M.5,.5 L1,.5",Fe),"┷":(qe={},qe[1]="M.5,.5 L.5,0",qe[3]="M0,.5 L1,.5",qe),"┸":(Ge={},Ge[1]="M0,.5 L1,.5",Ge[3]="M.5,.5 L.5,0",Ge),"┹":(Ue={},Ue[1]="M.5,.5 L1,.5",Ue[3]="M.5,0 L.5,.5 L0,.5",Ue),"┺":(He={},He[1]="M.5,.5 L0,.5",He[3]="M.5,0 L.5,.5 L1,.5",He),"┽":(Ne={},Ne[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Ne[3]="M.5,.5 L0,.5",Ne),"┾":(Xe={},Xe[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Xe[3]="M.5,.5 L1,.5",Xe),"┿":(Ze={},Ze[1]="M.5,0 L.5,1",Ze[3]="M0,.5 L1,.5",Ze),"╀":(Ve={},Ve[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Ve[3]="M.5,.5 L.5,0",Ve),"╁":(Ye={},Ye[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Ye[3]="M.5,.5 L.5,1",Ye),"╂":(Ke={},Ke[1]="M0,.5 L1,.5",Ke[3]="M.5,0 L.5,1",Ke),"╃":(Je={},Je[1]="M0.5,1 L.5,.5 L1,.5",Je[3]="M.5,0 L.5,.5 L0,.5",Je),"╄":(et={},et[1]="M0,.5 L.5,.5 L.5,1",et[3]="M.5,0 L.5,.5 L1,.5",et),"╅":(tt={},tt[1]="M.5,0 L.5,.5 L1,.5",tt[3]="M0,.5 L.5,.5 L.5,1",tt),"╆":(rt={},rt[1]="M.5,0 L.5,.5 L0,.5",rt[3]="M0.5,1 L.5,.5 L1,.5",rt),"╇":(it={},it[1]="M.5,.5 L.5,1",it[3]="M.5,.5 L.5,0 M0,.5 L1,.5",it),"╈":(ot={},ot[1]="M.5,.5 L.5,0",ot[3]="M0,.5 L1,.5 M.5,.5 L.5,1",ot),"╉":(nt={},nt[1]="M.5,.5 L1,.5",nt[3]="M.5,0 L.5,1 M.5,.5 L0,.5",nt),"╊":(st={},st[1]="M.5,.5 L0,.5",st[3]="M.5,0 L.5,1 M.5,.5 L1,.5",st),"╌":(at={},at[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",at),"╍":(lt={},lt[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",lt),"┄":(ct={},ct[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ct),"┅":(ht={},ht[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ht),"┈":(ut={},ut[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ut),"┉":(dt={},dt[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",dt),"╎":(ft={},ft[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",ft),"╏":(pt={},pt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",pt),"┆":(gt={},gt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",gt),"┇":(mt={},mt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",mt),"┊":(vt={},vt[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",vt),"┋":(Ot={},Ot[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Ot),"╭":(_t={},_t[1]="C.5,1,.5,.5,1,.5",_t),"╮":(bt={},bt[1]="C.5,1,.5,.5,0,.5",bt),"╯":(yt={},yt[1]="C.5,0,.5,.5,0,.5",yt),"╰":(wt={},wt[1]="C.5,0,.5,.5,1,.5",wt)},t.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0},"":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"":{d:"M1,0 L0,.5 L1,1",type:0},"":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},t.tryDrawCustomChar=function(e,r,i,o,n,s){var a=t.blockElementDefinitions[r];if(a)return function(e,t,r,i,o,n){for(var s=0;s<t.length;s++){var a=t[s],l=o/8,c=n/8;e.fillRect(r+a.x*l,i+a.y*c,a.w*l,a.h*c)}}(e,a,i,o,n,s),!0;var l=xt[r];if(l)return function(e,t,r,i,o,n){var s,a=Tt.get(t);a||(a=new Map,Tt.set(t,a));var l=e.fillStyle;if("string"!=typeof l)throw new Error('Unexpected fillStyle type "'+l+'"');var c=a.get(l);if(!c){var h=t[0].length,u=t.length,d=document.createElement("canvas");d.width=h,d.height=u;var f=(0,Ct.throwIfFalsy)(d.getContext("2d")),p=new ImageData(h,u),g=void 0,m=void 0,v=void 0,O=void 0;if(l.startsWith("#"))g=parseInt(l.slice(1,3),16),m=parseInt(l.slice(3,5),16),v=parseInt(l.slice(5,7),16),O=l.length>7&&parseInt(l.slice(7,9),16)||1;else{if(!l.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+l+'" when drawing pattern glyph');g=(s=St(l.substring(5,l.length-1).split(",").map((function(e){return parseFloat(e)})),4))[0],m=s[1],v=s[2],O=s[3]}for(var _=0;_<u;_++)for(var b=0;b<h;b++)p.data[4*(_*h+b)]=g,p.data[4*(_*h+b)+1]=m,p.data[4*(_*h+b)+2]=v,p.data[4*(_*h+b)+3]=t[_][b]*(255*O);f.putImageData(p,0,0),c=(0,Ct.throwIfFalsy)(e.createPattern(d,null)),a.set(l,c)}e.fillStyle=c,e.fillRect(r,i,o,n)}(e,l,i,o,n,s),!0;var c=t.boxDrawingDefinitions[r];if(c)return function(e,t,r,i,o,n){var s,a,l,c;e.strokeStyle=e.fillStyle;try{for(var h=kt(Object.entries(t)),u=h.next();!u.done;u=h.next()){var d=St(u.value,2),f=d[0],p=d[1];e.beginPath(),e.lineWidth=window.devicePixelRatio*Number.parseInt(f);var g=void 0;g="function"==typeof p?p(.15,.15/n*o):p;try{for(var m=(l=void 0,kt(g.split(" "))),v=m.next();!v.done;v=m.next()){var O=v.value,_=O[0],b=Pt[_];if(b){var y=O.substring(1).split(",");y[0]&&y[1]&&b(e,At(y,o,n,r,i))}else console.error('Could not find drawing instructions for "'+_+'"')}}catch(e){l={error:e}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}e.stroke(),e.closePath()}}catch(e){s={error:e}}finally{try{u&&!u.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}}(e,c,i,o,n,s),!0;var h=t.powerlineDefinitions[r];return!!h&&(function(e,t,r,i,o,n){var s,a;e.beginPath(),e.lineWidth=window.devicePixelRatio;try{for(var l=kt(t.d.split(" ")),c=l.next();!c.done;c=l.next()){var h=c.value,u=h[0],d=Pt[u];if(d){var f=h.substring(1).split(",");f[0]&&f[1]&&d(e,At(f,o,n,r,i,t.horizontalPadding))}else console.error('Could not find drawing instructions for "'+u+'"')}}catch(e){s={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}1===t.type?(e.strokeStyle=e.fillStyle,e.stroke()):e.fill(),e.closePath()}(e,h,i,o,n,s),!0)};var Tt=new Map;function Et(e,t,r){return void 0===r&&(r=0),Math.max(Math.min(e,t),r)}var Pt={C:function(e,t){return e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},L:function(e,t){return e.lineTo(t[0],t[1])},M:function(e,t){return e.moveTo(t[0],t[1])}};function At(e,t,r,i,o,n){void 0===n&&(n=0);var s=e.map((function(e){return parseFloat(e)||parseInt(e)}));if(s.length<2)throw new Error("Too few arguments for instruction");for(var a=0;a<s.length;a+=2)s[a]*=t-2*n*window.devicePixelRatio,0!==s[a]&&(s[a]=Et(Math.round(s[a]+.5)-.5,t,0)),s[a]+=i+n*window.devicePixelRatio;for(var l=1;l<s.length;l+=2)s[l]*=r,0!==s[l]&&(s[l]=Et(Math.round(s[l]+.5)-.5,r,0)),s[l]+=o;return s}},3700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var r=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var r=0;r<e;r++){this.cache.length<=r&&this.cache.push([]);for(var i=this.cache[r].length;i<t;i++)this.cache[r].push(void 0);this.cache[r].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=r},5098:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var a=r(1546),l=r(8803),c=r(2040),h=r(2585),u=function(e){function t(t,r,i,o,n,s,a,l,c){var h=e.call(this,t,"link",r,!0,i,o,a,l,c)||this;return n.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),n.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),s.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),h}return o(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===l.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,c.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},n([s(6,h.IBufferService),s(7,h.IOptionsService),s(8,h.IDecorationService)],t)}(a.BaseRenderLayer);t.LinkRenderLayer=u},3525:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var l=r(9596),c=r(4149),h=r(2512),u=r(5098),d=r(844),f=r(4725),p=r(2585),g=r(1420),m=r(8460),v=1,O=function(e){function t(t,r,i,o,n,s,a,d){var f=e.call(this)||this;f._colors=t,f._screenElement=r,f._bufferService=s,f._charSizeService=a,f._optionsService=d,f._id=v++,f._onRequestRedraw=new m.EventEmitter;var p=f._optionsService.rawOptions.allowTransparency;return f._renderLayers=[n.createInstance(l.TextRenderLayer,f._screenElement,0,f._colors,p,f._id),n.createInstance(c.SelectionRenderLayer,f._screenElement,1,f._colors,f._id),n.createInstance(u.LinkRenderLayer,f._screenElement,2,f._colors,f._id,i,o),n.createInstance(h.CursorRenderLayer,f._screenElement,3,f._colors,f._id,f._onRequestRedraw)],f.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},f._devicePixelRatio=window.devicePixelRatio,f._updateDimensions(),f.onOptionsChanged(),f}return o(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,r;try{for(var i=a(this._renderLayers),o=i.next();!o.done;o=i.next())o.value.dispose()}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.prototype.dispose.call(this),(0,g.removeTerminalFromCache)(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t,r;this._colors=e;try{for(var i=a(this._renderLayers),o=i.next();!o.done;o=i.next()){var n=o.value;n.setColors(this._colors),n.reset()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.onResize=function(e,t){var r,i;this._updateDimensions();try{for(var o=a(this._renderLayers),n=o.next();!n.done;n=o.next())n.value.resize(this.dimensions)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._runOperation((function(i){return i.onSelectionChanged(e,t,r)})),this._colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){var t,r;try{for(var i=a(this._renderLayers),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.renderRows=function(e,t){var r,i;try{for(var o=a(this._renderLayers),n=o.next();!n.done;n=o.next())n.value.onGridChanged(e,t)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.clearTextureAtlas=function(){var e,t;try{for(var r=a(this._renderLayers),i=r.next();!i.done;i=r.next())i.value.clearTextureAtlas()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},n([s(4,p.IInstantiationService),s(5,p.IBufferService),s(6,f.ICharSizeService),s(7,p.IOptionsService)],t)}(d.Disposable);t.Renderer=O},1752:(e,t)=>{function r(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.excludeFromContrastRatioDemands=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=r,t.excludeFromContrastRatioDemands=function(e){return r(e)||function(e){return 9472<=e&&e<=9631}(e)}},4149:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var a=r(1546),l=r(2585),c=function(e){function t(t,r,i,o,n,s,a){var l=e.call(this,t,"selection",r,!0,i,o,n,s,a)||this;return l._clearState(),l}return o(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(t,r,i){if(e.prototype.onSelectionChanged.call(this,t,r,i),this._didStateChange(t,r,i,this._bufferService.buffer.ydisp))if(this._clearAll(),t&&r){var o=t[1]-this._bufferService.buffer.ydisp,n=r[1]-this._bufferService.buffer.ydisp,s=Math.max(o,0),a=Math.min(n,this._bufferService.rows-1);if(s>=this._bufferService.rows||a<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,i){var l=t[0],c=r[0]-l,h=a-s+1;this._fillCells(l,s,c,h)}else{l=o===s?t[0]:0;var u=s===n?r[0]:this._bufferService.cols;this._fillCells(l,s,u-l,1);var d=Math.max(a-s-1,0);if(this._fillCells(0,s+1,this._bufferService.cols,d),s!==a){var f=n===a?r[0]:this._bufferService.cols;this._fillCells(0,a,f,1)}}this._state.start=[t[0],t[1]],this._state.end=[r[0],r[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,r,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||r!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},n([s(4,l.IBufferService),s(5,l.IOptionsService),s(6,l.IDecorationService)],t)}(a.BaseRenderLayer);t.SelectionRenderLayer=c},9596:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var l=r(3700),c=r(1546),h=r(3734),u=r(643),d=r(511),f=r(2585),p=r(4725),g=r(4269),m=function(e){function t(t,r,i,o,n,s,a,c,h){var u=e.call(this,t,"text",r,o,i,n,s,a,h)||this;return u._characterJoinerService=c,u._characterWidth=0,u._characterFont="",u._characterOverlapCache={},u._workCell=new d.CellData,u._state=new l.GridCache,u}return o(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var r=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===r||(this._characterWidth=t.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,r){for(var i=e;i<=t;i++)for(var o=i+this._bufferService.buffer.ydisp,n=this._bufferService.buffer.lines.get(o),s=this._characterJoinerService.getJoinedCharacters(o),a=0;a<this._bufferService.cols;a++){n.loadCell(a,this._workCell);var l=this._workCell,c=!1,h=a;if(0!==l.getWidth()){if(s.length>0&&a===s[0][0]){c=!0;var d=s.shift();l=new g.JoinedCellData(this._workCell,n.translateToString(!0,d[0],d[1]),d[1]-d[0]),h=d[1]-1}!c&&this._isOverlapping(l)&&h<n.length-1&&n.getCodePoint(h+1)===u.NULL_CELL_CODE&&(l.content&=-12582913,l.content|=2<<22),r(l,a,i),a=h}}},t.prototype._drawBackground=function(e,t){var r=this,i=this._ctx,o=this._bufferService.cols,n=0,s=0,l=null;i.save(),this._forEachCell(e,t,(function(e,t,c){var u,d,f=null;e.isInverse()?f=e.isFgDefault()?r._colors.foreground.css:e.isFgRGB()?"rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":r._colors.ansi[e.getFgColor()].css:e.isBgRGB()?f="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(f=r._colors.ansi[e.getBgColor()].css);var p=!1;try{for(var g=a(r._decorationService.getDecorationsAtCell(t,r._bufferService.buffer.ydisp+c)),m=g.next();!m.done;m=g.next()){var v=m.value;"top"!==v.options.layer&&p||(v.backgroundColorRGB&&(f=v.backgroundColorRGB.css),p="top"===v.options.layer)}}catch(e){u={error:e}}finally{try{m&&!m.done&&(d=g.return)&&d.call(g)}finally{if(u)throw u.error}}null===l&&(n=t,s=c),c!==s?(i.fillStyle=l||"",r._fillCells(n,s,o-n,1),n=t,s=c):l!==f&&(i.fillStyle=l||"",r._fillCells(n,s,t-n,1),n=t,s=c),l=f})),null!==l&&(i.fillStyle=l,this._fillCells(n,s,o-n,1)),i.restore()},t.prototype._drawForeground=function(e,t){var r=this;this._forEachCell(e,t,(function(e,t,i){if(!e.isInvisible()&&(r._drawChars(e,t,i),e.isUnderline()||e.isStrikethrough())){if(r._ctx.save(),e.isInverse())if(e.isBgDefault())r._ctx.fillStyle=r._colors.background.css;else if(e.isBgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),r._ctx.fillStyle=r._colors.ansi[o].css}else if(e.isFgDefault())r._ctx.fillStyle=r._colors.foreground.css;else if(e.isFgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var n=e.getFgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),r._ctx.fillStyle=r._colors.ansi[n].css}e.isStrikethrough()&&r._fillMiddleLineAtCells(t,i,e.getWidth()),e.isUnderline()&&r._fillBottomLineAtCells(t,i,e.getWidth()),r._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var r=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=r,r},n([s(5,f.IBufferService),s(6,f.IOptionsService),s(7,p.ICharacterJoinerService),s(8,f.IDecorationService)],t)}(c.BaseRenderLayer);t.TextRenderLayer=m},9616:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var r=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.clear=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=r},1420:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var i=r(2040),o=r(1906),n=[];t.acquireCharAtlas=function(e,t,r,s,a){for(var l=(0,i.generateConfig)(s,a,e,r),c=0;c<n.length;c++){var h=(u=n[c]).ownedBy.indexOf(t);if(h>=0){if((0,i.configEquals)(u.config,l))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),n.splice(c,1)):u.ownedBy.splice(h,1);break}}for(c=0;c<n.length;c++){var u=n[c];if((0,i.configEquals)(u.config,l))return u.ownedBy.push(t),u.atlas}var d={atlas:new o.DynamicCharAtlas(document,l),config:l,ownedBy:[t]};return n.push(d),d.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<n.length;t++){var r=n[t].ownedBy.indexOf(e);if(-1!==r){1===n[t].ownedBy.length?(n[t].atlas.dispose(),n.splice(t,1)):n[t].ownedBy.splice(r,1);break}}}},2040:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var i=r(643);t.generateConfig=function(e,t,r,i){var o={foreground:i.foreground,background:i.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:i.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontWeightBold:r.fontWeightBold,allowTransparency:r.allowTransparency,colors:o}},t.configEquals=function(e,t){for(var r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<i.DEFAULT_COLOR}},8803:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;var i=r(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic",t.CHAR_ATLAS_CELL_SPACING=1},1906:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var n=r(8803),s=r(9616),a=r(5680),l=r(7001),c=r(6114),h=r(1752),u=r(8055),d=1024,f=1024,p={css:"rgba(0, 0, 0, 0)",rgba:0};function g(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=g;var m=function(e){function t(t,r){var i=e.call(this)||this;i._config=r,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=d,i._cacheCanvas.height=f,i._cacheCtx=(0,h.throwIfFalsy)(i._cacheCanvas.getContext("2d",{alpha:!0}));var o=t.createElement("canvas");o.width=i._config.scaledCharWidth,o.height=i._config.scaledCharHeight,i._tmpCtx=(0,h.throwIfFalsy)(o.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(d/i._config.scaledCharWidth),i._height=Math.floor(f/i._config.scaledCharHeight);var n=i._width*i._height;return i._cacheMap=new l.LRUMap(n),i._cacheMap.prealloc(n),i}return o(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.clear=function(){if(this._cacheMap.size>0){var e=this._width*this._height;this._cacheMap=new l.LRUMap(e),this._cacheMap.prealloc(e)}this._cacheCtx.clearRect(0,0,d,f),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},t.prototype.draw=function(e,t,r,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var o=g(t),n=this._cacheMap.get(o);if(null!=n)return this._drawFromCache(e,n,r,i),!0;if(this._drawToCacheCount<100){var s;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(o,a),this._drawFromCache(e,a,r,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,r,i){if(!t.isEmpty){var o=this._toCoordinateX(t.index),n=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,o,n,this._config.scaledCharWidth,this._config.scaledCharHeight,r,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?p:e.bg===n.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===n.INVERTED_DEFAULT_COLOR?u.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var r=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=r.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,o=e.italic?"italic":"";this._tmpCtx.font=o+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=n.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=n.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight);var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;if(this._config.allowTransparency||(a=O(s,r)),a&&"_"===e.chars&&!this._config.allowTransparency)for(var l=1;l<=5&&(this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight-l),a=O(s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),r));l++);this._tmpCtx.restore();var c=this._toCoordinateX(t),h=this._toCoordinateY(t);this._cacheCtx.putImageData(s,c,h);var u={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(u),u},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||c.isFirefox||c.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(r){e._bitmap=r;for(var i=0;i<t.length;i++)t[i].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=m;var v=function(e){function t(t,r){return e.call(this)||this}return o(t,e),t.prototype.draw=function(e,t,r,i){return!1},t}(s.BaseCharAtlas);function O(e,t){for(var r=!0,i=t.rgba>>>24,o=t.rgba>>>16&255,n=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===i&&e.data[s+1]===o&&e.data[s+2]===n?e.data[s+3]=0:r=!1;return r}t.NoneCharAtlas=v},7001:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var r=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,r=e.next;e===this._head&&(this._head=r),e===this._tail&&(this._tail=t),null!==t&&(t.next=r),null!==r&&(r.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,r=0;r<e;r++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var r=this._map[e];if(void 0!==r)r=this._map[e],this._unlinkNode(r),r.value=t;else if(this.size>=this.capacity)r=this._head,this._unlinkNode(r),delete this._map[r.key],r.key=e,r.value=t,this._map[e]=r;else{var i=this._nodePool;i.length>0?((r=i.pop()).key=e,r.value=t):r={prev:null,next:null,key:e,value:t},this._map[e]=r,this.size++}this._appendNode(r)},e}();t.LRUMap=r},1296:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var l=r(3787),c=r(8803),h=r(844),u=r(4725),d=r(2585),f=r(8460),p=r(8055),g=r(9631),m="xterm-dom-renderer-owner-",v="xterm-fg-",O="xterm-bg-",_="xterm-focus",b=1,y=function(e){function t(t,r,i,o,n,s,a,c,h,u){var d=e.call(this)||this;return d._colors=t,d._element=r,d._screenElement=i,d._viewportElement=o,d._linkifier=n,d._linkifier2=s,d._charSizeService=c,d._optionsService=h,d._bufferService=u,d._terminalClass=b++,d._rowElements=[],d._rowContainer=document.createElement("div"),d._rowContainer.classList.add("xterm-rows"),d._rowContainer.style.lineHeight="normal",d._rowContainer.setAttribute("aria-hidden","true"),d._refreshRowElements(d._bufferService.cols,d._bufferService.rows),d._selectionContainer=document.createElement("div"),d._selectionContainer.classList.add("xterm-selection"),d._selectionContainer.setAttribute("aria-hidden","true"),d.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},d._updateDimensions(),d._injectCss(),d._rowFactory=a.createInstance(l.DomRendererRowFactory,document,d._colors),d._element.classList.add(m+d._terminalClass),d._screenElement.appendChild(d._rowContainer),d._screenElement.appendChild(d._selectionContainer),d.register(d._linkifier.onShowLinkUnderline((function(e){return d._onLinkHover(e)}))),d.register(d._linkifier.onHideLinkUnderline((function(e){return d._onLinkLeave(e)}))),d.register(d._linkifier2.onShowLinkUnderline((function(e){return d._onLinkHover(e)}))),d.register(d._linkifier2.onHideLinkUnderline((function(e){return d._onLinkLeave(e)}))),d}return o(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new f.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove(m+this._terminalClass),(0,g.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e,t;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next()){var o=i.value;o.style.width=this.dimensions.canvasWidth+"px",o.style.height=this.dimensions.actualCellHeight+"px",o.style.lineHeight=this.dimensions.actualCellHeight+"px",o.style.overflow="hidden"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var n=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=n,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+l.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+l.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+l.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_BLINK_CLASS+":not(."+l.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_BLINK_CLASS+"."+l.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionOpaque.css+";}",this._colors.ansi.forEach((function(r,i){t+=e._terminalSelector+" ."+v+i+" { color: "+r.css+"; }"+e._terminalSelector+" ."+O+i+" { background-color: "+r.css+"; }"})),t+=this._terminalSelector+" ."+v+c.INVERTED_DEFAULT_COLOR+" { color: "+p.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+O+c.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var r=this._rowElements.length;r<=t;r++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove(_)},t.prototype.onFocus=function(){this._rowContainer.classList.add(_)},t.prototype.onSelectionChanged=function(e,t,r){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,o=t[1]-this._bufferService.buffer.ydisp,n=Math.max(i,0),s=Math.min(o,this._bufferService.rows-1);if(!(n>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(r){var l=e[0]>t[0];a.appendChild(this._createSelectionElement(n,l?t[0]:e[0],l?e[0]:t[0],s-n+1))}else{var c=i===n?e[0]:0,h=n===o?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(n,c,h));var u=s-n-1;if(a.appendChild(this._createSelectionElement(n+1,0,this._bufferService.cols,u)),n!==s){var d=o===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,d))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,r,i){void 0===i&&(i=1);var o=document.createElement("div");return o.style.height=i*this.dimensions.actualCellHeight+"px",o.style.top=e*this.dimensions.actualCellHeight+"px",o.style.left=t*this.dimensions.actualCellWidth+"px",o.style.width=this.dimensions.actualCellWidth*(r-t)+"px",o},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){var e,t;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next())i.value.innerText=""}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.renderRows=function(e,t){for(var r=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._optionsService.rawOptions.cursorBlink,n=e;n<=t;n++){var s=this._rowElements[n];s.innerText="";var a=n+this._bufferService.buffer.ydisp,l=this._bufferService.buffer.lines.get(a),c=this._optionsService.rawOptions.cursorStyle;s.appendChild(this._rowFactory.createRow(l,a,a===r,c,i,o,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return"."+m+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,r,i,o,n){for(;e!==t||r!==i;){var s=this._rowElements[r];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=n?"underline":"none"),++e>=o&&(e=0,r++)}},n([s(6,d.IInstantiationService),s(7,u.ICharSizeService),s(8,d.IOptionsService),s(9,d.IBufferService)],t)}(h.Disposable);t.DomRenderer=y},3787:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.STRIKETHROUGH_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var s=r(8803),a=r(643),l=r(511),c=r(2585),h=r(8055),u=r(4725),d=r(4269),f=r(1752);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.STRIKETHROUGH_CLASS="xterm-strikethrough",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var p=function(){function e(e,t,r,i,o,n){this._document=e,this._colors=t,this._characterJoinerService=r,this._optionsService=i,this._coreService=o,this._decorationService=n,this._workCell=new l.CellData,this._columnSelectMode=!1}return e.prototype.setColors=function(e){this._colors=e},e.prototype.onSelectionChanged=function(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.createRow=function(e,r,i,o,l,c,u,f){for(var p,m,v=this._document.createDocumentFragment(),O=this._characterJoinerService.getJoinedCharacters(r),_=0,b=Math.min(e.length,f)-1;b>=0;b--)if(e.loadCell(b,this._workCell).getCode()!==a.NULL_CELL_CODE||i&&b===l){_=b+1;break}for(b=0;b<_;b++){e.loadCell(b,this._workCell);var y=this._workCell.getWidth();if(0!==y){var w=!1,S=b,k=this._workCell;if(O.length>0&&b===O[0][0]){w=!0;var C=O.shift();k=new d.JoinedCellData(this._workCell,e.translateToString(!0,C[0],C[1]),C[1]-C[0]),S=C[1]-1,y=k.getWidth()}var x=this._document.createElement("span");if(y>1&&(x.style.width=u*y+"px"),w&&(x.style.display="inline",l>=b&&l<=S&&(l=b)),!this._coreService.isCursorHidden&&i&&b===l)switch(x.classList.add(t.CURSOR_CLASS),c&&x.classList.add(t.CURSOR_BLINK_CLASS),o){case"bar":x.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":x.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:x.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}k.isBold()&&x.classList.add(t.BOLD_CLASS),k.isItalic()&&x.classList.add(t.ITALIC_CLASS),k.isDim()&&x.classList.add(t.DIM_CLASS),k.isUnderline()&&x.classList.add(t.UNDERLINE_CLASS),k.isInvisible()?x.textContent=a.WHITESPACE_CELL_CHAR:x.textContent=k.getChars()||a.WHITESPACE_CELL_CHAR,k.isStrikethrough()&&x.classList.add(t.STRIKETHROUGH_CLASS);var T=k.getFgColor(),E=k.getFgColorMode(),P=k.getBgColor(),A=k.getBgColorMode(),R=!!k.isInverse();if(R){var Q=T;T=P,P=Q;var L=E;E=A,A=L}var $=void 0,M=void 0,D=!1;try{for(var j=(p=void 0,n(this._decorationService.getDecorationsAtCell(b,r))),B=j.next();!B.done;B=j.next()){var I=B.value;"top"!==I.options.layer&&D||(I.backgroundColorRGB&&(A=50331648,P=I.backgroundColorRGB.rgba>>8&16777215,$=I.backgroundColorRGB),I.foregroundColorRGB&&(E=50331648,T=I.foregroundColorRGB.rgba>>8&16777215,M=I.foregroundColorRGB),D="top"===I.options.layer)}}catch(e){p={error:e}}finally{try{B&&!B.done&&(m=j.return)&&m.call(j)}finally{if(p)throw p.error}}var z=this._isCellInSelection(b,r);D||this._colors.selectionForeground&&z&&(E=50331648,T=this._colors.selectionForeground.rgba>>8&16777215,M=this._colors.selectionForeground),z&&($=this._colors.selectionOpaque,D=!0),D&&x.classList.add("xterm-decoration-top");var W=void 0;switch(A){case 16777216:case 33554432:W=this._colors.ansi[P],x.classList.add("xterm-bg-"+P);break;case 50331648:W=h.rgba.toColor(P>>16,P>>8&255,255&P),this._addStyle(x,"background-color:#"+g((P>>>0).toString(16),"0",6));break;default:R?(W=this._colors.foreground,x.classList.add("xterm-bg-"+s.INVERTED_DEFAULT_COLOR)):W=this._colors.background}switch(E){case 16777216:case 33554432:k.isBold()&&T<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(T+=8),this._applyMinimumContrast(x,W,this._colors.ansi[T],k,$,void 0)||x.classList.add("xterm-fg-"+T);break;case 50331648:var F=h.rgba.toColor(T>>16&255,T>>8&255,255&T);this._applyMinimumContrast(x,W,F,k,$,M)||this._addStyle(x,"color:#"+g(T.toString(16),"0",6));break;default:this._applyMinimumContrast(x,W,this._colors.foreground,k,$,void 0)||R&&x.classList.add("xterm-fg-"+s.INVERTED_DEFAULT_COLOR)}v.appendChild(x),b=S}}return v},e.prototype._applyMinimumContrast=function(e,t,r,i,o,n){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,f.excludeFromContrastRatioDemands)(i.getCode()))return!1;var s=void 0;return o||n||(s=this._colors.contrastCache.getColor(t.rgba,r.rgba)),void 0===s&&(s=h.color.ensureContrastRatio(o||t,n||r,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((o||t).rgba,(n||r).rgba,null!=s?s:null)),!!s&&(this._addStyle(e,"color:"+s.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},i([o(2,u.ICharacterJoinerService),o(3,c.IOptionsService),o(4,c.ICoreService),o(5,c.IDecorationService)],e)}();function g(e,t,r){for(;e.length<r;)e=t+e;return e}t.DomRendererRowFactory=p},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var r=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:void 0;var e},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=r},428:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var n=r(2585),s=r(8460),a=function(){function e(e,t,r){this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new l(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},i([o(2,n.IOptionsService)],e)}();t.CharSizeService=a;var l=function(){function e(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},4269:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;var a=r(3734),l=r(643),c=r(511),h=r(2585),u=function(e){function t(t,r,i){var o=e.call(this)||this;return o.content=0,o.combinedData="",o.fg=t.fg,o.bg=t.bg,o.combinedData=r,o._width=i,o}return o(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.JoinedCellData=u;var d=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new c.CellData}return e.prototype.register=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregister=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var r=[],i=t.translateToString(!0),o=0,n=0,s=0,a=t.getFg(0),c=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==a||this._workCell.bg!==c){if(h-o>1)for(var u=this._getJoinedRanges(i,s,n,t,o),d=0;d<u.length;d++)r.push(u[d]);o=h,s=n,a=this._workCell.fg,c=this._workCell.bg}n+=this._workCell.getChars().length||l.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-o>1)for(u=this._getJoinedRanges(i,s,n,t,o),d=0;d<u.length;d++)r.push(u[d]);return r},e.prototype._getJoinedRanges=function(t,r,i,o,n){var s=t.substring(r,i),a=[];try{a=this._characterJoiners[0].handler(s)}catch(e){console.error(e)}for(var l=1;l<this._characterJoiners.length;l++)try{for(var c=this._characterJoiners[l].handler(s),h=0;h<c.length;h++)e._mergeRanges(a,c[h])}catch(e){console.error(e)}return this._stringRangesToCellRanges(a,o,n),a},e.prototype._stringRangesToCellRanges=function(e,t,r){var i=0,o=!1,n=0,s=e[i];if(s){for(var a=r;a<this._bufferService.cols;a++){var c=t.getWidth(a),h=t.getString(a).length||l.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!o&&s[0]<=n&&(s[0]=a,o=!0),s[1]<=n){if(s[1]=a,!(s=e[++i]))break;s[0]<=n?(s[0]=a,o=!0):o=!1}n+=h}}s&&(s[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var r=!1,i=0;i<e.length;i++){var o=e[i];if(r){if(t[1]<=o[0])return e[i-1][1]=t[1],e;if(t[1]<=o[1])return e[i-1][1]=Math.max(t[1],o[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=o[0])return e.splice(i,0,t),e;if(t[1]<=o[1])return o[0]=Math.min(t[0],o[0]),e;t[0]<o[1]&&(o[0]=Math.min(t[0],o[0]),r=!0)}}return r?e[e.length-1][1]=t[1]:e.push(t),e},e=n([s(0,h.IBufferService)],e)}();t.CharacterJoinerService=d},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var r=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=r},8934:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var n=r(4725),s=r(9806),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,r,i,o){return(0,s.getCoords)(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,o)},e.prototype.getRawByteCoords=function(e,t,r,i){var o=this.getCoords(e,t,r,i);return(0,s.getRawByteCoords)(o)},i([o(0,n.IRenderService),o(1,n.ICharSizeService)],e)}();t.MouseService=a},3230:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=r(6193),l=r(8460),c=r(844),h=r(5596),u=r(3656),d=r(2585),f=r(4725),p=function(e){function t(t,r,i,o,n,s,c){var d=e.call(this)||this;if(d._renderer=t,d._rowCount=r,d._charSizeService=n,d._isPaused=!1,d._needsFullRefresh=!1,d._isNextRenderRedrawOnly=!0,d._needsSelectionRefresh=!1,d._canvasWidth=0,d._canvasHeight=0,d._selectionState={start:void 0,end:void 0,columnSelectMode:!1},d._onDimensionsChange=new l.EventEmitter,d._onRenderedViewportChange=new l.EventEmitter,d._onRender=new l.EventEmitter,d._onRefreshRequest=new l.EventEmitter,d.register({dispose:function(){return d._renderer.dispose()}}),d._renderDebouncer=new a.RenderDebouncer((function(e,t){return d._renderRows(e,t)})),d.register(d._renderDebouncer),d._screenDprMonitor=new h.ScreenDprMonitor,d._screenDprMonitor.setListener((function(){return d.onDevicePixelRatioChange()})),d.register(d._screenDprMonitor),d.register(c.onResize((function(){return d._fullRefresh()}))),d.register(c.buffers.onBufferActivate((function(){var e;return null===(e=d._renderer)||void 0===e?void 0:e.clear()}))),d.register(o.onOptionChange((function(){return d._handleOptionsChanged()}))),d.register(d._charSizeService.onCharSizeChange((function(){return d.onCharSizeChanged()}))),d.register(s.onDecorationRegistered((function(){return d._fullRefresh()}))),d.register(s.onDecorationRemoved((function(){return d._fullRefresh()}))),d._renderer.onRequestRedraw((function(e){return d.refreshRows(e.start,e.end,!0)})),d.register((0,u.addDisposableDomListener)(window,"resize",(function(){return d.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var f=new IntersectionObserver((function(e){return d._onIntersectionChange(e[e.length-1])}),{threshold:0});f.observe(i),d.register({dispose:function(){return f.disconnect()}})}return d}return o(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedViewportChange",{get:function(){return this._onRenderedViewportChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,r){void 0===r&&(r=!1),this._isPaused?this._needsFullRefresh=!0:(r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype._handleOptionsChanged=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype.addRefreshCallback=function(e){return this._renderDebouncer.addRefreshCallback(e)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.clearTextureAtlas=function(){var e,t;null===(t=null===(e=this._renderer)||void 0===e?void 0:e.clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh()},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,r){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,this._renderer.onSelectionChanged(e,t,r)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},n([s(3,d.IOptionsService),s(4,f.ICharSizeService),s(5,d.IDecorationService),s(6,d.IBufferService)],t)}(c.Disposable);t.RenderService=p},9312:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=r(6114),l=r(456),c=r(511),h=r(8460),u=r(4725),d=r(2585),f=r(9806),p=r(9504),g=r(844),m=r(4841),v=String.fromCharCode(160),O=new RegExp(v,"g"),_=function(e){function t(t,r,i,o,n,s,a,u){var d=e.call(this)||this;return d._element=t,d._screenElement=r,d._linkifier=i,d._bufferService=o,d._coreService=n,d._mouseService=s,d._optionsService=a,d._renderService=u,d._dragScrollAmount=0,d._enabled=!0,d._workCell=new c.CellData,d._mouseDownTimeStamp=0,d._oldHasSelection=!1,d._oldSelectionStart=void 0,d._oldSelectionEnd=void 0,d._onLinuxMouseSelection=d.register(new h.EventEmitter),d._onRedrawRequest=d.register(new h.EventEmitter),d._onSelectionChange=d.register(new h.EventEmitter),d._onRequestScrollLines=d.register(new h.EventEmitter),d._mouseMoveListener=function(e){return d._onMouseMove(e)},d._mouseUpListener=function(e){return d._onMouseUp(e)},d._coreService.onUserInput((function(){d.hasSelection&&d.clearSelection()})),d._trimListener=d._bufferService.buffer.lines.onTrim((function(e){return d._onTrim(e)})),d.register(d._bufferService.buffers.onBufferActivate((function(e){return d._onBufferActivate(e)}))),d.enable(),d._model=new l.SelectionModel(d._bufferService),d._activeSelectionMode=0,d}return o(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var r=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var o=e[0]<t[0]?e[0]:t[0],n=e[0]<t[0]?t[0]:e[0],s=e[1];s<=t[1];s++){var l=r.translateBufferLineToString(s,!0,o,n);i.push(l)}}else{var c=e[1]===t[1]?t[0]:void 0;for(i.push(r.translateBufferLineToString(e[1],!0,e[0],c)),s=e[1]+1;s<=t[1]-1;s++){var h=r.lines.get(s);l=r.translateBufferLineToString(s,!0),(null==h?void 0:h.isWrapped)?i[i.length-1]+=l:i.push(l)}e[1]!==t[1]&&(h=r.lines.get(t[1]),l=r.translateBufferLineToString(t[1],!0,0,t[0]),h&&h.isWrapped?i[i.length-1]+=l:i.push(l))}return i.map((function(e){return e.replace(O," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype._isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(r&&i&&t)&&this._areCoordsInSelection(t,r,i)},t.prototype.isCellInSelection=function(e,t){var r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!(!r||!i)&&this._areCoordsInSelection([e,t],r,i)},t.prototype._areCoordsInSelection=function(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype._selectWordAtCursor=function(e,t){var r,i,o=null===(i=null===(r=this._linkifier.currentLink)||void 0===r?void 0:r.link)||void 0===i?void 0:i.range;if(o)return this._model.selectionStart=[o.start.x-1,o.start.y-1],this._model.selectionStartLength=(0,m.getRangeLength)(o,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var n=this._getMouseBufferCoords(e);return!!n&&(this._selectWordAt(n,t),this._model.selectionEnd=void 0,!0)},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=(0,f.getCoordsRelativeToElement)(window,e,this._screenElement)[1],r=this._renderService.dimensions.canvasHeight;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){var i=r.lines.get(this._model.selectionEnd[1]);i&&0===i.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&void 0!==r[0]&&void 0!==r[1]){var i=(0,p.moveToCellSequence)(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this._fireEventIfSelectionChanged()},t.prototype._fireEventIfSelectionChanged=function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);r?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,r)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,r)},t.prototype._fireOnSelectionChange=function(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var r=t[0],i=0;t[0]>=i;i++){var o=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?r--:o>1&&t[0]!==i&&(r+=o-1)}return r},t.prototype.setSelection=function(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()},t.prototype.rightClickSelect=function(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},t.prototype._getWordAt=function(e,t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),!(e[0]>=this._bufferService.cols)){var o=this._bufferService.buffer,n=o.lines.get(e[1]);if(n){var s=o.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(n,e),l=a,c=e[0]-a,h=0,u=0,d=0,f=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;l<s.length&&" "===s.charAt(l+1);)l++}else{var p=e[0],g=e[0];0===n.getWidth(p)&&(h++,p--),2===n.getWidth(g)&&(u++,g++);var m=n.getString(g).length;for(m>1&&(f+=m-1,l+=m-1);p>0&&a>0&&!this._isCharWordSeparator(n.loadCell(p-1,this._workCell));){n.loadCell(p-1,this._workCell);var v=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,p--):v>1&&(d+=v-1,a-=v-1),a--,p--}for(;g<n.length&&l+1<s.length&&!this._isCharWordSeparator(n.loadCell(g+1,this._workCell));){n.loadCell(g+1,this._workCell);var O=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,g++):O>1&&(f+=O-1,l+=O-1),l++,g++}}l++;var _=a+c-h+d,b=Math.min(this._bufferService.cols,l-a+h+u-d-f);if(t||""!==s.slice(a,l).trim()){if(r&&0===_&&32!==n.getCodePoint(0)){var y=o.lines.get(e[1]-1);if(y&&n.isWrapped&&32!==y.getCodePoint(this._bufferService.cols-1)){var w=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(w){var S=this._bufferService.cols-w.start;_-=S,b+=S}}}if(i&&_+b===this._bufferService.cols&&32!==n.getCodePoint(this._bufferService.cols-1)){var k=o.lines.get(e[1]+1);if((null==k?void 0:k.isWrapped)&&32!==k.getCodePoint(0)){var C=this._getWordAt([0,e[1]+1],!1,!1,!0);C&&(b+=C.length)}}return{start:_,length:b}}}}},t.prototype._selectWordAt=function(e,t){var r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var r=e[1];t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,m.getRangeLength)(r,this._bufferService.cols)},n([s(3,d.IBufferService),s(4,d.ICoreService),s(5,u.IMouseService),s(6,d.IOptionsService),s(7,u.IRenderService)],t)}(g.Disposable);t.SelectionService=_},4725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICharacterJoinerService=t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var i=r(8343);t.ICharSizeService=(0,i.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,i.createDecorator)("CoreBrowserService"),t.IMouseService=(0,i.createDecorator)("MouseService"),t.IRenderService=(0,i.createDecorator)("RenderService"),t.ISelectionService=(0,i.createDecorator)("SelectionService"),t.ISoundService=(0,i.createDecorator)("SoundService"),t.ICharacterJoinerService=(0,i.createDecorator)("CharacterJoinerService")},357:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var n=r(2585),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var r=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),(function(e){r.buffer=e,r.connect(t.destination),r.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=i([o(0,n.IOptionsService)],e)}();t.SoundService=s},6349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var i=r(8460),o=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new i.EventEmitter,this.onInsertEmitter=new i.EventEmitter,this.onTrimEmitter=new i.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t){for(var o=e;o<this._length-t;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(o=this._length-1;o>=e;o--)this._array[this._getCyclicIndex(o+r.length)]=this._array[this._getCyclicIndex(o)];for(o=0;o<r.length;o++)this._array[this._getCyclicIndex(e+o)]=r[o];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){var n=this._length+r.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=r.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(var i=t-1;i>=0;i--)this.set(e+i+r,this.get(e+i));var o=e+t+r-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=o},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,r){if(void 0===r&&(r=5),"object"!=typeof t)return t;var i=Array.isArray(t)?[]:{};for(var o in t)i[o]=r<=1?t[o]:t[o]&&e(t[o],r-1);return i}},8055:function(e,t){var r,i,o,n,s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function l(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,r,i){return void 0!==i?"#"+a(e)+a(t)+a(r)+a(i):"#"+a(e)+a(t)+a(r)},e.toRgba=function(e,t,r,i){return void 0===i&&(i=255),(e<<24|t<<16|r<<8|i)>>>0}}(r=t.channels||(t.channels={})),(i=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var o=t.rgba>>24&255,n=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,l=e.rgba>>16&255,c=e.rgba>>8&255,h=a+Math.round((o-a)*i),u=l+Math.round((n-l)*i),d=c+Math.round((s-c)*i);return{css:r.toCss(h,u,d),rgba:r.toRgba(h,u,d)}},i.isOpaque=function(e){return 255==(255&e.rgba)},i.ensureContrastRatio=function(e,t,r){var i=n.ensureContrastRatio(e.rgba,t.rgba,r);if(i)return n.toColor(i>>24&255,i>>16&255,i>>8&255)},i.opaque=function(e){var t=(255|e.rgba)>>>0,i=s(n.toChannels(t),3),o=i[0],a=i[1],l=i[2];return{css:r.toCss(o,a,l),rgba:t}},i.opacity=function(e,t){var i=Math.round(255*t),o=s(n.toChannels(e.rgba),3),a=o[0],l=o[1],c=o[2];return{css:r.toCss(a,l,c,i),rgba:r.toRgba(a,l,c,i)}},i.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]},(t.css||(t.css={})).toColor=function(e){if(e.match(/#[0-9a-f]{3,8}/i))switch(e.length){case 4:var t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);return n.toColor(t,r,i);case 5:t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);var o=parseInt(e.slice(4,5).repeat(2),16);return n.toColor(t,r,i,o);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}var s=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return t=parseInt(s[1]),r=parseInt(s[2]),i=parseInt(s[3]),o=Math.round(255*(void 0===s[5]?1:parseFloat(s[5]))),n.toColor(t,r,i,o);throw new Error("css.toColor: Unsupported css format")},function(e){function t(e,t,r){var i=e/255,o=t/255,n=r/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(o=t.rgb||(t.rgb={})),function(e){function t(e,t,r){for(var i=e>>24&255,n=e>>16&255,s=e>>8&255,a=t>>24&255,c=t>>16&255,h=t>>8&255,u=l(o.relativeLuminance2(a,c,h),o.relativeLuminance2(i,n,s));u<r&&(a>0||c>0||h>0);)a-=Math.max(0,Math.ceil(.1*a)),c-=Math.max(0,Math.ceil(.1*c)),h-=Math.max(0,Math.ceil(.1*h)),u=l(o.relativeLuminance2(a,c,h),o.relativeLuminance2(i,n,s));return(a<<24|c<<16|h<<8|255)>>>0}function i(e,t,r){for(var i=e>>24&255,n=e>>16&255,s=e>>8&255,a=t>>24&255,c=t>>16&255,h=t>>8&255,u=l(o.relativeLuminance2(a,c,h),o.relativeLuminance2(i,n,s));u<r&&(a<255||c<255||h<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),c=Math.min(255,c+Math.ceil(.1*(255-c))),h=Math.min(255,h+Math.ceil(.1*(255-h))),u=l(o.relativeLuminance2(a,c,h),o.relativeLuminance2(i,n,s));return(a<<24|c<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,r,n){var s=o.relativeLuminance(e>>8),a=o.relativeLuminance(r>>8);if(l(s,a)<n){if(a<s){var c=t(e,r,n),h=l(s,o.relativeLuminance(c>>8));if(h<n){var u=i(e,e,n);return h>l(s,o.relativeLuminance(u>>8))?c:u}return c}var d=i(e,r,n),f=l(s,o.relativeLuminance(d>>8));return f<n?(u=t(e,e,n),f>l(s,o.relativeLuminance(u>>8))?d:u):d}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,o){return{css:r.toCss(e,t,i,o),rgba:r.toRgba(e,t,i,o)}}}(n=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=l},8969:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var s=r(844),a=r(2585),l=r(4348),c=r(7866),h=r(744),u=r(7302),d=r(6975),f=r(8460),p=r(1753),g=r(3730),m=r(1480),v=r(7994),O=r(9282),_=r(5435),b=r(5981),y=!1,w=function(e){function t(t){var r=e.call(this)||this;return r._onBinary=new f.EventEmitter,r._onData=new f.EventEmitter,r._onLineFeed=new f.EventEmitter,r._onResize=new f.EventEmitter,r._onScroll=new f.EventEmitter,r._onWriteParsed=new f.EventEmitter,r._instantiationService=new l.InstantiationService,r.optionsService=new u.OptionsService(t),r._instantiationService.setService(a.IOptionsService,r.optionsService),r._bufferService=r.register(r._instantiationService.createInstance(h.BufferService)),r._instantiationService.setService(a.IBufferService,r._bufferService),r._logService=r._instantiationService.createInstance(c.LogService),r._instantiationService.setService(a.ILogService,r._logService),r.coreService=r.register(r._instantiationService.createInstance(d.CoreService,(function(){return r.scrollToBottom()}))),r._instantiationService.setService(a.ICoreService,r.coreService),r.coreMouseService=r._instantiationService.createInstance(p.CoreMouseService),r._instantiationService.setService(a.ICoreMouseService,r.coreMouseService),r._dirtyRowService=r._instantiationService.createInstance(g.DirtyRowService),r._instantiationService.setService(a.IDirtyRowService,r._dirtyRowService),r.unicodeService=r._instantiationService.createInstance(m.UnicodeService),r._instantiationService.setService(a.IUnicodeService,r.unicodeService),r._charsetService=r._instantiationService.createInstance(v.CharsetService),r._instantiationService.setService(a.ICharsetService,r._charsetService),r._inputHandler=new _.InputHandler(r._bufferService,r._charsetService,r.coreService,r._dirtyRowService,r._logService,r.optionsService,r.coreMouseService,r.unicodeService),r.register((0,f.forwardEvent)(r._inputHandler.onLineFeed,r._onLineFeed)),r.register(r._inputHandler),r.register((0,f.forwardEvent)(r._bufferService.onResize,r._onResize)),r.register((0,f.forwardEvent)(r.coreService.onData,r._onData)),r.register((0,f.forwardEvent)(r.coreService.onBinary,r._onBinary)),r.register(r.optionsService.onOptionChange((function(e){return r._updateOptions(e)}))),r.register(r._bufferService.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r.register(r._inputHandler.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r._writeBuffer=new b.WriteBuffer((function(e,t){return r._inputHandler.parse(e,t)})),r.register((0,f.forwardEvent)(r._writeBuffer.onWriteParsed,r._onWriteParsed)),r}return o(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){var e=this;return this._onScrollApi||(this._onScrollApi=new f.EventEmitter,this.register(this._onScroll.event((function(t){var r;null===(r=e._onScrollApi)||void 0===r||r.fire(t.position)})))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},set:function(e){for(var t in e)this.optionsService.options[t]=e[t]},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e,t){this._logService.logLevel<=a.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,h.MINIMUM_COLS),t=Math.max(t,h.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1),this._bufferService.scroll(e,t)},t.prototype.scrollLines=function(e,t,r){this._bufferService.scrollLines(e,t,r)},t.prototype.scrollPages=function(e){this._bufferService.scrollPages(e)},t.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},t.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},t.prototype.scrollToLine=function(e){this._bufferService.scrollToLine(e)},t.prototype.registerEscHandler=function(e,t){return this._inputHandler.registerEscHandler(e,t)},t.prototype.registerDcsHandler=function(e,t){return this._inputHandler.registerDcsHandler(e,t)},t.prototype.registerCsiHandler=function(e,t){return this._inputHandler.registerCsiHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._inputHandler.registerOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(O.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},(function(){return(0,O.updateWindowsModeWrappedState)(e._bufferService),!1}))),this._windowsMode={dispose:function(){var e,r;try{for(var i=n(t),o=i.next();!o.done;o=i.next())o.value.dispose()}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}}},t}(s.Disposable);t.CoreTerminal=w},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var r=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var r=0;r<e._listeners.length;r++)if(e._listeners[r]===t)return void e._listeners.splice(r,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var r=[],i=0;i<this._listeners.length;i++)r.push(this._listeners[i]);for(i=0;i<r.length;i++)r[i].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=r,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},5435:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var n,s=r(2584),a=r(7116),l=r(2015),c=r(844),h=r(8273),u=r(482),d=r(8437),f=r(8460),p=r(643),g=r(511),m=r(3734),v=r(2585),O=r(6242),_=r(6351),b=r(5941),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2},w=131072;function S(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(n=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var k=function(){function e(e,t,r,i){this._bufferService=e,this._coreService=t,this._logService=r,this._optionsService=i,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,r){this._data=(0,h.concat)(this._data,e.subarray(t,r))},e.prototype.unhook=function(e){if(!e)return this._data=new Uint32Array(0),!0;var t=(0,u.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),t){case'"q':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0"q'+s.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61;1"p'+s.C0.ESC+"\\");break;case"r":var r=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+r+s.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(s.C0.ESC+"P1$r0m"+s.C0.ESC+"\\");break;case" q":var i={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];i-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+i+" q"+s.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(s.C0.ESC+"P0$r"+s.C0.ESC+"\\")}return!0},e}(),C=function(e){function t(t,r,i,o,n,c,h,p,m){void 0===m&&(m=new l.EscapeSequenceParser);var v=e.call(this)||this;v._bufferService=t,v._charsetService=r,v._coreService=i,v._dirtyRowService=o,v._logService=n,v._optionsService=c,v._coreMouseService=h,v._unicodeService=p,v._parser=m,v._parseBuffer=new Uint32Array(4096),v._stringDecoder=new u.StringToUtf32,v._utf8Decoder=new u.Utf8ToUtf32,v._workCell=new g.CellData,v._windowTitle="",v._iconName="",v._windowTitleStack=[],v._iconNameStack=[],v._curAttrData=d.DEFAULT_ATTR_DATA.clone(),v._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),v._onRequestBell=new f.EventEmitter,v._onRequestRefreshRows=new f.EventEmitter,v._onRequestReset=new f.EventEmitter,v._onRequestSendFocus=new f.EventEmitter,v._onRequestSyncScrollBar=new f.EventEmitter,v._onRequestWindowsOptionsReport=new f.EventEmitter,v._onA11yChar=new f.EventEmitter,v._onA11yTab=new f.EventEmitter,v._onCursorMove=new f.EventEmitter,v._onLineFeed=new f.EventEmitter,v._onScroll=new f.EventEmitter,v._onTitleChange=new f.EventEmitter,v._onColor=new f.EventEmitter,v._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},v._specialColors=[256,257,258],v.register(v._parser),v._activeBuffer=v._bufferService.buffer,v.register(v._bufferService.buffers.onBufferActivate((function(e){return v._activeBuffer=e.activeBuffer}))),v._parser.setCsiHandlerFallback((function(e,t){v._logService.debug("Unknown CSI code: ",{identifier:v._parser.identToString(e),params:t.toArray()})})),v._parser.setEscHandlerFallback((function(e){v._logService.debug("Unknown ESC code: ",{identifier:v._parser.identToString(e)})})),v._parser.setExecuteHandlerFallback((function(e){v._logService.debug("Unknown EXECUTE code: ",{code:e})})),v._parser.setOscHandlerFallback((function(e,t,r){v._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:r})})),v._parser.setDcsHandlerFallback((function(e,t,r){"HOOK"===t&&(r=r.toArray()),v._logService.debug("Unknown DCS code: ",{identifier:v._parser.identToString(e),action:t,payload:r})})),v._parser.setPrintHandler((function(e,t,r){return v.print(e,t,r)})),v._parser.registerCsiHandler({final:"@"},(function(e){return v.insertChars(e)})),v._parser.registerCsiHandler({intermediates:" ",final:"@"},(function(e){return v.scrollLeft(e)})),v._parser.registerCsiHandler({final:"A"},(function(e){return v.cursorUp(e)})),v._parser.registerCsiHandler({intermediates:" ",final:"A"},(function(e){return v.scrollRight(e)})),v._parser.registerCsiHandler({final:"B"},(function(e){return v.cursorDown(e)})),v._parser.registerCsiHandler({final:"C"},(function(e){return v.cursorForward(e)})),v._parser.registerCsiHandler({final:"D"},(function(e){return v.cursorBackward(e)})),v._parser.registerCsiHandler({final:"E"},(function(e){return v.cursorNextLine(e)})),v._parser.registerCsiHandler({final:"F"},(function(e){return v.cursorPrecedingLine(e)})),v._parser.registerCsiHandler({final:"G"},(function(e){return v.cursorCharAbsolute(e)})),v._parser.registerCsiHandler({final:"H"},(function(e){return v.cursorPosition(e)})),v._parser.registerCsiHandler({final:"I"},(function(e){return v.cursorForwardTab(e)})),v._parser.registerCsiHandler({final:"J"},(function(e){return v.eraseInDisplay(e)})),v._parser.registerCsiHandler({prefix:"?",final:"J"},(function(e){return v.eraseInDisplay(e)})),v._parser.registerCsiHandler({final:"K"},(function(e){return v.eraseInLine(e)})),v._parser.registerCsiHandler({prefix:"?",final:"K"},(function(e){return v.eraseInLine(e)})),v._parser.registerCsiHandler({final:"L"},(function(e){return v.insertLines(e)})),v._parser.registerCsiHandler({final:"M"},(function(e){return v.deleteLines(e)})),v._parser.registerCsiHandler({final:"P"},(function(e){return v.deleteChars(e)})),v._parser.registerCsiHandler({final:"S"},(function(e){return v.scrollUp(e)})),v._parser.registerCsiHandler({final:"T"},(function(e){return v.scrollDown(e)})),v._parser.registerCsiHandler({final:"X"},(function(e){return v.eraseChars(e)})),v._parser.registerCsiHandler({final:"Z"},(function(e){return v.cursorBackwardTab(e)})),v._parser.registerCsiHandler({final:"`"},(function(e){return v.charPosAbsolute(e)})),v._parser.registerCsiHandler({final:"a"},(function(e){return v.hPositionRelative(e)})),v._parser.registerCsiHandler({final:"b"},(function(e){return v.repeatPrecedingCharacter(e)})),v._parser.registerCsiHandler({final:"c"},(function(e){return v.sendDeviceAttributesPrimary(e)})),v._parser.registerCsiHandler({prefix:">",final:"c"},(function(e){return v.sendDeviceAttributesSecondary(e)})),v._parser.registerCsiHandler({final:"d"},(function(e){return v.linePosAbsolute(e)})),v._parser.registerCsiHandler({final:"e"},(function(e){return v.vPositionRelative(e)})),v._parser.registerCsiHandler({final:"f"},(function(e){return v.hVPosition(e)})),v._parser.registerCsiHandler({final:"g"},(function(e){return v.tabClear(e)})),v._parser.registerCsiHandler({final:"h"},(function(e){return v.setMode(e)})),v._parser.registerCsiHandler({prefix:"?",final:"h"},(function(e){return v.setModePrivate(e)})),v._parser.registerCsiHandler({final:"l"},(function(e){return v.resetMode(e)})),v._parser.registerCsiHandler({prefix:"?",final:"l"},(function(e){return v.resetModePrivate(e)})),v._parser.registerCsiHandler({final:"m"},(function(e){return v.charAttributes(e)})),v._parser.registerCsiHandler({final:"n"},(function(e){return v.deviceStatus(e)})),v._parser.registerCsiHandler({prefix:"?",final:"n"},(function(e){return v.deviceStatusPrivate(e)})),v._parser.registerCsiHandler({intermediates:"!",final:"p"},(function(e){return v.softReset(e)})),v._parser.registerCsiHandler({intermediates:" ",final:"q"},(function(e){return v.setCursorStyle(e)})),v._parser.registerCsiHandler({final:"r"},(function(e){return v.setScrollRegion(e)})),v._parser.registerCsiHandler({final:"s"},(function(e){return v.saveCursor(e)})),v._parser.registerCsiHandler({final:"t"},(function(e){return v.windowOptions(e)})),v._parser.registerCsiHandler({final:"u"},(function(e){return v.restoreCursor(e)})),v._parser.registerCsiHandler({intermediates:"'",final:"}"},(function(e){return v.insertColumns(e)})),v._parser.registerCsiHandler({intermediates:"'",final:"~"},(function(e){return v.deleteColumns(e)})),v._parser.setExecuteHandler(s.C0.BEL,(function(){return v.bell()})),v._parser.setExecuteHandler(s.C0.LF,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(s.C0.VT,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(s.C0.FF,(function(){return v.lineFeed()})),v._parser.setExecuteHandler(s.C0.CR,(function(){return v.carriageReturn()})),v._parser.setExecuteHandler(s.C0.BS,(function(){return v.backspace()})),v._parser.setExecuteHandler(s.C0.HT,(function(){return v.tab()})),v._parser.setExecuteHandler(s.C0.SO,(function(){return v.shiftOut()})),v._parser.setExecuteHandler(s.C0.SI,(function(){return v.shiftIn()})),v._parser.setExecuteHandler(s.C1.IND,(function(){return v.index()})),v._parser.setExecuteHandler(s.C1.NEL,(function(){return v.nextLine()})),v._parser.setExecuteHandler(s.C1.HTS,(function(){return v.tabSet()})),v._parser.registerOscHandler(0,new O.OscHandler((function(e){return v.setTitle(e),v.setIconName(e),!0}))),v._parser.registerOscHandler(1,new O.OscHandler((function(e){return v.setIconName(e)}))),v._parser.registerOscHandler(2,new O.OscHandler((function(e){return v.setTitle(e)}))),v._parser.registerOscHandler(4,new O.OscHandler((function(e){return v.setOrReportIndexedColor(e)}))),v._parser.registerOscHandler(10,new O.OscHandler((function(e){return v.setOrReportFgColor(e)}))),v._parser.registerOscHandler(11,new O.OscHandler((function(e){return v.setOrReportBgColor(e)}))),v._parser.registerOscHandler(12,new O.OscHandler((function(e){return v.setOrReportCursorColor(e)}))),v._parser.registerOscHandler(104,new O.OscHandler((function(e){return v.restoreIndexedColor(e)}))),v._parser.registerOscHandler(110,new O.OscHandler((function(e){return v.restoreFgColor(e)}))),v._parser.registerOscHandler(111,new O.OscHandler((function(e){return v.restoreBgColor(e)}))),v._parser.registerOscHandler(112,new O.OscHandler((function(e){return v.restoreCursorColor(e)}))),v._parser.registerEscHandler({final:"7"},(function(){return v.saveCursor()})),v._parser.registerEscHandler({final:"8"},(function(){return v.restoreCursor()})),v._parser.registerEscHandler({final:"D"},(function(){return v.index()})),v._parser.registerEscHandler({final:"E"},(function(){return v.nextLine()})),v._parser.registerEscHandler({final:"H"},(function(){return v.tabSet()})),v._parser.registerEscHandler({final:"M"},(function(){return v.reverseIndex()})),v._parser.registerEscHandler({final:"="},(function(){return v.keypadApplicationMode()})),v._parser.registerEscHandler({final:">"},(function(){return v.keypadNumericMode()})),v._parser.registerEscHandler({final:"c"},(function(){return v.fullReset()})),v._parser.registerEscHandler({final:"n"},(function(){return v.setgLevel(2)})),v._parser.registerEscHandler({final:"o"},(function(){return v.setgLevel(3)})),v._parser.registerEscHandler({final:"|"},(function(){return v.setgLevel(3)})),v._parser.registerEscHandler({final:"}"},(function(){return v.setgLevel(2)})),v._parser.registerEscHandler({final:"~"},(function(){return v.setgLevel(1)})),v._parser.registerEscHandler({intermediates:"%",final:"@"},(function(){return v.selectDefaultCharset()})),v._parser.registerEscHandler({intermediates:"%",final:"G"},(function(){return v.selectDefaultCharset()}));var _=function(e){b._parser.registerEscHandler({intermediates:"(",final:e},(function(){return v.selectCharset("("+e)})),b._parser.registerEscHandler({intermediates:")",final:e},(function(){return v.selectCharset(")"+e)})),b._parser.registerEscHandler({intermediates:"*",final:e},(function(){return v.selectCharset("*"+e)})),b._parser.registerEscHandler({intermediates:"+",final:e},(function(){return v.selectCharset("+"+e)})),b._parser.registerEscHandler({intermediates:"-",final:e},(function(){return v.selectCharset("-"+e)})),b._parser.registerEscHandler({intermediates:".",final:e},(function(){return v.selectCharset("."+e)})),b._parser.registerEscHandler({intermediates:"/",final:e},(function(){return v.selectCharset("/"+e)}))},b=this;for(var y in a.CHARSETS)_(y);return v._parser.registerEscHandler({intermediates:"#",final:"8"},(function(){return v.screenAlignmentPattern()})),v._parser.setErrorHandler((function(e){return v._logService.error("Parsing error: ",e),e})),v._parser.registerDcsHandler({intermediates:"$",final:"q"},new k(v._bufferService,v._coreService,v._logService,v._optionsService)),v}return o(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._preserveStack=function(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i},t.prototype._logSlowResolvingAsync=function(e){this._logService.logLevel<=v.LogLevelEnum.WARN&&Promise.race([e,new Promise((function(e,t){return setTimeout((function(){return t("#SLOW_TIMEOUT")}),5e3)}))]).catch((function(e){if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")}))},t.prototype.parse=function(e,t){var r,i=this._activeBuffer.x,o=this._activeBuffer.y,n=0,s=this._parseStack.paused;if(s){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,o=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>w&&(n=this._parseStack.position+w)}if(this._logService.logLevel<=v.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof e?' "'+e+'"':' "'+Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("")+'"'),"string"==typeof e?e.split("").map((function(e){return e.charCodeAt(0)})):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<w&&(this._parseBuffer=new Uint32Array(Math.min(e.length,w))),s||this._dirtyRowService.clearRange(),e.length>w)for(var a=n;a<e.length;a+=w){var l=a+w<e.length?a+w:e.length,c="string"==typeof e?this._stringDecoder.decode(e.substring(a,l),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,l),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,c))return this._preserveStack(i,o,c,a),this._logSlowResolvingAsync(r),r}else if(!s&&(c="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),r=this._parser.parse(this._parseBuffer,c)))return this._preserveStack(i,o,c,0),this._logSlowResolvingAsync(r),r;this._activeBuffer.x===i&&this._activeBuffer.y===o||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,r){var i,o,n=this._charsetService.charset,s=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,c=this._coreService.modes.insertMode,h=this._curAttrData,d=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&2===d.getWidth(this._activeBuffer.x-1)&&d.setCellFromCodePoint(this._activeBuffer.x-1,0,1,h.fg,h.bg,h.extended);for(var f=t;f<r;++f){if(i=e[f],o=this._unicodeService.wcwidth(i),i<127&&n){var g=n[String.fromCharCode(i)];g&&(i=g.charCodeAt(0))}if(s&&this._onA11yChar.fire((0,u.stringFromCodePoint)(i)),o||!this._activeBuffer.x){if(this._activeBuffer.x+o-1>=a)if(l){for(;this._activeBuffer.x<a;)d.setCellFromCodePoint(this._activeBuffer.x++,0,1,h.fg,h.bg,h.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),d=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===o)continue;if(c&&(d.insertCells(this._activeBuffer.x,o,this._activeBuffer.getNullCell(h),h),2===d.getWidth(a-1)&&d.setCellFromCodePoint(a-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,h.fg,h.bg,h.extended)),d.setCellFromCodePoint(this._activeBuffer.x++,i,o,h.fg,h.bg,h.extended),o>0)for(;--o;)d.setCellFromCodePoint(this._activeBuffer.x++,0,0,h.fg,h.bg,h.extended)}else d.getWidth(this._activeBuffer.x-1)?d.addCodepointToCell(this._activeBuffer.x-1,i):d.addCodepointToCell(this._activeBuffer.x-2,i)}r-t>0&&(d.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<a&&r-t>0&&0===d.getWidth(this._activeBuffer.x)&&!d.hasContent(this._activeBuffer.x)&&d.setCellFromCodePoint(this._activeBuffer.x,0,1,h.fg,h.bg,h.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype.registerCsiHandler=function(e,t){var r=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,(function(e){return!S(e.params[0],r._optionsService.rawOptions.windowOptions)||t(e)}))},t.prototype.registerDcsHandler=function(e,t){return this._parser.registerDcsHandler(e,new _.DcsHandler(t))},t.prototype.registerEscHandler=function(e,t){return this._parser.registerEscHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._parser.registerOscHandler(e,new O.OscHandler(t))},t.prototype.bell=function(){return this._onRequestBell.fire(),!0},t.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},t.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},t.prototype.backspace=function(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},t.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0},t.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},t.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)},t.prototype.cursorUp=function(e){var t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0},t.prototype.cursorDown=function(e){var t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0},t.prototype.cursorForward=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.cursorBackward=function(e){return this._moveCursor(-(e.params[0]||1),0),!0},t.prototype.cursorNextLine=function(e){return this.cursorDown(e),this._activeBuffer.x=0,!0},t.prototype.cursorPrecedingLine=function(e){return this.cursorUp(e),this._activeBuffer.x=0,!0},t.prototype.cursorCharAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.cursorPosition=function(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0},t.prototype.charPosAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.hPositionRelative=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.linePosAbsolute=function(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0},t.prototype.vPositionRelative=function(e){return this._moveCursor(0,e.params[0]||1),!0},t.prototype.hVPosition=function(e){return this.cursorPosition(e),!0},t.prototype.tabClear=function(e){var t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0},t.prototype.cursorForwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},t.prototype.cursorBackwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},t.prototype._eraseInBufferLine=function(e,t,r,i){void 0===i&&(i=!1);var o=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);o.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i&&(o.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);t.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var r=this._activeBuffer.lines.length-this._bufferService.rows;r>0&&(this._activeBuffer.lines.trimStart(r),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-r,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-r,0),this._onScroll.fire(0))}return!0},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,o=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;t--;)this._activeBuffer.lines.splice(o-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var r,i=this._activeBuffer.ybase+this._activeBuffer.y;for(r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-r;t--;)this._activeBuffer.lines.splice(i,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollLeft=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollRight=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.insertColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.deleteColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.repeatPrecedingCharacter=function(e){if(!this._parser.precedingCodepoint)return!0;for(var t=e.params[0]||1,r=new Uint32Array(t),i=0;i<t;++i)r[i]=this._parser.precedingCodepoint;return this.print(r,0,r.length),!0},t.prototype.sendDeviceAttributesPrimary=function(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0},t.prototype.sendDeviceAttributesSecondary=function(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0},t.prototype._is=function(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!0);return!0},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!1);return!0},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},t.prototype._updateAttrColor=function(e,t,r,i,o){return 2===t?(e|=50331648,e&=-16777216,e|=m.AttributeData.fromColorRGB([r,i,o])):5===t&&(e&=-50331904,e|=33554432|255&r),e},t.prototype._extractColor=function(e,t,r){var i=[0,0,-1,0,0,0],o=0,n=0;do{if(i[n+o]=e.params[t+n],e.hasSubParams(t+n)){var s=e.getSubParams(t+n),a=0;do{5===i[1]&&(o=1),i[n+a+1+o]=s[a]}while(++a<s.length&&a+n+1+o<i.length);break}if(5===i[1]&&n+o>=2||2===i[1]&&n+o>=5)break;i[1]&&(o=1)}while(++n+t<e.length&&n+o<i.length);for(a=2;a<i.length;++a)-1===i[a]&&(i[a]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return n},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg,!0;for(var t,r=e.length,i=this._curAttrData,o=0;o<r;o++)(t=e.params[o])>=30&&t<=37?(i.fg&=-50331904,i.fg|=16777216|t-30):t>=40&&t<=47?(i.bg&=-50331904,i.bg|=16777216|t-40):t>=90&&t<=97?(i.fg&=-50331904,i.fg|=16777224|t-90):t>=100&&t<=107?(i.bg&=-50331904,i.bg|=16777224|t-100):0===t?(i.fg=d.DEFAULT_ATTR_DATA.fg,i.bg=d.DEFAULT_ATTR_DATA.bg):1===t?i.fg|=134217728:3===t?i.bg|=67108864:4===t?(i.fg|=268435456,this._processUnderline(e.hasSubParams(o)?e.getSubParams(o)[0]:1,i)):5===t?i.fg|=536870912:7===t?i.fg|=67108864:8===t?i.fg|=1073741824:9===t?i.fg|=2147483648:2===t?i.bg|=134217728:21===t?this._processUnderline(2,i):22===t?(i.fg&=-134217729,i.bg&=-134217729):23===t?i.bg&=-67108865:24===t?i.fg&=-268435457:25===t?i.fg&=-536870913:27===t?i.fg&=-67108865:28===t?i.fg&=-1073741825:29===t?i.fg&=2147483647:39===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===t?(i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?o+=this._extractColor(e,o,i):59===t?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):100===t?(i.fg&=-67108864,i.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t);return!0},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+"[0n");break;case 6:var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"["+t+";"+r+"R")}return!0},t.prototype.deviceStatusPrivate=function(e){if(6===e.params[0]){var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"[?"+t+";"+r+"R")}return!0},t.prototype.softReset=function(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var r=t%2==1;return this._optionsService.options.cursorBlink=r,!0},t.prototype.setScrollRegion=function(e){var t,r=e.params[0]||1;return(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>r&&(this._activeBuffer.scrollTop=r-1,this._activeBuffer.scrollBottom=t-1,this._setCursor(0,0)),!0},t.prototype.windowOptions=function(e){if(!S(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(n.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(n.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(s.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},t.prototype.saveCursor=function(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},t.prototype.restoreCursor=function(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},t.prototype.setTitle=function(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0},t.prototype.setIconName=function(e){return this._iconName=e,!0},t.prototype.setOrReportIndexedColor=function(e){for(var t=[],r=e.split(";");r.length>1;){var i=r.shift(),o=r.shift();if(/^\d+$/.exec(i)){var n=parseInt(i);if(0<=n&&n<256)if("?"===o)t.push({type:0,index:n});else{var s=(0,b.parseColor)(o);s&&t.push({type:1,index:n,color:s})}}}return t.length&&this._onColor.fire(t),!0},t.prototype._setOrReportSpecialColor=function(e,t){for(var r=e.split(";"),i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if("?"===r[i])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{var o=(0,b.parseColor)(r[i]);o&&this._onColor.fire([{type:1,index:this._specialColors[t],color:o}])}return!0},t.prototype.setOrReportFgColor=function(e){return this._setOrReportSpecialColor(e,0)},t.prototype.setOrReportBgColor=function(e){return this._setOrReportSpecialColor(e,1)},t.prototype.setOrReportCursorColor=function(e){return this._setOrReportSpecialColor(e,2)},t.prototype.restoreIndexedColor=function(e){if(!e)return this._onColor.fire([{type:2}]),!0;for(var t=[],r=e.split(";"),i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){var o=parseInt(r[i]);0<=o&&o<256&&t.push({type:2,index:o})}return t.length&&this._onColor.fire(t),!0},t.prototype.restoreFgColor=function(e){return this._onColor.fire([{type:2,index:256}]),!0},t.prototype.restoreBgColor=function(e){return this._onColor.fire([{type:2,index:257}]),!0},t.prototype.restoreCursorColor=function(e){return this._onColor.fire([{type:2,index:258}]),!0},t.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},t.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},t.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},t.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),!0},t.prototype.selectCharset=function(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(y[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET),!0)},t.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},t.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},t.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},t.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},t.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){return this._charsetService.setgLevel(e),!0},t.prototype.screenAlignmentPattern=function(){var e=new g.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(var t=0;t<this._bufferService.rows;++t){var r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},t}(c.Disposable);t.InputHandler=C},844:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){var e,t;this._isDisposed=!0;try{for(var i=r(this._disposables),o=i.next();!o.done;o=i.next())o.value.dispose()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function o(e){var t,i;try{for(var o=r(e),n=o.next();!n.done;n=o.next())n.value.dispose()}catch(e){t={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}e.length=0}t.Disposable=i,t.disposeArray=o,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return o(e)}}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isLegacyEdge=t.isFirefox=void 0;var r="undefined"==typeof navigator,i=r?"node":navigator.userAgent,o=r?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(o),t.isLinux=o.indexOf("Linux")>=0},6106:function(e,t){var r=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;var i=function(){function e(e){this._getKey=e,this._array=[]}return e.prototype.clear=function(){this._array.length=0},e.prototype.insert=function(e){if(0!==this._array.length){var t=this._search(this._getKey(e),0,this._array.length-1);this._array.splice(t,0,e)}else this._array.push(e)},e.prototype.delete=function(e){if(0===this._array.length)return!1;var t=this._getKey(e),r=this._search(t,0,this._array.length-1);if(this._getKey(this._array[r])!==t)return!1;do{if(this._array[r]===e)return this._array.splice(r,1),!0}while(++r<this._array.length&&this._getKey(this._array[r])===t);return!1},e.prototype.getKeyIterator=function(e){var t;return r(this,(function(r){switch(r.label){case 0:if(0===this._array.length)return[2];if((t=this._search(e,0,this._array.length-1))<0||t>=this._array.length)return[2];if(this._getKey(this._array[t])!==e)return[2];r.label=1;case 1:return[4,this._array[t]];case 2:r.sent(),r.label=3;case 3:if(++t<this._array.length&&this._getKey(this._array[t])===e)return[3,1];r.label=4;case 4:return[2]}}))},e.prototype.values=function(){return this._array.values()},e.prototype._search=function(e,t,r){if(r<t)return t;var i=Math.floor((t+r)/2);if(this._getKey(this._array[i])>e)return this._search(e,t,i-1);if(this._getKey(this._array[i])<e)return this._search(e,i+1,r);for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i},e}();t.SortedList=i},8273:(e,t)=>{function r(e,t,r,i){if(void 0===r&&(r=0),void 0===i&&(i=e.length),r>=e.length)return e;r=(e.length+r)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var o=r;o<i;++o)e[o]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,o){return e.fill?e.fill(t,i,o):r(e,t,i,o)},t.fillFallback=r,t.concat=function(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}},9282:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var i=r(643);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),r=null==t?void 0:t.get(e.cols-1),o=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);o&&r&&(o.isWrapped=r[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&r[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var r=function(){function e(){this.fg=0,this.bg=0,this.extended=new i}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.isStrikethrough=function(){return 2147483648&this.fg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=r;var i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=i},9092:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var n=r(6349),s=r(8437),a=r(511),l=r(643),c=r(4634),h=r(4863),u=r(7116),d=r(3734);t.MAX_BUFFER_SIZE=4294967295;var f=function(){function e(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=a.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]),this._whitespaceCell=a.CellData.fromCharData([0,l.WHITESPACE_CELL_CHAR,l.WHITESPACE_CELL_WIDTH,l.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new s.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.rawOptions.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=s.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var r=this.getNullCell(s.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,r);var n=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new s.BufferLine(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+n+1?(this.ybase--,n++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(e,r)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var l=this.lines.length-i;l>0&&(this.lines.trimStart(l),this.ybase=Math.max(this.ybase-l,0),this.ydisp=Math.max(this.ydisp-l,0),this.savedY=Math.max(this.savedY-l,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),n&&(this.y+=n),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,r);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var r=(0,c.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(r.length>0){var i=(0,c.reflowLargerCreateNewLayout)(this.lines,r);(0,c.reflowLargerApplyNewLayout)(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,r){for(var i=this.getNullCell(s.DEFAULT_ATTR_DATA),o=r;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new s.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)},e.prototype._reflowSmaller=function(e,t){for(var r=this.getNullCell(s.DEFAULT_ATTR_DATA),n=[],a=0,l=this.lines.length-1;l>=0;l--){var h=this.lines.get(l);if(!(!h||!h.isWrapped&&h.getTrimmedLength()<=e)){for(var u=[h];h.isWrapped&&l>0;)h=this.lines.get(--l),u.unshift(h);var d=this.ybase+this.y;if(!(d>=l&&d<l+u.length)){var f,p=u[u.length-1].getTrimmedLength(),g=(0,c.reflowSmallerGetNewLineLengths)(u,this._cols,e),m=g.length-u.length;f=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+m):Math.max(0,this.lines.length-this.lines.maxLength+m);for(var v=[],O=0;O<m;O++){var _=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);v.push(_)}v.length>0&&(n.push({start:l+u.length+a,newLines:v}),a+=v.length),u.push.apply(u,o([],i(v),!1));var b=g.length-1,y=g[b];0===y&&(y=g[--b]);for(var w=u.length-m-1,S=p;w>=0;){var k=Math.min(S,y);if(void 0===u[b])break;if(u[b].copyCellsFrom(u[w],S-k,y-k,k,!0),0==(y-=k)&&(y=g[--b]),0==(S-=k)){w--;var C=Math.max(w,0);S=(0,c.getWrappedLineTrimmedLength)(u,C,this._cols)}}for(O=0;O<u.length;O++)g[O]<e&&u[O].setCell(g[O],r);for(var x=m-f;x-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+a)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+m,this.ybase+t-1)}}}if(n.length>0){var T=[],E=[];for(O=0;O<this.lines.length;O++)E.push(this.lines.get(O));var P=this.lines.length,A=P-1,R=0,Q=n[R];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+a);var L=0;for(O=Math.min(this.lines.maxLength-1,P+a-1);O>=0;O--)if(Q&&Q.start>A+L){for(var $=Q.newLines.length-1;$>=0;$--)this.lines.set(O--,Q.newLines[$]);O++,T.push({index:A+1,amount:Q.newLines.length}),L+=Q.newLines.length,Q=n[++R]}else this.lines.set(O,E[A--]);var M=0;for(O=T.length-1;O>=0;O--)T[O].index+=M,this.lines.onInsertEmitter.fire(T[O]),M+=T[O].amount;var D=Math.max(0,P+a-this.lines.maxLength);D>0&&this.lines.onTrimEmitter.fire(D)}},e.prototype.stringIndexToBufferIndex=function(e,t,r){for(void 0===r&&(r=!1);t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var o=r?i.getTrimmedLength():i.length,n=0;n<o;++n)if(i.get(n)[l.CHAR_DATA_WIDTH_INDEX]&&(t-=i.get(n)[l.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,n];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,r,i){void 0===r&&(r=0);var o=this.lines.get(e);return o?o.translateToString(t,r,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,r=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.clearMarkers=function(e){this._isClearing=!0;for(var t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1},e.prototype.clearAllMarkers=function(){this._isClearing=!0;for(var e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1},e.prototype.addMarker=function(e){var t=this,r=new h.Marker(e);return this.markers.push(r),r.register(this.lines.onTrim((function(e){r.line-=e,r.line<0&&r.dispose()}))),r.register(this.lines.onInsert((function(e){r.line>=e.index&&(r.line+=e.amount)}))),r.register(this.lines.onDelete((function(e){r.line>=e.index&&r.line<e.index+e.amount&&r.dispose(),r.line>e.index&&(r.line-=e.amount)}))),r.register(r.onDispose((function(){return t._removeMarker(r)}))),r},e.prototype._removeMarker=function(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,r,i,o){return new p(this,e,t,r,i,o)},e}();t.Buffer=f;var p=function(){function e(e,t,r,i,o,n){void 0===r&&(r=0),void 0===i&&(i=e.lines.length),void 0===o&&(o=0),void 0===n&&(n=0),this._buffer=e,this._trimRight=t,this._startIndex=r,this._endIndex=i,this._startOverscan=o,this._endOverscan=n,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",r=e.first;r<=e.last;++r)t+=this._buffer.translateBufferLineToString(r,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=p},8437:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var i=r(482),o=r(643),n=r(511),s=r(3734);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,r){void 0===r&&(r=!1),this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var i=t||n.CellData.fromCharData([0,o.NULL_CELL_CHAR,o.NULL_CELL_WIDTH,o.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,i);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],r=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:r?(0,i.stringFromCodePoint)(r):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]},e.prototype.set=function(e,t){this._data[3*e+1]=t[o.CHAR_DATA_ATTR_INDEX],t[o.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[o.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[o.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,i.stringFromCodePoint)(2097151&t):""},e.prototype.loadCell=function(e,t){var r=3*e;return t.content=this._data[r+0],t.fg=this._data[r+1],t.bg=this._data[r+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,r,i,o,n){268435456&o&&(this._extendedAttrs[e]=n),this._data[3*e+0]=t|r<<22,this._data[3*e+1]=i,this._data[3*e+2]=o},e.prototype.addCodepointToCell=function(e,t){var r=this._data[3*e+0];2097152&r?this._combined[e]+=(0,i.stringFromCodePoint)(t):(2097151&r?(this._combined[e]=(0,i.stringFromCodePoint)(2097151&r)+(0,i.stringFromCodePoint)(t),r&=-2097152,r|=2097152):r=t|1<<22,this._data[3*e+0]=r)},e.prototype.insertCells=function(e,t,r,i){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length-e){for(var o=new n.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,o));for(a=0;a<t;++a)this.setCell(e+a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,r,i){if(e%=this.length,t<this.length-e){for(var o=new n.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,o));for(a=this.length-t;a<this.length;++a)this.setCell(a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,r,i){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,r)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var r=new Uint32Array(3*e);this.length&&(3*e<this._data.length?r.set(this._data.subarray(0,3*e)):r.set(this._data)),this._data=r;for(var i=this.length;i<e;++i)this.setCell(i,t)}else if(e){(r=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=r;var o=Object.keys(this._combined);for(i=0;i<o.length;i++){var n=parseInt(o[i],10);n>=e&&delete this._combined[n]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var r in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[r]=this._combined[r];for(var r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,r,i,o){var n=e._data;if(o)for(var s=i-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(r+s)+a]=n[3*(t+s)+a];else for(s=0;s<i;s++)for(a=0;a<3;a++)this._data[3*(r+s)+a]=n[3*(t+s)+a];var l=Object.keys(e._combined);for(a=0;a<l.length;a++){var c=parseInt(l[a],10);c>=t&&(this._combined[c-t+r]=e._combined[c])}},e.prototype.translateToString=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===r&&(r=this.length),e&&(r=Math.min(r,this.getTrimmedLength()));for(var n="";t<r;){var s=this._data[3*t+0],a=2097151&s;n+=2097152&s?this._combined[t]:a?(0,i.stringFromCodePoint)(a):o.WHITESPACE_CELL_CHAR,t+=s>>22||1}return n},e}();t.BufferLine=a},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end ("+e.end.x+", "+e.end.y+") cannot be before start ("+e.start.x+", "+e.start.y+")");return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();var i=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),o=2===e[t+1].getWidth(0);return i&&o?r-1:r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,o,n){for(var s=[],a=0;a<e.length-1;a++){var l=a,c=e.get(++l);if(c.isWrapped){for(var h=[e.get(a)];l<e.length&&c.isWrapped;)h.push(c),c=e.get(++l);if(o>=a&&o<l)a+=h.length-1;else{for(var u=0,d=r(h,u,t),f=1,p=0;f<h.length;){var g=r(h,f,t),m=g-p,v=i-d,O=Math.min(m,v);h[u].copyCellsFrom(h[f],p,d,O,!1),(d+=O)===i&&(u++,d=0),(p+=O)===g&&(f++,p=0),0===d&&0!==u&&2===h[u-1].getWidth(i-1)&&(h[u].copyCellsFrom(h[u-1],i-1,d++,1,!1),h[u-1].setCell(i-1,n))}h[u].replaceCells(d,i,n);for(var _=0,b=h.length-1;b>0&&(b>u||0===h[b].getTrimmedLength());b--)_++;_>0&&(s.push(a+h.length-_),s.push(_)),a+=h.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var r=[],i=0,o=t[i],n=0,s=0;s<e.length;s++)if(o===s){var a=t[++i];e.onDeleteEmitter.fire({index:s-n,amount:a}),s+=a-1,n+=a,o=t[++i]}else r.push(s);return{layout:r,countRemoved:n}},t.reflowLargerApplyNewLayout=function(e,t){for(var r=[],i=0;i<t.length;i++)r.push(e.get(t[i]));for(i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var o=[],n=e.map((function(i,o){return r(e,o,t)})).reduce((function(e,t){return e+t})),s=0,a=0,l=0;l<n;){if(n-l<i){o.push(n-l);break}s+=i;var c=r(e,a,t);s>c&&(s-=c,a++);var h=2===e[a].getWidth(s-1);h&&s--;var u=h?i-1:i;o.push(u),l+=u}return o},t.getWrappedLineTrimmedLength=r},5295:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var n=r(9092),s=r(8460),a=function(e){function t(t,r){var i=e.call(this)||this;return i._optionsService=t,i._bufferService=r,i._onBufferActivate=i.register(new s.EventEmitter),i.reset(),i}return o(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._normal=new n.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(r(844).Disposable);t.BufferSet=a},511:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var n=r(482),s=r(643),a=r(3734),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return o(t,e),t.fromCharData=function(e){var r=new t;return r.setFromCharData(e),r},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var r=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(r-55296)+i-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=l},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var n=r(8460),s=function(e){function t(r){var i=e.call(this)||this;return i.line=r,i._id=t._nextId++,i.isDisposed=!1,i._onDispose=new n.EventEmitter,i}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),e.prototype.dispose.call(this))},t._nextId=1,t}(r(844).Disposable);t.Marker=s},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(e,t)=>{var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(r=t.C0||(t.C0={})),(i=t.C1||(t.C1={})).PAD="",i.HOP="",i.BPH="",i.NBH="",i.IND="",i.NEL="",i.SSA="",i.ESA="",i.HTS="",i.HTJ="",i.VTS="",i.PLD="",i.PLU="",i.RI="",i.SS2="",i.SS3="",i.DCS="",i.PU1="",i.PU2="",i.STS="",i.CCH="",i.MW="",i.SPA="",i.EPA="",i.SOS="",i.SGCI="",i.SCI="",i.CSI="",i.ST="",i.OSC="",i.PM="",i.APC="",(t.C1_ESCAPED||(t.C1_ESCAPED={})).ST=r.ESC+"\\"},7399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var i=r(2584),o={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,r,n){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=i.C0.BS;break}if(e.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(e.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,e.altKey&&(s.key=i.C0.ESC+i.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=i.C0.ESC+(r?"b":"[1;5D"))):s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=i.C0.ESC+(r?"f":"[1;5C"))):s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",r||s.key!==i.C0.ESC+"[1;3A"||(s.key=i.C0.ESC+"[1;5A")):s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",r||s.key!==i.C0.ESC+"[1;3B"||(s.key=i.C0.ESC+"[1;5B")):s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:e.ctrlKey?s.key=i.C0.ESC+"[5;"+(a+1)+"~":s.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:e.ctrlKey?s.key=i.C0.ESC+"[6;"+(a+1)+"~":s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!n||!e.altKey||e.metaKey)!r||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(s.key=i.C0.US),"@"===e.key&&(s.key=i.C0.NUL)):65===e.keyCode&&(s.type=1);else{var l=o[e.keyCode],c=null==l?void 0:l[e.shiftKey?1:0];if(c)s.key=i.C0.ESC+c;else if(e.keyCode>=65&&e.keyCode<=90){var h=e.ctrlKey?e.keyCode-64:e.keyCode+32,u=String.fromCharCode(h);e.shiftKey&&(u=u.toUpperCase()),s.key=i.C0.ESC+u}else"Dead"===e.key&&e.code.startsWith("Key")&&(u=e.code.slice(3,4),e.shiftKey||(u=u.toLowerCase()),s.key=i.C0.ESC+u,s.cancel=!0)}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=i.C0.DEL:219===e.keyCode?s.key=i.C0.ESC:220===e.keyCode?s.key=i.C0.FS:221===e.keyCode&&(s.key=i.C0.GS)}return s}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length);for(var i="",o=t;o<r;++o){var n=e[o];n>65535?(n-=65536,i+=String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):i+=String.fromCharCode(n)}return i};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i=0,o=0;this._interim&&(56320<=(a=e.charCodeAt(o++))&&a<=57343?t[i++]=1024*(this._interim-55296)+a-56320+65536:(t[i++]=this._interim,t[i++]=a),this._interim=0);for(var n=o;n<r;++n){var s=e.charCodeAt(n);if(55296<=s&&s<=56319){if(++n>=r)return this._interim=s,i;var a;56320<=(a=e.charCodeAt(n))&&a<=57343?t[i++]=1024*(s-55296)+a-56320+65536:(t[i++]=s,t[i++]=a)}else 65279!==s&&(t[i++]=s)}return i},e}();t.StringToUtf32=r;var i=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i,o,n,s,a=0,l=0,c=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var d=0,f=void 0;(f=63&this.interim[++d])&&d<4;)u<<=6,u|=f;for(var p=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,g=p-d;c<g;){if(c>=r)return 0;if(128!=(192&(f=e[c++]))){c--,h=!0;break}this.interim[d++]=f,u<<=6,u|=63&f}h||(2===p?u<128?c--:t[a++]=u:3===p?u<2048||u>=55296&&u<=57343||65279===u||(t[a++]=u):u<65536||u>1114111||(t[a++]=u)),this.interim.fill(0)}for(var m=r-4,v=c;v<r;){for(;!(!(v<m)||128&(i=e[v])||128&(o=e[v+1])||128&(n=e[v+2])||128&(s=e[v+3]));)t[a++]=i,t[a++]=o,t[a++]=n,t[a++]=s,v+=4;if((i=e[v++])<128)t[a++]=i;else if(192==(224&i)){if(v>=r)return this.interim[0]=i,a;if(128!=(192&(o=e[v++]))){v--;continue}if((l=(31&i)<<6|63&o)<128){v--;continue}t[a++]=l}else if(224==(240&i)){if(v>=r)return this.interim[0]=i,a;if(128!=(192&(o=e[v++]))){v--;continue}if(v>=r)return this.interim[0]=i,this.interim[1]=o,a;if(128!=(192&(n=e[v++]))){v--;continue}if((l=(15&i)<<12|(63&o)<<6|63&n)<2048||l>=55296&&l<=57343||65279===l)continue;t[a++]=l}else if(240==(248&i)){if(v>=r)return this.interim[0]=i,a;if(128!=(192&(o=e[v++]))){v--;continue}if(v>=r)return this.interim[0]=i,this.interim[1]=o,a;if(128!=(192&(n=e[v++]))){v--;continue}if(v>=r)return this.interim[0]=i,this.interim[1]=o,this.interim[2]=n,a;if(128!=(192&(s=e[v++]))){v--;continue}if((l=(7&i)<<18|(63&o)<<12|(63&n)<<6|63&s)<65536||l>1114111)continue;t[a++]=l}}return a},e}();t.Utf8ToUtf32=i},225:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var i,o=r(8273),n=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!i){i=new Uint8Array(65536),(0,o.fill)(i,1),i[0]=0,(0,o.fill)(i,0,1,32),(0,o.fill)(i,0,127,160),(0,o.fill)(i,2,4352,4448),i[9001]=2,i[9002]=2,(0,o.fill)(i,2,11904,42192),i[12351]=1,(0,o.fill)(i,2,44032,55204),(0,o.fill)(i,2,63744,64256),(0,o.fill)(i,2,65040,65050),(0,o.fill)(i,2,65072,65136),(0,o.fill)(i,2,65280,65377),(0,o.fill)(i,2,65504,65511);for(var e=0;e<n.length;++e)(0,o.fill)(i,0,n[e][0],n[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){var r,i=0,o=t.length-1;if(e<t[0][0]||e>t[o][1])return!1;for(;o>=i;)if(e>t[r=i+o>>1][1])i=r+1;else{if(!(e<t[r][0]))return!0;o=r-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},5981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var i=r(8460),o="undefined"==typeof queueMicrotask?function(e){Promise.resolve().then(e)}:queueMicrotask,n=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new i.EventEmitter}return Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),e.prototype.writeSync=function(e,t){if(void 0!==t&&this._syncCalls>t)this._syncCalls=0;else if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var r;for(this._isSyncWriting=!0;r=this._writeBuffer.shift();){this._action(r);var i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},e.prototype.write=function(e,t){var r=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return r._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(e,t){var r=this;void 0===e&&(e=0),void 0===t&&(t=!0);for(var i=e||Date.now();this._writeBuffer.length>this._bufferOffset;){var n=this._writeBuffer[this._bufferOffset],s=this._action(n,t);if(s)return void s.catch((function(e){return o((function(){throw e})),Promise.resolve(!1)})).then((function(e){return Date.now()-i>=12?setTimeout((function(){return r._innerWrite(0,e)})):r._innerWrite(i,e)}));var a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-i>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return r._innerWrite()}))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()},e}();t.WriteBuffer=n},5941:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;var i=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,o=/^[\da-f]+$/;function n(e,t){var r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}t.parseColor=function(e){if(e){var t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);var r=i.exec(t);if(r){var n=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/n*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/n*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/n*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),o.exec(t)&&[3,6,9,12].includes(t.length))){for(var s=t.length/3,a=[0,0,0],l=0;l<3;++l){var c=parseInt(t.slice(s*l,s*l+s),16);a[l]=1===s?c<<4:2===s?c:3===s?c>>4:c>>8}return a}}},t.toRgbString=function(e,t){void 0===t&&(t=16);var i=r(e,3),o=i[0],s=i[1],a=i[2];return"rgb:"+n(o,t)+"/"+n(s,t)+"/"+n(a,t)}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var i=r(482),o=r(8742),n=r(5770),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=s},e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){if(this._active.length)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,r){if(this._active.length)for(var o=this._active.length-1;o>=0;o--)this._active[o].put(e,t,r);else this._handlerFb(this._ident,"PUT",(0,i.utf32ToString)(e,t,r))},e.prototype.unhook=function(e,t){if(void 0===t&&(t=!0),this._active.length){var r=!1,i=this._active.length-1,o=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===r){for(;i>=0&&!0!==(r=this._active[i].unhook(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var l=new o.Params;l.addParam(0);var c=function(){function e(e){this._handler=e,this._data="",this._params=l,this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.length>1||e.params[0]?e.clone():l,this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,r),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data,this._params))instanceof Promise)return r.then((function(e){return t._params=l,t._data="",t._hitLimit=!1,e}));return this._params=l,this._data="",this._hitLimit=!1,r},e}();t.DcsHandler=c},2015:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var n=r(844),s=r(8273),a=r(8742),l=r(6242),c=r(6351),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){(0,s.fill)(this.table,e<<4|t)},e.prototype.add=function(e,t,r,i){this.table[t<<8|e]=r<<4|i},e.prototype.addMany=function(e,t,r,i){for(var o=0;o<e.length;o++)this.table[t<<8|e[o]]=r<<4|i},e}();t.TransitionTable=h;var u=160;t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),r=function(e,r){return t.slice(e,r)},i=r(32,127),o=r(0,24);o.push(25),o.push.apply(o,r(28,32));var n,s=r(0,14);for(n in e.setDefault(1,0),e.addMany(i,0,2,0),s)e.addMany([24,26,153,154],n,3,0),e.addMany(r(128,144),n,3,0),e.addMany(r(144,152),n,3,0),e.add(156,n,0,0),e.add(27,n,11,1),e.add(157,n,4,8),e.addMany([152,158,159],n,0,7),e.add(155,n,11,3),e.add(144,n,11,9);return e.addMany(o,0,3,0),e.addMany(o,1,3,1),e.add(127,1,0,1),e.addMany(o,8,0,8),e.addMany(o,3,3,3),e.add(127,3,0,3),e.addMany(o,4,3,4),e.add(127,4,0,4),e.addMany(o,6,3,6),e.addMany(o,5,3,5),e.add(127,5,0,5),e.addMany(o,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(o,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(o,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(o,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(o,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(o,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(o,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(u,0,2,0),e.add(u,8,5,8),e.add(u,6,0,6),e.add(u,11,0,11),e.add(u,13,13,13),e}();var d=function(e){function r(r){void 0===r&&(r=t.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i._transitions=r,i._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},i.initialState=0,i.currentState=i.initialState,i._params=new a.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(e,t,r){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t){},i._escHandlerFb=function(e){},i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new l.OscParser,i._dcsParser=new c.DcsParser,i._errorHandler=i._errorHandlerFb,i.registerEscHandler({final:"\\"},(function(){return!0})),i}return o(r,e),r.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((r=e.prefix.charCodeAt(0))&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var i=0;i<e.intermediates.length;++i){var o=e.intermediates.charCodeAt(i);if(32>o||o>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=o}}if(1!==e.final.length)throw new Error("final must be a single byte");var n=e.final.charCodeAt(0);if(t[0]>n||n>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(r<<=8)|n},r.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},r.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},r.prototype.setPrintHandler=function(e){this._printHandler=e},r.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},r.prototype.registerEscHandler=function(e,t){var r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);var i=this._escHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},r.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},r.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},r.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},r.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},r.prototype.registerCsiHandler=function(e,t){var r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);var i=this._csiHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},r.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},r.prototype.registerDcsHandler=function(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)},r.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},r.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},r.prototype.registerOscHandler=function(e,t){return this._oscParser.registerHandler(e,t)},r.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},r.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},r.prototype.setErrorHandler=function(e){this._errorHandler=e},r.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},r.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},r.prototype._preserveStack=function(e,t,r,i,o){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=o},r.prototype.parse=function(e,t,r){var i,o=0,n=0,s=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(void 0===r||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var a=this._parseStack.handlers,l=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===r&&l>-1)for(;l>=0&&!0!==(i=a[l](this._params));l--)if(i instanceof Promise)return this._parseStack.handlerPos=l,i;this._parseStack.handlers=[];break;case 4:if(!1===r&&l>-1)for(;l>=0&&!0!==(i=a[l]());l--)if(i instanceof Promise)return this._parseStack.handlerPos=l,i;this._parseStack.handlers=[];break;case 6:if(o=e[this._parseStack.chunkPos],i=this._dcsParser.unhook(24!==o&&26!==o,r))return i;27===o&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(o=e[this._parseStack.chunkPos],i=this._oscParser.end(24!==o&&26!==o,r))return i;27===o&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var c=s;c<t;++c){switch(o=e[c],(n=this._transitions.table[this.currentState<<8|(o<160?o:u)])>>4){case 2:for(var h=c+1;;++h){if(h>=t||(o=e[h])<32||o>126&&o<u){this._printHandler(e,c,h),c=h-1;break}if(++h>=t||(o=e[h])<32||o>126&&o<u){this._printHandler(e,c,h),c=h-1;break}if(++h>=t||(o=e[h])<32||o>126&&o<u){this._printHandler(e,c,h),c=h-1;break}if(++h>=t||(o=e[h])<32||o>126&&o<u){this._printHandler(e,c,h),c=h-1;break}}break;case 3:this._executeHandlers[o]?this._executeHandlers[o]():this._executeHandlerFb(o),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:c,code:o,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var d=(a=this._csiHandlers[this._collect<<8|o])?a.length-1:-1;d>=0&&!0!==(i=a[d](this._params));d--)if(i instanceof Promise)return this._preserveStack(3,a,d,n,c),i;d<0&&this._csiHandlerFb(this._collect<<8|o,this._params),this.precedingCodepoint=0;break;case 8:do{switch(o){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(o-48)}}while(++c<t&&(o=e[c])>47&&o<60);c--;break;case 9:this._collect<<=8,this._collect|=o;break;case 10:for(var f=this._escHandlers[this._collect<<8|o],p=f?f.length-1:-1;p>=0&&!0!==(i=f[p]());p--)if(i instanceof Promise)return this._preserveStack(4,f,p,n,c),i;p<0&&this._escHandlerFb(this._collect<<8|o),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|o,this._params);break;case 13:for(var g=c+1;;++g)if(g>=t||24===(o=e[g])||26===o||27===o||o>127&&o<u){this._dcsParser.put(e,c,g),c=g-1;break}break;case 14:if(i=this._dcsParser.unhook(24!==o&&26!==o))return this._preserveStack(6,[],0,n,c),i;27===o&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var m=c+1;;m++)if(m>=t||(o=e[m])<32||o>127&&o<u){this._oscParser.put(e,c,m),c=m-1;break}break;case 6:if(i=this._oscParser.end(24!==o&&26!==o))return this._preserveStack(5,[],0,n,c),i;27===o&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&n}},r}(n.Disposable);t.EscapeSequenceParser=d},6242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var i=r(5770),o=r(482),n=[],s=function(){function e(){this._state=0,this._active=n,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=n},e.prototype.reset=function(){if(2===this._state)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=n,this._id=-1,this._state=0},e.prototype._start=function(){if(this._active=this._handlers[this._id]||n,this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,r){if(this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r);else this._handlerFb(this._id,"PUT",(0,o.utf32ToString)(e,t,r))},e.prototype.start=function(){this.reset(),this._state=1},e.prototype.put=function(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){var i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&r-t>0&&this._put(e,t,r)}},e.prototype.end=function(e,t){if(void 0===t&&(t=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var r=!1,i=this._active.length-1,o=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===r){for(;i>=0&&!0!==(r=this._active[i].end(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._id,"END",e);this._active=n,this._id=-1,this._state=0}},e}();t.OscParser=s;var a=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,o.utf32ToString)(e,t,r),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data))instanceof Promise)return r.then((function(e){return t._data="",t._hitLimit=!1,e}));return this._data="",this._hitLimit=!1,r},e}();t.OscHandler=a},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var r=2147483647,i=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var r=new e;if(!t.length)return r;for(var i=Array.isArray(t[0])?1:0;i<t.length;++i){var o=t[i];if(Array.isArray(o))for(var n=0;n<o.length;++n)r.addSubParam(o[n]);else r.addParam(o)}return r},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&e.push(Array.prototype.slice.call(this._subParams,r,i))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>r?r:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>r?r:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return r-t>0?this._subParams.subarray(t,r):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&(e[t]=this._subParams.slice(r,i))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,o=i[t-1];i[t-1]=~o?Math.min(10*o+e,r):e}},e}();t.Params=i},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var r=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var r=this,i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=function(){return r._wrappedAddonDispose(i)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=r},8771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;var i=r(3785),o=r(511),n=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new i.BufferLineApiView(t)},e.prototype.getNullCell=function(){return new o.CellData},e}();t.BufferApiView=n},3785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;var i=r(511),o=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)},e.prototype.translateToString=function(e,t,r){return this._line.translateToString(e,t,r)},e}();t.BufferLineApiView=o},8285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;var i=r(8771),o=r(8460),n=function(){function e(e){var t=this;this._core=e,this._onBufferChange=new o.EventEmitter,this._normal=new i.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new i.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),e}();t.BufferNamespaceApi=n},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.registerCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.registerDcsHandler(e,(function(e,r){return t(e,r.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.registerEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.registerOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}();t.ParserApi=r},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}();t.UnicodeApi=r},744:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=r(2585),l=r(5295),c=r(8460),h=r(844);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var u=function(e){function r(r){var i=e.call(this)||this;return i._optionsService=r,i.isUserScrolling=!1,i._onResize=new c.EventEmitter,i._onScroll=new c.EventEmitter,i.cols=Math.max(r.rawOptions.cols||0,t.MINIMUM_COLS),i.rows=Math.max(r.rawOptions.rows||0,t.MINIMUM_ROWS),i.buffers=new l.BufferSet(r,i),i}return o(r,e),Object.defineProperty(r.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},r.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},r.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},r.prototype.scroll=function(e,t){void 0===t&&(t=!1);var r,i=this.buffer;(r=this._cachedBlankLine)&&r.length===this.cols&&r.getFg(0)===e.fg&&r.getBg(0)===e.bg||(r=i.getBlankLine(e,t),this._cachedBlankLine=r),r.isWrapped=t;var o=i.ybase+i.scrollTop,n=i.ybase+i.scrollBottom;if(0===i.scrollTop){var s=i.lines.isFull;n===i.lines.length-1?s?i.lines.recycle().copyFrom(r):i.lines.push(r.clone()):i.lines.splice(n+1,0,r.clone()),s?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else{var a=n-o+1;i.lines.shiftElements(o+1,a-1,-1),i.lines.set(n,r.clone())}this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)},r.prototype.scrollLines=function(e,t,r){var i=this.buffer;if(e<0){if(0===i.ydisp)return;this.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this.isUserScrolling=!1);var o=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),o!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},r.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},r.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},r.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},r.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},n([s(0,a.IOptionsService)],r)}(h.Disposable);t.BufferService=u},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var r=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=r},1753:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var s=r(2585),a=r(8460),l={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function c(e,t){var r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}var h=String.fromCharCode,u={DEFAULT:function(e){var t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+h(t[0])+h(t[1])+h(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+c(e,!0)+";"+e.col+";"+e.row+t}},d=function(){function e(e,t){var r,i,o,s;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new a.EventEmitter,this._lastEvent=null;try{for(var c=n(Object.keys(l)),h=c.next();!h.done;h=c.next()){var d=h.value;this.addProtocol(d,l[d])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}try{for(var f=n(Object.keys(u)),p=f.next();!p.done;p=f.next()){var g=p.value;this.addEncoding(g,u[g])}}catch(e){o={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([o(0,s.IBufferService),o(1,s.ICoreService)],e)}();t.CoreMouseService=d},6975:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=r(2585),l=r(8460),c=r(1439),h=r(844),u=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(e){function t(t,r,i,o){var n=e.call(this)||this;return n._bufferService=r,n._logService=i,n._optionsService=o,n.isCursorInitialized=!1,n.isCursorHidden=!1,n._onData=n.register(new l.EventEmitter),n._onUserInput=n.register(new l.EventEmitter),n._onBinary=n.register(new l.EventEmitter),n._scrollToBottom=t,n.register({dispose:function(){return n._scrollToBottom=void 0}}),n.modes=(0,c.clone)(u),n.decPrivateModes=(0,c.clone)(d),n}return o(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=(0,c.clone)(u),this.decPrivateModes=(0,c.clone)(d)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.rawOptions.disableStdin){var r=this._bufferService.buffer;r.ybase!==r.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},n([s(1,a.IBufferService),s(2,a.ILogService),s(3,a.IOptionsService)],t)}(h.Disposable);t.CoreService=f},9074:function(e,t,r){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;var a=r(8055),l=r(8460),c=r(844),h=r(6106),u=function(e){function t(){var t=e.call(this)||this;return t._decorations=new h.SortedList((function(e){return e.marker.line})),t._onDecorationRegistered=t.register(new l.EventEmitter),t._onDecorationRemoved=t.register(new l.EventEmitter),t}return o(t,e),Object.defineProperty(t.prototype,"onDecorationRegistered",{get:function(){return this._onDecorationRegistered.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDecorationRemoved",{get:function(){return this._onDecorationRemoved.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decorations",{get:function(){return this._decorations.values()},enumerable:!1,configurable:!0}),t.prototype.registerDecoration=function(e){var t=this;if(!e.marker.isDisposed){var r=new d(e);if(r){var i=r.marker.onDispose((function(){return r.dispose()}));r.onDispose((function(){r&&(t._decorations.delete(r)&&t._onDecorationRemoved.fire(r),i.dispose())})),this._decorations.insert(r),this._onDecorationRegistered.fire(r)}return r}},t.prototype.reset=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next())i.value.dispose()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._decorations.clear()},t.prototype.getDecorationsAtLine=function(e){return n(this,(function(t){return[2,this._decorations.getKeyIterator(e)]}))},t.prototype.getDecorationsAtCell=function(e,t,r){var i,o,a,l,c,h,u,d,f,p,g;return n(this,(function(n){switch(n.label){case 0:i=0,o=0,n.label=1;case 1:n.trys.push([1,6,7,8]),a=s(this._decorations.getKeyIterator(t)),l=a.next(),n.label=2;case 2:return l.done?[3,5]:(c=l.value,i=null!==(f=c.options.x)&&void 0!==f?f:0,o=i+(null!==(p=c.options.width)&&void 0!==p?p:1),!(e>=i&&e<o)||r&&(null!==(g=c.options.layer)&&void 0!==g?g:"bottom")!==r?[3,4]:[4,c]);case 3:n.sent(),n.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return h=n.sent(),u={error:h},[3,8];case 7:try{l&&!l.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))},t.prototype.dispose=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next()){var o=i.value;this._onDecorationRemoved.fire(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.reset()},t}(c.Disposable);t.DecorationService=u;var d=function(e){function t(t){var r=e.call(this)||this;return r.options=t,r.isDisposed=!1,r.onRenderEmitter=r.register(new l.EventEmitter),r.onRender=r.onRenderEmitter.event,r._onDispose=r.register(new l.EventEmitter),r.onDispose=r._onDispose.event,r._cachedBg=null,r._cachedFg=null,r.marker=t.marker,r.options.overviewRulerOptions&&!r.options.overviewRulerOptions.position&&(r.options.overviewRulerOptions.position="full"),r}return o(t,e),Object.defineProperty(t.prototype,"backgroundColorRGB",{get:function(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=a.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foregroundColorRGB",{get:function(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=a.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),e.prototype.dispose.call(this))},t}(c.Disposable)},3730:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var n=r(2585),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var r=e;e=t,t=r}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},i([o(0,n.IBufferService)],e)}();t.DirtyRowService=s},4348:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var s=r(2585),a=r(8343),l=function(){function e(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this._entries=new Map;try{for(var s=i(r),a=s.next();!a.done;a=s.next()){var l=o(a.value,2),c=l[0],h=l[1];this.set(c,h)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}return e.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},e.prototype.forEach=function(e){this._entries.forEach((function(t,r){return e(r,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=l;var c=function(){function e(){this._services=new l,this._services.set(s.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t,r,s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var c=(0,a.getServiceDependencies)(e).sort((function(e,t){return e.index-t.index})),h=[];try{for(var u=i(c),d=u.next();!d.done;d=u.next()){var f=d.value,p=this._services.get(f.id);if(!p)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+f.id+".");h.push(p)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var g=c.length>0?c[0].index:s.length;if(s.length!==g)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(g+1)+" conflicts with "+s.length+" static arguments");return new(e.bind.apply(e,n([void 0],o(n(n([],o(s),!1),o(h),!1)),!1)))},e}();t.InstantiationService=c},7866:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=void 0;var a=r(2585),l={debug:a.LogLevelEnum.DEBUG,info:a.LogLevelEnum.INFO,warn:a.LogLevelEnum.WARN,error:a.LogLevelEnum.ERROR,off:a.LogLevelEnum.OFF},c=function(){function e(e){var t=this;this._optionsService=e,this.logLevel=a.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this.logLevel=l[this._optionsService.rawOptions.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,r){this._evalLazyOptionalParams(r),e.call.apply(e,s([console,"xterm.js: "+t],n(r),!1))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.ERROR&&this._log(console.error,e,t)},i([o(0,a.IOptionsService)],e)}();t.LogService=c},7302:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var o=r(8460),n=r(6114);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:n.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:void 0};var s=["normal","bold","100","200","300","400","500","600","700","800","900"],a=function(){function e(e){this._onOptionChange=new o.EventEmitter;var r=i({},t.DEFAULT_OPTIONS);for(var n in e)if(n in r)try{var s=e[n];r[n]=this._sanitizeAndValidateOption(n,s)}catch(e){console.error(e)}this.rawOptions=r,this.options=i({},r),this._setupOptions()}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype._setupOptions=function(){var e=this,r=function(r){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');return e.rawOptions[r]},i=function(r,i){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');i=e._sanitizeAndValidateOption(r,i),e.rawOptions[r]!==i&&(e.rawOptions[r]=i,e._onOptionChange.fire(r))};for(var o in this.rawOptions){var n={get:r.bind(this,o),set:i.bind(this,o)};Object.defineProperty(this.options,o,n)}},e.prototype.setOption=function(e,t){this.options[e]=t},e.prototype._sanitizeAndValidateOption=function(e,r){switch(e){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof r&&1<=r&&r<=1e3)break;r=s.includes(r)?r:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(e+" cannot be less than 1, value: "+r);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+r);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+r);case"rows":case"cols":if(!r&&0!==r)throw new Error(e+" must be numeric, value: "+r)}return r},e.prototype.getOption=function(e){return this.options[e]},e}();t.OptionsService=a},8343:(e,t)=>{function r(e,t,r){t.di$target===t?t.di$dependencies.push({id:e,index:r}):(t.di$dependencies=[{id:e,index:r}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(i,e,o)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},2585:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var i,o=r(8343);t.IBufferService=(0,o.createDecorator)("BufferService"),t.ICoreMouseService=(0,o.createDecorator)("CoreMouseService"),t.ICoreService=(0,o.createDecorator)("CoreService"),t.ICharsetService=(0,o.createDecorator)("CharsetService"),t.IDirtyRowService=(0,o.createDecorator)("DirtyRowService"),t.IInstantiationService=(0,o.createDecorator)("InstantiationService"),(i=t.LogLevelEnum||(t.LogLevelEnum={}))[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=3]="ERROR",i[i.OFF=4]="OFF",t.ILogService=(0,o.createDecorator)("LogService"),t.IOptionsService=(0,o.createDecorator)("OptionsService"),t.IUnicodeService=(0,o.createDecorator)("UnicodeService"),t.IDecorationService=(0,o.createDecorator)("DecorationService")},1480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var i=r(8460),o=r(225),n=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter;var e=new o.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,r=e.length,i=0;i<r;++i){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){if(++i>=r)return t+this.wcwidth(o);var n=e.charCodeAt(i);56320<=n&&n<=57343?o=1024*(o-55296)+n-56320+65536:t+=this.wcwidth(n)}t+=this.wcwidth(o)}return t},e}();t.UnicodeService=n}},t={};return function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,r),n.exports}(4389)})()}(RS);var QS={exports:{}};!function(e,t){self,e.exports=(()=>{var e={6:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkComputer=t.WebLinkProvider=void 0;var r=function(){function e(e,t,r,i){void 0===i&&(i={}),this._terminal=e,this._regex=t,this._handler=r,this._options=i}return e.prototype.provideLinks=function(e,t){var r=i.computeLink(e,this._regex,this._terminal,this._handler);t(this._addCallbacks(r))},e.prototype._addCallbacks=function(e){var t=this;return e.map((function(e){return e.leave=t._options.leave,e.hover=function(r,i){if(t._options.hover){var o=e.range;t._options.hover(r,i,o)}},e}))},e}();t.WebLinkProvider=r;var i=function(){function e(){}return e.computeLink=function(t,r,i,o){for(var n,s=new RegExp(r.source,(r.flags||"")+"g"),a=e._translateBufferLineToStringWithWrap(t-1,!1,i),l=a[0],c=a[1],h=-1,u=[];null!==(n=s.exec(l));){var d=n[1];if(!d){console.log("match found without corresponding matchIndex");break}if(h=l.indexOf(d,h+1),s.lastIndex=h+d.length,h<0)break;for(var f=h+d.length,p=c+1;f>i.cols;)f-=i.cols,p++;for(var g=h+1,m=c+1;g>i.cols;)g-=i.cols,m++;var v={start:{x:g,y:m},end:{x:f,y:p}};u.push({range:v,text:d,activate:o})}return u},e._translateBufferLineToStringWithWrap=function(e,t,r){var i,o,n="";do{if(!(a=r.buffer.active.getLine(e)))break;a.isWrapped&&e--,o=a.isWrapped}while(o);var s=e;do{var a,l=r.buffer.active.getLine(e+1);if(i=!!l&&l.isWrapped,!(a=r.buffer.active.getLine(e)))break;n+=a.translateToString(!i&&t).substring(0,r.cols),e++}while(i);return[n,s]},e}();t.LinkComputer=i}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.WebLinksAddon=void 0;var t=r(6),o=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,18}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?((\\/[\\/\\w\\.\\-%~:+@]*)*([^:\"'\\s]))?(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)");function n(e,t){var r=window.open();if(r){try{r.opener=null}catch(e){}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}var s=function(){function e(e,t,r){void 0===e&&(e=n),void 0===t&&(t={}),void 0===r&&(r=!1),this._handler=e,this._options=t,this._useLinkProvider=r}return e.prototype.activate=function(e){if(this._terminal=e,this._useLinkProvider&&"registerLinkProvider"in this._terminal){var r=(i=this._options).urlRegex||o;this._linkProvider=this._terminal.registerLinkProvider(new t.WebLinkProvider(this._terminal,r,this._handler,i))}else{var i;(i=this._options).matchIndex=1,this._linkMatcherId=this._terminal.registerLinkMatcher(o,this._handler,i)}},e.prototype.dispose=function(){var e;void 0!==this._linkMatcherId&&void 0!==this._terminal&&this._terminal.deregisterLinkMatcher(this._linkMatcherId),null===(e=this._linkProvider)||void 0===e||e.dispose()},e}();e.WebLinksAddon=s})(),i})()}(QS);var LS={exports:{}};!function(e,t){self,e.exports=(()=>{var e={775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var r=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core;if(0!==e._renderService.dimensions.actualCellWidth&&0!==e._renderService.dimensions.actualCellHeight){var t=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),o=window.getComputedStyle(this._terminal.element),n=r-(parseInt(o.getPropertyValue("padding-top"))+parseInt(o.getPropertyValue("padding-bottom"))),s=i-(parseInt(o.getPropertyValue("padding-right"))+parseInt(o.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(n/e._renderService.dimensions.actualCellHeight))}}}},e}();t.FitAddon=r}},t={};return function r(i){if(t[i])return t[i].exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}(775)})()}(LS);const $S=mO([]);function MS(t){let r,o,n,s,a,l,c,h,u,d,m,b,k,x,T,E,P,A,R,Q,L,$,M,D,j,B;return{c(){r=v("div"),o=v("div"),n=_(),s=v("div"),a=v("span"),l=O(t[0]),h=_(),u=v("span"),d=O("WD: "),m=O(t[1]),b=_(),k=v("div"),x=v("button"),T=O("EmailIt"),E=_(),P=v("button"),A=O("Notes"),R=_(),Q=v("button"),L=O("Log"),$=_(),M=v("button"),D=O("Edit Scripts"),w(o,"id","terminal"),C(o,"background-color",t[2].textAreaColor),C(o,"color",t[2].textColor),C(o,"border-color",t[2].borderColor),w(o,"class","svelte-1tua3so"),w(a,"id","modeIndicator"),w(a,"style",c="background-color : "+("insert"===t[0]?t[2].Cyan:t[2].Purple)+"; color: "+t[2].backgroundColor),w(a,"class","svelte-1tua3so"),w(u,"id","workingdir"),w(u,"class","svelte-1tua3so"),w(s,"id","statusline"),C(s,"background-color",t[2].backgroundColor),C(s,"color",t[2].textColor),C(s,"border-color",t[2].borderColor),w(s,"class","svelte-1tua3so"),C(x,"background-color",t[2].textAreaColor),C(x,"color",t[2].textColor),C(x,"border-color",t[2].borderColor),w(x,"class","svelte-1tua3so"),C(P,"background-color",t[2].textAreaColor),C(P,"color",t[2].textColor),C(P,"border-color",t[2].borderColor),w(P,"class","svelte-1tua3so"),C(Q,"background-color",t[2].textAreaColor),C(Q,"color",t[2].textColor),C(Q,"border-color",t[2].borderColor),w(Q,"class","svelte-1tua3so"),C(M,"background-color",t[2].textAreaColor),C(M,"color",t[2].textColor),C(M,"border-color",t[2].borderColor),w(M,"class","svelte-1tua3so"),w(k,"id","buttonRow"),w(k,"class","svelte-1tua3so"),w(r,"id","ScriptTermDiv"),C(r,"background-color",t[2].backgroundColor),C(r,"font-family",t[2].font),C(r,"color",t[2].textColor),C(r,"font-size",t[2].fontSize),w(r,"class","svelte-1tua3so")},m(e,i){p(e,r,i),f(r,o),f(r,n),f(r,s),f(s,a),f(a,l),f(s,h),f(s,u),f(u,d),f(u,m),f(r,b),f(r,k),f(k,x),f(x,T),f(k,E),f(k,P),f(P,A),f(k,R),f(k,Q),f(Q,L),f(k,$),f(k,M),f(M,D),j||(B=[y(x,"click",t[3]),y(P,"click",t[4]),y(Q,"click",t[5]),y(M,"click",t[6])],j=!0)},p(e,t){4&t[0]&&C(o,"background-color",e[2].textAreaColor),4&t[0]&&C(o,"color",e[2].textColor),4&t[0]&&C(o,"border-color",e[2].borderColor),1&t[0]&&S(l,e[0]),5&t[0]&&c!==(c="background-color : "+("insert"===e[0]?e[2].Cyan:e[2].Purple)+"; color: "+e[2].backgroundColor)&&w(a,"style",c),2&t[0]&&S(m,e[1]),4&t[0]&&C(s,"background-color",e[2].backgroundColor),4&t[0]&&C(s,"color",e[2].textColor),4&t[0]&&C(s,"border-color",e[2].borderColor),4&t[0]&&C(x,"background-color",e[2].textAreaColor),4&t[0]&&C(x,"color",e[2].textColor),4&t[0]&&C(x,"border-color",e[2].borderColor),4&t[0]&&C(P,"background-color",e[2].textAreaColor),4&t[0]&&C(P,"color",e[2].textColor),4&t[0]&&C(P,"border-color",e[2].borderColor),4&t[0]&&C(Q,"background-color",e[2].textAreaColor),4&t[0]&&C(Q,"color",e[2].textColor),4&t[0]&&C(Q,"border-color",e[2].borderColor),4&t[0]&&C(M,"background-color",e[2].textAreaColor),4&t[0]&&C(M,"color",e[2].textColor),4&t[0]&&C(M,"border-color",e[2].borderColor),4&t[0]&&C(r,"background-color",e[2].backgroundColor),4&t[0]&&C(r,"font-family",e[2].font),4&t[0]&&C(r,"color",e[2].textColor),4&t[0]&&C(r,"font-size",e[2].fontSize)},i:e,o:e,d(e){e&&g(r),j=!1,i(B)}}}function DS(e,t){return[t.slice(0,e),t.slice(e)]}function jS(e){var t=[e];let r=80,i=0;for(;t[i].length>r;){for(;" "!==t[i][r];)r--;let e=DS(r,t[i]);t=0===i?e:t.slice(0,i).concat(e),i++,r=80}return t=0===i?t[0]:t.join("\n\r           ")}function BS(e,t,r){let i,o,n,a;s(e,RO,(e=>r(14,i=e))),s(e,$S,(e=>r(15,o=e))),s(e,bb,(e=>r(16,n=e))),s(e,vO,(e=>r(2,a=e)));let l=null,c=[],h="",u={cd:{command:async function(e){'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));if(e.length>0){let t=new String(e);if("/"!==e[0]){let r=new String(e),i=new String(p);t=await window.go.main.App.AppendPath(i,r)}await window.go.main.App.DirExists(t)?r(1,p=t):l.write(`    <Error> The path "${t} doesn't exist!\n\n`)}else r(1,p=b);m.valid=!1}},help:{command:async function(e){if(0===(e=e.trim().split(" ")[0]).length)n.forEach((e=>{let t=jS(e.description);l.write(`    ${e.name}    ${t}\n\r`)})),o.length>0&&(l.write("\n\r    Aliases:\n\r\n\r"),o.forEach((e=>{l.write(`    ${e.name}="${e.line}"\n\r`)})));else{let t=n.find((t=>t.name===e));if("undefined"===t)l.write(`\n\r    ${_.red}<Error>${_.default} ${e} is an invalid Command.\n\r`);else{let e=jS(t.help);l.write(`    ${t.name}  -  ${e}\n\r`)}}m.valid=!1}},ls:{command:async function(e){'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));e=new String(e.trim());var t=new String(p);""!==e&&(t="/"===e[0]?e:await window.go.main.App.AppendPath(t,e));var r=await window.go.main.App.DirExists(t);if(r){var i=await window.go.main.App.ReadDir(t),o=[];for(let e=0;e<i.length;e++){let t=i[e],n=await window.go.main.App.AppendPath(t.Dir,t.Name);(r=await window.go.main.App.DirExists(n))?o.push({name:t.Name,command:`cd '${n}'`}):o.push({name:t.Name,command:`open '${n}'`}),l.write(`    ${t.Name}\n\r`)}m.data=o,m.valid=!0}else{await window.go.main.App.FileExists(t)?(l.write(`    ${e}\n\r`),m.data=[{name:e,tcommand:`ls '${t}'`}]):l.write(`\n\r    ${_.red}<Error>${_.default} ${t} is an invalid Directory.\n\r`)}}},open:{command:async function(e){'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));"/"!==e[0]&&(e=await window.go.main.App.AppendPath(p,e));e=new String(e.trim()),await tS.runCommandLine(`/usr/bin/open -t ${e}`,[],(()=>{}),p),m.valid=!1}},runscript:{command:async function(e){m.valid=!1;var t=e.split(",");if(t.length<2)l.write(`\n\r    ${_.red}<Error>${_.default} runscript wasn't given enough arguments.\n\r`);else{e=t.splice(1).join(",").trim(),t=t[0].trim();var r=!1;'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1),r=!0),"/"===e[0]||r||(e=await window.go.main.App.AppendPath(p,e),r=!1),e=new String(e.trim()),r?await fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:t,text:e})}).then((e=>e.json())).then((e=>{l.write(`\n\r     ${e.text}\n\r`)})):await fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:t,text:"",file:e})}).then((e=>e.json())).then((e=>{l.write(`\n\r     ${e.text}\n\r`)}))}m.valid=!1}},edit:{command:async function(e){'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));"/"!==e[0]&&(e=await window.go.main.App.AppendPath(p,e));e=new String(e.trim());let t=await window.go.main.App.AppendPath(b,".myeditorchoice");if(await window.go.main.App.FileExists(t)){var r=await window.go.main.App.ReadFile(t);(r=r.toString().trim()).endsWith(".app")?await tS.runCommandLine(`/usr/bin/open -a ${r} '${e}'`,[],(()=>{}),p):"emacs"===r&&await tS.runCommandLine('emacsclient -n -q "'+file+'"',[],((e,t)=>{}),p)}else await tS.runCommandLine(`/usr/bin/open '${e}'`,[],(()=>{}),p);m.valid=!1}},alias:{command:async function(e){let t=e.trim().split("=");if(t.length>1){let r=t[1];'"'!==r[0]&&"'"!==r[0]||(r=e.slice(1,r.length-1)),o.push({name:t[0],line:r}),async function(){let e=await window.go.main.App.AppendPath(b,".myaliases");window.go.main.App.WriteFile(e,JSON.stringify(o))}()}else if(""===e.trim()){l.write("   Aliases:\n\r");for(const e of o)l.write(`    ${e.name} = "${e.line}"\n\r`)}else l.write(`\n\r    ${_.red}<Error>${_.default} Not enough parameters for an alias.\n\r`);m.valid=!1}},hist:{command:async function(e){let t=[],r=5;e=parseInt(e.trim()),Number.isInteger(e)&&(r=e);r>c.length-1&&(r=c.length-1);for(let e=c.length-(r+1);e<c.length-1;e++)l.write(`    ${c[e]}\n\r`),t.push({name:c[e],command:c[e]});m.data=t,m.valid=!0}},rm:{command:async function(e){let t=!1;'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));e=e.trim();var r=new String(p);""!==e?(t=!1,e=new String(e),r="/"===e[0]?e:await window.go.main.App.AppendPath(r,e)):t=!0;var i=await window.go.main.App.DirExists(r);if(i&&t){var o=await window.go.main.App.ReadDir(r),n=[];for(let e=0;e<o.length;e++){let t=o[e],r=await window.go.main.App.AppendPath(t.Dir,t.Name);n.push({name:t.Name,command:`rm '${r}'`}),l.write(`    ${t.Name}\n\r`)}m.data=n,m.valid=!0}else{await window.go.main.App.FileExists(r)||i?await window.go.main.App.DeleteEntries(r):l.write(`\n\r    ${_.red}<Error>${_.default} ${r} is an invalid Directory.\n\r`)}}},mkfile:{command:async function(e){let t=!1;'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));e=e.trim();var r=new String(p);""!==e?(t=!1,e=new String(e),r="/"===e[0]?e:await window.go.main.App.AppendPath(r,e)):t=!0;await window.go.main.App.FileExists(r)||t?(l.write(`\r\n\r\n    ${_.red}<Error>${_.default} The file "${r}" already exists!\r\n\r\n`),l.prompt()):await window.go.main.App.MakeFile(r)}},mkdir:{command:async function(e){let t=!1;'"'!==e[0]&&"'"!==e[0]||(e=e.slice(1,e.length-1));e=e.trim();var r=new String(p);""!==e?(t=!1,e=new String(e),r="/"===e[0]?e:await window.go.main.App.AppendPath(r,e)):t=!0;await window.go.main.App.DirExists(r)||t?(l.write(`\r\n\r\n    ${_.red}<Error>${_.default} The directory "${r}" already exists!\r\n\r\n`),l.prompt()):await window.go.main.App.MakeDir(r)}}},f="insert",p="~",g=String.fromCharCode(27),m={line:"",data:[],valid:!1},v=0,O=0,_={red:`${g}[31m`,black:`${g}[30m`,green:`${g}[32m`,orange:`${g}[33m`,blue:`${g}[34m`,magenta:`${g}[35m`,cyan:`${g}[36m`,gray:`${g}[37m`,default:`${g}[39m`,up:`${g}[A`,down:`${g}[B`,left:`${g}[D`,right:`${g}[C`},b="";async function y(e){var t=e.trim().split(" ");m.line=e,m.valid=!1,h="";let r=n.filter((e=>e.name===t[0]));if(0===r.length){let e=o.filter((e=>e.name===t[0]));if(0===e.length)l.write(`\r\n\r\n    ${_.red}<Error>${_.default} The command "${t[0]}" wasn't found!\r\n\r\n`),l.prompt();else{var i=e[0].line.split(";");for(const e of i)await y(e)}}else await async function(e,t){await fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:e.name,text:t,envVar:{SCRIPTTERMCWD:p}})}).then((e=>e.json())).then((e=>{!function(e){l.write("\r\n"),e=JSON.parse(e),m.data=e.lines,m.valid=!0,void 0!==e.tcommand&&e.tcommand.length>0&&async function(e){c.push(m.line);let t=e.split(" ");if("alias"!==t[0].trim()){let t=e.split(";");for(let e=0;e<t.length;e++){let r=t[e].split(" ");r.length>0&&await u[r[0]].command(r.slice(1).join(" "))}}else await u[t[0]].command(t.slice(1).join(" "));l.prompt()}(e.tcommand);e.lines.forEach((e=>{l.write(`    ${_[e.color]}${e.text}${_.default}\r\n`)}))}(e.text)}))}(r[0],t.slice(1).join(" "))}return L((async()=>{b=await window.go.main.App.GetHomeDir(),r(1,p=b),await window.go.main.App.GetExecutable(),l=new RS.exports.Terminal({rendererType:"canvas",convertEol:!0,cursorBlink:!0,cursorStyle:"bar",theme:{background:a.textAreaColor,black:a.backgroundColor,blue:a.Cyan,brightBlack:a.backgroundColor,brightBlue:a.Cyan,brightCyan:a.Cyan,brightGreen:a.Green,brightMagenta:a.Pink,brightRed:a.Red,brightWhite:a.textColor,brightYellow:a.Yellow,cursor:a.textColor,cursorAccent:a.highlightBackgroundColor,cyan:a.Cyan,foreground:a.textColor,green:a.Green,magenta:a.Pink,red:a.Red,selection:a.highlightBackgroundColor,white:a.textColor,yellow:a.Yellow}});const e=new QS.exports.WebLinksAddon,t=new LS.exports.FitAddon;l.loadAddon(e),l.loadAddon(t),l.open(document.getElementById("terminal")),t.fit(),l.write(" Welcome to Script Terminal!\n"),l.prompt=()=>{l.write(" $ ")},l.prompt(),l.onKey((({key:e,domEvent:t})=>{if("insert"===f)"Enter"===t.key?h&&y(h):"Backspace"===t.key?h&&h.length>=1&&(h=h.slice(0,h.length-1),l.write("\b \b")):"ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key||("Tab"===t.key?(l.write("  "),h+="  "):"Escape"===t.key?"insert"===f?!0===m.valid&&(r(0,f="command"),v=m.data.length-1,O=0,l.write(_.up),l.write(_.right)):r(0,f="insert"):"l"===t.key&&t.ctrlKey?l.clear():(h+=e,l.write(e)));else{let t=0;switch(e){case"i":t=m.data.length-v;for(var i=0;i<t;i++)l.write(_.down);for(i=0;i<O;i++)l.write(_.left);l.write(_.left),r(0,f="insert");break;case"k":0!==v&&(v-=1,l.write(_.up));break;case"j":v<m.data.length-1&&(l.write(_.down),v+=1);break;case"l":O+=1,l.write(_.right);break;case"h":0!==O&&(l.write(_.left),O-=1);break;case"r":t=m.data.length-v;for(i=0;i<t;i++)l.write(_.down);for(i=0;i<O;i++)l.write(_.left);l.write(_.left),r(0,f="insert"),l.write(`${m.data[v].command}\n\r`),y(m.data[v].command)}}})),async function(){let e=await window.go.main.App.AppendPath(b,".myaliases");if(await window.go.main.App.FileExists(e)){let t=await window.go.main.App.ReadFile(e);d($S,o=JSON.parse(t),o)}}(),l.focus()})),[f,p,a,function(){d(RO,i="emailit",i)},function(){d(RO,i="notes",i)},function(){d(RO,i="viewlog",i)},function(){d(RO,i="scripts",i)}]}class IS extends ae{constructor(e){super(),se(this,e,BS,MS,n,{},null,[-1,-1])}}const zS=/[a-zA-Z]/,WS=(e,t=0)=>[...Array(e).keys()].map((e=>e+t));function FS(e,t,r){const i=e.slice();return i[6]=t[r],i}function qS(t){let r;return{c(){r=v("div"),w(r,"class","circle svelte-1cy66mt"),C(r,"animation-delay",t[5]/3*(t[6]-1)+t[4])},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function GS(t){let r,i=WS(3,1),o=[];for(let e=0;e<i.length;e+=1)o[e]=qS(FS(t,i,e));return{c(){r=v("div");for(let e=0;e<o.length;e+=1)o[e].c();w(r,"class","wrapper svelte-1cy66mt"),C(r,"--size",t[3]+t[1]),C(r,"--color",t[0]),C(r,"--duration",t[2])},m(e,t){p(e,r,t);for(let e=0;e<o.length;e+=1)o[e].m(r,null)},p(e,[t]){if(48&t){let n;for(i=WS(3,1),n=0;n<i.length;n+=1){const s=FS(e,i,n);o[n]?o[n].p(s,t):(o[n]=qS(s),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}10&t&&C(r,"--size",e[3]+e[1]),1&t&&C(r,"--color",e[0]),4&t&&C(r,"--duration",e[2])},i:e,o:e,d(e){e&&g(r),m(o,e)}}}function US(e,t,r){let{color:i="#FF3E00"}=t,{unit:o="px"}=t,{duration:n="1s"}=t,{size:s="60"}=t,a=n.match(zS)[0],l=n.replace(zS,"");return e.$$set=e=>{"color"in e&&r(0,i=e.color),"unit"in e&&r(1,o=e.unit),"duration"in e&&r(2,n=e.duration),"size"in e&&r(3,s=e.size)},[i,o,n,s,a,l]}class HS extends ae{constructor(e){super(),se(this,e,US,GS,n,{color:0,unit:1,duration:2,size:3})}}function NS(e){let t,r,i,o,n,s,a,l,c;return l=new HS({props:{size:"60",color:"#80ffea",unit:"px",duration:"1s"}}),{c(){t=v("div"),r=v("div"),i=v("h1"),i.textContent="Waiting on the Server!",o=_(),n=v("span"),s=O(e[0]),a=_(),ie(l.$$.fragment),C(i,"margin","auto 60px auto 100px"),C(n,"margin","10px"),C(n,"display","none"),C(r,"display","flex"),C(r,"flex-direction","row"),C(r,"color","white"),C(r,"margin","auto"),C(t,"display","flex"),C(t,"flex-direction","column"),C(t,"width","1000px"),C(t,"height","500px")},m(e,h){p(e,t,h),f(t,r),f(r,i),f(r,o),f(r,n),f(n,s),f(r,a),oe(l,r,null),c=!0},p(e,t){(!c||1&t)&&S(s,e[0])},i(e){c||(ee(l.$$.fragment,e),c=!0)},o(e){te(l.$$.fragment,e),c=!1},d(e){e&&g(t),ne(l)}}}function XS(t){let r,i;return r=new IS({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function ZS(t){let r,i;return r=new AS({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function VS(t){let r,i;return r=new Tb({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function YS(t){let r,i;return r=new Sb({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function KS(t){let r,i;return r=new w_({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function JS(t){let r,i;return r=new f_({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function ek(t){let r,i;return r=new a_({}),{c(){ie(r.$$.fragment)},m(e,t){oe(r,e,t),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){ne(r,e)}}}function tk(e){let t,r,i,o,n,s,a,l,c,h,u;const d=[ek,JS,KS,YS,VS,ZS,XS,NS],f=[];function m(e,t){return"emailit"===e[1]?0:"viewlog"===e[1]?1:"notes"===e[1]?2:"scripts"===e[1]?3:"templates"===e[1]?4:"preferences"===e[1]?5:"scriptterm"===e[1]?6:7}return i=m(e),o=f[i]=d[i](e),s=new R_({}),l=new B_({}),{c(){t=v("div"),r=_(),o.c(),n=_(),ie(s.$$.fragment),a=_(),ie(l.$$.fragment),w(t,"id","dragbar"),w(t,"data-wails-drag",""),w(t,"class","svelte-wpwr83")},m(o,d){p(o,t,d),p(o,r,d),f[i].m(o,d),p(o,n,d),oe(s,o,d),p(o,a,d),oe(l,o,d),c=!0,h||(u=y(window,"keydown",e[2]),h=!0)},p(e,[t]){let r=i;i=m(e),i===r?f[i].p(e,t):(K(),te(f[r],1,1,(()=>{f[r]=null})),J(),o=f[i],o?o.p(e,t):(o=f[i]=d[i](e),o.c()),ee(o,1),o.m(n.parentNode,n))},i(e){c||(ee(o),ee(s.$$.fragment,e),ee(l.$$.fragment,e),c=!0)},o(e){te(o),te(s.$$.fragment,e),te(l.$$.fragment,e),c=!1},d(e){e&&g(t),e&&g(r),f[i].d(e),e&&g(n),ne(s,e),e&&g(a),ne(l,e),h=!1,u()}}}function rk(e){return new Promise(((t,r)=>{setTimeout((()=>{console.log("Done waiting"),t(e)}),e)}))}function ik(e,t,r){let i,o,n,a,l,c,h;s(e,RO,(e=>r(1,i=e))),s(e,jO,(e=>r(5,o=e))),s(e,DO,(e=>r(6,n=e))),s(e,Q_,(e=>r(7,a=e))),s(e,bb,(e=>r(8,l=e))),s(e,S_,(e=>r(9,c=e))),s(e,vO,(e=>r(10,h=e)));let u=0,f=0;function p(){fetch("http://localhost:9978/api/theme",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(vO,h=e.theme,h),f++,4===f&&d(RO,i="emailit",i),"undefined"!=typeof callback&&callback()})).catch((async()=>{r(0,u++,u),await rk(100),p()}))}function g(){fetch("http://localhost:9978/api/scripts/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(S_,c=e.data,c),f++,4===f&&d(RO,i="emailit",i),"undefined"!=typeof callback&&callback()})).catch((async()=>{r(0,u++,u),await rk(100),g()}))}function m(){fetch("http://localhost:9978/api/scripts/term/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(bb,l=e.data,l),f++,4===f&&d(RO,i="emailit",i),"undefined"!=typeof callback&&callback()})).catch((async()=>{r(0,u++,u),await rk(100),m()}))}function v(){fetch("http://localhost:9978/api/template/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(Q_,a=e.templates,a),f++,4===f&&d(RO,i="emailit",i),"undefined"!=typeof callback&&callback()})).catch((async()=>{r(0,u++,u),await rk(100),v()}))}return L((async()=>{d(RO,i="notready",i),await rk(1e3),g(),m(),v(),p()})),$((()=>{})),[u,i,function(e){if(e.metaKey&&","===e.key)e.preventDefault(),d(RO,i="preferences",i);else if(e.ctrlKey)switch(e.key){case"e":d(RO,i="emailit",i),e.preventDefault();break;case"v":d(RO,i="viewlog",i),e.preventDefault();break;case"n":d(RO,i="notes",i),e.preventDefault();break;case"m":d(DO,n=!n,n),e.preventDefault();break;case"t":d(jO,o=!o,o),e.preventDefault();break;case"l":d(RO,i="scriptterm",i),e.preventDefault();break;case"p":d(RO,i="preferences",i),e.preventDefault()}}]}return new class extends ae{constructor(e){super(),se(this,e,ik,tk,n,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
