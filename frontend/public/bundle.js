var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function n(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,r,n){t.$$.on_destroy.push(function(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}(r,n))}function a(e,t,r,n){if(e){const o=l(e,t,r,n);return e[0](o)}}function l(e,t,r,n){return e[1]&&n?function(e,t){for(const r in t)e[r]=t[r];return e}(r.ctx.slice(),e[1](n(t))):r.ctx}function c(e,t,r,n){if(e[2]&&n){const o=e[2](n(r));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],r=Math.max(t.dirty.length,o.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|o[n];return e}return t.dirty|o}return t.dirty}function h(e,t,r,n,o,i){if(o){const s=l(t,r,n,i);e.p(s,o)}}function u(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function d(e,t,r){return e.set(r),t}function f(e,t){e.appendChild(t)}function p(e,t,r){e.insertBefore(t,r||null)}function g(e){e.parentNode.removeChild(e)}function m(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function O(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function v(){return b(" ")}function x(){return b("")}function w(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function k(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Q(e,t){e.value=null==t?"":t}function S(e,t,r,n){null===r?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function C(e,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===t)return void(n.selected=!0)}e.selectedIndex=-1}function $(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function T(e,t,r){e.classList[r?"add":"remove"](t)}class _{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}(t.nodeName):this.e=O(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)p(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(g)}}let P;function R(e){P=e}function A(){if(!P)throw new Error("Function called outside component initialization");return P}function z(e){A().$$.on_mount.push(e)}function M(e){A().$$.after_update.push(e)}function j(){const e=A();return(t,r,{cancelable:n=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:r=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,r,n,t),o}(t,r,{cancelable:n});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const E=[],W=[],D=[],X=[],L=Promise.resolve();let I=!1;function Z(){I||(I=!0,L.then(U))}function q(){return Z(),L}function N(e){D.push(e)}function B(e){X.push(e)}const V=new Set;let G=0;function U(){const e=P;do{for(;G<E.length;){const e=E[G];G++,R(e),F(e.$$)}for(R(null),E.length=0,G=0;W.length;)W.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];V.has(t)||(V.add(t),t())}D.length=0}while(E.length);for(;X.length;)X.pop()();I=!1,V.clear(),R(e)}function F(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const H=new Set;let Y;function J(){Y={r:0,c:[],p:Y}}function K(){Y.r||n(Y.c),Y=Y.p}function ee(e,t){e&&e.i&&(H.delete(e),e.i(t))}function te(e,t,r,n){if(e&&e.o){if(H.has(e))return;H.add(e),Y.c.push((()=>{H.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}else n&&n()}function re(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function ne(e){e&&e.c()}function oe(e,r,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:h}=e.$$;a&&a.m(r,i),s||N((()=>{const r=l.map(t).filter(o);c?c.push(...r):n(r),e.$$.on_mount=[]})),h.forEach(N)}function ie(e,t){const r=e.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function se(t,o,i,s,a,l,c,h=[-1]){const u=P;R(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(u?u.$$.context:[])),callbacks:r(),dirty:h,skip_bound:!1,root:o.target||u.$$.root};c&&c(d.root);let f=!1;if(d.ctx=i?i(t,o.props||{},((e,r,...n)=>{const o=n.length?n[0]:r;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(E.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),r})):[],d.update(),f=!0,n(d.before_update),d.fragment=!!s&&s(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(g)}else d.fragment&&d.fragment.c();o.intro&&ee(t.$$.fragment),oe(t,o.target,o.anchor,o.customElement),U()}R(u)}class ae{$destroy(){ie(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class le{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let n=[];return this.decompose(0,e,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(t,this.length,n,1),he.from(n,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),he.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),n=new fe(this),o=new fe(e);for(let e=t,i=t;;){if(n.next(e),o.next(e),e=0,n.lineBreak!=o.lineBreak||n.done!=o.done||n.value!=o.value)return!1;if(i+=n.value.length,n.done||i>=r)return!0}}iter(e=1){return new fe(this,e)}iterRange(e,t=this.length){return new pe(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let n=this.line(e).from;r=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ge(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new ce(e):he.from(ce.split(e,[])):le.empty}}class ce extends le{constructor(e,t=function(e){let t=-1;for(let r of e)t+=r.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,n){for(let o=0;;o++){let i=this.text[o],s=n+i.length;if((t?r:s)>=e)return new me(n,s,r,i);n=s+1,r++}}decompose(e,t,r,n){let o=e<=0&&t>=this.length?this:new ce(de(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&n){let e=r.pop(),t=ue(o.text,e.text.slice(),0,o.length);if(t.length<=32)r.push(new ce(t,e.length+o.length));else{let e=t.length>>1;r.push(new ce(t.slice(0,e)),new ce(t.slice(e)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof ce))return super.replace(e,t,r);let n=ue(this.text,ue(r.text,de(this.text,0,e)),t),o=this.length+r.length-(t-e);return n.length<=32?new ce(n,o):he.from(ce.split(n,[]),o)}sliceString(e,t=this.length,r="\n"){let n="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let s=this.text[i],a=o+s.length;o>e&&i&&(n+=r),e<a&&t>o&&(n+=s.slice(Math.max(0,e-o),t-o)),o=a+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],n=-1;for(let o of e)r.push(o),n+=o.length+1,32==r.length&&(t.push(new ce(r,n)),r=[],n=-1);return n>-1&&t.push(new ce(r,n)),t}}class he extends le{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,r,n){for(let o=0;;o++){let i=this.children[o],s=n+i.length,a=r+i.lines-1;if((t?a:s)>=e)return i.lineInner(e,t,r,n);n=s+1,r=a+1}}decompose(e,t,r,n){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(e<=a&&t>=i){let o=n&((i<=e?1:0)|(a>=t?2:0));i>=e&&a<=t&&!o?r.push(s):s.decompose(e-i,t-i,r,o)}i=a+1}}replace(e,t,r){if(r.lines<this.lines)for(let n=0,o=0;n<this.children.length;n++){let i=this.children[n],s=o+i.length;if(e>=o&&t<=s){let a=i.replace(e-o,t-o,r),l=this.lines-i.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let o=this.children.slice();return o[n]=a,new he(o,this.length-(t-e)+r.length)}return super.replace(o,s,a)}o=s+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r="\n"){let n="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let s=this.children[o],a=i+s.length;i>e&&o&&(n+=r),e<a&&t>i&&(n+=s.sliceString(e-i,t-i,r)),i=a+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof he))return 0;let r=0,[n,o,i,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,o+=t){if(n==i||o==s)return r;let a=this.children[n],l=e.children[o];if(a!=l)return r+a.scanIdentical(l,t);r+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let r=0;for(let t of e)r+=t.lines;if(r<32){let r=[];for(let t of e)t.flatten(r);return new ce(r,t)}let n=Math.max(32,r>>5),o=n<<1,i=n>>1,s=[],a=0,l=-1,c=[];function h(e){let t;if(e.lines>o&&e instanceof he)for(let t of e.children)h(t);else e.lines>i&&(a>i||!a)?(u(),s.push(e)):e instanceof ce&&a&&(t=c[c.length-1])instanceof ce&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new ce(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>n&&u(),a+=e.lines,l+=e.length+1,c.push(e))}function u(){0!=a&&(s.push(1==c.length?c[0]:he.from(c,l)),l=-1,a=c.length=0)}for(let t of e)h(t);return u(),1==s.length?s[0]:new he(s,t)}}function ue(e,t,r=0,n=1e9){for(let o=0,i=0,s=!0;i<e.length&&o<=n;i++){let a=e[i],l=o+a.length;l>=r&&(l>n&&(a=a.slice(0,n-o)),o<r&&(a=a.slice(r-o)),s?(t[t.length-1]+=a,s=!1):t.push(a)),o=l+1}return t}function de(e,t,r){return ue(e,[""],t,r)}le.empty=new ce([""],0);class fe{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ce?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],o=this.offsets[r],i=o>>1,s=n instanceof ce?n.text.length:n.children.length;if(i==(t>0?s:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(n instanceof ce){let o=n.text[i+(t<0?-1:0)];if(this.offsets[r]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=n.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof ce?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class pe{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new fe(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=r?n:t<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class ge{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:n}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(le.prototype[Symbol.iterator]=function(){return this.iter()},fe.prototype[Symbol.iterator]=pe.prototype[Symbol.iterator]=ge.prototype[Symbol.iterator]=function(){return this});class me{constructor(e,t,r,n){this.from=e,this.to=t,this.number=r,this.text=n}get length(){return this.to-this.from}}let Oe="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<Oe.length;e++)Oe[e]+=Oe[e-1];function be(e){for(let t=1;t<Oe.length;t+=2)if(Oe[t]>e)return Oe[t-1]<=e;return!1}function ve(e){return e>=127462&&e<=127487}function xe(e,t,r=!0,n=!0){return(r?we:ke)(e,t,n)}function we(e,t,r){if(t==e.length)return t;t&&ye(e.charCodeAt(t))&&Qe(e.charCodeAt(t-1))&&t--;let n=Se(e,t);for(t+=$e(n);t<e.length;){let o=Se(e,t);if(8205==n||8205==o||r&&be(o))t+=$e(o),n=o;else{if(!ve(o))break;{let r=0,n=t-2;for(;n>=0&&ve(Se(e,n));)r++,n-=2;if(r%2==0)break;t+=2}}}return t}function ke(e,t,r){for(;t>0;){let n=we(e,t-2,r);if(n<t)return n;t--}return 0}function ye(e){return e>=56320&&e<57344}function Qe(e){return e>=55296&&e<56320}function Se(e,t){let r=e.charCodeAt(t);if(!Qe(r)||t+1==e.length)return r;let n=e.charCodeAt(t+1);return ye(n)?n-56320+(r-55296<<10)+65536:r}function Ce(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $e(e){return e<65536?1:2}const Te=/\r\n?|\n/;var _e=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(_e||(_e={}));class Pe{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,n=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(r,n,o),n+=o):n+=i,r+=o}}iterChangedRanges(e,t=!1){Me(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];n<0?e.push(r,n):e.push(n,r)}return new Pe(e)}composeDesc(e){return this.empty?e:e.empty?this:Ee(this,e)}mapDesc(e,t=!1){return e.empty?this:je(this,e,t)}mapPos(e,t=-1,r=_e.Simple){let n=0,o=0;for(let i=0;i<this.sections.length;){let s=this.sections[i++],a=this.sections[i++],l=n+s;if(a<0){if(l>e)return o+(e-n);o+=s}else{if(r!=_e.Simple&&l>=e&&(r==_e.TrackDel&&n<e&&l>e||r==_e.TrackBefore&&n<e||r==_e.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==n||t<0?o:o+a;o+=a}n=l}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return o}touchesRange(e,t=e){for(let r=0,n=0;r<this.sections.length&&n<=t;){let o=n+this.sections[r++];if(this.sections[r++]>=0&&n<=t&&o>=e)return!(n<e&&o>t)||"cover";n=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+r+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Pe(e)}static create(e){return new Pe(e)}}class Re extends Pe{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Me(this,((t,r,n,o,i)=>e=e.replace(n,n+(r-t),i)),!1),e}mapDesc(e,t=!1){return je(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let n=0,o=0;n<t.length;n+=2){let i=t[n],s=t[n+1];if(s>=0){t[n]=s,t[n+1]=i;let a=n>>1;for(;r.length<a;)r.push(le.empty);r.push(i?e.slice(o,o+i):le.empty)}o+=i}return new Re(t,r)}compose(e){return this.empty?e:e.empty?this:Ee(this,e,!0)}map(e,t=!1){return e.empty?this:je(this,e,t,!0)}iterChanges(e,t=!1){Me(this,e,t)}get desc(){return Pe.create(this.sections)}filter(e){let t=[],r=[],n=[],o=new We(this);e:for(let i=0,s=0;;){let a=i==e.length?1e9:e[i++];for(;s<a||s==a&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,a-s);Ae(n,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;Ae(t,e,i),i>0&&ze(r,t,o.text),o.forward(e),s+=e}let l=e[i++];for(;s<l;){if(o.done)break e;let e=Math.min(o.len,l-s);Ae(t,e,-1),Ae(n,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),s+=e}}return{changes:new Re(t,r),filtered:Pe.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],n=this.sections[t+1];n<0?e.push(r):0==n?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let n=[],o=[],i=0,s=null;function a(e=!1){if(!e&&!n.length)return;i<t&&Ae(n,t-i,-1);let r=new Re(n,o);s=s?s.compose(r.map(s)):r,n=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Re){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let h=c?"string"==typeof c?le.of(c.split(r||Te)):c:le.empty,u=h.length;if(e==s&&0==u)return;e<i&&a(),e>i&&Ae(n,e-i,-1),Ae(n,s-e,u),ze(o,n,h),i=s}}(e),a(!s),s}static empty(e){return new Re(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let n=0;n<e.length;n++){let o=e[n];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<n;)r.push(le.empty);r[n]=le.of(o.slice(1)),t.push(o[0],r[n].length)}}}return new Re(t,r)}static createSet(e,t){return new Re(e,t)}}function Ae(e,t,r,n=!1){if(0==t&&r<=0)return;let o=e.length-2;o>=0&&r<=0&&r==e[o+1]?e[o]+=t:0==t&&0==e[o]?e[o+1]+=r:n?(e[o]+=t,e[o+1]+=r):e.push(t,r)}function ze(e,t,r){if(0==r.length)return;let n=t.length-2>>1;if(n<e.length)e[e.length-1]=e[e.length-1].append(r);else{for(;e.length<n;)e.push(le.empty);e.push(r)}}function Me(e,t,r){let n=e.inserted;for(let o=0,i=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)o+=a,i+=a;else{let c=o,h=i,u=le.empty;for(;c+=a,h+=l,l&&n&&(u=u.append(n[s-2>>1])),!(r||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(o,c,i,h,u),o=c,i=h}}}function je(e,t,r,n=!1){let o=[],i=n?[]:null,s=new We(e),a=new We(t);for(let e=-1;;)if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);Ae(o,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!r))){let t=a.len;for(Ae(o,a.ins,-1);t;){let r=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=r&&(Ae(o,0,s.ins),i&&ze(i,o,s.text),e=s.i),s.forward(r),t-=r}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return i?Re.createSet(o,i):Pe.create(o);throw new Error("Mismatched change set lengths")}{let t=0,r=s.len;for(;r;)if(-1==a.ins){let e=Math.min(r,a.len);t+=e,r-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<r))break;r-=a.len,a.next()}Ae(o,t,e<s.i?s.ins:0),i&&e<s.i&&ze(i,o,s.text),e=s.i,s.forward(s.len-r)}}}function Ee(e,t,r=!1){let n=[],o=r?[]:null,i=new We(e),s=new We(t);for(let e=!1;;){if(i.done&&s.done)return o?Re.createSet(n,o):Pe.create(n);if(0==i.ins)Ae(n,i.len,0,e),i.next();else if(0!=s.len||s.done){if(i.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,s.len),r=n.length;if(-1==i.ins){let r=-1==s.ins?-1:s.off?0:s.ins;Ae(n,t,r,e),o&&r&&ze(o,n,s.text)}else-1==s.ins?(Ae(n,i.off?0:i.len,t,e),o&&ze(o,n,i.textBit(t))):(Ae(n,i.off?0:i.len,s.off?0:s.ins,e),o&&!s.off&&ze(o,n,s.text));e=(i.ins>t||s.ins>=0&&s.len>t)&&(e||n.length>r),i.forward2(t),s.forward(t)}}else Ae(n,0,s.ins,e),o&&ze(o,n,s.text),s.next()}}class We{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?le.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?le.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class De{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let r,n;return this.empty?r=n=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),r==this.from&&n==this.to?this:new De(r,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Xe.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Xe.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Xe.range(e.anchor,e.head)}static create(e,t,r){return new De(e,t,r)}}class Xe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Xe.create(this.ranges.map((r=>r.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Xe([this.main],0)}addRange(e,t=!0){return Xe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Xe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Xe(e.ranges.map((e=>De.fromJSON(e))),e.main)}static single(e,t=e){return new Xe([Xe.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,n=0;n<e.length;n++){let o=e[n];if(o.empty?o.from<=r:o.from<r)return Xe.normalized(e.slice(),t);r=o.to}return new Xe(e,t)}static cursor(e,t=0,r,n){return De.create(e,e,(0==t?0:t<0?4:8)|(null==r?3:Math.min(2,r))|(null!=n?n:33554431)<<5)}static range(e,t,r){let n=(null!=r?r:33554431)<<5;return t<e?De.create(t,e,24|n):De.create(e,t,n|(t>e?4:0))}static normalized(e,t=0){let r=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(r);for(let r=1;r<e.length;r++){let n=e[r],o=e[r-1];if(n.empty?n.from<=o.to:n.from<o.to){let i=o.from,s=Math.max(n.to,o.to);r<=t&&t--,e.splice(--r,2,n.anchor>n.head?Xe.range(s,i):Xe.range(i,s))}}return new Xe(e,t)}}function Le(e,t){for(let r of e.ranges)if(r.to>t)throw new RangeError("Selection points outside of document")}let Ie=0;class Ze{constructor(e,t,r,n,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=n,this.id=Ie++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}static define(e={}){return new Ze(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:qe),!!e.static,e.enables)}of(e){return new Ne([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ne(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ne(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(r=>t(r.field(e))))}}function qe(e,t){return e==t||e.length==t.length&&e.every(((e,r)=>e===t[r]))}class Ne{constructor(e,t,r,n){this.dependencies=e,this.facet=t,this.type=r,this.value=n,this.id=Ie++}dynamicSlot(e){var t;let r=this.value,n=this.facet.compareInput,o=this.id,i=e[o]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let r of this.dependencies)"doc"==r?a=!0:"selection"==r?l=!0:0==(1&(null!==(t=e[r.id])&&void 0!==t?t:1))&&c.push(e[r.id]);return{create:e=>(e.values[i]=r(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||Ve(e,c)){let t=r(e);if(s?!Be(t,e.values[i],n):!n(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let a=r(e),l=t.config.address[o];if(null!=l){let r=at(t,l);if(this.dependencies.every((r=>r instanceof Ze?t.facet(r)===e.facet(r):!(r instanceof Fe)||t.field(r,!1)==e.field(r,!1)))||(s?Be(a,r,n):n(a,r)))return e.values[i]=r,0}return e.values[i]=a,1}}}}function Be(e,t,r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function Ve(e,t){let r=!1;for(let n of t)1&st(e,n)&&(r=!0);return r}function Ge(e,t,r){let n=r.map((t=>e[t.id])),o=r.map((e=>e.type)),i=n.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let r=[];for(let t=0;t<n.length;t++){let i=at(e,n[t]);if(2==o[t])for(let e of i)r.push(e);else r.push(i)}return t.combine(r)}return{create(e){for(let t of n)st(e,t);return e.values[s]=a(e),1},update(e,r){if(!Ve(e,i))return 0;let n=a(e);return t.compare(n,e.values[s])?0:(e.values[s]=n,1)},reconfigure(e,o){let i=Ve(e,n),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&qe(r,l))return e.values[s]=c,0;let h=a(e);return t.compare(h,c)?(e.values[s]=c,0):(e.values[s]=h,1)}}}const Ue=Ze.define({static:!0});class Fe{constructor(e,t,r,n,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=n,this.spec=o,this.provides=void 0}static define(e){let t=new Fe(Ie++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ue).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,r)=>{let n=e.values[t],o=this.updateF(n,r);return this.compareF(n,o)?0:(e.values[t]=o,1)},reconfigure:(e,r)=>null!=r.config.address[this.id]?(e.values[t]=r.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Ue.of({field:this,create:e})]}get extension(){return this}}const He=4,Ye=3,Je=2,Ke=1;function et(e){return t=>new rt(t,e)}const tt={highest:et(0),high:et(Ke),default:et(Je),low:et(Ye),lowest:et(He)};class rt{constructor(e,t){this.inner=e,this.prec=t}}class nt{of(e){return new ot(this,e)}reconfigure(e){return nt.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ot{constructor(e,t){this.compartment=e,this.inner=t}}class it{constructor(e,t,r,n,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=n,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let n=[],o=Object.create(null),i=new Map;for(let r of function(e,t,r){let n=[[],[],[],[],[]],o=new Map;function i(e,s){let a=o.get(e);if(null!=a){if(a<=s)return;let t=n[a].indexOf(e);t>-1&&n[a].splice(t,1),e instanceof ot&&r.delete(e.compartment)}if(o.set(e,s),Array.isArray(e))for(let t of e)i(t,s);else if(e instanceof ot){if(r.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=t.get(e.compartment)||e.inner;r.set(e.compartment,n),i(n,s)}else if(e instanceof rt)i(e.inner,e.prec);else if(e instanceof Fe)n[s].push(e),e.provides&&i(e.provides,s);else if(e instanceof Ne)n[s].push(e),e.facet.extensions&&i(e.facet.extensions,s);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(t,s)}}return i(e,Je),n.reduce(((e,t)=>e.concat(t)))}(e,t,i))r instanceof Fe?n.push(r):(o[r.facet.id]||(o[r.facet.id]=[])).push(r);let s=Object.create(null),a=[],l=[];for(let e of n)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==r?void 0:r.config.facets;for(let e in o){let t=o[e],n=t[0].facet,i=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[n.id]=a.length<<1|1,qe(i,t))a.push(r.facet(n));else{let e=n.combine(t.map((e=>e.value)));a.push(r&&n.compare(e,r.facet(n))?r.facet(n):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[n.id]=l.length<<1,l.push((e=>Ge(e,n,t)))}}let h=l.map((e=>e(s)));return new it(e,i,h,s,a,o)}}function st(e,t){if(1&t)return 2;let r=t>>1,n=e.status[r];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;e.status[r]=4;let o=e.computeSlot(e,e.config.dynamicSlots[r]);return e.status[r]=2|o}function at(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const lt=Ze.define(),ct=Ze.define({combine:e=>e.some((e=>e)),static:!0}),ht=Ze.define({combine:e=>e.length?e[0]:void 0,static:!0}),ut=Ze.define(),dt=Ze.define(),ft=Ze.define(),pt=Ze.define({combine:e=>!!e.length&&e[0]});class gt{constructor(e,t){this.type=e,this.value=t}static define(){return new mt}}class mt{of(e){return new gt(this,e)}}class Ot{constructor(e){this.map=e}of(e){return new bt(this,e)}}class bt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new bt(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ot(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let n of e){let e=n.map(t);e&&r.push(e)}return r}}bt.reconfigure=bt.define(),bt.appendConfig=bt.define();class vt{constructor(e,t,r,n,o,i){this.startState=e,this.changes=t,this.selection=r,this.effects=n,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,r&&Le(r,t.newLength),o.some((e=>e.type==vt.time))||(this.annotations=o.concat(vt.time.of(Date.now())))}static create(e,t,r,n,o,i){return new vt(e,t,r,n,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(vt.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function xt(e,t){let r=[];for(let n=0,o=0;;){let i,s;if(n<e.length&&(o==t.length||t[o]>=e[n]))i=e[n++],s=e[n++];else{if(!(o<t.length))return r;i=t[o++],s=t[o++]}!r.length||r[r.length-1]<i?r.push(i,s):r[r.length-1]<s&&(r[r.length-1]=s)}}function wt(e,t,r){var n;let o,i,s;return r?(o=t.changes,i=Re.empty(t.changes.length),s=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(o)),{changes:s,selection:t.selection?t.selection.map(i):null===(n=e.selection)||void 0===n?void 0:n.map(o),effects:bt.mapEffects(e.effects,o).concat(bt.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function kt(e,t,r){let n=t.selection,o=St(t.annotations);return t.userEvent&&(o=o.concat(vt.userEvent.of(t.userEvent))),{changes:t.changes instanceof Re?t.changes:Re.of(t.changes||[],r,e.facet(ht)),selection:n&&(n instanceof Xe?n:Xe.single(n.anchor,n.head)),effects:St(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function yt(e,t,r){let n=kt(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(r=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(r=!1);let i=!!t[o].sequential;n=wt(n,kt(e,t[o],i?n.changes.newLength:e.doc.length),i)}let o=vt.create(e,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function(e){let t=e.startState,r=t.facet(ft),n=e;for(let o=r.length-1;o>=0;o--){let i=r[o](e);i&&Object.keys(i).length&&(n=wt(e,kt(t,i,e.changes.newLength),!0))}return n==e?e:vt.create(t,e.changes,e.selection,n.effects,n.annotations,n.scrollIntoView)}(r?function(e){let t=e.startState,r=!0;for(let n of t.facet(ut)){let t=n(e);if(!1===t){r=!1;break}Array.isArray(t)&&(r=!0===r?t:xt(r,t))}if(!0!==r){let n,o;if(!1===r)o=e.changes.invertedDesc,n=Re.empty(t.doc.length);else{let t=e.changes.filter(r);n=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=vt.create(t,n,e.selection&&e.selection.map(o),bt.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let n=t.facet(dt);for(let r=n.length-1;r>=0;r--){let o=n[r](e);e=o instanceof vt?o:Array.isArray(o)&&1==o.length&&o[0]instanceof vt?o[0]:yt(t,St(o),!1)}return e}(o):o)}vt.time=gt.define(),vt.userEvent=gt.define(),vt.addToHistory=gt.define(),vt.remote=gt.define();const Qt=[];function St(e){return null==e?Qt:Array.isArray(e)?e:[e]}var Ct=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Ct||(Ct={}));const $t=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Tt;try{Tt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function _t(e){return t=>{if(!/\S/.test(t))return Ct.Space;if(function(e){if(Tt)return Tt.test(e);for(let t=0;t<e.length;t++){let r=e[t];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||$t.test(r)))return!0}return!1}(t))return Ct.Word;for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return Ct.Word;return Ct.Other}}class Pt{constructor(e,t,r,n,o,i){this.config=e,this.doc=t,this.selection=r,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)st(this,e<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(null!=r)return st(this,r),at(this,r);if(t)throw new RangeError("Field is not present in this state")}update(...e){return yt(this,e,!0)}applyTransaction(e){let t,r=this.config,{base:n,compartments:o}=r;for(let t of e.effects)t.is(nt.reconfigure)?(r&&(o=new Map,r.compartments.forEach(((e,t)=>o.set(t,e))),r=null),o.set(t.value.compartment,t.value.extension)):t.is(bt.reconfigure)?(r=null,n=t.value):t.is(bt.appendConfig)&&(r=null,n=St(n).concat(t.value));if(r)t=e.startState.values.slice();else{r=it.resolve(n,o,this);let e=new Pt(r,this.doc,this.selection,r.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null);t=e.values}new Pt(r,e.newDoc,e.newSelection,t,((t,r)=>r.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Xe.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),n=this.changes(r.changes),o=[r.range],i=St(r.effects);for(let r=1;r<t.ranges.length;r++){let s=e(t.ranges[r]),a=this.changes(s.changes),l=a.map(n);for(let e=0;e<r;e++)o[e]=o[e].map(l);let c=n.mapDesc(a,!0);o.push(s.range.map(c)),n=n.compose(l),i=bt.mapEffects(i,l).concat(bt.mapEffects(St(s.effects),c))}return{changes:n,selection:Xe.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof Re?e:Re.of(e,this.doc.length,this.facet(Pt.lineSeparator))}toText(e){return le.of(e.split(this.facet(Pt.lineSeparator)||Te))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(st(this,t),at(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let n=e[r];n instanceof Fe&&null!=this.config.address[n.id]&&(t[r]=n.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(r)for(let t in r)if(Object.prototype.hasOwnProperty.call(e,t)){let o=r[t],i=e[t];n.push(o.init((e=>o.spec.fromJSON(i,e))))}return Pt.create({doc:e.doc,selection:Xe.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=it.resolve(e.extensions||[],new Map),r=e.doc instanceof le?e.doc:le.of((e.doc||"").split(t.staticFacet(Pt.lineSeparator)||Te)),n=e.selection?e.selection instanceof Xe?e.selection:Xe.single(e.selection.anchor,e.selection.head):Xe.single(0);return Le(n,r.length),t.staticFacet(ct)||(n=n.asSingle()),new Pt(t,r,n,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Pt.tabSize)}get lineBreak(){return this.facet(Pt.lineSeparator)||"\n"}get readOnly(){return this.facet(pt)}phrase(e,...t){for(let t of this.facet(Pt.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,r)=>{if("$"==r)return"$";let n=+(r||1);return!n||n>t.length?e:t[n-1]}))),e}languageDataAt(e,t,r=-1){let n=[];for(let o of this.facet(lt))for(let i of o(this,t,r))Object.prototype.hasOwnProperty.call(i,e)&&n.push(i[e]);return n}charCategorizer(e){return _t(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:n}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-r,s=e-r;for(;i>0;){let e=xe(t,i,!1);if(o(t.slice(e,i))!=Ct.Word)break;i=e}for(;s<n;){let e=xe(t,s);if(o(t.slice(s,e))!=Ct.Word)break;s=e}return i==s?null:Xe.range(i+r,s+r)}}function Rt(e,t,r={}){let n={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],i=n[e];if(void 0===i)n[e]=o;else if(i===o||void 0===o);else{if(!Object.hasOwnProperty.call(r,e))throw new Error("Config merge conflict for field "+e);n[e]=r[e](i,o)}}for(let e in t)void 0===n[e]&&(n[e]=t[e]);return n}Pt.allowMultipleSelections=ct,Pt.tabSize=Ze.define({combine:e=>e.length?e[0]:4}),Pt.lineSeparator=ht,Pt.readOnly=pt,Pt.phrases=Ze.define({compare(e,t){let r=Object.keys(e),n=Object.keys(t);return r.length==n.length&&r.every((r=>e[r]==t[r]))}}),Pt.languageData=lt,Pt.changeFilter=ut,Pt.transactionFilter=dt,Pt.transactionExtender=ft,nt.reconfigure=bt.define();class At{eq(e){return this==e}range(e,t=e){return zt.create(e,t,this)}}At.prototype.startSide=At.prototype.endSide=0,At.prototype.point=!1,At.prototype.mapMode=_e.TrackDel;class zt{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new zt(e,t,r)}}function Mt(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class jt{constructor(e,t,r,n){this.from=e,this.to=t,this.value=r,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,n=0){let o=r?this.to:this.from;for(let i=n,s=o.length;;){if(i==s)return i;let n=i+s>>1,a=o[n]-e||(r?this.value[n].endSide:this.value[n].startSide)-t;if(n==i)return a>=0?i:s;a>=0?s=n:i=n+1}}between(e,t,r,n){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(r,1e9,!1,o);o<i;o++)if(!1===n(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let r=[],n=[],o=[],i=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+e,d=this.to[a]+e;if(u==d){let e=t.mapPos(u,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(u,h.endSide),c<l))continue}else if(l=t.mapPos(u,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(i<0&&(i=l),h.point&&(s=Math.max(s,c-l)),r.push(h),n.push(l-i),o.push(c-i))}return{mapped:r.length?new jt(n,o,r,s):null,pos:i}}}class Et{constructor(e,t,r,n){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=n}static create(e,t,r,n){return new Et(e,t,r,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:n=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(r&&(t=t.slice().sort(Mt)),this.isEmpty)return t.length?Et.of(t):this;let s=new Xt(this,null,-1).goto(0),a=0,l=[],c=new Wt;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!i||n>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!i||n>s.to||o<s.from||i(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(zt.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Et.empty:this.nextLayer.update({add:l,filter:i,filterFrom:n,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],n=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o],a=e.touchesRange(i,i+s.length);if(!1===a)n=Math.max(n,s.maxPoint),t.push(s),r.push(e.mapPos(i));else if(!0===a){let{mapped:o,pos:a}=s.map(i,e);o&&(n=Math.max(n,o.maxPoint),t.push(o),r.push(a))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Et(r,t,o||Et.empty,n)}between(e,t,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let o=this.chunkPos[n],i=this.chunk[n];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,r))return}this.nextLayer.between(e,t,r)}}iter(e=0){return Lt.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Lt.from(e).goto(t)}static compare(e,t,r,n,o=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=Dt(i,s,r),l=new Zt(i,a,o),c=new Zt(s,a,o);r.iterGaps(((e,t,r)=>qt(l,e,c,t,r,n))),r.empty&&0==r.length&&qt(l,0,c,0,0,n)}static eq(e,t,r=0,n){null==n&&(n=1e9);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let s=Dt(o,i),a=new Zt(o,s,0).goto(r),l=new Zt(i,s,0).goto(r);for(;;){if(a.to!=l.to||!Nt(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>n)return!0;a.next(),l.next()}}static spans(e,t,r,n,o=-1){let i=new Zt(e,null,o).goto(t),s=t,a=i.openStart;for(;;){let e=Math.min(i.to,r);if(i.point?(n.point(s,e,i.point,i.activeForPoint(i.to),a,i.pointRank),a=i.openEnd(e)+(i.to>e?1:0)):e>s&&(n.span(s,e,i.active,a),a=i.openEnd(e)),i.to>r)break;s=i.to,i.next()}return a}static of(e,t=!1){let r=new Wt;for(let n of e instanceof zt?[e]:t?function(e){if(e.length>1)for(let t=e[0],r=1;r<e.length;r++){let n=e[r];if(Mt(t,n)>0)return e.slice().sort(Mt);t=n}return e}(e):e)r.add(n.from,n.to,n.value);return r.finish()}}Et.empty=new Et([],[],null,-1),Et.empty.nextLayer=Et.empty;class Wt{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new jt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Wt)).add(e,t,r)}addInner(e,t,r){let n=e-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Et.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Et.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Dt(e,t,r){let n=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&n.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=n.get(e.chunk[t]);null==i||(r?r.mapPos(i):i)!=e.chunkPos[t]||(null==r?void 0:r.touchesRange(i,i+e.chunk[t].length))||o.add(e.chunk[t])}return o}class Xt{constructor(e,t,r,n=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Lt{constructor(e){this.heap=e}static from(e,t=null,r=-1){let n=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=r&&n.push(new Xt(i,t,r,o));return 1==n.length?n[0]:new Lt(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)It(this.heap,e);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)It(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),It(this.heap,0)}}}function It(e,t){for(let r=e[t];;){let n=1+(t<<1);if(n>=e.length)break;let o=e[n];if(n+1<e.length&&o.compare(e[n+1])>=0&&(o=e[n+1],n++),r.compare(o)<0)break;e[n]=r,e[t]=o,t=n}}class Zt{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Lt.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Bt(this.active,e),Bt(this.activeTo,e),Bt(this.activeRank,e),this.minActive=Gt(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:n,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;Vt(this.active,t,r),Vt(this.activeTo,t,n),Vt(this.activeRank,t,o),e&&Vt(e,t,this.cursor.from),this.minActive=Gt(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null,n=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&Bt(r,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(n=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){let t=0;for(;t<r.length&&r[t]<e;)t++;this.openStart=t+n}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function qt(e,t,r,n,o,i){e.goto(t),r.goto(n);let s=n+o,a=n,l=n-t;for(;;){let t=e.to+l-r.to||e.endSide-r.endSide,n=t<0?e.to+l:r.to,o=Math.min(n,s);if(e.point||r.point?e.point&&r.point&&(e.point==r.point||e.point.eq(r.point))&&Nt(e.activeForPoint(e.to+l),r.activeForPoint(r.to))||i.comparePoint(a,o,e.point,r.point):o>a&&!Nt(e.active,r.active)&&i.compareRange(a,o,e.active,r.active),n>s)break;a=n,t<=0&&e.next(),t>=0&&r.next()}}function Nt(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r]&&!e[r].eq(t[r]))return!1;return!0}function Bt(e,t){for(let r=t,n=e.length-1;r<n;r++)e[r]=e[r+1];e.pop()}function Vt(e,t,r){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=r}function Gt(e,t){let r=-1,n=1e9;for(let o=0;o<t.length;o++)(t[o]-n||e[o].endSide-e[r].endSide)<0&&(r=o,n=t[o]);return r}function Ut(e,t,r=e.length){let n=0;for(let o=0;o<r;)9==e.charCodeAt(o)?(n+=t-n%t,o++):(n++,o=xe(e,o));return n}function Ft(e,t,r,n){for(let n=0,o=0;;){if(o>=t)return n;if(n==e.length)break;o+=9==e.charCodeAt(n)?r-o%r:1,n=xe(e,n)}return!0===n?-1:e.length}const Ht="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Yt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Kt{constructor(e,t){this.rules=[];let{finish:r}=t||{};function n(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let r in t){let s=t[r];if(/&/.test(r))o(r.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,i);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+r+") should be a primitive value.");o(n(r),s,a,c)}else null!=s&&a.push(r.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&i.push((!r||l||s?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)o(n(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=Jt[Ht]||1;return Jt[Ht]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[Yt]||new tr(e)).mount(Array.isArray(t)?t:[t])}}let er=null;class tr{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(er)return e.adoptedStyleSheets=[er.sheet].concat(e.adoptedStyleSheets),e[Yt]=er;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),er=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Yt]=this}mount(e){let t=this.sheet,r=0,n=0;for(let o=0;o<e.length;o++){let i=e[o],s=this.modules.indexOf(i);if(s<n&&s>-1&&(this.modules.splice(s,1),n--,s=-1),-1==s){if(this.modules.splice(n++,0,i),t)for(let e=0;e<i.rules.length;e++)t.insertRule(i.rules[e],r++)}else{for(;n<s;)r+=this.modules[n++].rules.length;r+=i.rules.length,n++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}for(var rr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},nr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},or="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),ir="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),sr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ar="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),lr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cr=or&&(ar||+or[1]<57)||sr&&ar,hr=0;hr<10;hr++)rr[48+hr]=rr[96+hr]=String(hr);for(hr=1;hr<=24;hr++)rr[hr+111]="F"+hr;for(hr=65;hr<=90;hr++)rr[hr]=String.fromCharCode(hr+32),nr[hr]=String.fromCharCode(hr);for(var ur in rr)nr.hasOwnProperty(ur)||(nr[ur]=rr[ur]);function dr(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function fr(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function pr(e,t){if(!t.anchorNode)return!1;try{return fr(e,t.anchorNode)}catch(e){return!1}}function gr(e){return 3==e.nodeType?$r(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function mr(e,t,r,n){return!!r&&(br(e,t,r,n,-1)||br(e,t,r,n,1))}function Or(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function br(e,t,r,n,o){for(;;){if(e==r&&t==n)return!0;if(t==(o<0?0:vr(e))){if("DIV"==e.nodeName)return!1;let r=e.parentNode;if(!r||1!=r.nodeType)return!1;t=Or(e)+(o<0?0:1),e=r}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?vr(e):0}}}function vr(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const xr={left:0,right:0,top:0,bottom:0};function wr(e,t){let r=t?e.left:e.right;return{left:r,right:r,top:e.top,bottom:e.bottom}}function kr(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class yr{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,r,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=n}}let Qr,Sr=null;function Cr(e){if(e.setActive)return e.setActive();if(Sr)return e.focus(Sr);let t=[];for(let r=e;r&&(t.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(e.focus(null==Sr?{get preventScroll(){return Sr={preventScroll:!0},!0}}:void 0),!Sr){Sr=!1;for(let e=0;e<t.length;){let r=t[e++],n=t[e++],o=t[e++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=o&&(r.scrollLeft=o)}}}function $r(e,t,r=t){let n=Qr||(Qr=document.createRange());return n.setEnd(e,r),n.setStart(e,t),n}function Tr(e,t,r){let n={key:t,code:t,keyCode:r,which:r,cancelable:!0},o=new KeyboardEvent("keydown",n);o.synthetic=!0,e.dispatchEvent(o);let i=new KeyboardEvent("keyup",n);return i.synthetic=!0,e.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function _r(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class Pr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Pr(e.parentNode,Or(e),t)}static after(e,t){return new Pr(e.parentNode,Or(e)+1,t)}}const Rr=[];class Ar{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,r=this.dom,n=null;for(let o of this.children){if(o.dirty){if(!o.dom&&(t=n?n.nextSibling:r.firstChild)){let e=Ar.get(t);e&&(e.parent||e.constructor!=o.constructor)||o.reuseDOM(t)}o.sync(e),o.dirty=0}if(t=n?n.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&t!=o.dom&&(e.written=!0),o.dom.parentNode==r)for(;t&&t!=o.dom;)t=zr(t);else r.insertBefore(o.dom,t);n=o.dom}for(t=n?n.nextSibling:r.firstChild,t&&e&&e.node==r&&(e.written=!0);t;)t=zr(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let n=0==vr(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==n&&t.firstChild!=t.lastChild&&(n=e==t.firstChild?-1:1),e=t}r=n<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ar.get(r);)r=r.nextSibling;if(!r)return this.length;for(let e=0,t=0;;e++){let n=this.children[e];if(n.dom==r)return t;t+=n.length+n.breakAfter}}domBoundsAround(e,t,r=0){let n=-1,o=-1,i=-1,s=-1;for(let a=0,l=r,c=r;a<this.children.length;a++){let r=this.children[a],h=l+r.length;if(l<e&&h>t)return r.domBoundsAround(e,t,l);if(h>=e&&-1==n&&(n=a,o=l),l>t&&r.dom.parentNode==this.dom){i=a,s=c;break}c=h,l=h+r.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Rr){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...r);for(let e=0;e<r.length;e++)r[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Mr(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,r,n,o,i){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function zr(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Ar.prototype.breakAfter=0;class Mr{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function jr(e,t,r,n,o,i,s,a,l){let{children:c}=e,h=c.length?c[t]:null,u=i.length?i[i.length-1]:null,d=u?u.breakAfter:s;if(!(t==n&&h&&!s&&!d&&i.length<2&&h.merge(r,o,i.length?u:null,0==r,a,l))){if(n<c.length){let e=c[n];e&&o<e.length?(t==n&&(e=e.split(o),o=0),!d&&u&&e.merge(0,o,u,!0,0,l)?i[i.length-1]=e:(o&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(u?u.breakAfter=1:s=1),n++}for(h&&(h.breakAfter=s,r>0&&(!s&&i.length&&h.merge(r,h.length,i[0],!1,a,0)?h.breakAfter=i.shift().breakAfter:(r<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(r,h.length,null,!1,a,0),t++));t<n&&i.length;)if(c[n-1].become(i[i.length-1]))n--,i.pop(),l=i.length?0:a;else{if(!c[t].become(i[0]))break;t++,i.shift(),a=i.length?0:l}!i.length&&t&&n<c.length&&!c[t-1].breakAfter&&c[n].merge(0,0,c[t-1],!1,a,l)&&t--,(t<n||i.length)&&e.replaceChildren(t,n,i)}}function Er(e,t,r,n,o,i){let s=e.childCursor(),{i:a,off:l}=s.findPos(r,1),{i:c,off:h}=s.findPos(t,-1),u=t-r;for(let e of n)u+=e.length;e.length+=u,jr(e,c,h,a,l,n,0,o,i)}let Wr="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Dr="undefined"!=typeof document?document:{documentElement:{style:{}}};const Xr=/Edge\/(\d+)/.exec(Wr.userAgent),Lr=/MSIE \d/.test(Wr.userAgent),Ir=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wr.userAgent),Zr=!!(Lr||Ir||Xr),qr=!Zr&&/gecko\/(\d+)/i.test(Wr.userAgent),Nr=!Zr&&/Chrome\/(\d+)/.exec(Wr.userAgent),Br="webkitFontSmoothing"in Dr.documentElement.style,Vr=!Zr&&/Apple Computer/.test(Wr.vendor),Gr=Vr&&(/Mobile\/\w+/.test(Wr.userAgent)||Wr.maxTouchPoints>2);var Ur={mac:Gr||/Mac/.test(Wr.platform),windows:/Win/.test(Wr.platform),linux:/Linux|X11/.test(Wr.platform),ie:Zr,ie_version:Lr?Dr.documentMode||6:Ir?+Ir[1]:Xr?+Xr[1]:0,gecko:qr,gecko_version:qr?+(/Firefox\/(\d+)/.exec(Wr.userAgent)||[0,0])[1]:0,chrome:!!Nr,chrome_version:Nr?+Nr[1]:0,ios:Gr,android:/Android\b/.test(Wr.userAgent),webkit:Br,safari:Vr,webkit_version:Br?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Dr.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Fr extends Ar{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return(!r||r instanceof Fr&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Fr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Pr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Yr(this.dom,e,t)}}class Hr extends Ar{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let e of t)e.setParent(this)}setAttrs(e){if(_r(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,r,n,o,i){return(!r||!(!(r instanceof Hr&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0))&&(Er(this,e,t,r?r.children:[],o-1,i-1),this.markDirty(),!0)}split(e){let t=[],r=0,n=-1,o=0;for(let i of this.children){let s=r+i.length;s>e&&t.push(r<e?i.split(e-r):i),n<0&&r>=e&&(n=o),r=s,o++}let i=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Hr(this.mark,t,i)}domAtPos(e){return nn(this.dom,this.children,e)}coordsAt(e,t){return sn(this,e,t)}}function Yr(e,t,r){let n=e.nodeValue.length;t>n&&(t=n);let o=t,i=t,s=0;0==t&&r<0||t==n&&r>=0?Ur.chrome||Ur.gecko||(t?(o--,s=1):i<n&&(i++,s=-1)):r<0?o--:i<n&&i++;let a=$r(e,o,i).getClientRects();if(!a.length)return xr;let l=a[(s?s<0:r>=0)?0:a.length-1];return Ur.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?wr(l,s<0):l||null}class Jr extends Ar{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||Jr)(e,t,r)}split(e){let t=Jr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,n,o,i){return!(r&&(!(r instanceof Jr&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Jr&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return le.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,r=t&&t.state.doc,n=this.posAtStart;return r?r.slice(n,n+this.length):le.empty}domAtPos(e){return 0==e?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.dom.getClientRects(),n=null;if(!r.length)return xr;for(let t=e>0?r.length-1:0;n=r[t],!(e>0?0==t:t==r.length-1||n.top<n.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?n:wr(n,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Kr extends Jr{domAtPos(e){let{topView:t,text:r}=this.widget;return t?en(e,0,t,r,((e,t)=>e.domAtPos(t)),(e=>new Pr(r,Math.min(e,r.nodeValue.length)))):new Pr(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:n}=this.widget;return r?tn(e,t,r,n):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:n}=this.widget;return r?en(e,t,r,n,((e,t,r)=>e.coordsAt(t,r)),((e,t)=>Yr(n,e,t))):Yr(n,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function en(e,t,r,n,o,i){if(r instanceof Hr){for(let s of r.children){let r=fr(s.dom,n),a=r?n.nodeValue.length:s.length;if(e<a||e==a&&s.getSide()<=0)return r?en(e,t,s,n,o,i):o(s,e,t);e-=a}return o(r,r.length,-1)}return r.dom==n?i(e,t):o(r,e,t)}function tn(e,t,r,n){if(r instanceof Hr)for(let o of r.children){let r=0,i=fr(o.dom,n);if(fr(o.dom,e))return r+(i?tn(e,t,o,n):o.localPosFromDOM(e,t));r+=i?n.nodeValue.length:o.length}else if(r.dom==n)return Math.min(t,n.nodeValue.length);return r.localPosFromDOM(e,t)}class rn extends Ar{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof rn&&e.side==this.side}split(){return new rn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Pr.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),r=function(e,t){let r=e.parent,n=r?r.children.indexOf(e):-1;for(;r&&n>=0;)if(t<0?n>0:n<r.children.length){let e=r.children[n+t];if(e instanceof Fr){let r=e.coordsAt(t<0?e.length:0,t);if(r)return r}n+=t}else{if(!(r instanceof Hr&&r.parent)){let e=r.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}n=r.parent.children.indexOf(r)+(t<0?0:1),r=r.parent}return}(this,this.side>0?-1:1);return r&&r.top<t.bottom&&r.bottom>t.top?{left:t.left,right:t.right,top:r.top,bottom:r.bottom}:t}get overrideDOMText(){return le.empty}}function nn(e,t,r){let n=0;for(let o=0;n<t.length;n++){let i=t[n],s=o+i.length;if(!(s==o&&i.getSide()<=0)){if(r>o&&r<s&&i.dom.parentNode==e)return i.domAtPos(r-o);if(r<=o)break;o=s}}for(;n>0;n--){let r=t[n-1].dom;if(r.parentNode==e)return Pr.after(r)}return new Pr(e,0)}function on(e,t,r){let n,{children:o}=e;r>0&&t instanceof Hr&&o.length&&(n=o[o.length-1])instanceof Hr&&n.mark.eq(t.mark)?on(n,t.children[0],r-1):(o.push(t),t.setParent(e)),e.length+=t.length}function sn(e,t,r){for(let n=0,o=0;o<e.children.length;o++){let i,s=e.children[o],a=n+s.length;if((r<=0||a==e.length||s.getSide()>0?a>=t:a>t)&&(t<a||o+1==e.children.length||(i=e.children[o+1]).length||i.getSide()>0)){let e=0;if(a==n){if(s.getSide()<=0)continue;e=r=-s.getSide()}let o=s.coordsAt(Math.max(0,t-n),r);return e&&o?wr(o,r<0):o}n=a}let n=e.dom.lastChild;if(!n)return e.dom.getBoundingClientRect();let o=gr(n);return o[o.length-1]||null}function an(e,t){for(let r in e)"class"==r&&t.class?t.class+=" "+e.class:"style"==r&&t.style?t.style+=";"+e.style:t[r]=e[r];return t}function ln(e,t){if(e==t)return!0;if(!e||!t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(let o of r)if(-1==n.indexOf(o)||e[o]!==t[o])return!1;return!0}function cn(e,t,r){let n=null;if(t)for(let o in t)r&&o in r||e.removeAttribute(n=o);if(r)for(let o in r)t&&t[o]==r[o]||e.setAttribute(n=o,r[o]);return!!n}Fr.prototype.children=Jr.prototype.children=rn.prototype.children=Rr;class hn{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var un=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(un||(un={}));class dn extends At{constructor(e,t,r,n){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=n}get heightRelevant(){return!1}static mark(e){return new fn(e)}static widget(e){let t=e.side||0,r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new gn(e,t,t,r,e.widget||null,!1)}static replace(e){let t,r,n=!!e.block;if(e.isBlockGap)t=-5e8,r=4e8;else{let{start:o,end:i}=mn(e,n);t=(o?n?-3e8:-1:5e8)-1,r=1+(i?n?2e8:1:-6e8)}return new gn(e,t,r,n,e.widget||null,!0)}static line(e){return new pn(e)}static set(e,t=!1){return Et.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}dn.none=Et.empty;class fn extends dn{constructor(e){let{start:t,end:r}=mn(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof fn&&this.tagName==e.tagName&&this.class==e.class&&ln(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}fn.prototype.point=!1;class pn extends dn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pn&&ln(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}pn.prototype.mapMode=_e.TrackBefore,pn.prototype.point=!0;class gn extends dn{constructor(e,t,r,n,o,i){super(t,r,o,e),this.block=n,this.isReplace=i,this.mapMode=n?t<=0?_e.TrackBefore:_e.TrackAfter:_e.TrackDel}get type(){return this.startSide<this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof gn&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function mn(e,t=!1){let{inclusiveStart:r,inclusiveEnd:n}=e;return null==r&&(r=e.inclusive),null==n&&(n=e.inclusive),{start:null!=r?r:t,end:null!=n?n:t}}function On(e,t,r,n=0){let o=r.length-1;o>=0&&r[o]+n>=e?r[o]=Math.max(r[o],t):r.push(e,t)}gn.prototype.point=!0;class bn extends Ar{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,n,o,i){if(r){if(!(r instanceof bn))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),Er(this,e,t,r?r.children:[],o,i),!0}split(e){let t=new bn;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:n}=this.childPos(e);n&&(t.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let e=r;e<this.children.length;e++)t.append(this.children[e],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ln(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){on(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=an(t,this.attrs||{})),r&&(this.attrs=an({class:r},this.attrs||{}))}domAtPos(e){return nn(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(_r(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(cn(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let r=this.dom.lastChild;for(;r&&Ar.get(r)instanceof Hr;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(t=Ar.get(r))||void 0===t?void 0:t.isEditable)||Ur.ios&&this.children.some((e=>e instanceof Fr))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Fr))return null;let r=gr(t.dom);if(1!=r.length)return null;e+=r[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return sn(this,e,t)}become(e){return!1}get type(){return un.Text}static find(e,t){for(let r=0,n=0;r<e.children.length;r++){let o=e.children[r],i=n+o.length;if(i>=t){if(o instanceof bn)return o;if(i>t)break}n=i+o.breakAfter}return null}}class vn extends Ar{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,n,o,i){return!(r&&(!(r instanceof vn&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new vn(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return Rr}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):le.empty}domBoundsAround(){return null}become(e){return e instanceof vn&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class xn{constructor(e,t,r,n){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof vn&&e.type==un.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new bn),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(wn(new rn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:r,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,r)),this.getLine().append(wn(new Fr(this.text.slice(this.textOff,this.textOff+n)),t),r),this.atCursorPos=!0,this.textOff+=n,e-=n,r=0}}span(e,t,r,n){this.buildText(t-e,r,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,r,n,o,i){if(this.disallowBlockEffectsFor[i]&&r instanceof gn){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(r instanceof gn)if(r.block){let{type:e}=r;e!=un.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new vn(r.widget||new kn("div"),s,e))}else{let i=Jr.create(r.widget||new kn("span"),s,r.startSide),a=this.atCursorPos&&!i.isEditable&&o<=n.length&&(e<t||r.startSide>0),l=!i.isEditable&&(e<t||r.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(n),a&&(c.append(wn(new rn(1),n),o),o=n.length+Math.max(0,o-n.length)),c.append(wn(i,n),o),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,n,o){let i=new xn(e,t,r,o);return i.openEnd=Et.spans(n,t,r,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function wn(e,t){for(let r of t)e=new Hr(r,[e],e.length);return e}class kn extends hn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const yn=Ze.define(),Qn=Ze.define(),Sn=Ze.define(),Cn=Ze.define(),$n=Ze.define(),Tn=Ze.define(),_n=Ze.define({combine:e=>e.some((e=>e))});class Pn{constructor(e,t="nearest",r="nearest",n=5,o=5){this.range=e,this.y=t,this.x=r,this.yMargin=n,this.xMargin=o}map(e){return e.empty?this:new Pn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Rn=bt.define({map:(e,t)=>e.map(t)});function An(e,t,r){let n=e.facet(Cn);n.length?n[0](t):window.onerror?window.onerror(String(t),r,void 0,void 0,t):r?console.error(r+":",t):console.error(t)}const zn=Ze.define({combine:e=>!e.length||e[0]});let Mn=0;const jn=Ze.define();class En{constructor(e,t,r,n){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=n(this)}static define(e,t){const{eventHandlers:r,provide:n,decorations:o}=t||{};return new En(Mn++,e,r,(e=>{let t=[jn.of(e)];return o&&t.push(Ln.of((t=>{let r=t.plugin(e);return r?o(r):dn.none}))),n&&t.push(n(e)),t}))}static fromClass(e,t){return En.define((t=>new e(t)),t)}}class Wn{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(An(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){An(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){An(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Dn=Ze.define(),Xn=Ze.define(),Ln=Ze.define(),In=Ze.define(),Zn=Ze.define(),qn=Ze.define();class Nn{constructor(e,t,r,n){this.fromA=e,this.toA=t,this.fromB=r,this.toB=n}join(e){return new Nn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let n=0,o=0,i=0,s=0;;n++){let a=n==e.length?null:e[n],l=i-s,c=a?a.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],n=t[o+1],i=Math.max(s,e),a=Math.min(c,n);if(i<=a&&new Nn(i+l,a+l,i,a).addToSet(r),n>c)break;o+=2}if(!a)return r;new Nn(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),i=a.toA,s=a.toB}}}class Bn{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Re.empty(this.startState.doc.length);for(let e of r)this.changes=this.changes.compose(e.changes);let n=[];this.changes.iterChangedRanges(((e,t,r,o)=>n.push(new Nn(e,t,r,o)))),this.changedRanges=n;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}static create(e,t,r){return new Bn(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Vn=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Vn||(Vn={}));const Gn=Vn.LTR,Un=Vn.RTL;function Fn(e){let t=[];for(let r=0;r<e.length;r++)t.push(1<<+e[r]);return t}const Hn=Fn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Yn=Fn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Jn=Object.create(null),Kn=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),r=e.charCodeAt(1);Jn[t]=r,Jn[r]=-t}const eo=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class to{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?Un:Gn}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,n){let o=-1;for(let i=0;i<e.length;i++){let s=e[i];if(s.from<=t&&s.to>=t){if(s.level==r)return i;(o<0||(0!=n?n<0?s.from<t:s.to>t:e[o].level>s.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}const ro=[];function no(e){return[new to(0,e,0)]}let oo="";function io(e,t,r,n,o){var i;let s=n.head-e.from,a=-1;if(0==s){if(!o||!e.length)return null;t[0].level!=r&&(s=t[0].side(!1,r),a=0)}else if(s==e.length){if(o)return null;let e=t[t.length-1];e.level!=r&&(s=e.side(!0,r),a=t.length-1)}a<0&&(a=to.find(t,s,null!==(i=n.bidiLevel)&&void 0!==i?i:-1,n.assoc));let l=t[a];s==l.side(o,r)&&(l=t[a+=o?1:-1],s=l.side(!o,r));let c=o==(l.dir==r),h=xe(e.text,s,c);if(oo=e.text.slice(Math.min(s,h),Math.max(s,h)),h!=l.side(o,r))return Xe.cursor(h+e.from,c?-1:1,l.level);let u=a==(o?t.length-1:0)?null:t[a+(o?1:-1)];return u||l.level==r?u&&u.level<l.level?Xe.cursor(u.side(!o,r)+e.from,o?1:-1,u.level):Xe.cursor(h+e.from,o?-1:1,l.level):Xe.cursor(o?e.to:e.from,o?-1:1,r)}const so="￿";class ao{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Pt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=so}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let n=e;;){this.findPointBefore(r,n),this.readNode(n);let e=n.nextSibling;if(e==t)break;let o=Ar.get(n),i=Ar.get(e);(o&&i?o.breakAfter:(o?o.breakAfter:lo(n))||lo(e)&&("BR"!=n.nodeName||n.cmIgnore))&&this.lineBreak(),n=e}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,s=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(o=n.exec(t))&&(i=o.index,s=o[0].length),this.append(t.slice(r,i<0?t.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);r=i+s}}readNode(e){if(e.cmIgnore)return;let t=Ar.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let e=r.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function lo(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class co{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ho extends Ar{constructor(e){super(),this.view=e,this.compositionDeco=dn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new bn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Nn(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=dn.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let r=fo(e);if(!r)return dn.none;let{from:n,to:o,node:i,text:s}=r,a=t.mapPos(n,1),l=Math.max(a,t.mapPos(o,-1)),{state:c}=e,h=3==i.nodeType?i.nodeValue:new ao([],c).readRange(i.firstChild,null).text;if(l-a<h.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+h.length),so)==h)l=a+h.length;else{if(c.doc.sliceString(Math.max(0,l-h.length),l,so)!=h)return dn.none;a=l-h.length}else if(c.doc.sliceString(a,l,so)!=h)return dn.none;let u=Ar.get(i);u instanceof Kr?u=u.widget.topView:u&&(u.parent=null);return dn.set(dn.replace({widget:new po(i,s,u),inclusive:!0}).range(a,l))}(this.view,e.changes)),(Ur.ie||Ur.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=function(e,t,r){let n=new mo;return Et.compare(e,t,r,n),n.changes}(this.decorations,this.updateDeco(),e.changes);return t=Nn.extendWithRanges(t,r),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Ur.chrome||Ur.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof vn&&e.widget instanceof uo&&n.push(e.dom);r.updateGaps(n)}updateChildren(e,t){let r=this.childCursor(t);for(let t=e.length-1;;t--){let n=t>=0?e[t]:null;if(!n)break;let{fromA:o,toA:i,fromB:s,toB:a}=n,{content:l,breakAtStart:c,openStart:h,openEnd:u}=xn.build(this.view.state.doc,s,a,this.decorations,this.dynamicDecorationMap),{i:d,off:f}=r.findPos(i,1),{i:p,off:g}=r.findPos(o,-1);jr(this,p,g,d,f,l,c,h,u)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||Ur.ios&&this.view.inputState.rapidCompositionStart)return;let r=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,o=this.domAtPos(n.anchor),i=n.empty?o:this.domAtPos(n.head);if(Ur.gecko&&n.empty&&(1==(s=o).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null))),o=i=new Pr(e,0),r=!0}var s;let a=this.view.observer.selectionRange;!r&&a.focusNode&&mr(o.node,o.offset,a.anchorNode,a.anchorOffset)&&mr(i.node,i.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{Ur.android&&Ur.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let r=e;r&&r!=t;r=r.assignedSlot||r.parentNode)if(1==r.nodeType&&"false"==r.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=dr(this.root);if(e)if(n.empty){if(Ur.gecko){let e=(t=o.node,r=o.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=go(o.node,o.offset,1==e?1:-1);t&&(o=new Pr(t,1==e?0:t.nodeValue.length))}}e.collapse(o.node,o.offset),null!=n.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=n.bidiLevel)}else if(e.extend)e.collapse(o.node,o.offset),e.extend(i.node,i.offset);else{let t=document.createRange();n.anchor>n.head&&([o,i]=[i,o]),t.setEnd(i.node,i.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}else;var t,r})),this.view.observer.setSelectionRange(o,i)),this.impreciseAnchor=o.precise?null:new Pr(a.anchorNode,a.anchorOffset),this.impreciseHead=i.precise?null:new Pr(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=dr(this.root);if(!(t&&e.empty&&e.assoc&&t.modify))return;let r=bn.find(this,e.head);if(!r)return;let n=r.posAtStart;if(e.head==n||e.head==n+r.length)return;let o=this.coordsAt(e.head,-1),i=this.coordsAt(e.head,1);if(!o||!i||o.bottom>i.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.root.activeElement;return e==this.dom||pr(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=Ar.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(r<e.length||e instanceof bn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,n=this.children.length-1;;n--){let o=this.children[n],i=r-o.breakAfter-o.length;if(e>i||e==i&&o.type!=un.WidgetBefore&&o.type!=un.WidgetAfter&&(!n||2==t||this.children[n-1].breakAfter||this.children[n-1].type==un.WidgetBefore&&t>-2))return o.coordsAt(e-i,t);r=i}}measureVisibleLineHeights(e){let t=[],{from:r,to:n}=e,o=this.view.contentDOM.clientWidth,i=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Vn.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],h=e+c.length;if(h>n)break;if(e>=r){let r=c.dom.getBoundingClientRect();if(t.push(r.height),i){let t=c.dom.lastChild,n=t?gr(t):[];if(n.length){let t=n[n.length-1],i=a?t.right-r.left:r.right-t.left;i>s&&(s=i,this.minWidth=o,this.minWidthFrom=e,this.minWidthTo=h)}}}e=h+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Vn.RTL:Vn.LTR}measureTextSize(){for(let e of this.children)if(e instanceof bn){let t=e.measureTextSize();if(t)return t}let e,t,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let n=gr(r.firstChild)[0];e=r.getBoundingClientRect().height,t=n?n.width/27:7,r.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Mr(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,n=0;;n++){let o=n==t.viewports.length?null:t.viewports[n],i=o?o.from-1:this.length;if(i>r){let n=t.lineBlockAt(i).bottom-t.lineBlockAt(r).top;e.push(dn.replace({widget:new uo(n),block:!0,inclusive:!0,isBlockGap:!0}).range(r,i))}if(!o)break;r=o.to+1}return dn.set(e)}updateDeco(){let e=this.view.state.facet(Ln).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!n)return;!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,t.left),top:Math.min(n.top,t.top),right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)});let o=0,i=0,s=0,a=0;for(let e of this.view.state.facet(Zn).map((e=>e(this.view))))if(e){let{left:t,right:r,top:n,bottom:l}=e;null!=t&&(o=Math.max(o,t)),null!=r&&(i=Math.max(i,r)),null!=n&&(s=Math.max(s,n)),null!=l&&(a=Math.max(a,l))}let l={left:n.left-o,top:n.top-s,right:n.right+i,bottom:n.bottom+a};!function(e,t,r,n,o,i,s,a){let l=e.ownerDocument,c=l.defaultView;for(let h=e;h;)if(1==h.nodeType){let e,u=h==l.body;if(u)e=kr(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.parentNode;continue}let t=h.getBoundingClientRect();e={left:t.left,right:t.left+h.clientWidth,top:t.top,bottom:t.top+h.clientHeight}}let d=0,f=0;if("nearest"==o)t.top<e.top?(f=-(e.top-t.top+s),r>0&&t.bottom>e.bottom+f&&(f=t.bottom-e.bottom+f+s)):t.bottom>e.bottom&&(f=t.bottom-e.bottom+s,r<0&&t.top-f<e.top&&(f=-(e.top+f-t.top+s)));else{let n=t.bottom-t.top,i=e.bottom-e.top;f=("center"==o&&n<=i?t.top+n/2-i/2:"start"==o||"center"==o&&r<0?t.top-s:t.bottom-i+s)-e.top}if("nearest"==n?t.left<e.left?(d=-(e.left-t.left+i),r>0&&t.right>e.right+d&&(d=t.right-e.right+d+i)):t.right>e.right&&(d=t.right-e.right+i,r<0&&t.left<e.left+d&&(d=-(e.left+d-t.left+i))):d=("center"==n?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==n==a?t.left-i:t.right-(e.right-e.left)+i)-e.left,d||f)if(u)c.scrollBy(d,f);else{if(f){let e=h.scrollTop;h.scrollTop+=f,f=h.scrollTop-e}if(d){let e=h.scrollLeft;h.scrollLeft+=d,d=h.scrollLeft-e}t={left:t.left-d,top:t.top-f,right:t.right-d,bottom:t.bottom-f}}if(u)break;h=h.assignedSlot||h.parentNode,n=o="nearest"}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Vn.LTR)}}class uo extends hn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function fo(e){let t=e.observer.selectionRange,r=t.focusNode&&go(t.focusNode,t.focusOffset,0);if(!r)return null;let n=e.docView.nearest(r);if(!n)return null;if(n instanceof bn){let e=r;for(;e.parentNode!=n.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Ar.get(t);)t=t.previousSibling;let o=t?Ar.get(t).posAtEnd:n.posAtStart;return{from:o,to:o,node:e,text:r}}{for(;;){let{parent:e}=n;if(!e)return null;if(e instanceof bn)break;n=e}let e=n.posAtStart;return{from:e,to:e+n.length,node:n.dom,text:r}}}class po extends hn{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Kr}}function go(e,t,r){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&r<=0)t=vr(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&r>=0))return null;e=e.childNodes[t],t=0}}}class mo{constructor(){this.changes=[]}compareRange(e,t){On(e,t,this.changes)}comparePoint(e,t){On(e,t,this.changes)}}function Oo(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function bo(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function vo(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function xo(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function wo(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function ko(e,t,r){let n,o,i,s,a,l,c,h;for(let u=e.firstChild;u;u=u.nextSibling){let e=gr(u);for(let d=0;d<e.length;d++){let f=e[d];o&&vo(o,f)&&(f=xo(wo(f,o.bottom),o.top));let p=Oo(t,f),g=bo(r,f);if(0==p&&0==g)return 3==u.nodeType?yo(u,t,r):ko(u,t,r);(!n||s>g||s==g&&i>p)&&(n=u,o=f,i=p,s=g),0==p?r>f.bottom&&(!c||c.bottom<f.bottom)?(a=u,c=f):r<f.top&&(!h||h.top>f.top)&&(l=u,h=f):c&&vo(c,f)?c=wo(c,f.bottom):h&&vo(h,f)&&(h=xo(h,f.top))}}if(c&&c.bottom>=r?(n=a,o=c):h&&h.top<=r&&(n=l,o=h),!n)return{node:e,offset:0};let u=Math.max(o.left,Math.min(o.right,t));return 3==n.nodeType?yo(n,u,r):i||"true"!=n.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,n)+(t>=(o.left+o.right)/2?1:0)}:ko(n,u,r)}function yo(e,t,r){let n=e.nodeValue.length,o=-1,i=1e9,s=0;for(let a=0;a<n;a++){let n=$r(e,a,a+1).getClientRects();for(let l=0;l<n.length;l++){let c=n[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let h=(c.top>r?c.top-r:r-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<i){let r=t>=(c.left+c.right)/2,n=r;if(Ur.chrome||Ur.gecko){$r(e,a).getBoundingClientRect().left==c.right&&(n=!r)}if(h<=0)return{node:e,offset:a+(n?1:0)};o=a+(n?1:0),i=h}}}return{node:e,offset:o>-1?o:s>0?e.nodeValue.length:0}}function Qo(e,{x:t,y:r},n,o=-1){var i;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,h=r-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,r=!1;s=e.elementAtHeight(h),s.type!=un.Text;)for(;h=o>0?s.bottom+t:s.top-t,!(h>=0&&h<=c);){if(r)return n?null:0;r=!0,o=-o}r=l+h;let u=s.from;if(u<e.viewport.from)return 0==e.viewport.from?0:n?null:So(e,a,s,t,r);if(u>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:So(e,a,s,t,r);let d=e.dom.ownerDocument,f=e.root.elementFromPoint?e.root:d,p=f.elementFromPoint(t,r);p&&!e.contentDOM.contains(p)&&(p=null),p||(t=Math.max(a.left+1,Math.min(a.right-1,t)),p=f.elementFromPoint(t,r),p&&!e.contentDOM.contains(p)&&(p=null));let g,m=-1;if(p&&0!=(null===(i=e.docView.nearest(p))||void 0===i?void 0:i.isEditable))if(d.caretPositionFromPoint){let e=d.caretPositionFromPoint(t,r);e&&({offsetNode:g,offset:m}=e)}else if(d.caretRangeFromPoint){let e=d.caretRangeFromPoint(t,r);e&&(({startContainer:g,startOffset:m}=e),(Ur.safari&&function(e,t,r){let n;if(3!=e.nodeType||t!=(n=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return $r(e,n-1,n).getBoundingClientRect().left>r}(g,m,t)||Ur.chrome&&function(e,t,r){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let n=1==e.nodeType?e.getBoundingClientRect():$r(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}(g,m,t))&&(g=void 0))}if(!g||!e.docView.dom.contains(g)){let n=bn.find(e.docView,u);if(!n)return h>s.top+s.height/2?s.to:s.from;({node:g,offset:m}=ko(n.dom,t,r))}return e.docView.posFromDOM(g,m)}function So(e,t,r,n,o){let i=Math.round((n-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&r.height>1.5*e.defaultLineHeight){i+=Math.floor((o-r.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(r.from,r.to);return r.from+Ft(s,i,e.state.tabSize)}function Co(e,t,r,n){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o),s=e.textDirectionAt(o.from);for(let a=t,l=null;;){let t=io(o,i,s,a,r),c=oo;if(!t){if(o.number==(r?e.state.doc.lines:1))return a;c="\n",o=e.state.doc.line(o.number+(r?1:-1)),i=e.bidiSpans(o),t=Xe.cursor(r?o.from:o.to)}if(l){if(!l(c))return a}else{if(!n)return t;l=n(c)}a=t}}function $o(e,t,r){let n=e.state.facet(In).map((t=>t(e)));for(;;){let e=!1;for(let o of n)o.between(r.from-1,r.from+1,((n,o,i)=>{r.from>n&&r.from<o&&(r=t.from>r.from?Xe.cursor(n,1):Xe.cursor(o,-1),e=!0)}));if(!e)return r}}class To{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in zo){let r=zo[t];e.contentDOM.addEventListener(t,(n=>{Ao(e,n)&&!this.ignoreDuringComposition(n)&&("keydown"==t&&this.keydown(e,n)||(this.mustFlushObserver(n)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,n)?n.preventDefault():r(e,n)))})),this.registeredEvents.push(t)}Ur.chrome&&Ur.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,Ur.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let n;this.customHandlers=[];for(let o of t)if(n=null===(r=o.update(e).spec)||void 0===r?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:n});for(let t in n)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(r=>{Ao(e,r)&&this.runCustomHandlers(t,e,r)&&r.preventDefault()})))}}runCustomHandlers(e,t,r){for(let n of this.customHandlers){let o=n.handlers[e];if(o)try{if(o.call(n.plugin,r,t)||r.defaultPrevented)return!0}catch(e){An(t.state,e)}}return!1}runScrollHandlers(e,t){for(let r of this.customHandlers){let n=r.handlers.scroll;if(n)try{n.call(r.plugin,t,e)}catch(t){An(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(Ur.android&&Ur.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return!(!Ur.ios||!(r=_o.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=r,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Tr(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Ur.safari&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!Ur.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const _o=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Po=[16,17,18,20,91,92,224,225];class Ro{constructor(e,t,r,n){this.view=e,this.style=r,this.mustSelect=n,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Pt.allowMultipleSelections)&&function(e,t){let r=e.state.facet(yn);return r.length?r[0](t):Ur.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let r=e.state.facet(Qn);return r.length?r[0](t):Ur.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:r}=e.state.selection;if(r.empty)return!1;let n=dr(e.root);if(!n||0==n.rangeCount)return!0;let o=n.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let r=o[e];if(r.left<=t.clientX&&r.right>=t.clientX&&r.top<=t.clientY&&r.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Vo(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Ao(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r,n=t.target;n!=e.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(r=Ar.get(n))&&r.ignoreEvent(t))return!1;return!0}const zo=Object.create(null),Mo=Ur.ie&&Ur.ie_version<15||Ur.ios&&Ur.webkit_version<604;function jo(e,t){let r,{state:n}=e,o=1,i=n.toText(t),s=i.lines==n.selection.ranges.length;if(null!=Uo&&n.selection.ranges.every((e=>e.empty))&&Uo==i.toString()){let e=-1;r=n.changeByRange((r=>{let a=n.doc.lineAt(r.from);if(a.from==e)return{range:r};e=a.from;let l=n.toText((s?i.line(o++).text:t)+n.lineBreak);return{changes:{from:a.from,insert:l},range:Xe.cursor(r.from+l.length)}}))}else r=s?n.changeByRange((e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Xe.cursor(e.from+t.length)}})):n.replaceSelection(i);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}zo.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Po.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)};let Eo=0;function Wo(e,t,r,n){if(1==n)return Xe.cursor(t,r);if(2==n)return function(e,t,r=1){let n=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return Xe.cursor(t);0==i?r=1:i==o.length&&(r=-1);let s=i,a=i;r<0?s=xe(o.text,i,!1):a=xe(o.text,i);let l=n(o.text.slice(s,a));for(;s>0;){let e=xe(o.text,s,!1);if(n(o.text.slice(e,s))!=l)break;s=e}for(;a<o.length;){let e=xe(o.text,a);if(n(o.text.slice(a,e))!=l)break;a=e}return Xe.range(s+o.from,a+o.from)}(e.state,t,r);{let r=bn.find(e.docView,t),n=e.state.doc.lineAt(r?r.posAtEnd:t),o=r?r.posAtStart:n.from,i=r?r.posAtEnd:n.to;return i<e.state.doc.length&&i==n.to&&i++,Xe.range(o,i)}}zo.touchstart=(e,t)=>{Eo=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},zo.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},zo.mousedown=(e,t)=>{if(e.observer.flush(),Eo>Date.now()-2e3&&1==Vo(t))return;let r=null;for(let n of e.state.facet(Sn))if(r=n(e,t),r)break;if(r||0!=t.button||(r=function(e,t){let r=Io(e,t),n=Vo(t),o=e.state.selection,i=r,s=t;return{update(e){e.docChanged&&(r&&(r.pos=e.changes.mapPos(r.pos)),o=o.map(e.changes),s=null)},get(t,a,l){let c;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?c=i:(c=i=Io(e,t),s=t),!c||!r)return o;let h=Wo(e,c.pos,c.bias,n);if(r.pos!=c.pos&&!a){let t=Wo(e,r.pos,r.bias,n),o=Math.min(t.from,h.from),i=Math.max(t.to,h.to);h=o<h.from?Xe.range(o,i):Xe.range(i,o)}return a?o.replaceRange(o.main.extend(h.from,h.to)):l&&o.ranges.length>1&&o.ranges.some((e=>e.eq(h)))?function(e,t){for(let r=0;;r++)if(e.ranges[r].eq(t))return Xe.create(e.ranges.slice(0,r).concat(e.ranges.slice(r+1)),e.mainIndex==r?0:e.mainIndex-(e.mainIndex>r?1:0))}(o,h):l?o.addRange(h):Xe.create([h])}}}(e,t)),r){let n=e.root.activeElement!=e.contentDOM;n&&e.observer.ignore((()=>Cr(e.contentDOM))),e.inputState.startMouseSelection(new Ro(e,t,r,n))}};let Do=(e,t)=>e>=t.top&&e<=t.bottom,Xo=(e,t,r)=>Do(t,r)&&e>=r.left&&e<=r.right;function Lo(e,t,r,n){let o=bn.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let s=o.coordsAt(i,-1);if(s&&Xo(r,n,s))return-1;let a=o.coordsAt(i,1);return a&&Xo(r,n,a)?1:s&&Do(n,s)?-1:1}function Io(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:r,bias:Lo(e,r,t.clientX,t.clientY)}}const Zo=Ur.ie&&Ur.ie_version<=11;let qo=null,No=0,Bo=0;function Vo(e){if(!Zo)return e.detail;let t=qo,r=Bo;return qo=e,Bo=Date.now(),No=!t||r>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(No+1)%3:1}function Go(e,t,r,n){if(!r)return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:i}=e.inputState,s=n&&i&&i.dragging&&i.dragMove?{from:i.dragging.from,to:i.dragging.to}:null,a={from:o,insert:r},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"})}zo.dragstart=(e,t)=>{let{selection:{main:r}}=e.state,{mouseSelection:n}=e.inputState;n&&(n.dragging=r),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(r.from,r.to)),t.dataTransfer.effectAllowed="copyMove")},zo.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let r=t.dataTransfer.files;if(r&&r.length){t.preventDefault();let n=Array(r.length),o=0,i=()=>{++o==r.length&&Go(e,t,n.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<r.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(n[e]=t.result),i()},t.readAsText(r[e])}}else Go(e,t,t.dataTransfer.getData("Text"),!0)},zo.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let r=Mo?null:t.clipboardData;r?(jo(e,r.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.remove(),jo(e,r.value)}),50)}(e)};let Uo=null;function Fo(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}function Ho(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}zo.copy=zo.cut=(e,t)=>{let{text:r,ranges:n,linewise:o}=function(e){let t=[],r=[],n=!1;for(let n of e.selection.ranges)n.empty||(t.push(e.sliceDoc(n.from,n.to)),r.push(n));if(!t.length){let o=-1;for(let{from:n}of e.selection.ranges){let i=e.doc.lineAt(n);i.number>o&&(t.push(i.text),r.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}n=!0}return{text:t.join(e.lineBreak),ranges:r,linewise:n}}(e.state);if(!r&&!o)return;Uo=o?r:null;let i=Mo?null:t.clipboardData;i?(t.preventDefault(),i.clearData(),i.setData("text/plain",r)):function(e,t){let r=e.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout((()=>{n.remove(),e.focus()}),50)}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})},zo.focus=Fo,zo.blur=e=>{e.observer.clearSelectionRange(),Fo(e)},zo.compositionstart=zo.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),Ho(e,!0)))},zo.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&Ho(e,!1)}),50)},zo.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},zo.beforeinput=(e,t)=>{var r;let n;if(Ur.chrome&&Ur.android&&(n=_o.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(n.key,n.keyCode),"Backspace"==n.key||"Delete"==n.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var r;((null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const Yo=["pre-wrap","normal","pre-line","break-spaces"];class Jo{constructor(){this.doc=le.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Yo.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let n=e[r];n<0?r++:this.heightSamples[Math.floor(10*n)]||(t=!0,this.heightSamples[Math.floor(10*n)]=!0)}return t}refresh(e,t,r,n,o){let i=Yo.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=i;if(this.lineWrapping=i,this.lineHeight=t,this.charWidth=r,this.lineLength=n,s){this.heightSamples={};for(let e=0;e<o.length;e++){let t=o[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Ko{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ei{constructor(e,t,r,n,o){this.from=e,this.length=t,this.top=r,this.height=n,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new ei(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ti=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(ti||(ti={}));const ri=.001;class ni{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>ri&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return ni.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,n){let o=this;for(let i=n.length-1;i>=0;i--){let{fromA:s,toA:a,fromB:l,toB:c}=n[i],h=o.lineAt(s,ti.ByPosNoHeight,t,0,0),u=h.to>=a?h:o.lineAt(a,ti.ByPosNoHeight,t,0,0);for(c+=u.to-a,a=u.to;i>0&&h.from<=n[i-1].toA;)s=n[i-1].fromA,l=n[i-1].fromB,i--,s<h.from&&(h=o.lineAt(s,ti.ByPosNoHeight,t,0,0));l+=h.from-s,s=h.from;let d=ci.build(r,e,l,c);o=o.replace(s,a,d)}return o.updateHeight(r,0)}static empty(){return new ii(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,n=0,o=0;for(;;)if(t==r)if(n>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),r+=1+o.break,n-=o.size}else{if(!(o>2*n))break;{let t=e[r];t.break?e.splice(r,1,t.left,null,t.right):e.splice(r,1,t.left,t.right),r+=2+t.break,o-=t.size}}else if(n<o){let r=e[t++];r&&(n+=r.size)}else{let t=e[--r];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,r++),new ai(ni.of(e.slice(0,t)),i,ni.of(e.slice(r)))}}ni.prototype.size=1;class oi extends ni{constructor(e,t,r){super(e,t),this.type=r}blockAt(e,t,r,n){return new ei(n,this.length,r,this.height,this.type)}lineAt(e,t,r,n,o){return this.blockAt(0,r,n,o)}forEachLine(e,t,r,n,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,r,n,o))}updateHeight(e,t=0,r=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ii extends oi{constructor(e,t){super(e,t,un.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,r){let n=r[0];return 1==r.length&&(n instanceof ii||n instanceof si&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof si?n=new ii(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):ni.of(r)}updateHeight(e,t=0,r=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class si extends ni{constructor(e){super(e,0)}lines(e,t){let r=e.lineAt(t).number,n=e.lineAt(t+this.length).number;return{firstLine:r,lastLine:n,lineHeight:this.height/(n-r+1)}}blockAt(e,t,r,n){let{firstLine:o,lastLine:i,lineHeight:s}=this.lines(t,n),a=Math.max(0,Math.min(i-o,Math.floor((e-r)/s))),{from:l,length:c}=t.line(o+a);return new ei(l,c,r+s*a,s,un.Text)}lineAt(e,t,r,n,o){if(t==ti.ByHeight)return this.blockAt(e,r,n,o);if(t==ti.ByPosNoHeight){let{from:t,to:n}=r.lineAt(e);return new ei(t,n-t,0,0,un.Text)}let{firstLine:i,lineHeight:s}=this.lines(r,o),{from:a,length:l,number:c}=r.lineAt(e);return new ei(a,l,n+s*(c-i),s,un.Text)}forEachLine(e,t,r,n,o,i){let{firstLine:s,lineHeight:a}=this.lines(r,o);for(let l=Math.max(e,o),c=Math.min(o+this.length,t);l<=c;){let t=r.lineAt(l);l==e&&(n+=a*(t.number-s)),i(new ei(t.from,t.length,n,a,un.Text)),n+=a,l=t.to+1}}replace(e,t,r){let n=this.length-t;if(n>0){let e=r[r.length-1];e instanceof si?r[r.length-1]=new si(e.length+n):r.push(null,new si(n-1))}if(e>0){let t=r[0];t instanceof si?r[0]=new si(e+t.length):r.unshift(new si(e-1),null)}return ni.of(r)}decomposeLeft(e,t){t.push(new si(e-1),null)}decomposeRight(e,t){t.push(null,new si(this.length-e-1))}updateHeight(e,t=0,r=!1,n){let o=t+this.length;if(n&&n.from<=t+this.length&&n.more){let r=[],i=Math.max(t,n.from),s=-1,a=e.heightChanged;for(n.from>t&&r.push(new si(n.from-t-1).updateHeight(e,t));i<=o&&n.more;){let t=e.doc.lineAt(i).length;r.length&&r.push(null);let o=n.heights[n.index++];-1==s?s=o:Math.abs(o-s)>=ri&&(s=-2);let a=new ii(t,o);a.outdated=!1,r.push(a),i+=t+1}i<=o&&r.push(null,new si(o-i).updateHeight(e,i));let l=ni.of(r);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=ri||Math.abs(s-this.lines(e.doc,t).lineHeight)>=ri,l}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class ai extends ni{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,n){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,n):this.right.blockAt(e,t,o,n+this.left.length+this.break)}lineAt(e,t,r,n,o){let i=n+this.left.height,s=o+this.left.length+this.break,a=t==ti.ByHeight?e<i:e<s,l=a?this.left.lineAt(e,t,r,n,o):this.right.lineAt(e,t,r,i,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==ti.ByPosNoHeight?ti.ByPosNoHeight:ti.ByPos;return a?l.join(this.right.lineAt(s,c,r,i,s)):this.left.lineAt(s,c,r,n,o).join(l)}forEachLine(e,t,r,n,o,i){let s=n+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,n,o,i),t>=a&&this.right.forEachLine(e,t,r,s,a,i);else{let l=this.lineAt(a,ti.ByPos,r,n,o);e<l.from&&this.left.forEachLine(e,l.from-1,r,n,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,r,s,a,i)}}replace(e,t,r){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,r));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let e of r)o.push(e);if(e>0&&li(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),li(o,e)}return ni.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,n=r+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ni.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,n){let{left:o,right:i}=this,s=t+o.length+this.break,a=null;return n&&n.from<=t+o.length&&n.more?a=o=o.updateHeight(e,t,r,n):o.updateHeight(e,t,r),n&&n.from<=s+i.length&&n.more?a=i=i.updateHeight(e,s,r,n):i.updateHeight(e,s,r),a?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function li(e,t){let r,n;null==e[t]&&(r=e[t-1])instanceof si&&(n=e[t+1])instanceof si&&e.splice(t-1,3,new si(r.length+1+n.length))}class ci{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ii?r.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new ii(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new oi(o,n,r.type)):(o||n>=5)&&this.addLineDeco(n,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ii(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new si(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ii)return e;let t=new ii(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=un.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=un.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof ii||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ii(0,-1));let r=e;for(let e of this.nodes)e instanceof ii&&e.updateHeight(this.oracle,r),r+=e?e.length:1;return this.nodes}static build(e,t,r,n){let o=new ci(r,e);return Et.spans(t,r,n,o,0),o.finish(r)}}class hi{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,n){(e<t||r&&r.heightRelevant||n&&n.heightRelevant)&&On(e,t,this.changes,5)}}function ui(e,t){let r=e.getBoundingClientRect(),n=Math.max(0,r.left),o=Math.min(innerWidth,r.right),i=Math.max(0,r.top),s=Math.min(innerHeight,r.bottom),a=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=a;)if(1==t.nodeType){let e=t,r=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=r.overflow){let t=e.getBoundingClientRect();n=Math.max(n,t.left),o=Math.min(o,t.right),i=Math.max(i,t.top),s=Math.min(s,t.bottom)}t="absolute"==r.position||"fixed"==r.position?e.offsetParent:e.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:n-r.left,right:Math.max(n,o)-r.left,top:i-(r.top+t),bottom:Math.max(i,s)-(r.top+t)}}function di(e,t){let r=e.getBoundingClientRect();return{left:0,right:r.right-r.left,top:t,bottom:r.bottom-(r.top+t)}}class fi{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],o=t[r];if(n.from!=o.from||n.to!=o.to||n.size!=o.size)return!1}return!0}draw(e){return dn.replace({widget:new pi(this.size,e)}).range(this.from,this.to)}}class pi extends hn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gi{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Jo,this.scaler=ki,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Vn.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Ln).filter((e=>"function"!=typeof e)),this.heightMap=ni.empty().applyChanges(this.stateDeco,le.empty,this.heightOracle.setDoc(e.doc),[new Nn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=dn.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let n=r?t.head:t.anchor;if(!e.some((({from:e,to:t})=>n>=e&&n<=t))){let{from:t,to:r}=this.lineBlockAt(n);e.push(new mi(t,r))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?ki:new yi(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Qi(e,this.scaler))}))}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ln).filter((e=>"function"!=typeof e));let n=e.changedRanges,o=Nn.extendWithRanges(n,function(e,t,r){let n=new hi;return Et.compare(e,t,r,n,0),n.changes}(r,this.stateDeco,e?e.changes:Re.empty(this.state.doc.length))),i=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=i&&(e.flags|=2);let s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),n=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Vn.RTL:Vn.LTR;let i=this.heightOracle.mustRefreshForWrapping(o),s=i||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,c=parseInt(r.paddingTop)||0,h=parseInt(r.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==h||(this.paddingTop=c,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let u=(this.printing?di:ui)(t,this.paddingTop),d=u.top-this.pixelViewport.top,f=u.bottom-this.pixelViewport.bottom;this.pixelViewport=u;let p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(s=!0)),!this.inView)return 0;let g=t.clientWidth;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=g,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(t)&&(i=!0),i||n.lineWrapping&&Math.abs(g-this.contentDOMWidth)>n.charWidth){let{lineHeight:r,charWidth:s}=e.docView.measureTextSize();i=n.refresh(o,r,s,g/s,t),i&&(e.docView.minWidth=0,a|=8)}d>0&&f>0?l=Math.max(d,f):d<0&&f<0&&(l=Math.min(d,f)),n.heightChanged=!1;for(let r of this.viewports){let o=r.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(r);this.heightMap=this.heightMap.updateHeight(n,0,i,new Ko(r.from,o))}n.heightChanged&&(a|=2)}let m=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,o=this.state.doc,{visibleTop:i,visibleBottom:s}=this,a=new mi(n.lineAt(i-1e3*r,ti.ByHeight,o,0,0).from,n.lineAt(s+1e3*(1-r),ti.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let r,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=n.lineAt(e,ti.ByPos,o,0,0);r="center"==t.y?(s.top+s.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-i,a=new mi(n.lineAt(r-500,ti.ByHeight,o,0,0).from,n.lineAt(r+i+500,ti.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new mi(this.heightMap.lineAt(r,ti.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(n,ti.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,ti.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,ti.ByPos,this.state.doc,0,0),{visibleTop:i,visibleBottom:s}=this;return(0==e||n<=i-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&n>i-2e3&&o<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let n of e)t.touchesRange(n.from,n.to)||r.push(new fi(t.mapPos(n.from),t.mapPos(n.to),n.size));return r}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=Vn.LTR)return t;for(let r of this.viewportLines){if(r.length<4e3)continue;let n,o,i=Oi(r.from,r.to,this.stateDeco);if(i.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;n=bi(i,(this.visibleTop-r.top-e)/r.height),o=bi(i,(this.visibleBottom-r.top+e)/r.height)}else{let e=i.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;n=bi(i,(this.pixelViewport.left-t)/e),o=bi(i,(this.pixelViewport.right+t)/e)}let s=[];n>r.from&&s.push({from:r.from,to:n}),o<r.to&&s.push({from:o,to:r.to});let a=this.state.selection.main;a.from>=r.from&&a.from<=r.to&&xi(s,a.from-10,a.from+10),!a.empty&&a.to>=r.from&&a.to<=r.to&&xi(s,a.to-10,a.to+10);for(let{from:n,to:o}of s)o-n>1e3&&t.push(wi(e,(e=>e.from>=r.from&&e.to<=r.to&&Math.abs(e.from-n)<1e3&&Math.abs(e.to-o)<1e3))||new fi(n,o,this.gapSize(r,n,o,i)))}return t}gapSize(e,t,r,n){let o=vi(n,r)-vi(n,t);return this.heightOracle.lineWrapping?e.height*o:n.total*this.heightOracle.charWidth*o}updateLineGaps(e){fi.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=dn.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Et.spans(e,this.viewport.from,this.viewport.to,{span(e,r){t.push({from:e,to:r})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,r)=>e.from!=t[r].from||e.to!=t[r].to));return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Qi(this.heightMap.lineAt(e,ti.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Qi(this.heightMap.lineAt(this.scaler.fromDOM(e),ti.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Qi(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class mi{constructor(e,t){this.from=e,this.to=t}}function Oi(e,t,r){let n=[],o=e,i=0;return Et.spans(r,e,t,{span(){},point(e,t){e>o&&(n.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(n.push({from:o,to:t}),i+=t-o),{total:i,ranges:n}}function bi({total:e,ranges:t},r){if(r<=0)return t[0].from;if(r>=1)return t[t.length-1].to;let n=Math.floor(e*r);for(let e=0;;e++){let{from:r,to:o}=t[e],i=o-r;if(n<=i)return r+n;n-=i}}function vi(e,t){let r=0;for(let{from:n,to:o}of e.ranges){if(t<=o){r+=t-n;break}r+=o-n}return r/e.total}function xi(e,t,r){for(let n=0;n<e.length;n++){let o=e[n];if(o.from<r&&o.to>t){let i=[];o.from<t&&i.push({from:o.from,to:t}),o.to>r&&i.push({from:r,to:o.to}),e.splice(n,1,...i),n+=i.length-1}}}function wi(e,t){for(let r of e)if(t(r))return r}const ki={toDOM:e=>e,fromDOM:e=>e,scale:1};class yi{constructor(e,t,r){let n=0,o=0,i=0;this.viewports=r.map((({from:r,to:o})=>{let i=t.lineAt(r,ti.ByPos,e,0,0).top,s=t.lineAt(o,ti.ByPos,e,0,0).bottom;return n+=s-i,{from:r,to:o,top:i,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-n)/(t.height-n);for(let e of this.viewports)e.domTop=i+(e.top-o)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,r=0,n=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return n+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,n=o.domBottom}}fromDOM(e){for(let t=0,r=0,n=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-n)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,n=o.domBottom}}}function Qi(e,t){if(1==t.scale)return e;let r=t.toDOM(e.top),n=t.toDOM(e.bottom);return new ei(e.from,e.length,r,n-r,Array.isArray(e.type)?e.type.map((e=>Qi(e,t))):e.type)}const Si=Ze.define({combine:e=>e.join(" ")}),Ci=Ze.define({combine:e=>e.indexOf(!0)>-1}),$i=Kt.newName(),Ti=Kt.newName(),_i=Kt.newName(),Pi={"&light":"."+Ti,"&dark":"."+_i};function Ri(e,t,r){return new Kt(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!r||!r[t])throw new RangeError(`Unsupported selector: ${t}`);return r[t]})):e+" "+t})}const Ai=Ri("."+$i,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Pi),zi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Mi=Ur.ie&&Ur.ie_version<=11;class ji{constructor(e,t,r){this.view=e,this.onChange=t,this.onScrollChanged=r,this.active=!1,this.selectionRange=new yr,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Ur.ie&&Ur.ie_version<=11||Ur.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Mi&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,r)=>t!=e[r])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,r=this.selectionRange;if(t.state.facet(zn)?t.root.activeElement!=this.dom:!pr(t.dom,r))return;let n=r.anchorNode&&t.docView.nearest(r.anchorNode);n&&n.ignoreEvent(e)||((Ur.ie&&Ur.ie_version<=11||Ur.android&&Ur.chrome)&&!t.state.selection.main.empty&&r.focusNode&&mr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=Ur.safari&&11==e.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.view.contentDOM&&function(e){let t=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),!t)return null;let n=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);mr(a.node,a.offset,i,s)&&([n,o,i,s]=[i,s,n,o]);return{anchorNode:n,anchorOffset:o,focusNode:i,focusOffset:s}}(this.view)||dr(e);return!(!t||this.selectionRange.eq(t))&&(this.selectionRange.setRange(t),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,zi),Mi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Mi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Tr(this.view.contentDOM,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,r=-1,n=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(n=!0),-1==t?({from:t,to:r}=e):(t=Math.min(e.from,t),r=Math.max(e.to,r)))}return{from:t,to:r,typeOver:n}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:r,typeOver:n}=this.processRecords(),o=this.selectionChanged&&pr(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let i=this.view.state,s=this.onChange(t,r,n);return this.view.state==i&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let r=Ei(t,e.previousSibling||e.target.previousSibling,-1),n=Ei(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resize)||void 0===r||r.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Ei(e,t,r){for(;t;){let n=Ar.get(t);if(n&&n.parent==e)return n;let o=t.parentNode;t=o!=e.dom?o:r>0?t.nextSibling:t.previousSibling}return null}function Wi(e,t,r,n){let o,i,s=e.state.selection.main;if(t>-1){let n=e.docView.domBoundsAround(t,r,0);if(!n||e.state.readOnly)return!1;let{from:a,to:l}=n,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:r,anchorOffset:n,focusNode:o,focusOffset:i}=e.observer.selectionRange;r&&(t.push(new co(r,n)),o==r&&i==n||t.push(new co(o,i)));return t}(e),h=new ao(c,e.state);h.readRange(n.startDOM,n.endDOM);let u=s.from,d=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Ur.android&&h.text.length<l-a)&&(u=s.to,d="end");let f=function(e,t,r,n){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==n){r-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.length<t.length){i-=r<=i&&r>=s?i-r:0,a=i+(a-s),s=i}else if(a<i){i-=r<=i&&r>=a?i-r:0,s=i+(s-a),a=i}return{from:i,toA:s,toB:a}}(e.state.doc.sliceString(a,l,so),h.text,u-a,d);f&&(Ur.chrome&&13==e.inputState.lastKeyCode&&f.toB==f.from+2&&"￿￿"==h.text.slice(f.from,f.toB)&&f.toB--,o={from:a+f.from,to:a+f.toA,insert:le.of(h.text.slice(f.from,f.toB).split(so))}),i=function(e,t){if(0==e.length)return null;let r=e[0].pos,n=2==e.length?e[1].pos:r;return r>-1&&n>-1?Xe.single(r+t,n+t):null}(c,a)}else if(e.hasFocus||!e.state.facet(zn)){let t=e.observer.selectionRange,{impreciseHead:r,impreciseAnchor:n}=e.docView,o=r&&r.node==t.focusNode&&r.offset==t.focusOffset||!fr(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),a=n&&n.node==t.anchorNode&&n.offset==t.anchorOffset||!fr(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);o==s.head&&a==s.anchor||(i=Xe.single(a,o))}if(!o&&!i)return!1;if(!o&&n&&!s.empty&&i&&i.main.empty?o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:o&&o.from>=s.from&&o.to<=s.to&&(o.from!=s.from||o.to!=s.to)&&s.to-s.from-(o.to-o.from)<=4?o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,o.from).append(o.insert).append(e.state.doc.slice(o.to,s.to))}:(Ur.mac||Ur.android)&&o&&o.from==o.to&&o.from==s.head-1&&"."==o.insert.toString()&&(o={from:s.from,to:s.to,insert:le.of([" "])}),o){let t=e.state;if(Ur.ios&&e.inputState.flushIOSKey(e))return!0;if(Ur.android&&(o.from==s.from&&o.to==s.to&&1==o.insert.length&&2==o.insert.lines&&Tr(e.contentDOM,"Enter",13)||o.from==s.from-1&&o.to==s.to&&0==o.insert.length&&Tr(e.contentDOM,"Backspace",8)||o.from==s.from&&o.to==s.to+1&&0==o.insert.length&&Tr(e.contentDOM,"Delete",46)))return!0;let r,n=o.insert.toString();if(e.state.facet(Tn).some((t=>t(e,o.from,o.to,n))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,o.from>=s.from&&o.to<=s.to&&o.to-o.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==o.from+o.insert.length)&&e.inputState.composing<0){let n=s.from<o.from?t.sliceDoc(s.from,o.from):"",i=s.to>o.to?t.sliceDoc(o.to,s.to):"";r=t.replaceSelection(e.state.toText(n+o.insert.sliceString(0,void 0,e.state.lineBreak)+i))}else{let n=t.changes(o),a=i&&!t.selection.main.eq(i.main)&&i.main.to<=n.newLength?i.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&o.to<=s.to&&o.to>=s.to-10){let i=e.state.sliceDoc(o.from,o.to),l=fo(e)||e.state.doc.lineAt(s.head),c=s.to-o.to,h=s.to-s.from;r=t.changeByRange((r=>{if(r.from==s.from&&r.to==s.to)return{changes:n,range:a||r.map(n)};let u=r.to-c,d=u-i.length;if(r.to-r.from!=h||e.state.sliceDoc(d,u)!=i||l&&r.to>=l.from&&r.from<=l.to)return{range:r};let f=t.changes({from:d,to:u,insert:o.insert}),p=r.to-s.to;return{changes:f,range:a?Xe.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):r.map(f)}}))}else r={changes:n,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(r,{scrollIntoView:!0,userEvent:a}),!0}if(i&&!i.main.eq(s)){let t=!1,r="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),r=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:r}),!0}return!1}class Di{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new gi(e.state||Pt.create(e)),this.plugins=this.state.facet(jn).map((e=>new Wn(e)));for(let e of this.plugins)e.update(this);this.observer=new ji(this,((e,t,r)=>Wi(this,e,t,r)),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new To(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new ho(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof vt?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,r=!1,n=!1,o=this.state;for(let t of e){if(t.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=t.state}if(this.destroyed)return void(this.viewState.state=o);if(this.observer.clear(),o.facet(Pt.phrases)!=this.state.facet(Pt.phrases))return this.setState(o);t=Bn.create(this,o,e);let i=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(i&&(i=i.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;i=new Pn(e.empty?e:Xe.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Rn)&&(i=e.value)}this.viewState.update(t,i),this.bidiCache=Ii.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(qn)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Si)!=t.state.facet(Si)&&(this.viewState.mustMeasureContent=!0),(r||n||i||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet($n))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new gi(e),this.plugins=e.facet(jn).map((e=>new Wn(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new ho(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(jn),r=e.state.facet(jn);if(t!=r){let n=[];for(let o of r){let r=t.indexOf(o);if(r<0)n.push(new Wn(o));else{let t=this.plugins[r];t.mustUpdate=e,n.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let e=0;;e++){this.updateState=1;let r=this.viewport,n=this.viewState.measure(this);if(!n&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];4&n||([this.measureRequests,o]=[o,this.measureRequests]);let i=o.map((e=>{try{return e.read(this)}catch(e){return An(this.state,e),Li}})),s=Bn.create(this,this.state,[]),a=!1,l=!1;s.flags|=n,t?t.flags|=n:t=s,this.updateState=2,s.empty||(this.updatePlugins(s),this.inputState.update(s),this.updateAttrs(),a=this.docView.update(s));for(let e=0;e<o.length;e++)if(i[e]!=Li)try{let t=o[e];t.write&&t.write(i[e],this)}catch(e){An(this.state,e)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=!0),a&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!l&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet($n))e(t)}get themeClasses(){return $i+" "+(this.state.facet(Ci)?_i:Ti)+" "+this.state.facet(Si)}updateAttrs(){let e=Zi(this,Dn,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(zn)?"true":"false",class:"cm-content",style:`${Ur.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Zi(this,Xn,t);let r=this.observer.ignore((()=>{let r=cn(this.contentDOM,this.contentAttrs,t),n=cn(this.dom,this.editorAttrs,e);return r||n}));return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let e of r.effects)if(e.is(Di.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(qn),Kt.mount(this.root,this.styleModules.concat(Ai).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return $o(this,e,Co(this,e,t,r))}moveByGroup(e,t){return $o(this,e,Co(this,e,t,(t=>function(e,t,r){let n=e.state.charCategorizer(t),o=n(r);return e=>{let t=n(e);return o==Ct.Space&&(o=t),o==t}}(this,e.head,t))))}moveToLineBoundary(e,t,r=!0){return function(e,t,r,n){let o=e.state.doc.lineAt(t.head),i=n&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),n=e.textDirectionAt(o.from),s=e.posAtCoords({x:r==(n==Vn.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=s)return Xe.cursor(s,r?-1:1)}let s=bn.find(e.docView,t.head),a=s?r?s.posAtEnd:s.posAtStart:r?o.to:o.from;return Xe.cursor(a,r?-1:1)}(this,e,t,r)}moveVertically(e,t,r){return $o(this,e,function(e,t,r,n){let o=t.head,i=r?1:-1;if(o==(r?e.state.doc.length:0))return Xe.cursor(o,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o),h=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),s=(i<0?t.top:t.bottom)+h}let u=l.left+a,d=null!=n?n:e.defaultLineHeight>>1;for(let r=0;;r+=10){let n=s+(d+r)*i,c=Qo(e,{x:u,y:n},!1,i);if(n<l.top||n>l.bottom||(i<0?c<o:c>o))return Xe.cursor(c,t.assoc,void 0,a)}}(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Qo(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(e),o=this.bidiSpans(n);return wr(r,o[to.find(o,e-n.from,-1,t)].dir==Vn.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(_n)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Xi)return no(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let r=function(e,t){let r=e.length,n=t==Gn?1:2,o=t==Gn?2:1;if(!e||1==n&&!eo.test(e))return no(r);for(let t=0,o=n,s=n;t<r;t++){let r=(i=e.charCodeAt(t))<=247?Hn[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?Yn[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203||8204==i?256:1;512==r?r=o:8==r&&4==s&&(r=16),ro[t]=4==r?2:r,7&r&&(s=r),o=r}var i;for(let e=0,t=n,o=n;e<r;e++){let n=ro[e];if(128==n)e<r-1&&t==ro[e+1]&&24&t?n=ro[e]=t:ro[e]=256;else if(64==n){let n=e+1;for(;n<r&&64==ro[n];)n++;let i=e&&8==t||n<r&&8==ro[n]?1==o?1:8:256;for(let t=e;t<n;t++)ro[t]=i;e=n-1}else 8==n&&1==o&&(ro[e]=1);t=n,7&n&&(o=n)}for(let t,i,s,a=0,l=0,c=0;a<r;a++)if(i=Jn[t=e.charCodeAt(a)])if(i<0){for(let e=l-3;e>=0;e-=3)if(Kn[e+1]==-i){let t=Kn[e+2],r=2&t?n:4&t?1&t?o:n:0;r&&(ro[a]=ro[Kn[e]]=r),l=e;break}}else{if(189==Kn.length)break;Kn[l++]=a,Kn[l++]=t,Kn[l++]=c}else if(2==(s=ro[a])||1==s){let e=s==n;c=e?0:1;for(let t=l-3;t>=0;t-=3){let r=Kn[t+2];if(2&r)break;if(e)Kn[t+2]|=2;else{if(4&r)break;Kn[t+2]|=4}}}for(let e=0;e<r;e++)if(256==ro[e]){let t=e+1;for(;t<r&&256==ro[t];)t++;let o=1==(e?ro[e-1]:n),i=o==(1==(t<r?ro[t]:n))?o?1:2:n;for(let r=e;r<t;r++)ro[r]=i;e=t-1}let s=[];if(1==n)for(let e=0;e<r;){let t=e,n=1!=ro[e++];for(;e<r&&n==(1!=ro[e]);)e++;if(n)for(let r=e;r>t;){let e=r,n=2!=ro[--r];for(;r>t&&n==(2!=ro[r-1]);)r--;s.push(new to(r,e,n?2:1))}else s.push(new to(t,e,0))}else for(let e=0;e<r;){let t=e,n=2==ro[e++];for(;e<r&&n==(2==ro[e]);)e++;s.push(new to(t,e,n?1:2))}return s}(e.text,t);return this.bidiCache.push(new Ii(e.from,e.to,t,r)),r}get hasFocus(){var e;return(document.hasFocus()||Ur.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Cr(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Rn.of(new Pn("number"==typeof e?Xe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return En.define((()=>({})),{eventHandlers:e})}static theme(e,t){let r=Kt.newName(),n=[Si.of(r),qn.of(Ri(`.${r}`,e))];return t&&t.dark&&n.push(Ci.of(!0)),n}static baseTheme(e){return tt.lowest(qn.of(Ri("."+$i,e,Pi)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),n=r&&Ar.get(r)||Ar.get(e);return(null===(t=null==n?void 0:n.rootView)||void 0===t?void 0:t.view)||null}}Di.styleModule=qn,Di.inputHandler=Tn,Di.perLineTextDirection=_n,Di.exceptionSink=Cn,Di.updateListener=$n,Di.editable=zn,Di.mouseSelectionStyle=Sn,Di.dragMovesSelection=Qn,Di.clickAddsSelectionRange=yn,Di.decorations=Ln,Di.atomicRanges=In,Di.scrollMargins=Zn,Di.darkTheme=Ci,Di.contentAttributes=Xn,Di.editorAttributes=Dn,Di.lineWrapping=Di.contentAttributes.of({class:"cm-lineWrapping"}),Di.announce=bt.define();const Xi=4096,Li={};class Ii{constructor(e,t,r,n){this.from=e,this.to=t,this.dir=r,this.order=n}static update(e,t){if(t.empty)return e;let r=[],n=e.length?e[e.length-1].dir:Vn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=n||t.touchesRange(i.from,i.to)||r.push(new Ii(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.order))}return r}}function Zi(e,t,r){for(let n=e.state.facet(t),o=n.length-1;o>=0;o--){let t=n[o],i="function"==typeof t?t(e):t;i&&an(i,r)}return r}const qi=Ur.mac?"mac":Ur.windows?"win":Ur.linux?"linux":"key";function Ni(e,t,r){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==r&&t.shiftKey&&(e="Shift-"+e),e}const Bi=tt.default(Di.domEventHandlers({keydown:(e,t)=>Hi(Ui(t.state),e,t,"editor")})),Vi=Ze.define({enables:Bi}),Gi=new WeakMap;function Ui(e){let t=e.facet(Vi),r=Gi.get(t);return r||Gi.set(t,r=function(e,t=qi){let r=Object.create(null),n=Object.create(null),o=(e,t)=>{let r=n[e];if(null==r)n[e]=t;else if(r!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,n,i,s)=>{let a=r[e]||(r[e]=Object.create(null)),l=n.split(/ (?!$)/).map((e=>function(e,t){const r=e.split(/-(?!$)/);let n,o,i,s,a=r[r.length-1];"Space"==a&&(a=" ");for(let e=0;e<r.length-1;++e){const a=r[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:o=!0}}return n&&(a="Alt-"+a),o&&(a="Ctrl-"+a),s&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let r=l.slice(0,t).join(" ");o(r,!0),a[r]||(a[r]={preventDefault:!0,commands:[t=>{let n=Fi={view:t,prefix:r,scope:e};return setTimeout((()=>{Fi==n&&(Fi=null)}),4e3),!0}]})}let c=l.join(" ");o(c,!1);let h=a[c]||(a[c]={preventDefault:!1,commands:[]});h.commands.push(i),s&&(h.preventDefault=!0)};for(let r of e){let e=r[t]||r.key;if(e)for(let t of r.scope?r.scope.split(" "):["editor"])i(t,e,r.run,r.preventDefault),r.shift&&i(t,"Shift-"+e,r.shift,r.preventDefault)}return r}(t.reduce(((e,t)=>e.concat(t)),[]))),r}let Fi=null;function Hi(e,t,r,n){let o=function(e){var t=!(cr&&(e.ctrlKey||e.altKey||e.metaKey)||(ir||lr)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?nr:rr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=Se(o,0),s=$e(i)==o.length&&" "!=o,a="",l=!1;Fi&&Fi.view==r&&Fi.scope==n&&(a=Fi.prefix+" ",(l=Po.indexOf(t.keyCode)<0)&&(Fi=null));let c,h=e=>{if(e){for(let t of e.commands)if(t(r))return!0;e.preventDefault&&(l=!0)}return!1},u=e[n];if(u){if(h(u[a+Ni(o,t,!s)]))return!0;if(s&&(t.shiftKey||t.altKey||t.metaKey||i>127)&&(c=rr[t.keyCode])&&c!=o){if(h(u[a+Ni(c,t,!0)]))return!0;if(t.shiftKey&&nr[t.keyCode]!=c&&h(u[a+Ni(nr[t.keyCode],t,!1)]))return!0}else if(s&&t.shiftKey&&h(u[a+Ni(o,t,!0)]))return!0}return l}const Yi=!Ur.ios,Ji=Ze.define({combine:e=>Rt(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Ki(e={}){return[Ji.of(e),ts,ns]}class es{constructor(e,t,r,n,o){this.left=e,this.top=t,this.width=r,this.height=n,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const ts=En.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Ji).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(Ji)!=e.state.facet(Ji);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(Ji),r=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let r=Math.max(t.from,e.viewport.from),n=Math.min(t.to,e.viewport.to),o=e.textDirection==Vn.LTR,i=e.contentDOM,s=i.getBoundingClientRect(),a=os(e),l=window.getComputedStyle(i.firstChild),c=s.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),h=s.right-parseInt(l.paddingRight),u=ss(e,r),d=ss(e,n),f=u.type==un.Text?u:null,p=d.type==un.Text?d:null;e.lineWrapping&&(f&&(f=is(e,r,f)),p&&(p=is(e,n,p)));if(f&&p&&f.from==p.from)return m(O(t.from,t.to,f));{let r=f?O(t.from,null,f):b(u,!1),n=p?O(null,t.to,p):b(d,!0),o=[];return(f||u).to<(p||d).from-1?o.push(g(c,r.bottom,h,n.top)):r.bottom<n.top&&e.elementAtHeight((r.bottom+n.top)/2).type==un.Text&&(r.bottom=n.top=(r.bottom+n.top)/2),m(r).concat(o).concat(m(n))}function g(e,t,r,n){return new es(e-a.left,t-a.top-.01,r-e,n-t+.01,"cm-selectionBackground")}function m({top:e,bottom:t,horizontal:r}){let n=[];for(let o=0;o<r.length;o+=2)n.push(g(r[o],e,r[o+1],t));return n}function O(t,r,n){let i=1e9,s=-1e9,a=[];function l(t,r,l,u,d){let f=e.coordsAtPos(t,t==n.to?-2:2),p=e.coordsAtPos(l,l==n.from?2:-2);i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),d==Vn.LTR?a.push(o&&r?c:f.left,o&&u?h:p.right):a.push(!o&&u?c:p.left,!o&&r?h:f.right)}let u=null!=t?t:n.from,d=null!=r?r:n.to;for(let n of e.visibleRanges)if(n.to>u&&n.from<d)for(let o=Math.max(n.from,u),i=Math.min(n.to,d);;){let n=e.state.doc.lineAt(o);for(let s of e.bidiSpans(n)){let e=s.from+n.from,a=s.to+n.from;if(e>=i)break;a>o&&l(Math.max(e,o),null==t&&e<=u,Math.min(a,i),null==r&&a>=d,s.dir)}if(o=n.to+1,o>=i)break}return 0==a.length&&l(u,null==t,d,null==r,e.textDirection),{top:i,bottom:s,horizontal:a}}function b(e,t){let r=s.top+(t?e.top:e.bottom);return{top:r,bottom:r,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),n=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||Yi:t.drawRangeCursor){let e=as(this.view,r,o);e&&n.push(e)}}return{rangePieces:r,cursors:n}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,r)=>t.adjust(e[r])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),rs={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Yi&&(rs[".cm-line"].caretColor="transparent !important");const ns=tt.highest(Di.theme(rs));function os(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Vn.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function is(e,t,r){let n=Xe.cursor(t);return{from:Math.max(r.from,e.moveToLineBoundary(n,!1,!0).from),to:Math.min(r.to,e.moveToLineBoundary(n,!0,!0).from),type:un.Text}}function ss(e,t){let r=e.lineBlockAt(t);if(Array.isArray(r.type))for(let e of r.type)if(e.to>t||e.to==t&&(e.to==r.to||e.type==un.Text))return e;return r}function as(e,t,r){let n=e.coordsAtPos(t.head,t.assoc||1);if(!n)return null;let o=os(e);return new es(n.left-o.left,n.top-o.top,-1,n.bottom-n.top,r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const ls=bt.define({map:(e,t)=>null==e?null:t.mapPos(e)}),cs=Fe.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(ls)?t.value:e),e))}),hs=En.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let r=e.state.field(cs);null==r?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(cs)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(cs),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+this.view.scrollDOM.scrollLeft,top:t.top-r.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(cs)!=e&&this.view.dispatch({effects:ls.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function us(e,t,r,n,o){t.lastIndex=0;for(let i,s=e.iterRange(r,n),a=r;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;i=t.exec(s.value);)o(a+i.index,a+i.index+i[0].length,i)}class ds{constructor(e){let{regexp:t,decoration:r,boundary:n,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof r?r:()=>r,this.boundary=n,this.maxLength=o}createDeco(e){let t=new Wt;for(let{from:r,to:n}of function(e,t){let r=e.visibleRanges;if(1==r.length&&r[0].from==e.viewport.from&&r[0].to==e.viewport.to)return r;let n=[];for(let{from:o,to:i}of r)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),n.length&&n[n.length-1].to>=o?n[n.length-1].to=i:n.push({from:o,to:i});return n}(e,this.maxLength))us(e.state.doc,this.regexp,r,n,((r,n,o)=>t.add(r,n,this.getDeco(o,e,r))));return t.finish()}updateDeco(e,t){let r=1e9,n=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,s)=>{s>e.view.viewport.from&&i<e.view.viewport.to&&(r=Math.min(i,r),n=Math.max(s,n))})),e.viewportChanged||n-r>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),r,n):t}updateRange(e,t,r,n){for(let o of e.visibleRanges){let i=Math.max(o.from,r),s=Math.min(o.to,n);if(s>i){let r=e.state.doc.lineAt(i),n=r.to<s?e.state.doc.lineAt(s):r,a=Math.max(o.from,r.from),l=Math.min(o.to,n.to);if(this.boundary){for(;i>r.from;i--)if(this.boundary.test(r.text[i-1-r.from])){a=i;break}for(;s<n.to;s++)if(this.boundary.test(n.text[s-n.from])){l=s;break}}let c,h=[];if(r==n)for(this.regexp.lastIndex=a-r.from;(c=this.regexp.exec(r.text))&&c.index<l-r.from;){let t=c.index+r.from;h.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else us(e.state.doc,this.regexp,a,l,((t,r,n)=>h.push(this.getDeco(n,e,t).range(t,r))));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const fs=null!=/x/.unicode?"gu":"g",ps=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",fs),gs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ms=null;const Os=Ze.define({combine(e){let t=Rt(e,{render:null,specialChars:ps,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==ms&&"undefined"!=typeof document&&document.body){let t=document.body.style;ms=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return ms||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,fs)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,fs)),t}});function bs(e={}){return[Os.of(e),vs||(vs=En.fromClass(class{constructor(e){this.view=e,this.decorations=dn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Os)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new ds({regexp:e.specialChars,decoration:(t,r,n)=>{let{doc:o}=r.state,i=Se(t[0],0);if(9==i){let e=o.lineAt(n),t=r.state.tabSize,i=Ut(e.text,t,n-e.from);return dn.replace({widget:new ws((t-i%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[i]||(this.decorationCache[i]=dn.replace({widget:new xs(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Os);e.startState.facet(Os)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let vs=null;class xs extends hn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),r=e.state.phrase("Control character")+" "+(gs[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,r,t);if(n)return n;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ws extends hn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const ks=dn.line({class:"cm-activeLine"}),ys=En.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,r=[];for(let n of e.state.selection.ranges){if(!n.empty)return dn.none;let o=e.lineBlockAt(n.head);o.from>t&&(r.push(ks.range(o.from)),t=o.from)}return dn.set(r)}},{decorations:e=>e.decorations}),Qs=2e3;function Ss(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1),n=e.state.doc.lineAt(r),o=r-n.from,i=o>Qs?-1:o==n.length?function(e,t){let r=e.coordsAtPos(e.viewport.from);return r?Math.round(Math.abs((r.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Ut(n.text,e.state.tabSize,r-n.from);return{line:n.number,col:i,off:o}}function Cs(e,t){let r=Ss(e,t),n=e.state.selection;return r?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(r.line).from),o=e.state.doc.lineAt(t);r={line:o.number,col:r.col,off:Math.min(r.off,o.length)},n=n.map(e.changes)}},get(t,o,i){let s=Ss(e,t);if(!s)return n;let a=function(e,t,r){let n=Math.min(t.line,r.line),o=Math.max(t.line,r.line),i=[];if(t.off>Qs||r.off>Qs||t.col<0||r.col<0){let s=Math.min(t.off,r.off),a=Math.max(t.off,r.off);for(let t=n;t<=o;t++){let r=e.doc.line(t);r.length<=a&&i.push(Xe.range(r.from+s,r.to+a))}}else{let s=Math.min(t.col,r.col),a=Math.max(t.col,r.col);for(let t=n;t<=o;t++){let r=e.doc.line(t),n=Ft(r.text,s,e.tabSize,!0);if(n>-1){let t=Ft(r.text,a,e.tabSize);i.push(Xe.range(r.from+n,r.from+t))}}}return i}(e.state,r,s);return a.length?i?Xe.create(a.concat(n.ranges)):Xe.create(a):n}}:null}function $s(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Di.mouseSelectionStyle.of(((e,r)=>t(r)?Cs(e,r):null))}const Ts={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},_s={style:"cursor: crosshair"};function Ps(e={}){let[t,r]=Ts[e.key||"Alt"],n=En.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||r(e))},keyup(e){e.keyCode!=t&&r(e)||this.set(!1)}}});return[n,Di.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(n))||void 0===t?void 0:t.isDown)?_s:null}))]}const Rs="-10000px";class As{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(r)}update(e){let t=e.state.facet(this.facet),r=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let n=[];for(let t=0;t<r.length;t++){let o=r[t],i=-1;if(o){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==o.create&&(i=e)}if(i<0)n[t]=this.createTooltipView(o);else{let r=n[t]=this.tooltipViews[i];r.update&&r.update(e)}}}for(let e of this.tooltipViews)n.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=r,this.tooltipViews=n,!0}}function zs(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Ms=Ze.define({combine:e=>{var t,r,n;return{position:Ur.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(r=e.find((e=>e.parent)))||void 0===r?void 0:r.parent)||null,tooltipSpace:(null===(n=e.find((e=>e.tooltipSpace)))||void 0===n?void 0:n.tooltipSpace)||zs}}}),js=En.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let r=e.state.facet(Ms);this.position=r.position,this.parent=r.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new As(e,Ds,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let r=t||e.geometryChanged,n=e.state.facet(Ms);if(n.position!=this.position){this.position=n.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Rs,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Ms).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:r}=e,n=[];for(let o=0;o<this.manager.tooltips.length;o++){let i=this.manager.tooltips[o],s=this.manager.tooltipViews[o],{dom:a}=s,l=e.pos[o],c=e.size[o];if(!l||l.bottom<=Math.max(t.top,r.top)||l.top>=Math.min(t.bottom,r.bottom)||l.right<Math.max(t.left,r.left)-.1||l.left>Math.min(t.right,r.right)+.1){a.style.top=Rs;continue}let h=i.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,u=h?7:0,d=c.right-c.left,f=c.bottom-c.top,p=s.offset||Ws,g=this.view.textDirection==Vn.LTR,m=c.width>r.right-r.left?g?r.left:r.right-c.width:g?Math.min(l.left-(h?14:0)+p.x,r.right-d):Math.max(r.left,l.left-d+(h?14:0)-p.x),O=!!i.above;!i.strictSide&&(O?l.top-(c.bottom-c.top)-p.y<r.top:l.bottom+(c.bottom-c.top)+p.y>r.bottom)&&O==r.bottom-l.bottom>l.top-r.top&&(O=!O);let b=O?l.top-f-u-p.y:l.bottom+u+p.y,v=m+d;if(!0!==s.overlap)for(let e of n)e.left<v&&e.right>m&&e.top<b+f&&e.bottom>b&&(b=O?e.top-f-2-u:e.bottom+u+2);"absolute"==this.position?(a.style.top=b-e.parent.top+"px",a.style.left=m-e.parent.left+"px"):(a.style.top=b+"px",a.style.left=m+"px"),h&&(h.style.left=l.left+(g?p.x:-p.x)-(m+14-7)+"px"),!0!==s.overlap&&n.push({left:m,top:b,right:v,bottom:b+f}),a.classList.toggle("cm-tooltip-above",O),a.classList.toggle("cm-tooltip-below",!O),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Rs}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Es=Di.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ws={x:0,y:0},Ds=Ze.define({enables:[js,Es]}),Xs=Ze.define();class Ls{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new As(e,Xs,(e=>this.createHostedView(e)))}static create(e){return new Ls(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const Is=Ds.compute([Xs],(e=>{let t=e.facet(Xs).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:Ls.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class Zs{constructor(e,t,r,n,o){this.view=e,this.source=t,this.field=r,this.setHover=n,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let r=this.view.coordsAtPos(t);if(null==r||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let n=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),o=n&&n.dir==Vn.RTL?-1:1,i=this.source(this.view,t,e.x<r.left?-o:o);if(null==i?void 0:i.then){let e=this.pending={pos:t};i.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>An(this.view.state,e,"hover tooltip")))}else i&&this.view.dispatch({effects:this.setHover.of(i)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:n}=r||this.pending,o=null!==(t=null==r?void 0:r.end)&&void 0!==t?t:n;(n==o?this.view.posAtCoords(this.lastMove)==n:function(e,t,r,n,o,i){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(r);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-o,o-t.bottom,t.left-n,n-t.right)<=i)return!0}return!1}(this.view,n,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function qs(e,t={}){let r=bt.define(),n=Fe.define({create:()=>null,update(e,n){if(e&&(t.hideOnChange&&(n.docChanged||n.selection)||t.hideOn&&t.hideOn(n,e)))return null;if(e&&n.docChanged){let t=n.changes.mapPos(e.pos,-1,_e.TrackDel);if(null==t)return null;let r=Object.assign(Object.create(null),e);r.pos=t,null!=e.end&&(r.end=n.changes.mapPos(e.end)),e=r}for(let t of n.effects)t.is(r)&&(e=t.value),t.is(Ns)&&(e=null);return e},provide:e=>Xs.from(e)});return[n,En.define((o=>new Zs(o,e,n,r,t.hoverTime||300))),Is]}const Ns=bt.define(),Bs=Ze.define({combine(e){let t,r;for(let n of e)t=t||n.topContainer,r=r||n.bottomContainer;return{topContainer:t,bottomContainer:r}}});function Vs(e,t){let r=e.plugin(Gs),n=r?r.specs.indexOf(t):-1;return n>-1?r.panels[n]:null}const Gs=En.fromClass(class{constructor(e){this.input=e.state.facet(Hs),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Bs);this.top=new Us(e,!0,t.topContainer),this.bottom=new Us(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(Bs);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Us(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Us(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=e.state.facet(Hs);if(r!=this.input){let t=r.filter((e=>e)),n=[],o=[],i=[],s=[];for(let r of t){let t,a=this.specs.indexOf(r);a<0?(t=r(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),n.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=n,this.top.sync(o),this.bottom.sync(i);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Di.scrollMargins.of((t=>{let r=t.plugin(e);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}}))});class Us{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Fs(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Fs(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Fs(e){let t=e.nextSibling;return e.remove(),t}const Hs=Ze.define({enables:Gs});class Ys extends At{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ys.prototype.elementClass="",Ys.prototype.toDOM=void 0,Ys.prototype.mapMode=_e.TrackBefore,Ys.prototype.startSide=Ys.prototype.endSide=-1,Ys.prototype.point=!0;const Js=Ze.define(),Ks={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Et.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ea=Ze.define();function ta(e){return[na(),ea.of(Object.assign(Object.assign({},Ks),e))]}const ra=Ze.define({combine:e=>e.some((e=>e))});function na(e){let t=[oa];return e&&!1===e.fixed&&t.push(ra.of(!0)),t}const oa=En.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(ea).map((t=>new la(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(ra),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,r=e.view.viewport,n=Math.min(t.to,r.to)-Math.max(t.from,r.from);this.syncGutters(n<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ra)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let r=Et.iter(this.view.state.facet(Js),this.view.viewport.from),n=[],o=this.gutters.map((e=>new aa(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let r of e.type)if(r.type==un.Text){t=r;break}}else t=e.type==un.Text?e:void 0;if(t){n.length&&(n=[]),sa(r,n,e.from);for(let e of o)e.line(this.view,t,n)}}for(let e of o)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(ea),r=e.state.facet(ea),n=e.docChanged||e.heightChanged||e.viewportChanged||!Et.eq(e.startState.facet(Js),e.state.facet(Js),e.view.viewport.from,e.view.viewport.to);if(t==r)for(let t of this.gutters)t.update(e)&&(n=!0);else{n=!0;let o=[];for(let n of r){let r=t.indexOf(n);r<0?o.push(new la(this.view,n)):(this.gutters[r].update(e),o.push(this.gutters[r]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return n}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Di.scrollMargins.of((t=>{let r=t.plugin(e);return r&&0!=r.gutters.length&&r.fixed?t.textDirection==Vn.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}:null}))});function ia(e){return Array.isArray(e)?e:[e]}function sa(e,t,r){for(;e.value&&e.from<=r;)e.from==r&&t.push(e.value),e.next()}class aa{constructor(e,t,r){this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=Et.iter(e.markers,t.from)}line(e,t,r){this.localMarkers.length&&(this.localMarkers=[]),sa(this.cursor,this.localMarkers,t.from);let n=r.length?this.localMarkers.concat(r):this.localMarkers,o=this.gutter.config.lineMarker(e,t,n);o&&n.unshift(o);let i=this.gutter;if(0==n.length&&!i.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==i.elements.length){let r=new ca(e,t.height,s,n);i.elements.push(r),i.dom.appendChild(r.dom)}else i.elements[this.i].update(e,t.height,s,n);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class la{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,(n=>{let o=e.lineBlockAtHeight(n.clientY-e.documentTop);t.domEventHandlers[r](e,o,n)&&n.preventDefault()}));this.markers=ia(t.markers(e)),t.initialSpacer&&(this.spacer=new ca(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=ia(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let r=e.view.viewport;return!Et.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class ca{constructor(e,t,r,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,n)}update(e,t,r,n){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].compare(t[r]))return!1;return!0}(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let r="cm-gutterElement",n=this.dom.firstChild;for(let o=0,i=0;;){let s=i,a=o<t.length?t[o++]:null,l=!1;if(a){let e=a.elementClass;e&&(r+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;i<s;){let e=this.markers[i++];if(e.toDOM){e.destroy(n);let t=n.nextSibling;n.remove(),n=t}}if(!a)break;a.toDOM&&(l?n=n.nextSibling:this.dom.insertBefore(a.toDOM(e),n)),l&&i++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const ha=Ze.define(),ua=Ze.define({combine:e=>Rt(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let e in t){let n=r[e],o=t[e];r[e]=n?(e,t,r)=>n(e,t,r)||o(e,t,r):o}return r}})});class da extends Ys{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function fa(e,t){return e.state.facet(ua).formatNumber(t,e.state)}const pa=ea.compute([ua],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(ha),lineMarker:(e,t,r)=>r.some((e=>e.toDOM))?null:new da(fa(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(ua)!=e.state.facet(ua),initialSpacer:e=>new da(fa(e,ga(e.state.doc.lines))),updateSpacer(e,t){let r=fa(t.view,ga(t.view.state.doc.lines));return r==e.number?e:new da(r)},domEventHandlers:e.facet(ua).domEventHandlers})));function ga(e){let t=9;for(;t<e;)t=10*t+9;return t}const ma=1024;let Oa=0;class ba{constructor(e,t){this.from=e,this.to=t}}class va{constructor(e={}){this.id=Oa++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=ka.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}va.closedBy=new va({deserialize:e=>e.split(" ")}),va.openedBy=new va({deserialize:e=>e.split(" ")}),va.group=new va({deserialize:e=>e.split(" ")}),va.contextHash=new va({perNode:!0}),va.lookAhead=new va({perNode:!0}),va.mounted=new va({perNode:!0});class xa{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}}const wa=Object.create(null);class ka{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):wa,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new ka(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(va.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(va.group),n=-1;n<(r?r.length:0);n++){let o=t[n<0?e.name:r[n]];if(o)return o}}}}ka.none=new ka("",Object.create(null),0,8);class ya{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let n=null;for(let t of e){let e=t(r);e&&(n||(n=Object.assign({},r.props)),n[e[0].id]=e[1])}t.push(n?new ka(r.name,n,r.id,r.flags):r)}return new ya(t)}}const Qa=new WeakMap,Sa=new WeakMap;var Ca;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Ca||(Ca={}));class $a{constructor(e,t,r,n,o){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(va.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Da(this.topNode,e)}cursorAt(e,t=0,r=0){let n=Qa.get(this)||this.topNode,o=new Da(n);return o.moveTo(e,t),Qa.set(this,o._tree),o}get topNode(){return new za(this,0,0,null)}resolve(e,t=0){let r=Aa(Qa.get(this)||this.topNode,e,t,!1);return Qa.set(this,r),r}resolveInner(e,t=0){let r=Aa(Sa.get(this)||this.topNode,e,t,!0);return Sa.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:o=this.length}=e;for(let i=this.cursor((e.mode||0)|Ca.IncludeAnonymous);;){let e=!1;if(i.from<=o&&i.to>=n&&(i.type.isAnonymous||!1!==t(i))){if(i.firstChild())continue;e=!0}for(;e&&r&&!i.type.isAnonymous&&r(i),!i.nextSibling();){if(!i.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Za(ka.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new $a(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new $a(ka.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:o=ma,reused:i=[],minRepeatType:s=n.types.length}=e,a=Array.isArray(r)?new Ta(r,r.length):r,l=n.types,c=0,h=0;function u(e,t,r,O,b){let{id:v,start:x,end:w,size:k}=a,y=h;for(;k<0;){if(a.next(),-1==k){let t=i[v];return r.push(t),void O.push(x-e)}if(-3==k)return void(c=v);if(-4==k)return void(h=v);throw new RangeError(`Unrecognized record size: ${k}`)}let Q,S,C=l[v],$=x-e;if(w-x<=o&&(S=g(a.pos-t,b))){let t=new Uint16Array(S.size-S.skip),r=a.pos-S.size,o=t.length;for(;a.pos>r;)o=m(S.start,t,o);Q=new _a(t,w-S.start,n),$=S.start-e}else{let e=a.pos-k;a.next();let t=[],r=[],n=v>=s?v:-1,i=0,l=w;for(;a.pos>e;)n>=0&&a.id==n&&a.size>=0?(a.end<=l-o&&(f(t,r,x,i,a.end,l,n,y),i=t.length,l=a.end),a.next()):u(x,e,t,r,n);if(n>=0&&i>0&&i<t.length&&f(t,r,x,i,x,l,n,y),t.reverse(),r.reverse(),n>-1&&i>0){let e=d(C);Q=Za(C,t,r,0,t.length,0,w-x,e,e)}else Q=p(C,t,r,w-x,y-w)}r.push(Q),O.push($)}function d(e){return(t,r,n)=>{let o,i,s=0,a=t.length-1;if(a>=0&&(o=t[a])instanceof $a){if(!a&&o.type==e&&o.length==n)return o;(i=o.prop(va.lookAhead))&&(s=r[a]+o.length+i)}return p(e,t,r,n,s)}}function f(e,t,r,o,i,s,a,l){let c=[],h=[];for(;e.length>o;)c.push(e.pop()),h.push(t.pop()+r-i);e.push(p(n.types[a],c,h,s-i,l-s)),t.push(i-r)}function p(e,t,r,n,o=0,i){if(c){let e=[va.contextHash,c];i=i?[e].concat(i):[e]}if(o>25){let e=[va.lookAhead,o];i=i?[e].concat(i):[e]}return new $a(e,t,r,n,i)}function g(e,t){let r=a.fork(),n=0,i=0,l=0,c=r.end-o,h={size:0,start:0,skip:0};e:for(let o=r.pos-e;r.pos>o;){let e=r.size;if(r.id==t&&e>=0){h.size=n,h.start=i,h.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-e;if(e<0||a<o||r.start<c)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3!=r.size)break e;u+=4}else r.id>=s&&(u+=4);r.next()}i=d,n+=e,l+=u}return(t<0||n==e)&&(h.size=n,h.start=i,h.skip=l),h.size>4?h:void 0}function m(e,t,r){let{id:n,start:o,end:i,size:l}=a;if(a.next(),l>=0&&n<s){let s=r;if(l>4){let n=a.pos-(l-4);for(;a.pos>n;)r=m(e,t,r)}t[--r]=s,t[--r]=i-e,t[--r]=o-e,t[--r]=n}else-3==l?c=n:-4==l&&(h=n);return r}let O=[],b=[];for(;a.pos>0;)u(e.start||0,e.bufferStart||0,O,b,-1);let v=null!==(t=e.length)&&void 0!==t?t:O.length?b[0]+O[0].length:0;return new $a(l[e.topID],O.reverse(),b.reverse(),v)}(e)}}$a.empty=new $a(ka.none,[],[],0);class Ta{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ta(this.buffer,this.index)}}class _a{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return ka.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],o=n.name;if(/\W/.test(o)&&!n.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let i=[];for(;e<r;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,r,n,o){let{buffer:i}=this,s=-1;for(let a=e;a!=t&&!(Pa(o,n,i[a+1],i[a+2])&&(s=a,r>0));a=i[a+3]);return s}slice(e,t,r,n){let o=this.buffer,i=new Uint16Array(t-e);for(let n=e,s=0;n<t;)i[s++]=o[n++],i[s++]=o[n++]-r,i[s++]=o[n++]-r,i[s++]=o[n++]-e;return new _a(i,n-r,this.set)}}function Pa(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function Ra(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function Aa(e,t,r,n){for(var o;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof za&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=n?0:Ca.IgnoreOverlays;if(n)for(let n=e,s=n.parent;s;n=s,s=n.parent)n instanceof za&&n.index<0&&(null===(o=s.enter(t,r,i))||void 0===o?void 0:o.from)!=n.from&&(e=s);for(;;){let n=e.enter(t,r,i);if(!n)return e;e=n}}class za{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,o=0){for(let i=this;;){for(let{children:s,positions:a}=i._tree,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+i.from;if(Pa(n,r,c,c+l.length))if(l instanceof _a){if(o&Ca.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,t,r-c,n);if(s>-1)return new Wa(new Ea(i,l,e,c),null,s)}else if(o&Ca.IncludeAnonymous||!l.type.isAnonymous||Xa(l)){let s;if(!(o&Ca.IgnoreMounts)&&l.props&&(s=l.prop(va.mounted))&&!s.overlay)return new za(s.tree,c,e,i);let a=new za(l,c,e,i);return o&Ca.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,r,n)}}if(o&Ca.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&Ca.IgnoreOverlays)&&(n=this._tree.prop(va.mounted))&&n.overlay){let r=e-this.from;for(let{from:e,to:o}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?o>=r:o>r))return new za(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Da(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Aa(this,e,t,!1)}resolveInner(e,t=0){return Aa(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ra(this,e)}getChild(e,t=null,r=null){let n=Ma(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return Ma(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ja(this,e)}}function Ma(e,t,r,n){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=r)for(;!o.type.is(r);)if(!o.nextSibling())return i;for(;;){if(null!=n&&o.type.is(n))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==n?i:[]}}function ja(e,t,r=t.length-1){for(let n=e.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class Ea{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class Wa{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new Wa(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Ca.ExcludeBuffers)return null;let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Wa(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Da(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,o=r.buffer[this.index+3];if(o>n){let i=r.buffer[this.index+1],s=r.buffer[this.index+2];e.push(r.slice(n,o,i,s)),t.push(0)}return new $a(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Aa(this,e,t,!1)}resolveInner(e,t=0){return Aa(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ra(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=Ma(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return Ma(this,e,t,r)}get node(){return this}matchContext(e){return ja(this,e)}}class Da{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof za)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof za?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Ca.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ca.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ca.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,o=e<0?-1:r._tree.children.length;n!=o;n+=e){let e=r._tree.children[n];if(this.mode&Ca.IncludeAnonymous||e instanceof _a||!e.type.isAnonymous||Xa(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==n){if(n==this.index)return i;t=i,r=o+1;break e}n=this.stack[--o]}for(let e=r;e<this.stack.length;e++)t=new Wa(this.buffer,t,this.stack[e]);return this.bufferNode=new Wa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return ja(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,o=this.stack.length-1;n>=0;o--){if(o<0)return ja(this.node,e,n);let i=r[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}}function Xa(e){return e.children.some((e=>e instanceof _a||!e.type.isAnonymous||Xa(e)))}const La=new WeakMap;function Ia(e,t){if(!e.isAnonymous||t instanceof _a||t.type!=e)return 1;let r=La.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof $a)){r=1;break}r+=Ia(e,n)}La.set(t,r)}return r}function Za(e,t,r,n,o,i,s,a,l){let c=0;for(let r=n;r<o;r++)c+=Ia(e,t[r]);let h=Math.ceil(1.5*c/8),u=[],d=[];return function t(r,n,o,s,a){for(let c=o;c<s;){let o=c,f=n[c],p=Ia(e,r[c]);for(c++;c<s;c++){let t=Ia(e,r[c]);if(p+t>=h)break;p+=t}if(c==o+1){if(p>h){let e=r[o];t(e.children,e.positions,0,e.children.length,n[o]+a);continue}u.push(r[o])}else{let t=n[c-1]+r[c-1].length-f;u.push(Za(e,r,n,o,c,f,t,null,l))}d.push(f+a-i)}}(t,r,n,o,0),(a||l)(u,d,s)}class qa{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Wa?this.setBuffer(e.context.buffer,e.index,t):e instanceof za&&this.map.set(e.tree,t)}get(e){return e instanceof Wa?this.getBuffer(e.context.buffer,e.index):e instanceof za?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Na{constructor(e,t,r,n,o=!1,i=!1){this.from=e,this.to=t,this.tree=r,this.offset=n,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let n=[new Na(0,e.length,e,0,!1,r)];for(let r of t)r.to>e.length&&n.push(r);return n}static applyChanges(e,t,r=128){if(!t.length)return e;let n=[],o=1,i=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,h=c?c.fromA:1e9;if(h-a>=r)for(;i&&i.from<h;){let t=i;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,r=Math.min(t.to,h)-l;t=e>=r?null:new Na(e,r,t.tree,t.offset+l,s>0,!!c)}if(t&&n.push(t),i.to>h)break;i=o<e.length?e[o++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return n}}class Ba{startParse(e,t,r){return"string"==typeof e&&(e=new Va(e)),r=r?r.length?r.map((e=>new ba(e.from,e.to))):[new ba(0,0)]:[new ba(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let n=this.startParse(e,t,r);for(;;){let e=n.advance();if(e)return e}}}class Va{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function Ga(e){return(t,r,n,o)=>new Ya(t,e,r,n,o)}class Ua{constructor(e,t,r,n,o){this.parser=e,this.parse=t,this.overlay=r,this.target=n,this.ranges=o}}class Fa{constructor(e,t,r,n,o,i,s){this.parser=e,this.predicate=t,this.mounts=r,this.index=n,this.start=o,this.target=i,this.prev=s,this.depth=0,this.ranges=[]}}const Ha=new va({perNode:!0});class Ya{constructor(e,t,r,n,o){this.nest=t,this.input=r,this.fragments=n,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new $a(e.type,e.children,e.positions,e.length,e.propValues.concat([[Ha,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[va.mounted.id]=new xa(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new rl(this.fragments),t=null,r=null,n=new Da(new za(this.baseTree,this.ranges[0].from,0,null),Ca.IncludeAnonymous|Ca.IgnoreMounts);e:for(let o,i;null==this.stoppedAt||n.from<this.stoppedAt;){let s,a=!0;if(e.hasNode(n)){if(t){let e=t.mounts.find((e=>e.frag.from<=n.from&&e.frag.to>=n.to&&e.mount.overlay));if(e)for(let r of e.mount.overlay){let o=r.from+e.pos,i=r.to+e.pos;o>=n.from&&i<=n.to&&!t.ranges.some((e=>e.from<i&&e.to>o))&&t.ranges.push({from:o,to:i})}}a=!1}else if(r&&(i=Ja(r.ranges,n.from,n.to)))a=2!=i;else if(!n.type.isAnonymous&&n.from<n.to&&(o=this.nest(n,this.input))){n.tree||el(n);let i=e.findMounts(n.from,o.parser);if("function"==typeof o.overlay)t=new Fa(o.parser,o.overlay,i,this.inner.length,n.from,n.tree,t);else{let e=nl(this.ranges,o.overlay||[new ba(n.from,n.to)]);e.length&&this.inner.push(new Ua(o.parser,o.parser.startParse(this.input,il(i,e),e),o.overlay?o.overlay.map((e=>new ba(e.from-n.from,e.to-n.from))):null,n.tree,e)),o.overlay?e.length&&(r={ranges:e,depth:0,prev:r}):a=!1}}else t&&(s=t.predicate(n))&&(!0===s&&(s=new ba(n.from,n.to)),s.from<s.to&&t.ranges.push(s));if(a&&n.firstChild())t&&t.depth++,r&&r.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(t&&!--t.depth){let e=nl(this.ranges,t.ranges);e.length&&this.inner.splice(t.index,0,new Ua(t.parser,t.parser.startParse(this.input,il(t.mounts,e),e),t.ranges.map((e=>new ba(e.from-t.start,e.to-t.start))),t.target,e)),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function Ja(e,t,r){for(let n of e){if(n.from>=r)break;if(n.to>t)return n.from<=t&&n.to>=r?2:1}return 0}function Ka(e,t,r,n,o,i){if(t<r){let s=e.buffer[t+1],a=e.buffer[r-2];n.push(e.slice(t,r,s,a)),o.push(s-i)}}function el(e){let{node:t}=e,r=0;do{e.parent(),r++}while(!e.tree);let n=0,o=e.tree,i=0;for(;i=o.positions[n]+e.from,!(i<=t.from&&i+o.children[n].length>=t.to);n++);let s=o.children[n],a=s.buffer;o.children[n]=function e(r,n,o,l,c){let h=r;for(;a[h+2]+i<=t.from;)h=a[h+3];let u=[],d=[];Ka(s,r,h,u,d,l);let f=a[h+1],p=a[h+2],g=f+i==t.from&&p+i==t.to&&a[h]==t.type.id;return u.push(g?t.toTree():e(h+4,a[h+3],s.set.types[a[h]],f,p-f)),d.push(f-l),Ka(s,a[h+3],n,u,d,l),new $a(o,u,d,c)}(0,a.length,ka.none,0,s.length);for(let n=0;n<=r;n++)e.childAfter(t.from)}class tl{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Ca.IncludeAnonymous|Ca.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,Ca.IgnoreOverlays|Ca.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof $a))break;t=t.children[0]}return!1}}class rl{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=null!==(t=r.tree.prop(Ha))&&void 0!==t?t:r.to,this.inner=new tl(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(Ha))&&void 0!==e?e:t.to,this.inner=new tl(t.tree,-t.offset)}}findMounts(e,t){var r;let n=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let o=null===(r=e.tree)||void 0===r?void 0:r.prop(va.mounted);if(o&&o.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let r=this.fragments[t];if(r.from>=e.to)break;r.tree==this.curFrag.tree&&n.push({frag:r,pos:e.from-r.offset,mount:o})}}}return n}}function nl(e,t){let r=null,n=t;for(let o=1,i=0;o<e.length;o++){let s=e[o-1].to,a=e[o].from;for(;i<n.length;i++){let e=n[i];if(e.from>=a)break;e.to<=s||(r||(n=r=t.slice()),e.from<s?(r[i]=new ba(e.from,s),e.to>a&&r.splice(i+1,0,new ba(a,e.to))):e.to>a?r[i--]=new ba(a,e.to):r.splice(i--,1))}}return n}function ol(e,t,r,n){let o=0,i=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let h=o==e.length?1e9:s?e[o].to:e[o].from,u=i==t.length?1e9:a?t[i].to:t[i].from;if(s!=a){let e=Math.max(l,r),t=Math.min(h,u,n);e<t&&c.push(new ba(e,t))}if(l=Math.min(h,u),1e9==l)break;h==l&&(s?(s=!1,o++):s=!0),u==l&&(a?(a=!1,i++):a=!0)}return c}function il(e,t){let r=[];for(let{pos:n,mount:o,frag:i}of e){let e=n+(o.overlay?o.overlay[0].from:0),s=e+o.tree.length,a=Math.max(i.from,e),l=Math.min(i.to,s);if(o.overlay){let s=ol(t,o.overlay.map((e=>new ba(e.from+n,e.to+n))),a,l);for(let t=0,n=a;;t++){let a=t==s.length,c=a?l:s[t].from;if(c>n&&r.push(new Na(n,c,o.tree,-e,i.from>=n,i.to<=c)),a)break;n=s[t].to}}else r.push(new Na(a,l,o.tree,-e,i.from>=e,i.to<=s))}return r}let sl=0;class al{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=sl++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new al([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new cl;return t=>t.modified.indexOf(e)>-1?t:cl.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let ll=0;class cl{constructor(){this.instances=[],this.id=ll++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find((r=>{return r.base==e&&(n=t,o=r.modified,n.length==o.length&&n.every(((e,t)=>e==o[t])));var n,o}));if(r)return r;let n=[],o=new al(n,e,t);for(let e of t)e.instances.push(o);let i=hl(t);for(let t of e.set)for(let e of i)n.push(cl.get(t,e));return o}}function hl(e){let t=[e];for(let r=0;r<e.length;r++)for(let n of hl(e.slice(0,r).concat(e.slice(r+1))))t.push(n);return t}function ul(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let e of r.split(" "))if(e){let r=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!n)throw new RangeError("Invalid path: "+e);if(r.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),t+=n[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){o=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let s=r.length-1,a=r[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new fl(n,o,s>0?r.slice(0,s):null);t[a]=l.sort(t[a])}}return dl.add(t)}const dl=new va;class fl{constructor(e,t,r,n){this.tags=e,this.mode=t,this.context=r,this.next=n}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function pl(e,t){let r=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)r[e.id]=t.class;else r[t.tag.id]=t.class;let{scope:n,all:o=null}=t||{};return{style:e=>{let t=o;for(let n of e)for(let e of n.set){let n=r[e.id];if(n){t=t?t+" "+n:n;break}}return t},scope:n}}function gl(e,t){let r=null;for(let n of e){let e=n.style(t);e&&(r=r?r+" "+e:e)}return r}function ml(e,t,r,n=0,o=e.length){let i=new Ol(n,Array.isArray(t)?t:[t],r);i.highlightRange(e.cursor(),n,o,"",i.highlighters),i.flush(o)}class Ol{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,n,o){let{type:i,from:s,to:a}=e;if(s>=r||a<=t)return;i.isTop&&(o=this.highlighters.filter((e=>!e.scope||e.scope(i))));let l=n,c=i.prop(dl),h=!1;for(;c;){if(!c.context||e.matchContext(c.context)){let e=gl(o,c.tags);e&&(l&&(l+=" "),l+=e,1==c.mode?n+=(n?" ":"")+e:0==c.mode&&(h=!0));break}c=c.next}if(this.startSpan(e.from,l),h)return;let u=e.tree&&e.tree.prop(va.mounted);if(u&&u.overlay){let i=e.node.enter(u.overlay[0].from+s,1),c=this.highlighters.filter((e=>!e.scope||e.scope(u.tree.type))),h=e.firstChild();for(let d=0,f=s;;d++){let p=d<u.overlay.length?u.overlay[d]:null,g=p?p.from+s:a,m=Math.max(t,f),O=Math.min(r,g);if(m<O&&h)for(;e.from<O&&(this.highlightRange(e,m,O,n,o),this.startSpan(Math.min(r,e.to),l),!(e.to>=g)&&e.nextSibling()););if(!p||g>r)break;f=p.to+s,f>t&&(this.highlightRange(i.cursor(),Math.max(t,p.from+s),Math.min(r,f),n,c),this.startSpan(f,l))}h&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,n,o),this.startSpan(Math.min(r,e.to),l)}}while(e.nextSibling());e.parent()}}}const bl=al.define,vl=bl(),xl=bl(),wl=bl(xl),kl=bl(xl),yl=bl(),Ql=bl(yl),Sl=bl(yl),Cl=bl(),$l=bl(Cl),Tl=bl(),_l=bl(),Pl=bl(),Rl=bl(Pl),Al=bl(),zl={comment:vl,lineComment:bl(vl),blockComment:bl(vl),docComment:bl(vl),name:xl,variableName:bl(xl),typeName:wl,tagName:bl(wl),propertyName:kl,attributeName:bl(kl),className:bl(xl),labelName:bl(xl),namespace:bl(xl),macroName:bl(xl),literal:yl,string:Ql,docString:bl(Ql),character:bl(Ql),attributeValue:bl(Ql),number:Sl,integer:bl(Sl),float:bl(Sl),bool:bl(yl),regexp:bl(yl),escape:bl(yl),color:bl(yl),url:bl(yl),keyword:Tl,self:bl(Tl),null:bl(Tl),atom:bl(Tl),unit:bl(Tl),modifier:bl(Tl),operatorKeyword:bl(Tl),controlKeyword:bl(Tl),definitionKeyword:bl(Tl),moduleKeyword:bl(Tl),operator:_l,derefOperator:bl(_l),arithmeticOperator:bl(_l),logicOperator:bl(_l),bitwiseOperator:bl(_l),compareOperator:bl(_l),updateOperator:bl(_l),definitionOperator:bl(_l),typeOperator:bl(_l),controlOperator:bl(_l),punctuation:Pl,separator:bl(Pl),bracket:Rl,angleBracket:bl(Rl),squareBracket:bl(Rl),paren:bl(Rl),brace:bl(Rl),content:Cl,heading:$l,heading1:bl($l),heading2:bl($l),heading3:bl($l),heading4:bl($l),heading5:bl($l),heading6:bl($l),contentSeparator:bl(Cl),list:bl(Cl),quote:bl(Cl),emphasis:bl(Cl),strong:bl(Cl),link:bl(Cl),monospace:bl(Cl),strikethrough:bl(Cl),inserted:bl(),deleted:bl(),changed:bl(),invalid:bl(),meta:Al,documentMeta:bl(Al),annotation:bl(Al),processingInstruction:bl(Al),definition:al.defineModifier(),constant:al.defineModifier(),function:al.defineModifier(),standard:al.defineModifier(),local:al.defineModifier(),special:al.defineModifier()};var Ml;pl([{tag:zl.link,class:"tok-link"},{tag:zl.heading,class:"tok-heading"},{tag:zl.emphasis,class:"tok-emphasis"},{tag:zl.strong,class:"tok-strong"},{tag:zl.keyword,class:"tok-keyword"},{tag:zl.atom,class:"tok-atom"},{tag:zl.bool,class:"tok-bool"},{tag:zl.url,class:"tok-url"},{tag:zl.labelName,class:"tok-labelName"},{tag:zl.inserted,class:"tok-inserted"},{tag:zl.deleted,class:"tok-deleted"},{tag:zl.literal,class:"tok-literal"},{tag:zl.string,class:"tok-string"},{tag:zl.number,class:"tok-number"},{tag:[zl.regexp,zl.escape,zl.special(zl.string)],class:"tok-string2"},{tag:zl.variableName,class:"tok-variableName"},{tag:zl.local(zl.variableName),class:"tok-variableName tok-local"},{tag:zl.definition(zl.variableName),class:"tok-variableName tok-definition"},{tag:zl.special(zl.variableName),class:"tok-variableName2"},{tag:zl.definition(zl.propertyName),class:"tok-propertyName tok-definition"},{tag:zl.typeName,class:"tok-typeName"},{tag:zl.namespace,class:"tok-namespace"},{tag:zl.className,class:"tok-className"},{tag:zl.macroName,class:"tok-macroName"},{tag:zl.propertyName,class:"tok-propertyName"},{tag:zl.operator,class:"tok-operator"},{tag:zl.comment,class:"tok-comment"},{tag:zl.meta,class:"tok-meta"},{tag:zl.invalid,class:"tok-invalid"},{tag:zl.punctuation,class:"tok-punctuation"}]);const jl=new va;function El(e){return Ze.define({combine:e?t=>t.concat(e):void 0})}class Wl{constructor(e,t,r=[]){this.data=e,Pt.prototype.hasOwnProperty("tree")||Object.defineProperty(Pt.prototype,"tree",{get(){return Ll(this)}}),this.parser=t,this.extension=[Fl.of(this),Pt.languageData.of(((e,t,r)=>e.facet(Dl(e,t,r))))].concat(r)}isActiveAt(e,t,r=-1){return Dl(e,t,r)==this.data}findRegions(e){let t=e.facet(Fl);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],n=(e,t)=>{if(e.prop(jl)==this.data)return void r.push({from:t,to:t+e.length});let o=e.prop(va.mounted);if(o){if(o.tree.prop(jl)==this.data){if(o.overlay)for(let e of o.overlay)r.push({from:e.from+t,to:e.to+t});else r.push({from:t,to:t+e.length});return}if(o.overlay){let e=r.length;if(n(o.tree,o.overlay[0].from+t),r.length>e)return}}for(let r=0;r<e.children.length;r++){let o=e.children[r];o instanceof $a&&n(o,e.positions[r]+t)}};return n(Ll(e),0),r}get allowsNesting(){return!0}}function Dl(e,t,r){let n=e.facet(Fl);if(!n)return null;let o=n.data;if(n.allowsNesting)for(let n=Ll(e).topNode;n;n=n.enter(t,r,Ca.ExcludeBuffers))o=n.type.prop(jl)||o;return o}Wl.setState=bt.define();class Xl extends Wl{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=El(e.languageData);return new Xl(t,e.parser.configure({props:[jl.add((e=>e.isTop?t:void 0))]}))}configure(e){return new Xl(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function Ll(e){let t=e.field(Wl.state,!1);return t?t.tree:$a.empty}class Il{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Zl=null;class ql{constructor(e,t,r=[],n,o,i,s,a){this.parser=e,this.state=t,this.fragments=r,this.tree=n,this.treeLen=o,this.viewport=i,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new ql(e,t,[],$a.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Il(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=$a.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var r;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(Na.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Na.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Zl;Zl=this;try{return e()}finally{Zl=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Nl(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:n,treeLen:o,viewport:i,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,r,n,o)=>t.push({fromA:e,toA:r,fromB:n,toB:o}))),r=Na.applyChanges(r,t),n=$a.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);r<n&&s.push({from:r,to:n})}}}return new ql(this.parser,t,r,n,o,i,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:r,to:n}=this.skipped[t];r<e.to&&n>e.from&&(this.fragments=Nl(this.fragments,r,n),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ba{createParse(t,r,n){let o=n[0].from,i=n[n.length-1].to;return{parsedPos:o,advance(){let t=Zl;if(t){for(let e of n)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new $a(ka.none,[],[],i-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Zl}}function Nl(e,t,r){return Na.applyChanges(e,[{fromA:t,toA:r,fromB:t,toB:r}])}class Bl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Bl(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=ql.create(e.facet(Fl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Bl(r)}}Wl.state=Fe.define({create:Bl.init,update(e,t){for(let e of t.effects)if(e.is(Wl.setState))return e.value;return t.startState.facet(Fl)!=t.state.facet(Fl)?Bl.init(t.state):e.apply(t)}});let Vl=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Vl=e=>{let t=-1,r=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(r):cancelIdleCallback(t)});const Gl="undefined"!=typeof navigator&&(null===(Ml=navigator.scheduling)||void 0===Ml?void 0:Ml.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ul=En.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wl.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wl.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Vl(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,o=r.field(Wl.state);if(o.tree==o.context.tree&&o.context.isDone(n+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!Gl?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<n&&r.doc.length>n+1e3,a=o.context.work((()=>Gl&&Gl()||Date.now()>i),n+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Wl.setState.of(new Bl(o.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>An(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Fl=Ze.define({combine:e=>e.length?e[0]:null,enables:[Wl.state,Ul]});class Hl{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class Yl{constructor(e,t,r,n,o,i){this.name=e,this.alias=t,this.extensions=r,this.filename=n,this.loadFunc=o,this.support=i,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){let{load:t,support:r}=e;if(!t){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(r)}return new Yl(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,t,r)}static matchFilename(e,t){for(let r of e)if(r.filename&&r.filename.test(t))return r;let r=/\.([^.]+)$/.exec(t);if(r)for(let t of e)if(t.extensions.indexOf(r[1])>-1)return t;return null}static matchLanguageName(e,t,r=!0){t=t.toLowerCase();for(let r of e)if(r.alias.some((e=>e==t)))return r;if(r)for(let r of e)for(let e of r.alias){let n=t.indexOf(e);if(n>-1&&(e.length>2||!/\w/.test(t[n-1])&&!/\w/.test(t[n+e.length])))return r}return null}}const Jl=Ze.define(),Kl=Ze.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function ec(e){let t=e.facet(Kl);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function tc(e,t){let r="",n=e.tabSize;if(9==e.facet(Kl).charCodeAt(0))for(;t>=n;)r+="\t",t-=n;for(let e=0;e<t;e++)r+=" ";return r}function rc(e,t){e instanceof Pt&&(e=new nc(e));for(let r of e.state.facet(Jl)){let n=r(e,t);if(null!=n)return n}let r=Ll(e.state);return r?function(e,t,r){return sc(t.resolveInner(r).enterUnfinishedNodesBefore(r),r,e)}(e,r,t):null}class nc{constructor(e,t={}){this.state=e,this.options=t,this.unit=ec(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:o}=this.options;return null!=n&&n>=r.from&&n<=r.to?o&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:r.text.slice(n-r.from),from:n}:{text:r.text.slice(0,n-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:n}=this.lineAt(e,t);return r.slice(e-n,Math.min(r.length,e+100-n))}column(e,t=1){let{text:r,from:n}=this.lineAt(e,t),o=this.countColumn(r,e-n),i=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return i>-1&&(o+=i-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Ut(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:n}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(n);if(e>-1)return e}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const oc=new va;function ic(e){let t=e.type.prop(oc);if(t)return t;let r,n=e.firstChild;if(n&&(r=n.type.prop(va.closedBy))){let t=e.lastChild,n=t&&r.indexOf(t.name)>-1;return e=>uc(e,!0,1,void 0,n&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?ac:null}function sc(e,t,r){for(;e;e=e.parent){let n=ic(e);if(n)return n(lc.create(r,t,e))}return null}function ac(){return 0}class lc extends nc{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new lc(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(cc(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?sc(e,this.pos,this.base):0}}function cc(e,t){for(let r=t;r;r=r.parent)if(e==r)return!0;return!1}function hc({closing:e,align:t=!0,units:r=1}){return n=>uc(n,t,r,e)}function uc(e,t,r,n,o){let i=e.textAfter,s=i.match(/^\s*/)[0].length,a=n&&i.slice(s,s+n.length)==n||o==e.pos+s,l=t?function(e){let t=e.node,r=t.childAfter(t.from),n=t.lastChild;if(!r)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(r.from),s=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let e=r.to;;){let o=t.childAfter(e);if(!o||o==n)return null;if(!o.type.isSkipped)return o.from<s?r:null;e=o.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*r)}function dc({except:e,units:t=1}={}){return r=>{let n=e&&e.test(r.textAfter);return r.baseIndent+(n?0:t*r.unit)}}const fc=Ze.define(),pc=new va;function gc(e){let t=e.firstChild,r=e.lastChild;return t&&t.to<r.from?{from:t.to,to:r.type.isError?e.to:r.from}:null}function mc(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Oc(e,t,r){for(let n of e.facet(fc)){let o=n(e,t,r);if(o)return o}return function(e,t,r){let n=Ll(e);if(n.length<r)return null;let o=null;for(let i=n.resolveInner(r);i;i=i.parent){if(i.to<=r||i.from>r)continue;if(o&&i.from<t)break;let s=i.type.prop(pc);if(s&&(i.to<n.length-50||n.length==e.doc.length||!mc(i))){let n=s(i,e);n&&n.from<=r&&n.from>=t&&n.to>r&&(o=n)}}return o}(e,t,r)}function bc(e,t){let r=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);return r>=n?void 0:{from:r,to:n}}const vc=bt.define({map:bc}),xc=bt.define({map:bc});function wc(e){let t=[];for(let{head:r}of e.state.selection.ranges)t.some((e=>e.from<=r&&e.to>=r))||t.push(e.lineBlockAt(r));return t}const kc=Fe.define({create:()=>dn.none,update(e,t){e=e.map(t.changes);for(let r of t.effects)r.is(vc)&&!Qc(e,r.value.from,r.value.to)?e=e.update({add:[Rc.range(r.value.from,r.value.to)]}):r.is(xc)&&(e=e.update({filter:(e,t)=>r.value.from!=e||r.value.to!=t,filterFrom:r.value.from,filterTo:r.value.to}));if(t.selection){let r=!1,{head:n}=t.selection.main;e.between(n,n,((e,t)=>{e<n&&t>n&&(r=!0)})),r&&(e=e.update({filterFrom:n,filterTo:n,filter:(e,t)=>t<=n||e>=n}))}return e},provide:e=>Di.decorations.from(e),toJSON(e,t){let r=[];return e.between(0,t.doc.length,((e,t)=>{r.push(e,t)})),r},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let r=0;r<e.length;){let n=e[r++],o=e[r++];if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(Rc.range(n,o))}return dn.set(t,!0)}});function yc(e,t,r){var n;let o=null;return null===(n=e.field(kc,!1))||void 0===n||n.between(t,r,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function Qc(e,t,r){let n=!1;return e.between(t,t,((e,o)=>{e==t&&o==r&&(n=!0)})),n}function Sc(e,t){return e.field(kc,!1)?t:t.concat(bt.appendConfig.of(Pc()))}function Cc(e,t,r=!0){let n=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return Di.announce.of(`${e.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${e.state.phrase("to")} ${o}.`)}const $c=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of wc(e)){let r=Oc(e.state,t.from,t.to);if(r)return e.dispatch({effects:Sc(e.state,[vc.of(r),Cc(e,r)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(kc,!1))return!1;let t=[];for(let r of wc(e)){let n=yc(e.state,r.from,r.to);n&&t.push(xc.of(n),Cc(e,n,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,r=[];for(let n=0;n<t.doc.length;){let o=e.lineBlockAt(n),i=Oc(t,o.from,o.to);i&&r.push(vc.of(i)),n=(i?e.lineBlockAt(i.to):o).to+1}return r.length&&e.dispatch({effects:Sc(e.state,r)}),!!r.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(kc,!1);if(!t||!t.size)return!1;let r=[];return t.between(0,e.state.doc.length,((e,t)=>{r.push(xc.of({from:e,to:t}))})),e.dispatch({effects:r}),!0}}],Tc={placeholderDOM:null,placeholderText:"…"},_c=Ze.define({combine:e=>Rt(e,Tc)});function Pc(e){let t=[kc,Mc];return e&&t.push(_c.of(e)),t}const Rc=dn.replace({widget:new class extends hn{toDOM(e){let{state:t}=e,r=t.facet(_c),n=t=>{let r=e.lineBlockAt(e.posAtDOM(t.target)),n=yc(e.state,r.from,r.to);n&&e.dispatch({effects:xc.of(n)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,n);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=n,o}}}),Ac={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class zc extends Ys{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const Mc=Di.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class jc{constructor(e,t){let r;function n(e){let t=Kt.newName();return(r||(r=Object.create(null)))["."+t]=e,t}const o="string"==typeof t.all?t.all:t.all?n(t.all):void 0,i=t.scope;this.scope=i instanceof Wl?e=>e.prop(jl)==i.data:i?e=>e==i:void 0,this.style=pl(e.map((e=>({tag:e.tag,class:e.class||n(Object.assign({},e,{tag:null}))}))),{all:o}).style,this.module=r?new Kt(r):null,this.themeType=t.themeType}static define(e,t){return new jc(e,t||{})}}const Ec=Ze.define(),Wc=Ze.define({combine:e=>e.length?[e[0]]:null});function Dc(e){let t=e.facet(Ec);return t.length?t:e.facet(Wc)}function Xc(e,t){let r,n=[Ic];return e instanceof jc&&(e.module&&n.push(Di.styleModule.of(e.module)),r=e.themeType),(null==t?void 0:t.fallback)?n.push(Wc.of(e)):r?n.push(Ec.computeN([Di.darkTheme],(t=>t.facet(Di.darkTheme)==("dark"==r)?[e]:[]))):n.push(Ec.of(e)),n}class Lc{constructor(e){this.markCache=Object.create(null),this.tree=Ll(e.state),this.decorations=this.buildDeco(e,Dc(e.state))}update(e){let t=Ll(e.state),r=Dc(e.state),n=r!=Dc(e.startState);t.length<e.view.viewport.to&&!n&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return dn.none;let r=new Wt;for(let{from:n,to:o}of e.visibleRanges)ml(this.tree,t,((e,t,n)=>{r.add(e,t,this.markCache[n]||(this.markCache[n]=dn.mark({class:n})))}),n,o);return r.finish()}}const Ic=tt.high(En.fromClass(Lc,{decorations:e=>e.decorations})),Zc=jc.define([{tag:zl.meta,color:"#7a757a"},{tag:zl.link,textDecoration:"underline"},{tag:zl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:zl.emphasis,fontStyle:"italic"},{tag:zl.strong,fontWeight:"bold"},{tag:zl.strikethrough,textDecoration:"line-through"},{tag:zl.keyword,color:"#708"},{tag:[zl.atom,zl.bool,zl.url,zl.contentSeparator,zl.labelName],color:"#219"},{tag:[zl.literal,zl.inserted],color:"#164"},{tag:[zl.string,zl.deleted],color:"#a11"},{tag:[zl.regexp,zl.escape,zl.special(zl.string)],color:"#e40"},{tag:zl.definition(zl.variableName),color:"#00f"},{tag:zl.local(zl.variableName),color:"#30a"},{tag:[zl.typeName,zl.namespace],color:"#085"},{tag:zl.className,color:"#167"},{tag:[zl.special(zl.variableName),zl.macroName],color:"#256"},{tag:zl.definition(zl.propertyName),color:"#00c"},{tag:zl.comment,color:"#940"},{tag:zl.invalid,color:"#f00"}]),qc=Di.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Nc="()[]{}",Bc=Ze.define({combine:e=>Rt(e,{afterCursor:!0,brackets:Nc,maxScanDistance:1e4,renderMatch:Uc})}),Vc=dn.mark({class:"cm-matchingBracket"}),Gc=dn.mark({class:"cm-nonmatchingBracket"});function Uc(e){let t=[],r=e.matched?Vc:Gc;return t.push(r.range(e.start.from,e.start.to)),e.end&&t.push(r.range(e.end.from,e.end.to)),t}const Fc=Fe.define({create:()=>dn.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let r=[],n=t.state.facet(Bc);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=Kc(t.state,e.head,-1,n)||e.head>0&&Kc(t.state,e.head-1,1,n)||n.afterCursor&&(Kc(t.state,e.head,1,n)||e.head<t.state.doc.length&&Kc(t.state,e.head+1,-1,n));o&&(r=r.concat(n.renderMatch(o,t.state)))}return dn.set(r,!0)},provide:e=>Di.decorations.from(e)}),Hc=[Fc,qc];function Yc(e={}){return[Bc.of(e),Hc]}function Jc(e,t,r){let n=e.prop(t<0?va.openedBy:va.closedBy);if(n)return n;if(1==e.name.length){let n=r.indexOf(e.name);if(n>-1&&n%2==(t<0?1:0))return[r[n+t]]}return null}function Kc(e,t,r,n={}){let o=n.maxScanDistance||1e4,i=n.brackets||Nc,s=Ll(e),a=s.resolveInner(t,r);for(let n=a;n;n=n.parent){let o=Jc(n.type,r,i);if(o&&n.from<n.to)return eh(e,t,r,n,o,i)}return function(e,t,r,n,o,i,s){let a=r<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=r>0)return null;let c={from:r<0?t-1:t,to:r>0?t+1:t},h=e.doc.iterRange(t,r>0?e.doc.length:0),u=0;for(let e=0;!h.next().done&&e<=i;){let i=h.value;r<0&&(e+=i.length);let a=t+e*r;for(let e=r>0?0:i.length-1,t=r>0?i.length:-1;e!=t;e+=r){let t=s.indexOf(i[e]);if(!(t<0||n.resolveInner(a+e,1).type!=o))if(t%2==0==r>0)u++;else{if(1==u)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};u--}}r>0&&(e+=i.length)}return h.done?{start:c,matched:!1}:null}(e,t,r,s,a.type,o,i)}function eh(e,t,r,n,o,i){let s=n.parent,a={from:n.from,to:n.to},l=0,c=null==s?void 0:s.cursor();if(c&&(r<0?c.childBefore(n.from):c.childAfter(n.to)))do{if(r<0?c.to<=n.from:c.from>=n.to){if(0==l&&o.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Jc(c.type,r,i))l++;else if(Jc(c.type,-r,i)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(r<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const th=Object.create(null),rh=[ka.none],nh=[],oh=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oh[e]=sh(th,t);function ih(e,t){nh.indexOf(e)>-1||(nh.push(e),console.warn(t))}function sh(e,t){let r=null;for(let n of t.split(".")){let t=e[n]||zl[n];t?"function"==typeof t?r?r=t(r):ih(n,`Modifier ${n} used at start of tag`):r?ih(n,`Tag ${n} used as modifier`):r=t:ih(n,`Unknown highlighting tag ${n}`)}if(!r)return 0;let n=t.replace(/ /g,"_"),o=ka.define({id:rh.length,name:n,props:[ul({[n]:r})]});return rh.push(o),o.id}function ah(e,t){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let o=e(t,r);return!!o&&(n(r.update(o)),!0)}}const lh=ah(fh,0),ch=ah(dh,0),hh=ah(((e,t)=>dh(e,t,function(e){let t=[];for(let r of e.selection.ranges){let n=e.doc.lineAt(r.from),o=r.to<=n.to?n:e.doc.lineAt(r.to),i=t.length-1;i>=0&&t[i].to>n.from?t[i].to=o.to:t.push({from:n.from,to:o.to})}return t}(t))),0);function uh(e,t=e.selection.main.head){let r=e.languageDataAt("commentTokens",t);return r.length?r[0]:{}}function dh(e,t,r=t.selection.ranges){let n=r.map((e=>uh(t,e.from).block));if(!n.every((e=>e)))return null;let o=r.map(((e,r)=>function(e,{open:t,close:r},n,o){let i,s,a=e.sliceDoc(n-50,n),l=e.sliceDoc(o,o+50),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,u=a.length-c;if(a.slice(u-t.length,u)==t&&l.slice(h,h+r.length)==r)return{open:{pos:n-c,margin:c&&1},close:{pos:o+h,margin:h&&1}};o-n<=100?i=s=e.sliceDoc(n,o):(i=e.sliceDoc(n,n+50),s=e.sliceDoc(o-50,o));let d=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-r.length;return i.slice(d,d+t.length)==t&&s.slice(p,p+r.length)==r?{open:{pos:n+d+t.length,margin:/\s/.test(i.charAt(d+t.length))?1:0},close:{pos:o-f-r.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,n[r],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(r.map(((e,t)=>o[t]?[]:[{from:e.from,insert:n[t].open+" "},{from:e.to,insert:" "+n[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,r=0;r<o.length;r++)if(t=o[r]){let o=n[r],{open:i,close:s}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:s.pos-s.margin,to:s.pos+o.close.length})}return{changes:e}}return null}function fh(e,t,r=t.selection.ranges){let n=[],o=-1;for(let{from:e,to:i}of r){let r=n.length,s=1e9;for(let r=e;r<=i;){let a=t.doc.lineAt(r);if(a.from>o&&(e==i||i>a.from)){o=a.from;let e=uh(t,r).line;if(!e)continue;let i=/^\s*/.exec(a.text)[0].length,l=i==a.length,c=a.text.slice(i,i+e.length)==e?i:-1;i<a.text.length&&i<s&&(s=i),n.push({line:a,comment:c,token:e,indent:i,empty:l,single:!1})}r=a.to+1}if(s<1e9)for(let e=r;e<n.length;e++)n[e].indent<n[e].line.text.length&&(n[e].indent=s);n.length==r+1&&(n[r].single=!0)}if(2!=e&&n.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:r,indent:o,empty:i,single:s}of n)!s&&i||e.push({from:t.from+o,insert:r+" "});let r=t.changes(e);return{changes:r,selection:t.selection.map(r,1)}}if(1!=e&&n.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:r,token:o}of n)if(r>=0){let n=t.from+r,i=n+o.length;" "==t.text[i-t.from]&&i++,e.push({from:n,to:i})}return{changes:e}}return null}const ph=gt.define(),gh=gt.define(),mh=Ze.define(),Oh=Ze.define({combine:e=>Rt(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const bh=Fe.define({create:()=>Mh.empty,update(e,t){let r=t.state.facet(Oh),n=t.annotation(ph);if(n){let o=t.docChanged?Xe.single(function(e){let t=0;return e.iterChangedRanges(((e,r)=>t=r)),t}(t.changes)):void 0,i=Sh.fromTransaction(t,o),s=n.side,a=0==s?e.undone:e.done;return a=i?Ch(a,a.length,r.minDepth,i):_h(a,t.startState.selection),new Mh(0==s?n.rest:a,0==s?a:n.rest)}let o=t.annotation(gh);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(vt.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=Sh.fromTransaction(t),s=t.annotation(vt.time),a=t.annotation(vt.userEvent);return i?e=e.addChanges(i,s,a,r.newGroupDelay,r.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,r.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new Mh(e.done.map(Sh.fromJSON),e.undone.map(Sh.fromJSON))});function vh(e={}){return[bh,Oh.of(e),Di.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?wh:"historyRedo"==e.inputType?kh:null;return!!r&&(e.preventDefault(),r(t))}})]}function xh(e,t){return function({state:r,dispatch:n}){if(!t&&r.readOnly)return!1;let o=r.field(bh,!1);if(!o)return!1;let i=o.pop(e,r,t);return!!i&&(n(i),!0)}}const wh=xh(0,!1),kh=xh(1,!1),yh=xh(0,!0),Qh=xh(1,!0);class Sh{constructor(e,t,r,n,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=n,this.selectionsAfter=o}setSelAfter(e){return new Sh(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Sh(e.changes&&Re.fromJSON(e.changes),[],e.mapped&&Pe.fromJSON(e.mapped),e.startSelection&&Xe.fromJSON(e.startSelection),e.selectionsAfter.map(Xe.fromJSON))}static fromTransaction(e,t){let r=Th;for(let t of e.startState.facet(mh)){let n=t(e);n.length&&(r=r.concat(n))}return!r.length&&e.changes.empty?null:new Sh(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Th)}static selection(e){return new Sh(void 0,Th,void 0,void 0,e)}}function Ch(e,t,r,n){let o=t+1>r+20?t-r-1:0,i=e.slice(o,t);return i.push(n),i}function $h(e,t){return e.length?t.length?e.concat(t):e:t}const Th=[];function _h(e,t){if(e.length){let r=e[e.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-200));return n.length&&n[n.length-1].eq(t)?e:(n.push(t),Ch(e,e.length-1,1e9,r.setSelAfter(n)))}return[Sh.selection([t])]}function Ph(e){let t=e[e.length-1],r=e.slice();return r[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),r}function Rh(e,t){if(!e.length)return e;let r=e.length,n=Th;for(;r;){let o=Ah(e[r-1],t,n);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,r);return t[r-1]=o,t}t=o.mapped,r--,n=o.selectionsAfter}return n.length?[Sh.selection(n)]:Th}function Ah(e,t,r){let n=$h(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Th,r);if(!e.changes)return Sh.selection(n);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(i):i;return new Sh(o,bt.mapEffects(e.effects,t),s,e.startSelection.map(i),n)}const zh=/^(input\.type|delete)($|\.)/;class Mh{constructor(e,t,r=0,n){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=n}isolate(){return this.prevTime?new Mh(this.done,this.undone):this}addChanges(e,t,r,n,o){let i=this.done,s=i[i.length-1];return i=s&&s.changes&&!s.changes.empty&&e.changes&&(!r||zh.test(r))&&(!s.selectionsAfter.length&&t-this.prevTime<n&&function(e,t){let r=[],n=!1;return e.iterChangedRanges(((e,t)=>r.push(e,t))),t.iterChangedRanges(((e,t,o,i)=>{for(let e=0;e<r.length;){let t=r[e++],s=r[e++];i>=t&&o<=s&&(n=!0)}})),n}(s.changes,e.changes)||"input.type.compose"==r)?Ch(i,i.length-1,o,new Sh(e.changes.compose(s.changes),$h(e.effects,s.effects),s.mapped,s.startSelection,Th)):Ch(i,i.length,o,e),new Mh(i,Th,t,r)}addSelection(e,t,r,n){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Th;return o.length>0&&t-this.prevTime<n&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(i=o[o.length-1],s=e,i.ranges.length==s.ranges.length&&0===i.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new Mh(_h(this.done,e),this.undone,t,r);var i,s}addMapping(e){return new Mh(Rh(this.done,e),Rh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let n=0==e?this.done:this.undone;if(0==n.length)return null;let o=n[n.length-1];if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:ph.of({side:e,rest:Ph(n)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let r=1==n.length?Th:n.slice(0,n.length-1);return o.mapped&&(r=Rh(r,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:ph.of({side:e,rest:r}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}Mh.empty=new Mh(Th,Th);const jh=[{key:"Mod-z",run:wh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:kh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:kh,preventDefault:!0},{key:"Mod-u",run:yh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Qh,preventDefault:!0}];function Eh(e,t){return Xe.create(e.ranges.map(t),e.mainIndex)}function Wh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Dh({state:e,dispatch:t},r){let n=Eh(e.selection,r);return!n.eq(e.selection)&&(t(Wh(e,n)),!0)}function Xh(e,t){return Xe.cursor(t?e.to:e.from)}function Lh(e,t){return Dh(e,(r=>r.empty?e.moveByChar(r,t):Xh(r,t)))}function Ih(e){return e.textDirectionAt(e.state.selection.main.head)==Vn.LTR}const Zh=e=>Lh(e,!Ih(e)),qh=e=>Lh(e,Ih(e));function Nh(e,t){return Dh(e,(r=>r.empty?e.moveByGroup(r,t):Xh(r,t)))}function Bh(e,t,r){if(t.type.prop(r))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Vh(e,t,r){let n,o,i=Ll(e).resolveInner(t.head),s=r?va.closedBy:va.openedBy;for(let n=t.head;;){let t=r?i.childAfter(n):i.childBefore(n);if(!t)break;Bh(e,t,s)?i=t:n=r?t.to:t.from}return o=i.type.prop(s)&&(n=r?Kc(e,i.from,1):Kc(e,i.to,-1))&&n.matched?r?n.end.to:n.end.from:r?i.to:i.from,Xe.cursor(o,r?-1:1)}function Gh(e,t){return Dh(e,(r=>{if(!r.empty)return Xh(r,t);let n=e.moveVertically(r,t);return n.head!=r.head?n:e.moveToLineBoundary(r,t)}))}const Uh=e=>Gh(e,!1),Fh=e=>Gh(e,!0);function Hh(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Yh(e,t){let{state:r}=e,n=Eh(r.selection,(r=>r.empty?e.moveVertically(r,t,Hh(e)):Xh(r,t)));if(n.eq(r.selection))return!1;let o,i=e.coordsAtPos(r.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return i&&i.top>s.top&&i.bottom<s.bottom&&i.top-s.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(o=Di.scrollIntoView(n.main.head,{y:"start",yMargin:i.top-s.top})),e.dispatch(Wh(r,n),{effects:o}),!0}const Jh=e=>Yh(e,!1),Kh=e=>Yh(e,!0);function eu(e,t,r){let n=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,r);if(o.head==t.head&&o.head!=(r?n.to:n.from)&&(o=e.moveToLineBoundary(t,r,!1)),!r&&o.head==n.from&&n.length){let r=/^\s*/.exec(e.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;r&&t.head!=n.from+r&&(o=Xe.cursor(n.from+r))}return o}const tu=e=>Dh(e,(t=>eu(e,t,!0))),ru=e=>Dh(e,(t=>eu(e,t,!1)));function nu(e,t){let r=Eh(e.state.selection,(e=>{let r=t(e);return Xe.range(e.anchor,r.head,r.goalColumn)}));return!r.eq(e.state.selection)&&(e.dispatch(Wh(e.state,r)),!0)}function ou(e,t){return nu(e,(r=>e.moveByChar(r,t)))}const iu=e=>ou(e,!Ih(e)),su=e=>ou(e,Ih(e));function au(e,t){return nu(e,(r=>e.moveByGroup(r,t)))}function lu(e,t){return nu(e,(r=>e.moveVertically(r,t)))}const cu=e=>lu(e,!1),hu=e=>lu(e,!0);function uu(e,t){return nu(e,(r=>e.moveVertically(r,t,Hh(e))))}const du=e=>uu(e,!1),fu=e=>uu(e,!0),pu=e=>nu(e,(t=>eu(e,t,!0))),gu=e=>nu(e,(t=>eu(e,t,!1))),mu=({state:e,dispatch:t})=>(t(Wh(e,{anchor:0})),!0),Ou=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.doc.length})),!0),bu=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.selection.main.anchor,head:0})),!0),vu=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function xu({state:e,dispatch:t},r){if(e.readOnly)return!1;let n="delete.selection",o=e.changeByRange((e=>{let{from:t,to:o}=e;if(t==o){let e=r(t);e<t?n="delete.backward":e>t&&(n="delete.forward"),t=Math.min(t,e),o=Math.max(o,e)}return t==o?{range:e}:{changes:{from:t,to:o},range:Xe.cursor(t)}}));return!o.changes.empty&&(t(e.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Di.announce.of(e.phrase("Selection deleted")):void 0})),!0)}function wu(e,t,r){if(e instanceof Di)for(let n of e.state.facet(Di.atomicRanges).map((t=>t(e))))n.between(t,t,((e,n)=>{e<t&&n>t&&(t=r?n:e)}));return t}const ku=(e,t)=>xu(e,(r=>{let n,o,{state:i}=e,s=i.doc.lineAt(r);if(!t&&r>s.from&&r<s.from+200&&!/[^ \t]/.test(n=s.text.slice(0,r-s.from))){if("\t"==n[n.length-1])return r-1;let e=Ut(n,i.tabSize)%ec(i)||ec(i);for(let t=0;t<e&&" "==n[n.length-1-t];t++)r--;o=r}else o=xe(s.text,r-s.from,t,t)+s.from,o==r&&s.number!=(t?i.doc.lines:1)&&(o+=t?1:-1);return wu(e,o,t)})),yu=e=>ku(e,!1),Qu=e=>ku(e,!0),Su=(e,t)=>xu(e,(r=>{let n=r,{state:o}=e,i=o.doc.lineAt(n),s=o.charCategorizer(n);for(let e=null;;){if(n==(t?i.to:i.from)){n==r&&i.number!=(t?o.doc.lines:1)&&(n+=t?1:-1);break}let a=xe(i.text,n-i.from,t)+i.from,l=i.text.slice(Math.min(n,a)-i.from,Math.max(n,a)-i.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&n==r||(e=c),n=a}return wu(e,n,t)})),Cu=e=>Su(e,!1),$u=e=>xu(e,(t=>{let r=e.lineBlockAt(t).to;return wu(e,t<r?r:Math.min(e.state.doc.length,t+1),!0)}));function Tu(e){let t=[],r=-1;for(let n of e.selection.ranges){let o=e.doc.lineAt(n.from),i=e.doc.lineAt(n.to);if(n.empty||n.to!=i.from||(i=e.doc.lineAt(n.to-1)),r>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(n)}else t.push({from:o.from,to:i.to,ranges:[n]});r=i.number+1}return t}function _u(e,t,r){if(e.readOnly)return!1;let n=[],o=[];for(let t of Tu(e)){if(r?t.to==e.doc.length:0==t.from)continue;let i=e.doc.lineAt(r?t.to+1:t.from-1),s=i.length+1;if(r){n.push({from:t.to,to:i.to},{from:t.from,insert:i.text+e.lineBreak});for(let r of t.ranges)o.push(Xe.range(Math.min(e.doc.length,r.anchor+s),Math.min(e.doc.length,r.head+s)))}else{n.push({from:i.from,to:t.from},{from:t.to,insert:e.lineBreak+i.text});for(let e of t.ranges)o.push(Xe.range(e.anchor-s,e.head-s))}}return!!n.length&&(t(e.update({changes:n,scrollIntoView:!0,selection:Xe.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Pu(e,t,r){if(e.readOnly)return!1;let n=[];for(let t of Tu(e))r?n.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):n.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ru=zu(!1),Au=zu(!0);function zu(e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let n=t.changeByRange((r=>{let{from:n,to:o}=r,i=t.doc.lineAt(n),s=!e&&n==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let r,n=Ll(e).resolveInner(t),o=n.childBefore(t),i=n.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(r=o.type.prop(va.closedBy))&&r.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from?{from:o.to,to:i.from}:null}(t,n);e&&(n=o=(o<=i.to?i:t.doc.lineAt(o)).to);let a=new nc(t,{simulateBreak:n,simulateDoubleBreak:!!s}),l=rc(a,n);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(n).text)[0].length);o<i.to&&/\s/.test(i.text[o-i.from]);)o++;s?({from:n,to:o}=s):n>i.from&&n<i.from+100&&!/\S/.test(i.text.slice(0,n))&&(n=i.from);let c=["",tc(t,l)];return s&&c.push(tc(t,a.lineIndent(i.from,-1))),{changes:{from:n,to:o,insert:le.of(c)},range:Xe.cursor(n+1+c[1].length)}}));return r(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Mu(e,t){let r=-1;return e.changeByRange((n=>{let o=[];for(let i=n.from;i<=n.to;){let s=e.doc.lineAt(i);s.number>r&&(n.empty||n.to>s.from)&&(t(s,o,n),r=s.number),i=s.to+1}let i=e.changes(o);return{changes:o,range:Xe.range(i.mapPos(n.anchor,1),i.mapPos(n.head,1))}}))}const ju=[{key:"Ctrl-b",run:Zh,shift:iu,preventDefault:!0},{key:"Ctrl-f",run:qh,shift:su},{key:"Ctrl-p",run:Uh,shift:cu},{key:"Ctrl-n",run:Fh,shift:hu},{key:"Ctrl-a",run:e=>Dh(e,(t=>Xe.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>nu(e,(t=>Xe.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Dh(e,(t=>Xe.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>nu(e,(t=>Xe.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:Qu},{key:"Ctrl-h",run:yu},{key:"Ctrl-k",run:$u},{key:"Ctrl-Alt-h",run:Cu},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:le.of(["",""])},range:Xe.cursor(e.from)})));return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let r=t.from,n=e.doc.lineAt(r),o=r==n.from?r-1:xe(n.text,r-n.from,!1)+n.from,i=r==n.to?r+1:xe(n.text,r-n.from,!0)+n.from;return{changes:{from:o,to:i,insert:e.doc.slice(r,i).append(e.doc.slice(o,r))},range:Xe.cursor(i)}}));return!r.changes.empty&&(t(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Kh}],Eu=[{key:"ArrowLeft",run:Zh,shift:iu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Nh(e,!Ih(e)),shift:e=>au(e,!Ih(e))},{mac:"Cmd-ArrowLeft",run:ru,shift:gu},{key:"ArrowRight",run:qh,shift:su,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Nh(e,Ih(e)),shift:e=>au(e,Ih(e))},{mac:"Cmd-ArrowRight",run:tu,shift:pu},{key:"ArrowUp",run:Uh,shift:cu,preventDefault:!0},{mac:"Cmd-ArrowUp",run:mu,shift:bu},{mac:"Ctrl-ArrowUp",run:Jh,shift:du},{key:"ArrowDown",run:Fh,shift:hu,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ou,shift:vu},{mac:"Ctrl-ArrowDown",run:Kh,shift:fu},{key:"PageUp",run:Jh,shift:du},{key:"PageDown",run:Kh,shift:fu},{key:"Home",run:ru,shift:gu,preventDefault:!0},{key:"Mod-Home",run:mu,shift:bu},{key:"End",run:tu,shift:pu,preventDefault:!0},{key:"Mod-End",run:Ou,shift:vu},{key:"Enter",run:Ru},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:yu,shift:yu},{key:"Delete",run:Qu},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Cu},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Su(e,!0)},{mac:"Mod-Backspace",run:e=>xu(e,(t=>{let r=e.lineBlockAt(t).from;return wu(e,t>r?r:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:$u}].concat(ju.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),Wu=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Dh(e,(t=>Vh(e.state,t,!Ih(e)))),shift:e=>nu(e,(t=>Vh(e.state,t,!Ih(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Dh(e,(t=>Vh(e.state,t,Ih(e)))),shift:e=>nu(e,(t=>Vh(e.state,t,Ih(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>_u(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Pu(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>_u(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Pu(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let r=e.selection,n=null;return r.ranges.length>1?n=Xe.create([r.main]):r.main.empty||(n=Xe.create([Xe.cursor(r.main.head)])),!!n&&(t(Wh(e,n)),!0)}},{key:"Mod-Enter",run:Au},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let r=Tu(e).map((({from:t,to:r})=>Xe.range(t,Math.min(r+1,e.doc.length))));return t(e.update({selection:Xe.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let r=Eh(e.selection,(t=>{var r;let n=Ll(e).resolveInner(t.head,1);for(;!(n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&(null===(r=n.parent)||void 0===r?void 0:r.parent);)n=n.parent;return Xe.range(n.to,n.from)}));return t(Wh(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Mu(e,((t,r)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let o=Ut(n,e.tabSize),i=0,s=tc(e,Math.max(0,o-ec(e)));for(;i<n.length&&i<s.length&&n.charCodeAt(i)==s.charCodeAt(i);)i++;r.push({from:t.from+i,to:t.from+n.length,insert:s.slice(i)})})),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Mu(e,((t,r)=>{r.push({from:t.from,insert:e.facet(Kl)})})),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=Object.create(null),n=new nc(e,{overrideIndentation:e=>{let t=r[e];return null==t?-1:t}}),o=Mu(e,((t,o,i)=>{let s=rc(n,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=tc(e,s);(a!=l||i.from<t.from+a.length)&&(r[t.from]=s,o.push({from:t.from,to:t.from+a.length,insert:l}))}));return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,r=t.changes(Tu(t).map((({from:e,to:r})=>(e>0?e--:r<t.doc.length&&r++,{from:e,to:r})))),n=Eh(t.selection,(t=>e.moveVertically(t,!0))).map(r);return e.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,r){let n=!1,o=Eh(e.selection,(t=>{let o=Kc(e,t.head,-1)||Kc(e,t.head,1)||t.head>0&&Kc(e,t.head-1,1)||t.head<e.doc.length&&Kc(e,t.head+1,-1);if(!o||!o.end)return t;n=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return r?Xe.range(t.anchor,i):Xe.cursor(i)}));return!!n&&(t(Wh(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let t=uh(e.state);return t.line?lh(e):!!t.block&&hh(e)}},{key:"Alt-A",run:ch}].concat(Eu);function Du(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&"object"==typeof r&&null==r.nodeType&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var o=r[n];"string"==typeof o?e.setAttribute(n,o):null!=o&&(e[n]=o)}t++}for(;t<arguments.length;t++)Xu(e,arguments[t]);return e}function Xu(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var r=0;r<t.length;r++)Xu(e,t[r])}}const Lu="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Iu{constructor(e,t,r=0,n=e.length,o){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,n),this.bufferStart=r,this.normalize=o?e=>o(Lu(e)):Lu,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Se(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ce(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=$e(e);let n=this.normalize(t);for(let e=0,o=r;;e++){let i=n.charCodeAt(e),s=this.match(i,o);if(s)return this.value=s,this;if(e==n.length-1)break;o==r&&e<t.length&&t.charCodeAt(e)==i&&o++}}}match(e,t){let r=null;for(let n=0;n<this.matches.length;n+=2){let o=this.matches[n],i=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[n+1],to:t+1}:(this.matches[n]++,i=!0)),i||(this.matches.splice(n,2),n-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r}}"undefined"!=typeof Symbol&&(Iu.prototype[Symbol.iterator]=function(){return this});const Zu={from:-1,to:-1,match:/.*/.exec("")},qu="gm"+(null==/x/.unicode?"":"u");class Nu{constructor(e,t,r,n=0,o=e.length){if(this.to=o,this.curLine="",this.done=!1,this.value=Zu,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Gu(e,t,r,n,o);this.re=new RegExp(t,qu+((null==r?void 0:r.ignoreCase)?"i":"")),this.iter=e.iter();let i=e.lineAt(n);this.curLineStart=i.from,this.matchPos=n,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,n=r+t[0].length;if(this.matchPos=n+(r==n?1:0),r==this.curLine.length&&this.nextLine(),r<n||r>this.value.to)return this.value={from:r,to:n,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Bu=new WeakMap;class Vu{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let n=Bu.get(e);if(!n||n.from>=r||n.to<=t){let n=new Vu(t,e.sliceString(t,r));return Bu.set(e,n),n}if(n.from==t&&n.to==r)return n;let{text:o,from:i}=n;return i>t&&(o=e.sliceString(t,i)+o,i=t),n.to<r&&(o+=e.sliceString(n.to,r)),Bu.set(e,new Vu(i,o)),new Vu(t,o.slice(t-i,r-i))}}class Gu{constructor(e,t,r,n,o){this.text=e,this.to=o,this.done=!1,this.value=Zu,this.matchPos=n,this.re=new RegExp(t,qu+((null==r?void 0:r.ignoreCase)?"i":"")),this.flat=Vu.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,r=e+t[0].length;return this.value={from:e,to:r,match:t},this.matchPos=r+(e==r?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Vu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Uu(e){let t=Du("input",{class:"cm-textfield",name:"line"});function r(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:n}=e,o=n.doc.lineAt(n.selection.main.head),[,i,s,a,l]=r,c=a?+a.slice(1):0,h=s?+s:o.number;if(s&&l){let e=h/100;i&&(e=e*("-"==i?-1:1)+o.number/n.doc.lines),h=Math.round(n.doc.lines*e)}else s&&i&&(h=h*("-"==i?-1:1)+o.number);let u=n.doc.line(Math.max(1,Math.min(n.doc.lines,h)));e.dispatch({effects:Fu.of(!1),selection:Xe.cursor(u.from+Math.max(0,Math.min(c,u.length))),scrollIntoView:!0}),e.focus()}return{dom:Du("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Fu.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())},onsubmit:e=>{e.preventDefault(),r()}},Du("label",e.state.phrase("Go to line"),": ",t)," ",Du("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Nu.prototype[Symbol.iterator]=Gu.prototype[Symbol.iterator]=function(){return this});const Fu=bt.define(),Hu=Fe.define({create:()=>!0,update(e,t){for(let r of t.effects)r.is(Fu)&&(e=r.value);return e},provide:e=>Hs.from(e,(e=>e?Uu:null))}),Yu=Di.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ju={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ku=Ze.define({combine:e=>Rt(e,Ju,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function ed(e){let t=[id,od];return e&&t.push(Ku.of(e)),t}const td=dn.mark({class:"cm-selectionMatch"}),rd=dn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function nd(e,t,r,n){return!(0!=r&&e(t.sliceDoc(r-1,r))==Ct.Word||n!=t.doc.length&&e(t.sliceDoc(n,n+1))==Ct.Word)}const od=En.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Ku),{state:r}=e,n=r.selection;if(n.ranges.length>1)return dn.none;let o,i=n.main,s=null;if(i.empty){if(!t.highlightWordAroundCursor)return dn.none;let e=r.wordAt(i.head);if(!e)return dn.none;s=r.charCategorizer(i.head),o=r.sliceDoc(e.from,e.to)}else{let e=i.to-i.from;if(e<t.minSelectionLength||e>200)return dn.none;if(t.wholeWords){if(o=r.sliceDoc(i.from,i.to),s=r.charCategorizer(i.head),!nd(s,r,i.from,i.to)||!function(e,t,r,n){return e(t.sliceDoc(r,r+1))==Ct.Word&&e(t.sliceDoc(n-1,n))==Ct.Word}(s,r,i.from,i.to))return dn.none}else if(o=r.sliceDoc(i.from,i.to).trim(),!o)return dn.none}let a=[];for(let n of e.visibleRanges){let e=new Iu(r.doc,o,n.from,n.to);for(;!e.next().done;){let{from:n,to:o}=e.value;if((!s||nd(s,r,n,o))&&(i.empty&&n<=i.from&&o>=i.to?a.push(rd.range(n,o)):(n>=i.to||o<=i.from)&&a.push(td.range(n,o)),a.length>t.maxMatches))return dn.none}}return dn.set(a)}},{decorations:e=>e.decorations}),id=Di.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const sd=Ze.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new Rd(e))}}});class ad{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,qu),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new dd(this):new hd(this)}getCursor(e,t=0,r=e.length){return this.regexp?ud(this,e,t,r):cd(this,e,t,r)}}class ld{constructor(e){this.spec=e}}function cd(e,t,r,n){return new Iu(t,e.unquoted,r,n,e.caseSensitive?void 0:e=>e.toLowerCase())}class hd extends ld{constructor(e){super(e)}nextMatch(e,t,r){let n=cd(this.spec,e,r,e.length).nextOverlapping();return n.done&&(n=cd(this.spec,e,0,t).nextOverlapping()),n.done?null:n.value}prevMatchInRange(e,t,r){for(let n=r;;){let r=Math.max(t,n-1e4-this.spec.unquoted.length),o=cd(this.spec,e,r,n),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(r==t)return null;n-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let r=cd(this.spec,e,0,e.length),n=[];for(;!r.next().done;){if(n.length>=t)return null;n.push(r.value)}return n}highlight(e,t,r,n){let o=cd(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.length));for(;!o.next().done;)n(o.value.from,o.value.to)}}function ud(e,t,r,n){return new Nu(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},r,n)}class dd extends ld{nextMatch(e,t,r){let n=ud(this.spec,e,r,e.length).next();return n.done&&(n=ud(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,r){for(let n=1;;n++){let o=Math.max(t,r-1e4*n),i=ud(this.spec,e,o,r),s=null;for(;!i.next().done;)s=i.value;if(s&&(o==t||s.from>o+10))return s;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=ud(this.spec,e,0,e.length),n=[];for(;!r.next().done;){if(n.length>=t)return null;n.push(r.value)}return n}highlight(e,t,r,n){let o=ud(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.length));for(;!o.next().done;)n(o.value.from,o.value.to)}}const fd=bt.define(),pd=bt.define(),gd=Fe.define({create:e=>new md($d(e).create(),null),update(e,t){for(let r of t.effects)r.is(fd)?e=new md(r.value.create(),e.panel):r.is(pd)&&(e=new md(e.query,r.value?Cd:null));return e},provide:e=>Hs.from(e,(e=>e.panel))});class md{constructor(e,t){this.query=e,this.panel=t}}const Od=dn.mark({class:"cm-searchMatch"}),bd=dn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vd=En.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(gd))}update(e){let t=e.state.field(gd);(t!=e.startState.field(gd)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return dn.none;let{view:r}=this,n=new Wt;for(let t=0,o=r.visibleRanges,i=o.length;t<i;t++){let{from:s,to:a}=o[t];for(;t<i-1&&a>o[t+1].from-500;)a=o[++t].to;e.highlight(r.state.doc,s,a,((e,t)=>{let o=r.state.selection.ranges.some((r=>r.from==e&&r.to==t));n.add(e,t,o?bd:Od)}))}return n.finish()}},{decorations:e=>e.decorations});function xd(e){return t=>{let r=t.state.field(gd,!1);return r&&r.query.spec.valid?e(t,r):Td(t)}}const wd=xd(((e,{query:t})=>{let{from:r,to:n}=e.state.selection.main,o=t.nextMatch(e.state.doc,r,n);return!(!o||o.from==r&&o.to==n)&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Md(e,o),userEvent:"select.search"}),!0)})),kd=xd(((e,{query:t})=>{let{state:r}=e,{from:n,to:o}=r.selection.main,i=t.prevMatch(r.doc,n,o);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Md(e,i),userEvent:"select.search"}),!0)})),yd=xd(((e,{query:t})=>{let r=t.matchAll(e.state.doc,1e3);return!(!r||!r.length)&&(e.dispatch({selection:Xe.create(r.map((e=>Xe.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),Qd=xd(((e,{query:t})=>{let{state:r}=e,{from:n,to:o}=r.selection.main;if(r.readOnly)return!1;let i=t.nextMatch(r.doc,n,n);if(!i)return!1;let s,a,l=[],c=[];if(i.from==n&&i.to==o&&(a=r.toText(t.getReplacement(i)),l.push({from:i.from,to:i.to,insert:a}),i=t.nextMatch(r.doc,i.from,i.to),c.push(Di.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),i){let t=0==l.length||l[0].from>=i.to?0:i.to-i.from-a.length;s={anchor:i.from-t,head:i.to-t},c.push(Md(e,i))}return e.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:c,userEvent:"input.replace"}),!0})),Sd=xd(((e,{query:t})=>{if(e.state.readOnly)return!1;let r=t.matchAll(e.state.doc,1e9).map((e=>{let{from:r,to:n}=e;return{from:r,to:n,insert:t.getReplacement(e)}}));if(!r.length)return!1;let n=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:Di.announce.of(n),userEvent:"input.replace.all"}),!0}));function Cd(e){return e.state.facet(sd).createPanel(e)}function $d(e,t){var r;let n=e.selection.main,o=n.empty||n.to>n.from+100?"":e.sliceDoc(n.from,n.to),i=null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:e.facet(sd).caseSensitive;return t&&!o?t:new ad({search:o.replace(/\n/g,"\\n"),caseSensitive:i})}const Td=e=>{let t=e.state.field(gd,!1);if(t&&t.panel){let r=Vs(e,Cd);if(!r)return!1;let n=r.dom.querySelector("[main-field]");if(n&&n!=e.root.activeElement){let r=$d(e.state,t.query.spec);r.valid&&e.dispatch({effects:fd.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[pd.of(!0),t?fd.of($d(e.state,t.query.spec)):bt.appendConfig.of(Ed)]});return!0},_d=e=>{let t=e.state.field(gd,!1);if(!t||!t.panel)return!1;let r=Vs(e,Cd);return r&&r.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:pd.of(!1)}),!0},Pd=[{key:"Mod-f",run:Td,scope:"editor search-panel"},{key:"F3",run:wd,shift:kd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:wd,shift:kd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:_d,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:o}=r.main,i=[],s=0;for(let t=new Iu(e.doc,e.sliceDoc(n,o));!t.next().done;){if(i.length>1e3)return!1;t.value.from==n&&(s=i.length),i.push(Xe.range(t.value.from,t.value.to))}return t(e.update({selection:Xe.create(i,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=Vs(e,Uu);if(!t){let r=[Fu.of(!0)];null==e.state.field(Hu,!1)&&r.push(bt.appendConfig.of([Hu,Yu])),e.dispatch({effects:r}),t=Vs(e,Uu)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:r}=e.selection;if(r.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:r}=e,n=Xe.create(r.ranges.map((t=>e.wordAt(t.head)||Xe.cursor(t.head))),r.mainIndex);return!n.eq(r)&&(t(e.update({selection:n})),!0)})({state:e,dispatch:t});let n=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=n)))return!1;let o=function(e,t){let{main:r,ranges:n}=e.selection,o=e.wordAt(r.head),i=o&&o.from==r.from&&o.to==r.to;for(let r=!1,o=new Iu(e.doc,t,n[n.length-1].to);;){if(o.next(),!o.done){if(r&&n.some((e=>e.from==o.value.from)))continue;if(i){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(r)return null;o=new Iu(e.doc,t,0,Math.max(0,n[n.length-1].from-1)),r=!0}}(e,n);return!!o&&(t(e.update({selection:e.selection.addRange(Xe.range(o.from,o.to),!1),effects:Di.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Rd{constructor(e){this.view=e;let t=this.query=e.state.field(gd).query.spec;function r(e,t,r){return Du("button",{class:"cm-button",name:e,onclick:t,type:"button"},r)}this.commit=this.commit.bind(this),this.searchField=Du("input",{value:t.search,placeholder:Ad(e,"Find"),"aria-label":Ad(e,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Du("input",{value:t.replace,placeholder:Ad(e,"Replace"),"aria-label":Ad(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=Du("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=Du("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=Du("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,r("next",(()=>wd(e)),[Ad(e,"next")]),r("prev",(()=>kd(e)),[Ad(e,"previous")]),r("select",(()=>yd(e)),[Ad(e,"all")]),Du("label",null,[this.caseField,Ad(e,"match case")]),Du("label",null,[this.reField,Ad(e,"regexp")]),...e.state.readOnly?[]:[Du("br"),this.replaceField,r("replace",(()=>Qd(e)),[Ad(e,"replace")]),r("replaceAll",(()=>Sd(e)),[Ad(e,"replace all")]),Du("button",{name:"close",onclick:()=>_d(e),"aria-label":Ad(e,"close"),type:"button"},["×"])]])}commit(){let e=new ad({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:fd.of(e)}))}keydown(e){!function(e,t,r){return Hi(Ui(e.state),t,e,r)}(this.view,e,"search-panel")?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?kd:wd)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),Qd(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(fd)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(sd).top}}function Ad(e,t){return e.state.phrase(t)}const zd=/[\s\.,:;?!]/;function Md(e,{from:t,to:r}){let n=e.state.doc.lineAt(t),o=e.state.doc.lineAt(r).to,i=Math.max(n.from,t-30),s=Math.min(o,r+30),a=e.state.sliceDoc(i,s);if(i!=n.from)for(let e=0;e<30;e++)if(!zd.test(a[e+1])&&zd.test(a[e])){a=a.slice(e);break}if(s!=o)for(let e=a.length-1;e>a.length-30;e--)if(!zd.test(a[e-1])&&zd.test(a[e])){a=a.slice(0,e);break}return Di.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${n.number}.`)}const jd=Di.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ed=[gd,tt.lowest(vd),jd];class Wd{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=Ll(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),n=t.text.slice(r-t.from,this.pos-t.from),o=n.search(Zd(e,!1));return o<0?null:{from:r+o,to:this.pos,text:n.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function Dd(e){let t=Object.keys(e).join(""),r=/\w/.test(t);return r&&(t=t.replace(/\w/g,"")),`[${r?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function Xd(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[r,n]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),r=Object.create(null);for(let{label:n}of e){t[n[0]]=!0;for(let e=1;e<n.length;e++)r[n[e]]=!0}let n=Dd(t)+Dd(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(t);return e=>{let o=e.matchBefore(n);return o||e.explicit?{from:o?o.from:e.pos,options:t,validFor:r}:null}}class Ld{constructor(e,t,r){this.completion=e,this.source=t,this.match=r}}function Id(e){return e.selection.main.head}function Zd(e,t){var r;let{source:n}=e,o=t&&"^"!=n[0],i="$"!=n[n.length-1];return o||i?new RegExp(`${o?"^":""}(?:${n})${i?"$":""}`,null!==(r=e.flags)&&void 0!==r?r:e.ignoreCase?"i":""):e}function qd(e,t){const r=t.completion.apply||t.completion.label;let n=t.source;"string"==typeof r?e.dispatch(function(e,t,r,n){return Object.assign(Object.assign({},e.changeByRange((o=>{if(o==e.selection.main)return{changes:{from:r,to:n,insert:t},range:Xe.cursor(r+t.length)};let i=n-r;return!o.empty||i&&e.sliceDoc(o.from-i,o.from)!=e.sliceDoc(r,n)?{range:o}:{changes:{from:o.from-i,to:o.from,insert:t},range:Xe.cursor(o.from-i+t.length)}}))),{userEvent:"input.complete"})}(e.state,r,n.from,n.to)):r(e,t.completion,n.from,n.to)}const Nd=new WeakMap;function Bd(e){if(!Array.isArray(e))return e;let t=Nd.get(e);return t||Nd.set(e,t=Xd(e)),t}class Vd{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let r=Se(e,t),n=$e(r);this.chars.push(r);let o=e.slice(t,t+n),i=o.toUpperCase();this.folded.push(Se(i==o?o.toLowerCase():i,0)),t+=n}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:n,precise:o,byWord:i}=this;if(1==t.length){let n=Se(e,0);return n==t[0]?[0,0,$e(n)]:n==r[0]?[-200,0,$e(n)]:null}let s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=t.length,l=0;if(s<0){for(let o=0,i=Math.min(e.length,200);o<i&&l<a;){let i=Se(e,o);i!=t[l]&&i!=r[l]||(n[l++]=o),o+=$e(i)}if(l<a)return null}let c=0,h=0,u=!1,d=0,f=-1,p=-1,g=/[a-z]/.test(e),m=!0;for(let n=0,l=Math.min(e.length,200),O=0;n<l&&h<a;){let l=Se(e,n);s<0&&(c<a&&l==t[c]&&(o[c++]=n),d<a&&(l==t[d]||l==r[d]?(0==d&&(f=n),p=n+1,d++):d=0));let b,v=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(b=Ce(l))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!n||1==v&&g||0==O&&0!=v)&&(t[h]==l||r[h]==l&&(u=!0)?i[h++]=n:i.length&&(m=!1)),O=v,n+=$e(l)}return h==a&&0==i[0]&&m?this.result((u?-200:0)-100,i,e):d==a&&0==f?[-200-e.length,0,p]:s>-1?[-700-e.length,s,s+this.pattern.length]:d==a?[-900-e.length,f,p]:h==a?this.result((u?-200:0)-100-700+(m?0:-1100),i,e):2==t.length?null:this.result((n[0]?-700:0)-200-1100,n,e)}result(e,t,r){let n=[e-r.length],o=1;for(let e of t){let t=e+(this.astral?$e(Se(r,e)):1);o>1&&n[o-1]==e?n[o-1]=t:(n[o++]=e,n[o++]=t)}return n}}const Gd=Ze.define({combine:e=>Rt(e,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>r=>function(e,t){return e?t?e+" "+t:e:t}(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})});function Ud(e,t,r){if(e<=r)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/r);return{from:e*r,to:(e+1)*r}}let n=Math.floor((e-t)/r);return{from:e-(n+1)*r,to:e-n*r}}class Fd{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let r=e.state.field(t),{options:n,selected:o}=r.open,i=e.state.facet(Gd);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,r){let n=document.createElement("span");n.className="cm-completionLabel";let{label:o}=e,i=0;for(let e=1;e<r.length;){let t=r[e++],s=r[e++];t>i&&n.appendChild(document.createTextNode(o.slice(i,t)));let a=n.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(o.slice(t,s))),a.className="cm-completionMatchedText",i=s}return i<o.length&&n.appendChild(document.createTextNode(o.slice(i))),n},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(i),this.optionClass=i.optionClass,this.range=Ud(n.length,o,i.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let r,o=t.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(r=/-(\d+)$/.exec(o.id))&&+r[1]<n.length)return qd(e,n[+r[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(n,r.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Ud(t.options.length,t.selected,this.view.state.facet(Gd).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=t.options[t.selected],{info:n}=r;if(!n)return;let o="string"==typeof n?document.createTextNode(n):n(r);if(!o)return;"then"in o?o.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>An(this.view.state,e,"completion info"))):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,n=this.range.from;r;r=r.nextSibling,n++)n==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function(e,t){let r=e.getBoundingClientRect(),n=t.getBoundingClientRect();n.top<r.top?e.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(e.scrollTop+=n.bottom-r.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),n=e.getBoundingClientRect();if(n.top>Math.min(innerHeight,t.bottom)-10||n.bottom<Math.max(0,t.top)+10)return null;let o=Math.max(0,Math.min(n.top,innerHeight-r.height))-t.top,i=this.view.textDirection==Vn.RTL,s=t.left,a=innerWidth-t.right;return i&&s<Math.min(r.width,a)?i=!1:!i&&a<Math.min(r.width,s)&&(i=!0),{top:o,left:i}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,r){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=r.from;o<r.to;o++){let{completion:r,match:i}=e[o];const s=n.appendChild(document.createElement("li"));s.id=t+"-"+o,s.setAttribute("role","option");let a=this.optionClass(r);a&&(s.className=a);for(let e of this.optionContent){let t=e(r,this.view.state,i);t&&s.appendChild(t)}}return r.from&&n.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}}function Hd(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Yd{constructor(e,t,r,n,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=n,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Yd(this.options,ef(t,e),this.tooltip,this.timestamp,e)}static build(e,t,r,n,o){let i=function(e,t){let r=[],n=0;for(let o of e)if(o.hasResult())if(!1===o.result.filter){let e=o.result.getMatch;for(let t of o.result.options){let i=[1e9-n++];if(e)for(let r of e(t))i.push(r);r.push(new Ld(t,o,i))}}else{let e,n=new Vd(t.sliceDoc(o.from,o.to));for(let t of o.result.options)(e=n.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),r.push(new Ld(t,o,e)))}let o=[],i=null;for(let e of r.sort(rf))!i||i.label!=e.completion.label||i.detail!=e.completion.detail||null!=i.type&&null!=e.completion.type&&i.type!=e.completion.type||i.apply!=e.completion.apply?o.push(e):Hd(e.completion)>Hd(i)&&(o[o.length-1]=e),i=e.completion;return o}(e,t);if(!i.length)return null;let s=0;if(n&&n.selected){let e=n.options[n.selected].completion;for(let t=0;t<i.length;t++)if(i[t].completion==e){s=t;break}}return new Yd(i,ef(r,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=uf,e=>new Fd(e,a)),above:o.aboveCursor},n?n.timestamp:Date.now(),s);var a}map(e){return new Yd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Jd{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Jd(tf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Gd),n=(r.override||t.languageDataAt("autocomplete",Id(t)).map(Bd)).map((t=>(this.active.find((e=>e.source==t))||new of(t,this.active.some((e=>0!=e.state))?1:0)).update(e,r)));n.length==this.active.length&&n.every(((e,t)=>e==this.active[t]))&&(n=this.active);let o=e.selection||n.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let r=0,n=0;;){for(;r<e.length&&!e[r].hasResult;)r++;for(;n<t.length&&!t[n].hasResult;)n++;let o=r==e.length,i=n==t.length;if(o||i)return o==i;if(e[r++].result!=t[n++].result)return!1}}(n,this.active)?Yd.build(n,t,this.id,this.open,r):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&n.every((e=>1!=e.state))&&n.some((e=>e.hasResult()))&&(n=n.map((e=>e.hasResult()?new of(e.source,0):e)));for(let t of e.effects)t.is(hf)&&(o=o&&o.setSelected(t.value,this.id));return n==this.active&&o==this.open?this:new Jd(n,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Kd}}const Kd={"aria-autocomplete":"list"};function ef(e,t){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":e+"-"+t,"aria-controls":e}}const tf=[];function rf(e,t){let r=t.match[0]-e.match[0];return r||e.completion.label.localeCompare(t.completion.label)}function nf(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class of{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=nf(e),n=this;r?n=n.handleUserEvent(e,r,t):e.docChanged?n=n.handleChange(e):e.selection&&0!=n.state&&(n=new of(n.source,0));for(let t of e.effects)if(t.is(af))n=new of(n.source,1,t.value?Id(e.state):-1);else if(t.is(lf))n=new of(n.source,0);else if(t.is(cf))for(let e of t.value)e.source==n.source&&(n=e);return n}handleUserEvent(e,t,r){return"delete"!=t&&r.activateOnTyping?new of(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(Id(e.startState))?new of(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new of(this.source,this.state,e.mapPos(this.explicitPos))}}class sf extends of{constructor(e,t,r,n,o){super(e,2,t),this.result=r,this.from=n,this.to=o}hasResult(){return!0}handleUserEvent(e,t,r){var n;let o=e.changes.mapPos(this.from),i=e.changes.mapPos(this.to,1),s=Id(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>i||"delete"==t&&Id(e.startState)==this.from)return new of(this.source,"input"==t&&r.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,r,n){if(!e)return!1;let o=t.sliceDoc(r,n);return"function"==typeof e?e(o,r,n,t):Zd(e,!0).test(o)}(this.result.validFor,e.state,o,i)?new sf(this.source,l,this.result,o,i):this.result.update&&(a=this.result.update(this.result,o,i,new Wd(e.state,s,l>=0)))?new sf(this.source,l,a,a.from,null!==(n=a.to)&&void 0!==n?n:Id(e.state)):new of(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new of(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new sf(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const af=bt.define(),lf=bt.define(),cf=bt.define({map:(e,t)=>e.map((e=>e.map(t)))}),hf=bt.define(),uf=Fe.define({create:()=>Jd.start(),update:(e,t)=>e.update(t),provide:e=>[Ds.from(e,(e=>e.tooltip)),Di.contentAttributes.from(e,(e=>e.attrs))]});function df(e,t="option"){return r=>{let n=r.state.field(uf,!1);if(!n||!n.open||Date.now()-n.open.timestamp<75)return!1;let o,i=1;"page"==t&&(o=function(e,t){let r=e.plugin(js);if(!r)return null;let n=r.manager.tooltips.indexOf(t);return n<0?null:r.manager.tooltipViews[n]}(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let s=n.open.selected+i*(e?1:-1),{length:a}=n.open.options;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),r.dispatch({effects:hf.of(s)}),!0}}class ff{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const pf=En.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(uf).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(uf);if(!e.selectionSet&&!e.docChanged&&e.startState.field(uf)==t)return;let r=e.transactions.some((e=>(e.selection||e.docChanged)&&!nf(e)));for(let t=0;t<this.running.length;t++){let n=this.running[t];if(r||n.updates.length+e.transactions.length>50&&Date.now()-n.time>1e3){for(let e of n.context.abortListeners)try{e()}catch(e){An(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==nf(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(uf);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,r=Id(t),n=new Wd(t,r,e.explicitPos==r),o=new ff(e,n);this.running.push(o),Promise.resolve(e.source(n)).then((e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:lf.of(null)}),An(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],r=this.view.state.facet(Gd);for(let n=0;n<this.running.length;n++){let o=this.running[n];if(void 0===o.done)continue;if(this.running.splice(n--,1),o.done){let n=new sf(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:Id(o.updates.length?o.updates[0].startState:this.view.state));for(let e of o.updates)n=n.update(e,r);if(n.hasResult()){t.push(n);continue}}let i=this.view.state.field(uf).active.find((e=>e.source==o.active.source));if(i&&1==i.state)if(null==o.done){let e=new of(o.active.source,0);for(let t of o.updates)e=e.update(t,r);1!=e.state&&t.push(e)}else this.startQuery(i)}t.length&&this.view.dispatch({effects:cf.of(t)})}},{eventHandlers:{blur(){let e=this.view.state.field(uf,!1);e&&e.tooltip&&this.view.state.facet(Gd).closeOnBlur&&this.view.dispatch({effects:lf.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:af.of(!1)})),20),this.composing=0}}}),gf=Di.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class mf{constructor(e,t,r,n){this.field=e,this.line=t,this.from=r,this.to=n}}class Of{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,_e.TrackDel),r=e.mapPos(this.to,1,_e.TrackDel);return null==t||null==r?null:new Of(this.field,t,r)}}class bf{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],n=[t],o=e.doc.lineAt(t),i=/^\s*/.exec(o.text)[0];for(let o of this.lines){if(r.length){let r=i,s=/^\t*/.exec(o)[0].length;for(let t=0;t<s;t++)r+=e.facet(Kl);n.push(t+r.length-s),o=r+o.slice(s)}r.push(o),t+=o.length+1}let s=this.fieldPositions.map((e=>new Of(e.field,n[e.line]+e.from,n[e.line]+e.to)));return{text:r,ranges:s}}static parse(e){let t,r=[],n=[],o=[];for(let i of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(i);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<r.length;t++)(null!=e?r[t].seq==e:s&&r[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<r.length&&(null==e||null!=r[t].seq&&r[t].seq<e);)t++;r.splice(t,0,{seq:e,name:s}),a=t;for(let e of o)e.field>=a&&e.field++}o.push(new mf(a,n.length,t.index,t.index+s.length)),i=i.slice(0,t.index)+s+i.slice(t.index+t[0].length)}for(let e;e=/([$#])\\{/.exec(i);){i=i.slice(0,e.index)+e[1]+"{"+i.slice(e.index+e[0].length);for(let t of o)t.line==n.length&&t.from>e.index&&(t.from--,t.to--)}n.push(i)}return new bf(n,o)}}let vf=dn.widget({widget:new class extends hn{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),xf=dn.mark({class:"cm-snippetField"});class wf{constructor(e,t){this.ranges=e,this.active=t,this.deco=dn.set(e.map((e=>(e.from==e.to?vf:xf).range(e.from,e.to))))}map(e){let t=[];for(let r of this.ranges){let n=r.map(e);if(!n)return null;t.push(n)}return new wf(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const kf=bt.define({map:(e,t)=>e&&e.map(t)}),yf=bt.define(),Qf=Fe.define({create:()=>null,update(e,t){for(let r of t.effects){if(r.is(kf))return r.value;if(r.is(yf)&&e)return new wf(e.ranges,r.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>Di.decorations.from(e,(e=>e?e.deco:dn.none))});function Sf(e,t){return Xe.create(e.filter((e=>e.field==t)).map((e=>Xe.range(e.from,e.to))))}function Cf(e){let t=bf.parse(e);return(e,r,n,o)=>{let{text:i,ranges:s}=t.instantiate(e.state,n),a={changes:{from:n,to:o,insert:le.of(i)},scrollIntoView:!0};if(s.length&&(a.selection=Sf(s,0)),s.length>1){let t=new wf(s,0),r=a.effects=[kf.of(t)];void 0===e.state.field(Qf,!1)&&r.push(bt.appendConfig.of([Qf,Pf,Af,gf]))}e.dispatch(e.state.update(a))}}function $f(e){return({state:t,dispatch:r})=>{let n=t.field(Qf,!1);if(!n||e<0&&0==n.active)return!1;let o=n.active+e,i=e>0&&!n.ranges.some((t=>t.field==o+e));return r(t.update({selection:Sf(n.ranges,o),effects:kf.of(i?null:new wf(n.ranges,o))})),!0}}const Tf=[{key:"Tab",run:$f(1),shift:$f(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(Qf,!1)&&(t(e.update({effects:kf.of(null)})),!0)}],_f=Ze.define({combine:e=>e.length?e[0]:Tf}),Pf=tt.highest(Vi.compute([_f],(e=>e.facet(_f))));function Rf(e,t){return Object.assign(Object.assign({},t),{apply:Cf(e)})}const Af=Di.domEventHandlers({mousedown(e,t){let r,n=t.state.field(Qf,!1);if(!n||null==(r=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let o=n.ranges.find((e=>e.from<=r&&e.to>=r));return!(!o||o.field==n.active)&&(t.dispatch({selection:Sf(n.ranges,o.field),effects:kf.of(n.ranges.some((e=>e.field>o.field))?new wf(n.ranges,o.field):null)}),!0)}}),zf={brackets:["(","[","{","'",'"'],before:")]}:;>"},Mf=bt.define({map(e,t){let r=t.mapPos(e,-1,_e.TrackAfter);return null==r?void 0:r}}),jf=bt.define({map:(e,t)=>t.mapPos(e)}),Ef=new class extends At{};Ef.startSide=1,Ef.endSide=-1;const Wf=Fe.define({create:()=>Et.empty,update(e,t){if(t.selection){let r=t.state.doc.lineAt(t.selection.main.head).from,n=t.startState.doc.lineAt(t.startState.selection.main.head).from;r!=t.changes.mapPos(n,-1)&&(e=Et.empty)}e=e.map(t.changes);for(let r of t.effects)r.is(Mf)?e=e.update({add:[Ef.range(r.value,r.value+1)]}):r.is(jf)&&(e=e.update({filter:e=>e!=r.value}));return e}});const Df="()[]{}<>";function Xf(e){for(let t=0;t<Df.length;t+=2)if(Df.charCodeAt(t)==e)return Df.charAt(t+1);return Ce(e<128?e:e+1)}function Lf(e,t){return e.languageDataAt("closeBrackets",t)[0]||zf}const If="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Zf=Di.inputHandler.of(((e,t,r,n)=>{if((If?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let o=e.state.selection.main;if(n.length>2||2==n.length&&1==$e(Se(n,0))||t!=o.from||r!=o.to)return!1;let i=function(e,t){let r=Lf(e,e.selection.main.head),n=r.brackets||zf.brackets;for(let o of n){let i=Xf(Se(o,0));if(t==o)return i==o?Uf(e,o,n.indexOf(o+o+o)>-1):Vf(e,o,i,r.before||zf.before);if(t==i&&Nf(e,e.selection.main.from))return Gf(e,o,i)}return null}(e.state,n);return!!i&&(e.dispatch(i),!0)})),qf=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=Lf(e,e.selection.main.head).brackets||zf.brackets,n=null,o=e.changeByRange((t=>{if(t.empty){let n=function(e,t){let r=e.sliceString(t-2,t);return $e(Se(r,0))==r.length?r:r.slice(1)}(e.doc,t.head);for(let o of r)if(o==n&&Bf(e.doc,t.head)==Xf(Se(o,0)))return{changes:{from:t.head-o.length,to:t.head+o.length},range:Xe.cursor(t.head-o.length),userEvent:"delete.backward"}}return{range:n=t}}));return n||t(e.update(o,{scrollIntoView:!0})),!n}}];function Nf(e,t){let r=!1;return e.field(Wf).between(0,e.doc.length,(e=>{e==t&&(r=!0)})),r}function Bf(e,t){let r=e.sliceString(t,t+2);return r.slice(0,$e(Se(r,0)))}function Vf(e,t,r,n){let o=null,i=e.changeByRange((i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:r,from:i.to}],effects:Mf.of(i.to+t.length),range:Xe.range(i.anchor+t.length,i.head+t.length)};let s=Bf(e.doc,i.head);return!s||/\s/.test(s)||n.indexOf(s)>-1?{changes:{insert:t+r,from:i.head},effects:Mf.of(i.head+t.length),range:Xe.cursor(i.head+t.length)}:{range:o=i}}));return o?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Gf(e,t,r){let n=null,o=e.selection.ranges.map((t=>t.empty&&Bf(e.doc,t.head)==r?Xe.cursor(t.head+r.length):n=t));return n?null:e.update({selection:Xe.create(o,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>jf.of(e)))})}function Uf(e,t,r){let n=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:t,from:o.to}],effects:Mf.of(o.to+t.length),range:Xe.range(o.anchor+t.length,o.head+t.length)};let i=o.head,s=Bf(e.doc,i);if(s==t){if(Ff(e,i))return{changes:{insert:t+t,from:i},effects:Mf.of(i+t.length),range:Xe.cursor(i+t.length)};if(Nf(e,i)){let n=r&&e.sliceDoc(i,i+3*t.length)==t+t+t;return{range:Xe.cursor(i+t.length*(n?3:1)),effects:jf.of(i)}}}else{if(r&&e.sliceDoc(i-2*t.length,i)==t+t&&Ff(e,i-2*t.length))return{changes:{insert:t+t+t+t,from:i},effects:Mf.of(i+t.length),range:Xe.cursor(i+t.length)};if(e.charCategorizer(i)(s)!=Ct.Word){let r=e.sliceDoc(i-1,i);if(r!=t&&e.charCategorizer(i)(r)!=Ct.Word&&!function(e,t,r){let n=Ll(e).resolveInner(t,-1);for(let o=0;o<5;o++){if(e.sliceDoc(n.from,n.from+r.length)==r){let t=n.firstChild;for(;t&&t.from==n.from&&t.to-t.from>r.length;){if(e.sliceDoc(t.to-r.length,t.to)==r)return!1;t=t.firstChild}return!0}let o=n.to==t&&n.parent;if(!o)break;n=o}return!1}(e,i,t))return{changes:{insert:t+t,from:i},effects:Mf.of(i+t.length),range:Xe.cursor(i+t.length)}}}return{range:n=o}}));return n?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Ff(e,t){let r=Ll(e).resolveInner(t+1);return r.parent&&r.from==t}function Hf(e={}){return[uf,Gd.of(e),pf,Jf,gf]}const Yf=[{key:"Ctrl-Space",run:e=>!!e.state.field(uf,!1)&&(e.dispatch({effects:af.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(uf,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:lf.of(null)}),!0)}},{key:"ArrowDown",run:df(!0)},{key:"ArrowUp",run:df(!1)},{key:"PageDown",run:df(!0,"page")},{key:"PageUp",run:df(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(uf,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75)&&(qd(e,t.open.options[t.open.selected]),!0)}}],Jf=tt.highest(Vi.computeN([Gd],(e=>e.facet(Gd).defaultKeymap?[Yf]:[])));class Kf{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class ep{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let n=e,o=r.facet(pp).markerFilter;o&&(n=o(n));let i=dn.set(n.map((e=>e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?dn.widget({widget:new Op(e),diagnostic:e}).range(e.from):dn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new ep(i,t,tp(i))}}function tp(e,t=null,r=0){let n=null;return e.between(r,1e9,((e,r,{spec:o})=>{if(!t||o.diagnostic==t)return n=new Kf(e,r,o.diagnostic),!1})),n}function rp(e,t){return!(!e.effects.some((e=>e.is(op)))&&!e.changes.touchesRange(t.pos))}function np(e,t){return e.field(ap,!1)?t:t.concat(bt.appendConfig.of([ap,Di.decorations.compute([ap],(e=>{let{selected:t,panel:r}=e.field(ap);return t&&r&&t.from!=t.to?dn.set([lp.range(t.from,t.to)]):dn.none})),qs(cp,{hideOn:rp}),wp]))}const op=bt.define(),ip=bt.define(),sp=bt.define(),ap=Fe.define({create:()=>new ep(dn.none,null,null),update(e,t){if(t.docChanged){let r=e.diagnostics.map(t.changes),n=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);n=tp(r,e.selected.diagnostic,o)||tp(r,null,o)}e=new ep(r,e.panel,n)}for(let r of t.effects)r.is(op)?e=ep.init(r.value,e.panel,t.state):r.is(ip)?e=new ep(e.diagnostics,r.value?vp.open:null,e.selected):r.is(sp)&&(e=new ep(e.diagnostics,e.panel,r.value));return e},provide:e=>[Hs.from(e,(e=>e.panel)),Di.decorations.from(e,(e=>e.diagnostics))]}),lp=dn.mark({class:"cm-lintRange cm-lintRange-active"});function cp(e,t,r){let{diagnostics:n}=e.state.field(ap),o=[],i=2e8,s=0;n.between(t-(r<0?1:0),t+(r>0?1:0),((e,n,{spec:a})=>{t>=e&&t<=n&&(e==n||(t>e||r>0)&&(t<n||r<0))&&(o.push(a.diagnostic),i=Math.min(e,i),s=Math.max(n,s))}));let a=e.state.facet(pp).tooltipFilter;return a&&(o=a(o)),o.length?{pos:i,end:s,above:e.state.doc.lineAt(i).to<s,create:()=>({dom:hp(e,o)})}:null}function hp(e,t){return Du("ul",{class:"cm-tooltip-lint"},t.map((t=>mp(e,t,!1))))}const up=e=>{let t=e.state.field(ap,!1);return!(!t||!t.panel)&&(e.dispatch({effects:ip.of(!1)}),!0)},dp=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(ap,!1);t&&t.panel||e.dispatch({effects:np(e.state,[ip.of(!0)])});let r=Vs(e,vp.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(ap,!1);if(!t)return!1;let r=e.state.selection.main,n=t.diagnostics.iter(r.to+1);return!(!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to))&&(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)}}],fp=En.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(pp);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(pp);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let r=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:np(e,[op.of(t)])}}(this.view.state,r))}),(e=>{An(this.view.state,e)}))}}update(e){let t=e.state.facet(pp);(e.docChanged||t!=e.startState.facet(pp))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),pp=Ze.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},Rt(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null})),enables:fp});function gp(e){let t=[];if(e)e:for(let{name:r}of e){for(let e=0;e<r.length;e++){let n=r[e];if(/[a-zA-Z]/.test(n)&&!t.some((e=>e.toLowerCase()==n.toLowerCase()))){t.push(n);continue e}}t.push("")}return t}function mp(e,t,r){var n;let o=r?gp(t.actions):[];return Du("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Du("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(n=t.actions)||void 0===n?void 0:n.map(((r,n)=>{let i=n=>{n.preventDefault();let o=tp(e.state.field(ap).diagnostics,t);o&&r.apply(e,o.from,o.to)},{name:s}=r,a=o[n]?s.indexOf(o[n]):-1,l=a<0?s:[s.slice(0,a),Du("u",s.slice(a,a+1)),s.slice(a+1)];return Du("button",{type:"button",class:"cm-diagnosticAction",onclick:i,onmousedown:i,"aria-label":` Action: ${s}${a<0?"":` (access key "${o[n]})"`}.`},l)})),t.source&&Du("div",{class:"cm-diagnosticSource"},t.source))}class Op extends hn{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Du("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class bp{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=mp(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vp{constructor(e){this.view=e,this.items=[];this.list=Du("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)up(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],n=gp(r.actions);for(let o=0;o<n.length;o++)if(n[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=tp(this.view.state.field(ap).diagnostics,r);t&&r.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=Du("div",{class:"cm-panel-lint"},this.list,Du("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>up(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ap).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ap),r=0,n=!1,o=null;for(e.between(0,this.view.state.doc.length,((e,i,{spec:s})=>{let a,l=-1;for(let e=r;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new bp(this.view,s.diagnostic),this.items.splice(r,0,a),n=!0):(a=this.items[l],l>r&&(this.items.splice(r,l-r),n=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),o=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),r++}));r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new bp(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=tp(this.view.state.field(ap).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:sp.of(t)})}static open(e){return new vp(e)}}function xp(e){return function(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const wp=Di.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:xp("#d11")},".cm-lintRange-warning":{backgroundImage:xp("orange")},".cm-lintRange-info":{backgroundImage:xp("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class kp{constructor(e,t,r,n,o,i,s){this.type=e,this.value=t,this.from=r,this.hash=n,this.end=o,this.children=i,this.positions=s,this.hashProp=[[va.contextHash,n]]}static create(e,t,r,n,o){return new kp(e,t,r,n+(n<<8)+e+(t<<4)|0,o,[],[])}addChild(e,t){e.prop(va.contextHash)!=this.hash&&(e=new $a(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let r=this.children.length-1;r>=0&&(t=Math.max(t,this.positions[r]+this.children[r].length+this.from));let n=new $a(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(e,t,r)=>new $a(ka.none,e,t,r,this.hashProp)});return n}}var yp;!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel"}(yp||(yp={}));class Qp{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class Sp{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return _p(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,r=0){for(let n=t;n<e;n++)r+=9==this.text.charCodeAt(n)?4-r%4:1;return r}findColumn(e){let t=0;for(let r=0;t<this.text.length&&r<e;t++)r+=9==this.text.charCodeAt(t)?4-r%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function Cp(e,t,r){if(r.pos==r.text.length||e!=t.block&&r.indent>=t.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let n=(e.type==yp.OrderedList?Ep:jp)(r,t,!1);return n>0&&(e.type!=yp.BulletList||zp(r,t,!1)<0)&&r.text.charCodeAt(r.pos+n-1)==e.value}const $p={[yp.Blockquote]:(e,t,r)=>62==r.next&&(r.markers.push(hg(yp.QuoteMark,t.lineStart+r.pos,t.lineStart+r.pos+1)),r.moveBase(r.pos+(Tp(r.text.charCodeAt(r.pos+1))?2:1)),e.end=t.lineStart+r.text.length,!0),[yp.ListItem]:(e,t,r)=>!(r.indent<r.baseIndent+e.value&&r.next>-1)&&(r.moveBaseColumn(r.baseIndent+e.value),!0),[yp.OrderedList]:Cp,[yp.BulletList]:Cp,[yp.Document]:()=>!0};function Tp(e){return 32==e||9==e||10==e||13==e}function _p(e,t=0){for(;t<e.length&&Tp(e.charCodeAt(t));)t++;return t}function Pp(e,t,r){for(;t>r&&Tp(e.charCodeAt(t-1));)t--;return t}function Rp(e){if(96!=e.next&&126!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(let r=t;r<e.text.length;r++)if(96==e.text.charCodeAt(r))return-1;return t}function Ap(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function zp(e,t,r){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;let n=1;for(let t=e.pos+1;t<e.text.length;t++){let r=e.text.charCodeAt(t);if(r==e.next)n++;else if(!Tp(r))return-1}return r&&45==e.next&&Dp(e)>-1&&e.depth==t.stack.length||n<3?-1:1}function Mp(e,t){for(let r=e.stack.length-1;r>=0;r--)if(e.stack[r].type==t)return!0;return!1}function jp(e,t,r){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!Tp(e.text.charCodeAt(e.pos+1))||!(!r||Mp(t,yp.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function Ep(e,t,r){let n=e.pos,o=e.next;for(;o>=48&&o<=57;){if(n++,n==e.text.length)return-1;o=e.text.charCodeAt(n)}return n==e.pos||n>e.pos+9||46!=o&&41!=o||n<e.text.length-1&&!Tp(e.text.charCodeAt(n+1))||r&&!Mp(t,yp.OrderedList)&&(e.skipSpace(n+1)==e.text.length||n>e.pos+1||49!=e.next)?-1:n+1-e.pos}function Wp(e){if(35!=e.next)return-1;let t=e.pos+1;for(;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;let r=t-e.pos;return r>6?-1:r}function Dp(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let r=t;for(;t<e.text.length&&Tp(e.text.charCodeAt(t));)t++;return t==e.text.length?r:-1}const Xp=/^[ \t]*$/,Lp=/-->/,Ip=/\?>/,Zp=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Lp],[/^\s*<\?/,Ip],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Xp],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Xp]];function qp(e,t,r){if(60!=e.next)return-1;let n=e.text.slice(e.pos);for(let e=0,t=Zp.length-(r?1:0);e<t;e++)if(Zp[e][0].test(n))return e;return-1}function Np(e,t){let r=e.countIndent(t,e.pos,e.indent),n=e.countIndent(e.skipSpace(t),t,r);return n>=r+5?r+1:n}function Bp(e,t,r){let n=e.length-1;n>=0&&e[n].to==t&&e[n].type==yp.CodeText?e[n].to=r:e.push(hg(yp.CodeText,t,r))}const Vp={LinkReference:void 0,IndentedCode(e,t){let r=t.baseIndent+4;if(t.indent<r)return!1;let n=t.findColumn(r),o=e.lineStart+n,i=e.lineStart+t.text.length,s=[],a=[];for(Bp(s,o,i);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){Bp(a,e.lineStart-1,e.lineStart);for(let e of t.markers)a.push(e)}else{if(t.indent<r)break;{if(a.length){for(let e of a)e.type==yp.CodeText?Bp(s,e.from,e.to):s.push(e);a=[]}Bp(s,e.lineStart-1,e.lineStart);for(let e of t.markers)s.push(e);i=e.lineStart+t.text.length;let r=e.lineStart+t.findColumn(t.baseIndent+4);r<i&&Bp(s,r,i)}}return a.length&&(a=a.filter((e=>e.type!=yp.CodeText)),a.length&&(t.markers=a.concat(t.markers))),e.addNode(e.buffer.writeElements(s,-o).finish(yp.CodeBlock,i-o),o),!0},FencedCode(e,t){let r=Rp(t);if(r<0)return!1;let n=e.lineStart+t.pos,o=t.next,i=r-t.pos,s=t.skipSpace(r),a=Pp(t.text,t.text.length,s),l=[hg(yp.CodeMark,n,n+i)];s<a&&l.push(hg(yp.CodeInfo,e.lineStart+s,e.lineStart+a));for(let r=!0;e.nextLine()&&t.depth>=e.stack.length;r=!1){let n=t.pos;if(t.indent-t.baseIndent<4)for(;n<t.text.length&&t.text.charCodeAt(n)==o;)n++;if(n-t.pos>=i&&t.skipSpace(n)==t.text.length){for(let e of t.markers)l.push(e);l.push(hg(yp.CodeMark,e.lineStart+t.pos,e.lineStart+n)),e.nextLine();break}{r||Bp(l,e.lineStart-1,e.lineStart);for(let e of t.markers)l.push(e);let n=e.lineStart+t.basePos,o=e.lineStart+t.text.length;n<o&&Bp(l,n,o)}}return e.addNode(e.buffer.writeElements(l,-n).finish(yp.FencedCode,e.prevLineEnd()-n),n),!0},Blockquote(e,t){let r=Ap(t);return!(r<0)&&(e.startContext(yp.Blockquote,t.pos),e.addNode(yp.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+r),null)},HorizontalRule(e,t){if(zp(t,e,!1)<0)return!1;let r=e.lineStart+t.pos;return e.nextLine(),e.addNode(yp.HorizontalRule,r),!0},BulletList(e,t){let r=jp(t,e,!1);if(r<0)return!1;e.block.type!=yp.BulletList&&e.startContext(yp.BulletList,t.basePos,t.next);let n=Np(t,t.pos+1);return e.startContext(yp.ListItem,t.basePos,n-t.baseIndent),e.addNode(yp.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(n),null},OrderedList(e,t){let r=Ep(t,e,!1);if(r<0)return!1;e.block.type!=yp.OrderedList&&e.startContext(yp.OrderedList,t.basePos,t.text.charCodeAt(t.pos+r-1));let n=Np(t,t.pos+r);return e.startContext(yp.ListItem,t.basePos,n-t.baseIndent),e.addNode(yp.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(n),null},ATXHeading(e,t){let r=Wp(t);if(r<0)return!1;let n=t.pos,o=e.lineStart+n,i=Pp(t.text,t.text.length,n),s=i;for(;s>n&&t.text.charCodeAt(s-1)==t.next;)s--;s!=i&&s!=n&&Tp(t.text.charCodeAt(s-1))||(s=t.text.length);let a=e.buffer.write(yp.HeaderMark,0,r).writeElements(e.parser.parseInline(t.text.slice(n+r+1,s),o+r+1),-o);s<t.text.length&&a.write(yp.HeaderMark,s-n,i-n);let l=a.finish(yp.ATXHeading1-1+r,t.text.length-n);return e.nextLine(),e.addNode(l,o),!0},HTMLBlock(e,t){let r=qp(t,0,!1);if(r<0)return!1;let n=e.lineStart+t.pos,o=Zp[r][1],i=[],s=o!=Xp;for(;!o.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){s=!1;break}for(let e of t.markers)i.push(e)}s&&e.nextLine();let a=o==Lp?yp.CommentBlock:o==Ip?yp.ProcessingInstructionBlock:yp.HTMLBlock,l=e.prevLineEnd();return e.addNode(e.buffer.writeElements(i,-n).finish(a,l-n),n),!0},SetextHeading:void 0};class Gp{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,r){if(-1==this.stage)return!1;let n=r.content+"\n"+t.scrub(),o=this.advance(n);return o>-1&&o<n.length&&this.complete(e,r,o)}finish(e,t){return(2==this.stage||3==this.stage)&&_p(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}complete(e,t,r){return e.addLeafElement(t,hg(yp.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}advance(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(kg(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(hg(yp.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let t=_p(e,this.pos),r=0;if(t>this.pos){let n=wg(e,t,this.start);if(n){let t=Up(e,n.to-this.start);t>0&&(this.nextStage(n),r=t)}}return r||(r=Up(e,this.pos)),r>0&&r<e.length?r:-1}return Up(e,this.pos)}if(!this.nextStage(xg(e,_p(e,this.pos),this.start)))return-1}}}}function Up(e,t){for(;t<e.length;t++){let r=e.charCodeAt(t);if(10==r)break;if(!Tp(r))return-1}return t}class Fp{nextLine(e,t,r){let n=t.depth<e.stack.length?-1:Dp(t),o=t.next;if(n<0)return!1;let i=hg(yp.HeaderMark,e.lineStart+t.pos,e.lineStart+n);return e.nextLine(),e.addLeafElement(r,hg(61==o?yp.SetextHeading1:yp.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),i])),!0}finish(){return!1}}const Hp={LinkReference:(e,t)=>91==t.content.charCodeAt(0)?new Gp(t):null,SetextHeading:()=>new Fp},Yp=[(e,t)=>Wp(t)>=0,(e,t)=>Rp(t)>=0,(e,t)=>Ap(t)>=0,(e,t)=>jp(t,e,!0)>=0,(e,t)=>Ep(t,e,!0)>=0,(e,t)=>zp(t,e,!0)>=0,(e,t)=>qp(t,0,!0)>=0],Jp={text:"",end:0};class Kp{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.line=new Sp,this.atEnd=!1,this.dontInject=new Set,this.stoppedAt=null,this.rangeI=0,this.to=n[n.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=n[0].from,this.block=kp.create(yp.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Cg(r,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let t of e.markers)this.addNode(t.type,t.from,t.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let t of this.parser.blockParsers)if(t){let r=t(this,e);if(0!=r){if(1==r)return null;e.forward();continue e}}break}let t=new Qp(this.lineStart+e.pos,e.text.slice(e.pos));for(let e of this.parser.leafBlockParsers)if(e){let r=e(this,t);r&&t.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4)for(let r of this.parser.endLeafBlock)if(r(this,e,t))break e;for(let r of t.parsers)if(r.nextLine(this,e,t))return null;t.content+="\n"+e.scrub();for(let r of e.markers)t.marks.push(r)}return this.finishLeaf(t),null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);if(!t)return!1;let r=t,n=this.absoluteLineStart+t;for(let e=1;e<this.ranges.length;e++){let t=this.ranges[e-1].to,o=this.ranges[e].from;t>=this.lineStart&&o<n&&(r-=o-t)}return this.lineStart+=r,this.absoluteLineStart+=t,this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=Jp;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let e=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<t.end;){r++;let n=this.ranges[r].from,o=this.lineChunkAt(n);t.end=n+o.length,t.text=t.text.slice(0,this.ranges[r-1].to-e)+o,e=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(t);e.depth<this.stack.length;e.depth++){let t=this.stack[e.depth],r=this.parser.skipContextMarkup[t.type];if(!r)throw new Error("Unhandled block context "+yp[t.type]);if(!r(t,this,e))break;e.forward()}}lineChunkAt(e){let t,r=this.input.chunk(e);if(this.input.lineChunks)t="\n"==r?"":r;else{let e=r.indexOf("\n");t=e<0?r:r.slice(0,e)}return e+t.length>this.to?t.slice(0,this.to-e):t}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,r=0){this.block=kp.create(e,r,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,r=0){this.startContext(this.parser.getNodeType(e),t,r)}addNode(e,t,r){"number"==typeof e&&(e=new $a(this.parser.nodeSet.types[e],sg,sg,(null!=r?r:this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(Qg(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?eg(this.ranges,0,e.topNode,this.ranges[0].from,this.dontInject):e}finishLeaf(e){for(let t of e.parsers)if(t.finish(this,e))return;let t=Qg(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(yp.Paragraph,e.content.length),e.start)}elt(e,t,r,n){return"string"==typeof e?hg(this.parser.getNodeType(e),t,r,n):new cg(e,t)}get buffer(){return new ag(this.parser.nodeSet)}}function eg(e,t,r,n,o){if(o.has(r.tree))return r.tree;let i=e[t].to,s=[],a=[],l=r.from+n;function c(r,o){for(;o?r>=i:r>i;){let o=e[t+1].from-i;n+=o,r+=o,t++,i=e[t].to}}for(let h=r.firstChild;h;h=h.nextSibling){c(h.from+n,!0);let r,u=h.from+n;h.to+n>i?(r=eg(e,t,h,n,o),c(h.to+n,!1)):r=h.toTree(),s.push(r),a.push(u-l)}return c(r.to+n,!1),new $a(r.type,s,a,r.to+n-l,r.tree?r.tree.propValues:void 0)}class tg extends Ba{constructor(e,t,r,n,o,i,s,a,l){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=r,this.blockNames=n,this.endLeafBlock=o,this.skipContextMarkup=i,this.inlineParsers=s,this.inlineNames=a,this.wrappers=l,this.nodeTypes=Object.create(null);for(let t of e.types)this.nodeTypes[t.name]=t.id}createParse(e,t,r){let n=new Kp(this,e,t,r);for(let o of this.wrappers)n=o(n,e,t,r);return n}configure(e){let t=ng(e);if(!t)return this;let{nodeSet:r,skipContextMarkup:n}=this,o=this.blockParsers.slice(),i=this.leafBlockParsers.slice(),s=this.blockNames.slice(),a=this.inlineParsers.slice(),l=this.inlineNames.slice(),c=this.endLeafBlock.slice(),h=this.wrappers;if(rg(t.defineNodes)){n=Object.assign({},n);let e,o=r.types.slice();for(let r of t.defineNodes){let{name:t,block:i,composite:s,style:a}="string"==typeof r?{name:r}:r;if(o.some((e=>e.name==t)))continue;s&&(n[o.length]=(e,t,r)=>s(t,r,e.value));let l=o.length,c=s?["Block","BlockContext"]:i?l>=yp.ATXHeading1&&l<=yp.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;o.push(ka.define({id:l,name:t,props:c&&[[va.group,c]]})),a&&(e||(e={}),Array.isArray(a)||a instanceof al?e[t]=a:Object.assign(e,a))}r=new ya(o),e&&(r=r.extend(ul(e)))}if(rg(t.props)&&(r=r.extend(...t.props)),rg(t.remove))for(let e of t.remove){let t=this.blockNames.indexOf(e),r=this.inlineNames.indexOf(e);t>-1&&(o[t]=i[t]=void 0),r>-1&&(a[r]=void 0)}if(rg(t.parseBlock))for(let e of t.parseBlock){let t=s.indexOf(e.name);if(t>-1)o[t]=e.parse,i[t]=e.leaf;else{let t=e.before?og(s,e.before):e.after?og(s,e.after)+1:s.length-1;o.splice(t,0,e.parse),i.splice(t,0,e.leaf),s.splice(t,0,e.name)}e.endLeaf&&c.push(e.endLeaf)}if(rg(t.parseInline))for(let e of t.parseInline){let t=l.indexOf(e.name);if(t>-1)a[t]=e.parse;else{let t=e.before?og(l,e.before):e.after?og(l,e.after)+1:l.length-1;a.splice(t,0,e.parse),l.splice(t,0,e.name)}}return t.wrap&&(h=h.concat(t.wrap)),new tg(r,o,i,s,c,n,a,l,h)}getNodeType(e){let t=this.nodeTypes[e];if(null==t)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let r=new yg(this,e,t);e:for(let e=t;e<r.end;){let t=r.char(e);for(let n of this.inlineParsers)if(n){let o=n(r,t,e);if(o>=0){e=o;continue e}}e++}return r.resolveMarkers(0)}}function rg(e){return null!=e&&e.length>0}function ng(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let t=ng(e[0]);if(1==e.length)return t;let r=ng(e.slice(1));if(!r||!t)return t||r;let n=(e,t)=>(e||sg).concat(t||sg),o=t.wrap,i=r.wrap;return{props:n(t.props,r.props),defineNodes:n(t.defineNodes,r.defineNodes),parseBlock:n(t.parseBlock,r.parseBlock),parseInline:n(t.parseInline,r.parseInline),remove:n(t.remove,r.remove),wrap:o?i?(e,t,r,n)=>o(i(e,t,r,n),t,r,n):o:i}}function og(e,t){let r=e.indexOf(t);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return r}let ig=[ka.none];for(let e,t=1;e=yp[t];t++)ig[t]=ka.define({id:t,name:e,props:t>=yp.Escape?[]:[[va.group,t in $p?["Block","BlockContext"]:["Block","LeafBlock"]]]});const sg=[];class ag{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,r,n=0){return this.content.push(e,t,r,4+4*n),this}writeElements(e,t=0){for(let r of e)r.writeTo(this,t);return this}finish(e,t){return $a.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}class lg{constructor(e,t,r,n=sg){this.type=e,this.from=t,this.to=r,this.children=n}writeTo(e,t){let r=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-r)}toTree(e){return new ag(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class cg{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return sg}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function hg(e,t,r,n){return new lg(e,t,r,n)}const ug={resolve:"Emphasis",mark:"EmphasisMark"},dg={resolve:"Emphasis",mark:"EmphasisMark"},fg={},pg={};class gg{constructor(e,t,r,n){this.type=e,this.from=t,this.to=r,this.side=n}}const mg="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Og=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Og=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch(e){}const bg={Escape(e,t,r){if(92!=t||r==e.end-1)return-1;let n=e.char(r+1);for(let t=0;t<mg.length;t++)if(mg.charCodeAt(t)==n)return e.append(hg(yp.Escape,r,r+2));return-1},Entity(e,t,r){if(38!=t)return-1;let n=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(r+1,r+31));return n?e.append(hg(yp.Entity,r,r+1+n[0].length)):-1},InlineCode(e,t,r){if(96!=t||r&&96==e.char(r-1))return-1;let n=r+1;for(;n<e.end&&96==e.char(n);)n++;let o=n-r,i=0;for(;n<e.end;n++)if(96==e.char(n)){if(i++,i==o&&96!=e.char(n+1))return e.append(hg(yp.InlineCode,r,n+1,[hg(yp.CodeMark,r,r+o),hg(yp.CodeMark,n+1-o,n+1)]))}else i=0;return-1},HTMLTag(e,t,r){if(60!=t||r==e.end-1)return-1;let n=e.slice(r+1,e.end),o=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(n);if(o)return e.append(hg(yp.URL,r,r+1+o[0].length));let i=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(n);if(i)return e.append(hg(yp.Comment,r,r+1+i[0].length));let s=/^\?[^]*?\?>/.exec(n);if(s)return e.append(hg(yp.ProcessingInstruction,r,r+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(n);return a?e.append(hg(yp.HTMLTag,r,r+1+a[0].length)):-1},Emphasis(e,t,r){if(95!=t&&42!=t)return-1;let n=r+1;for(;e.char(n)==t;)n++;let o=e.slice(r-1,r),i=e.slice(n,n+1),s=Og.test(o),a=Og.test(i),l=/\s|^$/.test(o),c=/\s|^$/.test(i),h=!c&&(!a||l||s),u=!l&&(!s||c||a),d=h&&(42==t||!u||s),f=u&&(42==t||!h||a);return e.append(new gg(95==t?ug:dg,r,n,(d?1:0)|(f?2:0)))},HardBreak(e,t,r){if(92==t&&10==e.char(r+1))return e.append(hg(yp.HardBreak,r,r+2));if(32==t){let t=r+1;for(;32==e.char(t);)t++;if(10==e.char(t)&&t>=r+2)return e.append(hg(yp.HardBreak,r,t+1))}return-1},Link:(e,t,r)=>91==t?e.append(new gg(fg,r,r+1,1)):-1,Image:(e,t,r)=>33==t&&91==e.char(r+1)?e.append(new gg(pg,r,r+2,1)):-1,LinkEnd(e,t,r){if(93!=t)return-1;for(let t=e.parts.length-1;t>=0;t--){let n=e.parts[t];if(n instanceof gg&&(n.type==fg||n.type==pg)){if(!n.side||e.skipSpace(n.to)==r&&!/[(\[]/.test(e.slice(r+1,r+2)))return e.parts[t]=null,-1;let o=e.takeContent(t),i=e.parts[t]=vg(e,o,n.type==fg?yp.Link:yp.Image,n.from,r+1);if(n.type==fg)for(let r=0;r<t;r++){let t=e.parts[r];t instanceof gg&&t.type==fg&&(t.side=0)}return i.to}}return-1}};function vg(e,t,r,n,o){let{text:i}=e,s=e.char(o),a=o;if(t.unshift(hg(yp.LinkMark,n,n+(r==yp.Image?2:1))),t.push(hg(yp.LinkMark,o-1,o)),40==s){let r,n=e.skipSpace(o+1),s=xg(i,n-e.offset,e.offset);s&&(n=e.skipSpace(s.to),r=wg(i,n-e.offset,e.offset),r&&(n=e.skipSpace(r.to))),41==e.char(n)&&(t.push(hg(yp.LinkMark,o,o+1)),a=n+1,s&&t.push(s),r&&t.push(r),t.push(hg(yp.LinkMark,n,a)))}else if(91==s){let r=kg(i,o-e.offset,e.offset,!1);r&&(t.push(r),a=r.to)}return hg(r,n,a,t)}function xg(e,t,r){if(60==e.charCodeAt(t)){for(let n=t+1;n<e.length;n++){let o=e.charCodeAt(n);if(62==o)return hg(yp.URL,t+r,n+1+r);if(60==o||10==o)return!1}return null}{let n=0,o=t;for(let t=!1;o<e.length;o++){let r=e.charCodeAt(o);if(Tp(r))break;if(t)t=!1;else if(40==r)n++;else if(41==r){if(!n)break;n--}else 92==r&&(t=!0)}return o>t?hg(yp.URL,t+r,o+r):o==e.length&&null}}function wg(e,t,r){let n=e.charCodeAt(t);if(39!=n&&34!=n&&40!=n)return!1;let o=40==n?41:n;for(let n=t+1,i=!1;n<e.length;n++){let s=e.charCodeAt(n);if(i)i=!1;else{if(s==o)return hg(yp.LinkTitle,t+r,n+1+r);92==s&&(i=!0)}}return null}function kg(e,t,r,n){for(let o=!1,i=t+1,s=Math.min(e.length,i+999);i<s;i++){let s=e.charCodeAt(i);if(o)o=!1;else{if(93==s)return!n&&hg(yp.LinkLabel,t+r,i+1+r);if(n&&!Tp(s)&&(n=!1),91==s)return!1;92==s&&(o=!0)}}return null}class yg{constructor(e,t,r){this.parser=e,this.text=t,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,r,n,o){return this.append(new gg(e,t,r,(n?1:0)|(o?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let t=e;t<this.parts.length;t++){let r=this.parts[t];if(!(r instanceof gg&&r.type.resolve&&2&r.side))continue;let n,o=r.type==ug||r.type==dg,i=r.to-r.from,s=t-1;for(;s>=e;s--){let e=this.parts[s];if(e instanceof gg&&1&e.side&&e.type==r.type&&!(o&&(1&r.side||2&e.side)&&(e.to-e.from+i)%3==0&&((e.to-e.from)%3||i%3))){n=e;break}}if(!n)continue;let a=r.type.resolve,l=[],c=n.from,h=r.to;if(o){let e=Math.min(2,n.to-n.from,i);c=n.to-e,h=r.from+e,a=1==e?"Emphasis":"StrongEmphasis"}n.type.mark&&l.push(this.elt(n.type.mark,c,n.to));for(let e=s+1;e<t;e++)this.parts[e]instanceof lg&&l.push(this.parts[e]),this.parts[e]=null;r.type.mark&&l.push(this.elt(r.type.mark,r.from,h));let u=this.elt(a,c,h,l);this.parts[s]=o&&n.from!=c?new gg(n.type,n.from,c,n.side):null,(this.parts[t]=o&&r.to!=h?new gg(r.type,h,r.to,r.side):null)?this.parts.splice(t,0,u):this.parts[t]=u}let t=[];for(let r=e;r<this.parts.length;r++){let e=this.parts[r];e instanceof lg&&t.push(e)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let r=this.parts[t];if(r instanceof gg&&r.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return _p(this.text,e-this.offset)+this.offset}elt(e,t,r,n){return"string"==typeof e?hg(this.parser.getNodeType(e),t,r,n):new cg(e,t)}}function Qg(e,t){if(!t.length)return e;if(!e.length)return t;let r=e.slice(),n=0;for(let e of t){for(;n<r.length&&r[n].to<e.to;)n++;if(n<r.length&&r[n].from<e.from){let t=r[n];t instanceof lg&&(r[n]=new lg(t.type,t.from,t.to,Qg(t.children,[e])))}else r.splice(n++,0,e)}return r}const Sg=[yp.CodeBlock,yp.ListItem,yp.OrderedList,yp.BulletList];class Cg{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let e=this.fragment.to;for(;e>0&&"\n"!=this.input.read(e-1,e);)e--;this.fragmentEnd=e?e-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let n=e+this.fragment.offset;for(;r.to<=n;)if(!r.parent())return!1;for(;;){if(r.from>=n)return this.fragment.from<=t;if(!r.childAfter(n))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(va.contextHash)==e}takeNodes(e){let t=this.cursor,r=this.fragment.offset,n=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,i=o,s=e.block.children.length,a=i,l=s;for(;;){if(t.to-r>n){if(t.type.isAnonymous&&t.firstChild())continue;break}if(e.dontInject.add(t.tree),e.addNode(t.tree,t.from-r),t.type.is("Block")&&(Sg.indexOf(t.type.id)<0?(i=t.to-r,s=e.block.children.length):(i=a,s=l,a=t.to-r,l=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>s;)e.block.children.pop(),e.block.positions.pop();return i-o}}const $g=ul({"Blockquote/...":zl.quote,HorizontalRule:zl.contentSeparator,"ATXHeading1/... SetextHeading1/...":zl.heading1,"ATXHeading2/... SetextHeading2/...":zl.heading2,"ATXHeading3/...":zl.heading3,"ATXHeading4/...":zl.heading4,"ATXHeading5/...":zl.heading5,"ATXHeading6/...":zl.heading6,"Comment CommentBlock":zl.comment,Escape:zl.escape,Entity:zl.character,"Emphasis/...":zl.emphasis,"StrongEmphasis/...":zl.strong,"Link/... Image/...":zl.link,"OrderedList/... BulletList/...":zl.list,"BlockQuote/...":zl.quote,"InlineCode CodeText":zl.monospace,URL:zl.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":zl.processingInstruction,"CodeInfo LinkLabel":zl.labelName,LinkTitle:zl.string,Paragraph:zl.content}),Tg=new tg(new ya(ig).extend($g),Object.keys(Vp).map((e=>Vp[e])),Object.keys(Vp).map((e=>Hp[e])),Object.keys(Vp),Yp,$p,Object.keys(bg).map((e=>bg[e])),Object.keys(bg),[]);function _g(e,t,r){let n=[];for(let o=e.firstChild,i=t;;o=o.nextSibling){let e=o?o.from:r;if(e>i&&n.push({from:i,to:e}),!o)break;i=o.to}return n}const Pg={resolve:"Strikethrough",mark:"StrikethroughMark"},Rg={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":zl.strikethrough}},{name:"StrikethroughMark",style:zl.processingInstruction}],parseInline:[{name:"Strikethrough",parse:(e,t,r)=>126!=t||126!=e.char(r+1)?-1:e.addDelimiter(Pg,r,r+2,!0,!0),after:"Emphasis"}]};function Ag(e,t,r=0,n,o=0){let i=0,s=!0,a=-1,l=-1,c=!1,h=()=>{n.push(e.elt("TableCell",o+a,o+l,e.parser.parseInline(t.slice(a,l),o+a)))};for(let u=r;u<t.length;u++){let r=t.charCodeAt(u);124!=r||c?(c||32!=r&&9!=r)&&(a<0&&(a=u),l=u+1):((!s||a>-1)&&i++,s=!1,n&&(a>-1&&h(),n.push(e.elt("TableDelimiter",u+o,u+o+1))),a=l=-1),c=!c&&92==r}return a>-1&&(i++,n&&h()),i}function zg(e,t){for(let r=t;r<e.length;r++){let t=e.charCodeAt(r);if(124==t)return!0;92==t&&r++}return!1}const Mg=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class jg{constructor(){this.rows=null}nextLine(e,t,r){if(null==this.rows){let n;if(this.rows=!1,(45==t.next||58==t.next||124==t.next)&&Mg.test(n=t.text.slice(t.pos))){let o=[];Ag(e,r.content,0,o,r.start)==Ag(e,n,t.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,o),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let r=[];Ag(e,t.text,t.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,r))}return!1}finish(e,t){return!!this.rows&&(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0)}}const Eg={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":zl.heading}},"TableRow",{name:"TableCell",style:zl.content},{name:"TableDelimiter",style:zl.processingInstruction}],parseBlock:[{name:"Table",leaf:(e,t)=>zg(t.content,0)?new jg:null,endLeaf(e,t,r){if(r.parsers.some((e=>e instanceof jg))||!zg(t.text,t.basePos))return!1;let n=e.scanLine(e.absoluteLineEnd+1).text;return Mg.test(n)&&Ag(e,t.text,t.basePos)==Ag(e,n,t.basePos)},before:"SetextHeading"}]};class Wg{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const Dg=[Eg,{defineNodes:[{name:"Task",block:!0,style:zl.list},{name:"TaskMarker",style:zl.atom}],parseBlock:[{name:"TaskList",leaf:(e,t)=>/^\[[ xX]\]/.test(t.content)&&"ListItem"==e.parentType().name?new Wg:null,after:"SetextHeading"}]},Rg];function Xg(e,t,r){return(n,o,i)=>{if(o!=e||n.char(i+1)==e)return-1;let s=[n.elt(r,i,i+1)];for(let o=i+1;o<n.end;o++){let a=n.char(o);if(a==e)return n.addElement(n.elt(t,i,o+1,s.concat(n.elt(r,o,o+1))));if(92==a&&s.push(n.elt("Escape",o,2+o++)),Tp(a))break}return-1}}const Lg={defineNodes:[{name:"Superscript",style:zl.special(zl.content)},{name:"SuperscriptMark",style:zl.processingInstruction}],parseInline:[{name:"Superscript",parse:Xg(94,"Superscript","SuperscriptMark")}]},Ig={defineNodes:[{name:"Subscript",style:zl.special(zl.content)},{name:"SubscriptMark",style:zl.processingInstruction}],parseInline:[{name:"Subscript",parse:Xg(126,"Subscript","SubscriptMark")}]},Zg={defineNodes:[{name:"Emoji",style:zl.character}],parseInline:[{name:"Emoji",parse(e,t,r){let n;return 58==t&&(n=/^[a-zA-Z_0-9]+:/.exec(e.slice(r+1,e.end)))?e.addElement(e.elt("Emoji",r,r+1+n[0].length)):-1}}]};class qg{constructor(e,t,r,n,o,i,s,a,l,c=0,h){this.p=e,this.stack=t,this.state=r,this.reducePos=n,this.pos=o,this.score=i,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let n=e.parser.context;return new qg(e,[],t,r,r,0,[],0,n?new Ng(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,r=65535&e,{parser:n}=this.p,o=n.dynamicPrecedence(r);if(o&&(this.score+=o),0==t)return this.pushState(n.getGoto(this.state,r,!0),this.reducePos),r<n.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let i=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[i-2],a=this.stack[i-1],l=this.bufferBase+this.buffer.length-a;if(r<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,s,e,l+4,!0)}if(262144&e)this.state=this.stack[i];else{let e=this.stack[i-3];this.state=n.getGoto(e,r,!0)}for(;this.stack.length>i;)this.stack.pop();this.reduceContext(r,s)}storeNode(e,t,r,n=4,o=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,n=this.buffer.length;if(0==n&&e.parent&&(n=e.bufferBase-e.parent.bufferBase,e=e.parent),n>0&&0==e.buffer[n-4]&&e.buffer[n-1]>-1){if(t==r)return;if(e.buffer[n-2]>=t)return void(e.buffer[n-2]=r)}}if(o&&this.pos!=r){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4])for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=n}else this.buffer.push(e,t,r,n)}shift(e,t,r){let n=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let o=e,{parser:i}=this.p;(r>this.pos||t<=i.maxNode)&&(this.pos=r,i.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,n),this.shiftContext(t,n),t<=i.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new qg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Vg(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&r))return!0;if(0==r)return!1;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let n,o=0;o<t.length;o+=2)(n=t[o+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[o],n);if(this.stack.length<120)for(let e=0;r.length<8&&e<t.length;e+=2){let n=t[e+1];r.some(((e,t)=>1&t&&e==n))||r.push(t[e],n)}t=r}let r=[];for(let e=0;e<t.length&&r.length<4;e+=2){let n=t[e+1];if(n==this.state)continue;let o=this.split();o.pushState(n,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[e],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,o=this.stack.length-3*r;if(o<0||t.getGoto(this.stack[o],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Ng(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ng{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Bg;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Bg||(Bg={}));class Vg{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Gg{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Gg(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Gg(this.stack,this.pos,this.index)}}class Ug{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Fg=new Ug;class Hg{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Fg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,n=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!n)return null;let e=this.ranges[--n];o-=r.from-e.to,r=e}for(;t<0?o>r.to:o>=r.to;){if(n==this.ranges.length-1)return null;let e=this.ranges[++n];o+=e.from-r.to,r=e}return o}peek(e){let t,r,n=this.chunkOff+e;if(n>=0&&n<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(e,1);if(null==n)return-1;if(t=n,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,n=this.range;for(;n.to<=t;)n=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Fg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return r}}class Yg{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,r,n){let o=0,i=1<<n,{parser:s}=r.p,{dialect:a}=s;e:for(;0!=(i&e[o]);){let r=e[o+1];for(let n=o+3;n<r;n+=2)if((e[n+1]&i)>0){let r=e[n];if(a.allows(r)&&(-1==t.token.value||t.token.value==r||s.overrides(r,t.token.value))){t.acceptToken(r);break}}let n=t.next,l=0,c=e[o+2];if(!(t.next<0&&c>l&&65535==e[r+3*c-3])){for(;l<c;){let i=l+c>>1,s=r+i+(i<<1),a=e[s],h=e[s+1];if(n<a)c=i;else{if(!(n>=h)){o=e[s+2],t.advance();continue e}l=i+1}}break}o=e[r+3*c-1]}}(this.data,e,t,this.id)}}Yg.prototype.contextual=Yg.prototype.fallback=Yg.prototype.extend=!1;class Jg{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Kg(e,t=Uint16Array){if("string"!=typeof e)return e;let r=null;for(let n=0,o=0;n<e.length;){let i=0;for(;;){let t=e.charCodeAt(n++),r=!1;if(126==t){i=65535;break}t>=92&&t--,t>=34&&t--;let o=t-32;if(o>=46&&(o-=46,r=!0),i+=o,r)break;i*=46}r?r[o++]=i:r=new t(i)}return r}const em="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let tm=null;var rm,nm;function om(e,t,r){let n=e.cursor(Ca.IncludeAnonymous);for(n.moveTo(t);;)if(!(r<0?n.childBefore(t):n.childAfter(t)))for(;;){if((r<0?n.to<t:n.from>t)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(rm||(rm={}));class im{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?om(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?om(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],n=this.index[t];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[n],i=this.start[t]+r.positions[n];if(i>e)return this.nextStart=i,null;if(o instanceof $a){if(i==e){if(i<this.safeFrom)return null;let e=i+o.length;if(e<=this.safeTo){let t=o.prop(va.lookAhead);if(!t||e+t<this.fragment.to)return o}}this.index[t]++,i+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(i),this.index.push(0))}else this.index[t]++,this.nextStart=i+o.length}}}class sm{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Ug))}getActions(e){let t=0,r=null,{parser:n}=e.p,{tokenizers:o}=n,i=n.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let n=0;n<o.length;n++){if(0==(1<<n&i))continue;let l=o[n],c=this.tokens[n];if((!r||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=i||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=i,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let n=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(r=c,t>n))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),r||e.pos!=this.stream.end||(r=new Ug,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ug,{pos:r,p:n}=e;return t.start=r,t.end=Math.min(r+1,n.stream.end),t.value=r==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,r){if(t.token(this.stream.reset(r.pos,e),r),e.value>-1){let{parser:t}=r.p;for(let n=0;n<t.specialized.length;n++)if(t.specialized[n]==e.value){let o=t.specializers[n](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}putAction(e,t,r,n){for(let t=0;t<n;t+=3)if(this.actions[t]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=r,n}addActions(e,t,r,n){let{state:o}=e,{parser:i}=e.p,{data:s}=i;for(let e=0;e<2;e++)for(let a=i.stateSlot(o,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==n&&2==s[a+1]&&(n=this.putAction(fm(s,a+2),t,r,n));break}a=fm(s,a+2)}s[a]==t&&(n=this.putAction(fm(s,a+1),t,r,n))}return n}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(nm||(nm={}));class am{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Hg(t,n),this.tokens=new sm(e,this.stream),this.topTerm=e.top[1];let{from:o}=n[0];this.stacks=[qg.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new im(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,r=this.stacks,n=this.minStackPos,o=this.stacks=[];for(let i=0;i<r.length;i++){let s=r[i];for(;;){if(this.tokens.mainToken=null,s.pos>n)o.push(s);else{if(this.advanceStack(s,o,r))continue;{e||(e=[],t=[]),e.push(s);let r=this.tokens.getMainToken(s);t.push(r.value,r.end)}}break}}if(!o.length){let t=e&&function(e){let t=null;for(let r of e){let e=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=e&&r.pos>e)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw em&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&e){let r=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(o.length>e)for(o.sort(((e,t)=>t.score-e.score));o.length>e;)o.pop();o.some((e=>e.reducePos>n))&&this.recovering--}else if(o.length>1)e:for(let e=0;e<o.length-1;e++){let t=o[e];for(let r=e+1;r<o.length;r++){let n=o[r];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){o.splice(e--,1);continue e}o.splice(r--,1)}}}this.minStackPos=o[0].pos;for(let e=1;e<o.length;e++)o[e].pos<this.minStackPos&&(this.minStackPos=o[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let n=e.pos,{parser:o}=this,i=em?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,r=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(n);s;){let n=this.parser.nodeSet.types[s.type.id]==s.type?o.getGoto(e.state,s.type.id):-1;if(n>-1&&s.length&&(!t||(s.prop(va.contextHash)||0)==r))return e.useNode(s,n),em&&console.log(i+this.stackID(e)+` (via reuse of ${o.getName(s.type.id)})`),!0;if(!(s instanceof $a)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof $a&&0==s.positions[0]))break;s=a}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),em&&console.log(i+this.stackID(e)+` (via always-reduce ${o.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],h=a[s++],u=s==a.length||!r,d=u?e:e.split();if(d.apply(l,c,h),em&&console.log(i+this.stackID(d)+` (via ${0==(65536&l)?"shift":`reduce of ${o.getName(65535&l)}`} for ${o.getName(c)} @ ${n}${d==e?"":", split"})`),u)return!0;d.pos>n?t.push(d):r.push(d)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return lm(e,t),!0}}runRecovery(e,t,r){let n=null,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=t[i<<1],l=t[1+(i<<1)],c=em?this.stackID(s)+" -> ":"";if(s.deadEnd){if(o)continue;if(o=!0,s.restart(),em&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))continue}let h=s.split(),u=c;for(let e=0;h.forceReduce()&&e<10;e++){if(em&&console.log(u+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,r))break;em&&(u=this.stackID(h)+" -> ")}for(let e of s.recoverByInsert(a))em&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,r);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),em&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),lm(s,r)):(!n||n.score<s.score)&&(n=s)}return n}stackToTree(e){return e.close(),$a.build({buffer:Gg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(tm||(tm=new WeakMap)).get(e);return t||tm.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function lm(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e))return void(t[r].score<e.score&&(t[r]=e))}t.push(e)}class cm{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}const hm=e=>e;class um{constructor(e){this.start=e.start,this.shift=e.shift||hm,this.reduce=e.reduce||hm,this.reuse=e.reuse||hm,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class dm extends Ba{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let r=0;r<e.repeatNodeCount;r++)t.push("");let r=Object.keys(e.topRules).map((t=>e.topRules[t][1])),n=[];for(let e=0;e<t.length;e++)n.push([]);function o(e,t,r){n[e].push([t,t.deserialize(String(r))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=va[e]);for(let r=1;r<t.length;){let n=t[r++];if(n>=0)o(n,e,t[r++]);else{let i=t[r+-n];for(let s=-n;s>0;s--)o(t[r++],e,i);r++}}}this.nodeSet=new ya(t.map(((t,o)=>ka.define({name:o>=this.minRepeatTerm?void 0:t,id:o,props:n[o],top:r.indexOf(o)>-1,error:0==o,skipped:e.skippedNodes&&e.skippedNodes.indexOf(o)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ma;let i=Kg(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=Kg(e.states,Uint32Array),this.data=Kg(e.stateData),this.goto=Kg(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new Yg(i,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let n=new am(this,e,t,r);for(let o of this.wrappers)n=o(n,e,t,r);return n}getGoto(e,t,r=!1){let n=this.goto;if(t>=n[0])return-1;for(let o=n[t+1];;){let t=n[o++],i=1&t,s=n[o++];if(i&&r)return s;for(let r=o+(t>>1);o<r;o++)if(n[o]==e)return s;if(i)return-1}}hasAction(e,t){let r=this.data;for(let n=0;n<2;n++)for(let o,i=this.stateSlot(e,n?2:1);;i+=3){if(65535==(o=r[i])){if(1!=r[i+1]){if(2==r[i+1])return fm(r,i+2);break}o=r[i=fm(r,i+2)]}if(o==t||0==o)return fm(r,i+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=fm(this.data,r+2)}if(t==fm(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=fm(this.data,r+2)}if(0==(1&this.data[r+2])){let e=this.data[r+1];t.some(((t,r)=>1&r&&t==e))||t.push(this.data[r],e)}}return t}overrides(e,t){let r=pm(this.data,this.tokenPrecTable,t);return r<0||pm(this.data,this.tokenPrecTable,e)<r}configure(e){let t=Object.assign(Object.create(dm.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let r=e.tokenizers.find((e=>e.from==t));return r?r.to:t}))),e.specializers&&(t.specializers=this.specializers.map((t=>{let r=e.specializers.find((e=>e.from==t));return r?r.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map((()=>!1));if(e)for(let n of e.split(" ")){let e=t.indexOf(n);e>=0&&(r[e]=!0)}let n=null;for(let e=0;e<t.length;e++)if(!r[e])for(let r,o=this.dialects[t[e]];65535!=(r=this.data[o++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[r]=1;return new cm(e,r,n)}static deserialize(e){return new dm(e)}}function fm(e,t){return e[t]|e[t+1]<<16}function pm(e,t,r){for(let n,o=t;65535!=(n=e[o]);o++)if(n==r)return o-t;return-1}const gm={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},mm={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Om={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function bm(e){return 9==e||10==e||13==e||32==e}let vm=null,xm=null,wm=0;function km(e,t){let r=e.pos+t;if(wm==r&&xm==e)return vm;let n=e.peek(t);for(;bm(n);)n=e.peek(++t);let o="";for(;45==(i=n)||46==i||58==i||i>=65&&i<=90||95==i||i>=97&&i<=122||i>=161;)o+=String.fromCharCode(n),n=e.peek(++t);var i;return xm=e,wm=r,vm=o?o.toLowerCase():n==ym||n==Qm?void 0:null}const ym=63,Qm=33;function Sm(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let t=0;t<e.length;t++)this.hash+=(this.hash<<4)+e.charCodeAt(t)+(e.charCodeAt(t)<<8)}const Cm=[4,8,5,6,7],$m=new um({start:null,shift:(e,t,r,n)=>Cm.indexOf(t)>-1?new Sm(km(n,1)||"",e):e,reduce:(e,t)=>18==t&&e?e.parent:e,reuse(e,t,r,n){let o=t.type.id;return 4==o||35==o?new Sm(km(n,1)||"",e):e},hash:e=>e?e.hash:0,strict:!1}),Tm=new Jg(((e,t)=>{if(60!=e.next)return void(e.next<0&&t.context&&e.acceptToken(56));e.advance();let r=47==e.next;r&&e.advance();let n=km(e,0);if(void 0===n)return;if(!n)return e.acceptToken(r?12:4);let o=t.context?t.context.name:null;if(r){if(n==o)return e.acceptToken(9);if(o&&mm[o])return e.acceptToken(56,-2);if(t.dialectEnabled(0))return e.acceptToken(10);for(let e=t.context;e;e=e.parent)if(e.name==n)return;e.acceptToken(11)}else{if("script"==n)return e.acceptToken(5);if("style"==n)return e.acceptToken(6);if("textarea"==n)return e.acceptToken(7);if(gm.hasOwnProperty(n))return e.acceptToken(8);o&&Om[o]&&Om[o][n]?e.acceptToken(56,-1):e.acceptToken(4)}}),{contextual:!0}),_m=new Jg((e=>{for(let t=0,r=0;;r++){if(e.next<0){r&&e.acceptToken(57);break}if(45==e.next)t++;else{if(62==e.next&&t>=2){r>3&&e.acceptToken(57,-2);break}t=0}e.advance()}}));function Pm(e,t,r){let n=2+e.length;return new Jg((o=>{for(let i=0,s=0,a=0;;a++){if(o.next<0){a&&o.acceptToken(t);break}if(0==i&&60==o.next||1==i&&47==o.next||i>=2&&i<n&&o.next==e.charCodeAt(i-2))i++,s++;else if(2!=i&&i!=n||!bm(o.next)){if(i==n&&62==o.next){a>s?o.acceptToken(t,-s):o.acceptToken(r,-(s-2));break}if((10==o.next||13==o.next)&&a){o.acceptToken(t,1);break}i=s=0}else s++;o.advance()}}))}const Rm=Pm("script",53,1),Am=Pm("style",54,2),zm=Pm("textarea",55,3),Mm=ul({"Text RawText":zl.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":zl.angleBracket,TagName:zl.tagName,"MismatchedCloseTag/TagName":[zl.tagName,zl.invalid],AttributeName:zl.attributeName,"AttributeValue UnquotedAttributeValue":zl.attributeValue,Is:zl.definitionOperator,"EntityReference CharacterReference":zl.character,Comment:zl.blockComment,ProcessingInst:zl.processingInstruction,DoctypeDecl:zl.documentMeta}),jm=dm.deserialize({version:14,states:",xOVOxOOO!WQ!bO'#CoO!]Q!bO'#CyO!bQ!bO'#C|O!gQ!bO'#DPO!lQ!bO'#DRO!qOXO'#CnO!|OYO'#CnO#XO[O'#CnO$eOxO'#CnOOOW'#Cn'#CnO$lO!rO'#DSO$tQ!bO'#DUO$yQ!bO'#DVOOOW'#Dj'#DjOOOW'#DX'#DXQVOxOOO%OQ#tO,59ZO%WQ#tO,59eO%`Q#tO,59hO%hQ#tO,59kO%pQ#tO,59mOOOX'#D]'#D]O%xOXO'#CwO&TOXO,59YOOOY'#D^'#D^O&]OYO'#CzO&hOYO,59YOOO['#D_'#D_O&pO[O'#C}O&{O[O,59YOOOW'#D`'#D`O'TOxO,59YO'[Q!bO'#DQOOOW,59Y,59YOOO`'#Da'#DaO'aO!rO,59nOOOW,59n,59nO'iQ!bO,59pO'nQ!bO,59qOOOW-E7V-E7VO'sQ#tO'#CqOOQO'#DY'#DYO(OQ#tO1G.uOOOX1G.u1G.uO(WQ#tO1G/POOOY1G/P1G/PO(`Q#tO1G/SOOO[1G/S1G/SO(hQ#tO1G/VOOOW1G/V1G/VO(pQ#tO1G/XOOOW1G/X1G/XOOOX-E7Z-E7ZO(xQ!bO'#CxOOOW1G.t1G.tOOOY-E7[-E7[O(}Q!bO'#C{OOO[-E7]-E7]O)SQ!bO'#DOOOOW-E7^-E7^O)XQ!bO,59lOOO`-E7_-E7_OOOW1G/Y1G/YOOOW1G/[1G/[OOOW1G/]1G/]O)^Q&jO,59]OOQO-E7W-E7WOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)iQ!bO,59dO)nQ!bO,59gO)sQ!bO,59jOOOW1G/W1G/WO)xO,UO'#CtO*WO7[O'#CtOOQO1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#DZ'#DZO*fO,UO,59`OOQO,59`,59`OOOO'#D['#D[O*tO7[O,59`OOOO-E7X-E7XOOQO1G.z1G.zOOOO-E7Y-E7Y",stateData:"+[~O!]OS~OSSOTPOUQOVROWTOY]OZ[O[^O^^O_^O`^Oa^Ow^Oz_O!cZO~OdaO~OdbO~OdcO~OddO~OdeO~O!VfOPkP!YkP~O!WiOQnP!YnP~O!XlORqP!YqP~OSSOTPOUQOVROWTOXqOY]OZ[O[^O^^O_^O`^Oa^Ow^O!cZO~O!YrO~P#dO!ZsO!duO~OdvO~OdwO~OfyOj|O~OfyOj!OO~OfyOj!QO~OfyOj!SO~OfyOj!UO~O!VfOPkX!YkX~OP!WO!Y!XO~O!WiOQnX!YnX~OQ!ZO!Y!XO~O!XlORqX!YqX~OR!]O!Y!XO~O!Y!XO~P#dOd!_O~O!ZsO!d!aO~Oj!bO~Oj!cO~Og!dOfeXjeX~OfyOj!fO~OfyOj!gO~OfyOj!hO~OfyOj!iO~OfyOj!jO~Od!kO~Od!lO~Od!mO~Oj!nO~Oi!qO!_!oO!a!pO~Oj!rO~Oj!sO~Oj!tO~O_!uO`!uO!_!wO!`!uO~O_!xO`!xO!a!wO!b!xO~O_!uO`!uO!_!{O!`!uO~O_!xO`!xO!a!{O!b!xO~O`_a!cwz!c~",goto:"%o!_PPPPPPPPPPPPPPPPPP!`!fP!lPP!xPP!{#O#R#X#[#_#e#h#k#q#w!`P!`!`P#}$T$k$q$w$}%T%Z%aPPPPPPPP%gX^OX`pXUOX`pezabcde{}!P!R!TR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!TeZ!e{}!P!R!TQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:66,context:$m,nodeProps:[["closedBy",-11,1,2,3,4,5,6,7,8,9,10,11,"EndTag",-4,19,29,32,35,"CloseTag"],["group",-9,12,15,16,17,18,38,39,40,41,"Entity",14,"Entity TextContent",-3,27,30,33,"TextContent Entity"],["openedBy",26,"StartTag StartCloseTag",-4,28,31,34,36,"OpenTag"]],propSources:[Mm],skippedNodes:[0],repeatNodeCount:9,tokenData:"!#b!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2yx}$k}!O3f!O!P$k!P!Q7_!Q![$k![!]8u!]!^$k!^!_>b!_!`!!p!`!a8T!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U$k4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!Z$vc^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[V^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xT^P!bpOv&qwx'Xx!^&q!^!_'g!_~&qP'^R^POv'Xw!^'X!_~'Xp'lQ!bpOv'gx~'ga'yU^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bR!``Or(]sv(]w~(]!Q(rT!``!bpOr(krs'gsv(kwx(]x~(kW)WXiWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^^P!``!bp!]^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TT!_h^P!bpOv&qwx'Xx!^&q!^!_'g!_~&q!Z+kbiWaPOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst/]tw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^)R!^!a.Q!a$f,s$f$g.Q$g~,s!Z,xbiWOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst)Rtw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^.i!^!a.Q!a$f,s$f$g.Q$g~,s!R.TTOp.Qqs.Qt!].Q!]!^.d!^~.Q!R.iO_!R!Z.pXiW_!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/baiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^)R!^!a1q!a$f0g$f$g1q$g~0g!Z0laiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^2V!^!a1q!a$f0g$f$g1q$g~0g!R1tSOp1qq!]1q!]!^2Q!^~1q!R2VO`!R!Z2^XiW`!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3SU!ax^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3qe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5S!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5_d^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6m!a$f$k$f$g&R$g~$k!T6xV^P!``!bp!dQOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7hX^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8T!a~&R!X8`VjU^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9U!YfSdQ^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8u!O!P8u!P!Q&R!Q![8u![!]8u!]!^$k!^!_(k!_!a&R!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g$}$k$}%O8u%O%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U8u4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Je$k$Je$Jg8u$Jg$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!a=Pe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8u<%l~$k!R>iW!``!bpOq(kqr?Rrs'gsv(kwx(]x!a(k!a!bKj!b~(k!R?YZ!``!bpOr(krs'gsv(kwx(]x}(k}!O?{!O!f(k!f!gAR!g#W(k#W#XGz#X~(k!R@SV!``!bpOr(krs'gsv(kwx(]x}(k}!O@i!O~(k!R@rT!``!bp!cPOr(krs'gsv(kwx(]x~(k!RAYV!``!bpOr(krs'gsv(kwx(]x!q(k!q!rAo!r~(k!RAvV!``!bpOr(krs'gsv(kwx(]x!e(k!e!fB]!f~(k!RBdV!``!bpOr(krs'gsv(kwx(]x!v(k!v!wBy!w~(k!RCQV!``!bpOr(krs'gsv(kwx(]x!{(k!{!|Cg!|~(k!RCnV!``!bpOr(krs'gsv(kwx(]x!r(k!r!sDT!s~(k!RD[V!``!bpOr(krs'gsv(kwx(]x!g(k!g!hDq!h~(k!RDxW!``!bpOrDqrsEbsvDqvwEvwxFfx!`Dq!`!aGb!a~DqqEgT!bpOvEbvxEvx!`Eb!`!aFX!a~EbPEyRO!`Ev!`!aFS!a~EvPFXOzPqF`Q!bpzPOv'gx~'gaFkV!``OrFfrsEvsvFfvwEvw!`Ff!`!aGQ!a~FfaGXR!``zPOr(]sv(]w~(]!RGkT!``!bpzPOr(krs'gsv(kwx(]x~(k!RHRV!``!bpOr(krs'gsv(kwx(]x#c(k#c#dHh#d~(k!RHoV!``!bpOr(krs'gsv(kwx(]x#V(k#V#WIU#W~(k!RI]V!``!bpOr(krs'gsv(kwx(]x#h(k#h#iIr#i~(k!RIyV!``!bpOr(krs'gsv(kwx(]x#m(k#m#nJ`#n~(k!RJgV!``!bpOr(krs'gsv(kwx(]x#d(k#d#eJ|#e~(k!RKTV!``!bpOr(krs'gsv(kwx(]x#X(k#X#YDq#Y~(k!RKqW!``!bpOrKjrsLZsvKjvwLowxNPx!aKj!a!b! g!b~KjqL`T!bpOvLZvxLox!aLZ!a!bM^!b~LZPLrRO!aLo!a!bL{!b~LoPMORO!`Lo!`!aMX!a~LoPM^OwPqMcT!bpOvLZvxLox!`LZ!`!aMr!a~LZqMyQ!bpwPOv'gx~'gaNUV!``OrNPrsLosvNPvwLow!aNP!a!bNk!b~NPaNpV!``OrNPrsLosvNPvwLow!`NP!`!a! V!a~NPa! ^R!``wPOr(]sv(]w~(]!R! nW!``!bpOrKjrsLZsvKjvwLowxNPx!`Kj!`!a!!W!a~Kj!R!!aT!``!bpwPOr(krs'gsv(kwx(]x~(k!V!!{VgS^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R",tokenizers:[Rm,Am,zm,Tm,_m,0,1,2,3,4,5],topRules:{Document:[0,13]},dialects:{noMatch:0},tokenPrec:464});function Em(e,t){let r=Object.create(null);for(let n of e.firstChild.getChildren("Attribute")){let e=n.getChild("AttributeName"),o=n.getChild("AttributeValue")||n.getChild("UnquotedAttributeValue");e&&(r[t.read(e.from,e.to)]=o?"AttributeValue"==o.name?t.read(o.from+1,o.to-1):t.read(o.from,o.to):"")}return r}function Wm(e,t,r){let n;for(let o of r)if(!o.attrs||o.attrs(n||(n=Em(e.node.parent,t))))return{parser:o.parser};return null}function Dm(e){let t=[],r=[],n=[];for(let o of e){let e="script"==o.tag?t:"style"==o.tag?r:"textarea"==o.tag?n:null;if(!e)throw new RangeError("Only script, style, and textarea tags can host nested parsers");e.push(o)}return Ga(((e,o)=>{let i=e.type.id;return 27==i?Wm(e,o,t):30==i?Wm(e,o,r):33==i?Wm(e,o,n):null}))}const Xm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function Lm(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}const Im=new Jg(((e,t)=>{for(let n=!1,o=0,i=0;;i++){let{next:s}=e;if(!(Lm(s)||45==s||95==s||n&&(r=s,r>=48&&r<=57))){n&&e.acceptToken(40==s?94:2==o&&t.canShift(2)?2:95);break}!n&&(45!=s||i>0)&&(n=!0),o===i&&45==s&&o++,e.advance()}var r})),Zm=new Jg((e=>{if(Xm.includes(e.peek(-1))){let{next:t}=e;(Lm(t)||95==t||35==t||46==t||91==t||58==t||45==t)&&e.acceptToken(93)}})),qm=new Jg((e=>{if(!Xm.includes(e.peek(-1))){let{next:t}=e;if(37==t&&(e.advance(),e.acceptToken(1)),Lm(t)){do{e.advance()}while(Lm(e.next));e.acceptToken(1)}}})),Nm=ul({"import charset namespace keyframes":zl.definitionKeyword,"media supports":zl.controlKeyword,"from to selector":zl.keyword,NamespaceName:zl.namespace,KeyframeName:zl.labelName,TagName:zl.tagName,ClassName:zl.className,PseudoClassName:zl.constant(zl.className),IdName:zl.labelName,"FeatureName PropertyName":zl.propertyName,AttributeName:zl.attributeName,NumberLiteral:zl.number,KeywordQuery:zl.keyword,UnaryQueryOp:zl.operatorKeyword,"CallTag ValueName":zl.atom,VariableName:zl.variableName,Callee:zl.operatorKeyword,Unit:zl.unit,"UniversalSelector NestingSelector":zl.definitionOperator,AtKeyword:zl.keyword,MatchOp:zl.compareOperator,"ChildOp SiblingOp, LogicOp":zl.logicOperator,BinOp:zl.arithmeticOperator,Important:zl.modifier,Comment:zl.blockComment,ParenthesizedContent:zl.special(zl.name),ColorLiteral:zl.color,StringLiteral:zl.string,":":zl.punctuation,"PseudoOp #":zl.derefOperator,"; ,":zl.separator,"( )":zl.paren,"[ ]":zl.squareBracket,"{ }":zl.brace}),Bm={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},Vm={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},Gm={__proto__:null,not:128,only:128,from:158,to:160},Um=dm.deserialize({version:14,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[Nm],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QoWR~Oy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[Zm,qm,Im,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:e=>Bm[e]||-1},{term:56,get:e=>Vm[e]||-1},{term:95,get:e=>Gm[e]||-1}],tokenPrec:1078});let Fm=null;function Hm(){if(!Fm&&"object"==typeof document&&document.body){let e=[];for(let t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);Fm=e.sort().map((e=>({type:"property",label:e})))}return Fm||[]}const Ym=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((e=>({type:"class",label:e}))),Jm=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((e=>({type:"keyword",label:e}))).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((e=>({type:"constant",label:e})))),Km=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((e=>({type:"type",label:e}))),eO=/^[\w-]*/,tO=e=>{let{state:t,pos:r}=e,n=Ll(t).resolveInner(r,-1);if("PropertyName"==n.name)return{from:n.from,options:Hm(),validFor:eO};if("ValueName"==n.name)return{from:n.from,options:Jm,validFor:eO};if("PseudoClassName"==n.name)return{from:n.from,options:Ym,validFor:eO};if("TagName"==n.name){for(let{parent:e}=n;e;e=e.parent)if("Block"==e.name)return{from:n.from,options:Hm(),validFor:eO};return{from:n.from,options:Km,validFor:eO}}if(!e.explicit)return null;let o=n.resolve(r),i=o.childBefore(r);return i&&":"==i.name&&"PseudoClassSelector"==o.name?{from:r,options:Ym,validFor:eO}:i&&":"==i.name&&"Declaration"==o.name||"ArgList"==o.name?{from:r,options:Jm,validFor:eO}:"Block"==o.name?{from:r,options:Hm(),validFor:eO}:null},rO=Xl.define({parser:Um.configure({props:[oc.add({Declaration:dc()}),pc.add({Block:gc})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});const nO=282,oO=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],iO=new um({start:!1,shift:(e,t)=>5==t||6==t||286==t?e:287==t,strict:!1}),sO=new Jg(((e,t)=>{let{next:r}=e;(125==r||-1==r||t.context)&&t.canShift(284)&&e.acceptToken(284)}),{contextual:!0,fallback:!0}),aO=new Jg(((e,t)=>{let r,{next:n}=e;oO.indexOf(n)>-1||(47!=n||47!=(r=e.peek(1))&&42!=r)&&125!=n&&59!=n&&-1!=n&&!t.context&&t.canShift(281)&&e.acceptToken(281)}),{contextual:!0}),lO=new Jg(((e,t)=>{let{next:r}=e;if((43==r||45==r)&&(e.advance(),r==e.next)){e.advance();let r=!t.context&&t.canShift(2);e.acceptToken(r?2:3)}}),{contextual:!0}),cO=new Jg((e=>{for(let t=!1,r=0;;r++){let{next:n}=e;if(n<0){r&&e.acceptToken(nO);break}if(96==n){r?e.acceptToken(nO):e.acceptToken(283,1);break}if(123==n&&t){1==r?e.acceptToken(4,1):e.acceptToken(nO,-1);break}if(10==n&&r){e.advance(),e.acceptToken(nO);break}92==n&&e.advance(),t=36==n,e.advance()}})),hO=new Jg(((e,t)=>{if(101==e.next&&t.dialectEnabled(1)){e.advance();for(let t=0;t<6;t++){if(e.next!="xtends".charCodeAt(t))return;e.advance()}e.next>=57&&e.next<=65||e.next>=48&&e.next<=90||95==e.next||e.next>=97&&e.next<=122||e.next>160||e.acceptToken(1)}})),uO=ul({"get set async static":zl.modifier,"for while do if else switch try catch finally return throw break continue default case":zl.controlKeyword,"in of await yield void typeof delete instanceof":zl.operatorKeyword,"let var const function class extends":zl.definitionKeyword,"import export from":zl.moduleKeyword,"with debugger as new":zl.keyword,TemplateString:zl.special(zl.string),Super:zl.atom,BooleanLiteral:zl.bool,this:zl.self,null:zl.null,Star:zl.modifier,VariableName:zl.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":zl.function(zl.variableName),VariableDefinition:zl.definition(zl.variableName),Label:zl.labelName,PropertyName:zl.propertyName,PrivatePropertyName:zl.special(zl.propertyName),"CallExpression/MemberExpression/PropertyName":zl.function(zl.propertyName),"FunctionDeclaration/VariableDefinition":zl.function(zl.definition(zl.variableName)),"ClassDeclaration/VariableDefinition":zl.definition(zl.className),PropertyDefinition:zl.definition(zl.propertyName),PrivatePropertyDefinition:zl.definition(zl.special(zl.propertyName)),UpdateOp:zl.updateOperator,LineComment:zl.lineComment,BlockComment:zl.blockComment,Number:zl.number,String:zl.string,ArithOp:zl.arithmeticOperator,LogicOp:zl.logicOperator,BitOp:zl.bitwiseOperator,CompareOp:zl.compareOperator,RegExp:zl.regexp,Equals:zl.definitionOperator,"Arrow : Spread":zl.punctuation,"( )":zl.paren,"[ ]":zl.squareBracket,"{ }":zl.brace,"InterpolationStart InterpolationEnd":zl.special(zl.brace),".":zl.derefOperator,", ;":zl.separator,TypeName:zl.typeName,TypeDefinition:zl.definition(zl.typeName),"type enum interface implements namespace module declare":zl.definitionKeyword,"abstract global Privacy readonly override":zl.modifier,"is keyof unique infer":zl.operatorKeyword,JSXAttributeValue:zl.attributeValue,JSXText:zl.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":zl.angleBracket,"JSXIdentifier JSXNameSpacedName":zl.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":zl.attributeName}),dO={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},fO={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},pO={__proto__:null,"<":129},gO=dm.deserialize({version:14,states:"$8SO`QdOOO'QQ(C|O'#ChO'XOWO'#DVO)dQdO'#D]O)tQdO'#DhO){QdO'#DrO-xQdO'#DxOOQO'#E]'#E]O.]Q`O'#E[O.bQ`O'#E[OOQ(C['#Ef'#EfO0aQ(C|O'#ItO2wQ(C|O'#IuO3eQ`O'#EzO3jQ!bO'#FaOOQ(C['#FS'#FSO3rO#tO'#FSO4QQ&jO'#FhO5bQ`O'#FgOOQ(C['#Iu'#IuOOQ(CW'#It'#ItOOQS'#J^'#J^O5gQ`O'#HpO5lQ(ChO'#HqOOQS'#Ih'#IhOOQS'#Hr'#HrQ`QdOOO){QdO'#DjO5tQ`O'#G[O5yQ&jO'#CmO6XQ`O'#EZO6dQ`O'#EgO6iQ,UO'#FRO7TQ`O'#G[O7YQ`O'#G`O7eQ`O'#G`O7sQ`O'#GcO7sQ`O'#GdO7sQ`O'#GfO5tQ`O'#GiO8dQ`O'#GlO9rQ`O'#CdO:SQ`O'#GyO:[Q`O'#HPO:[Q`O'#HRO`QdO'#HTO:[Q`O'#HVO:[Q`O'#HYO:aQ`O'#H`O:fQ(CjO'#HfO){QdO'#HhO:qQ(CjO'#HjO:|Q(CjO'#HlO5lQ(ChO'#HnO){QdO'#DWOOOW'#Ht'#HtO;XOWO,59qOOQ(C[,59q,59qO=jQtO'#ChO=tQdO'#HuO>XQ`O'#IvO@WQtO'#IvO'dQdO'#IvO@_Q`O,59wO@uQ7[O'#DbOAnQ`O'#E]OA{Q`O'#JROBWQ`O'#JQOBWQ`O'#JQOB`Q`O,5:yOBeQ`O'#JPOBlQaO'#DyO5yQ&jO'#EZOBzQ`O'#EZOCVQpO'#FROOQ(C[,5:S,5:SOC_QdO,5:SOE]Q(C|O,5:^OEyQ`O,5:dOFdQ(ChO'#JOO7YQ`O'#I}OFkQ`O'#I}OFsQ`O,5:xOFxQ`O'#I}OGWQdO,5:vOIWQ&jO'#EWOJeQ`O,5:vOKwQ&jO'#DlOLOQdO'#DqOLYQ7[O,5;PO){QdO,5;POOQS'#Er'#ErOOQS'#Et'#EtO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;ROOQS'#Ex'#ExOLbQdO,5;cOOQ(C[,5;h,5;hOOQ(C[,5;i,5;iONbQ`O,5;iOOQ(C[,5;j,5;jO){QdO'#IPONgQ(ChO,5<TO! RQ&jO,5;RO){QdO,5;fO! kQ!bO'#JVO! YQ!bO'#JVO! rQ!bO'#JVO!!TQ!bO,5;qOOOO,5;{,5;{O!!cQdO'#FcOOOO'#IO'#IOO3rO#tO,5;nO!!jQ!bO'#FeOOQ(C[,5;n,5;nO!#WQ,VO'#CrOOQ(C]'#Cu'#CuO!#kQ`O'#CuO!#pOWO'#CyO!$^Q,VO,5<QO!$eQ`O,5<SO!%tQ&jO'#FrO!&RQ`O'#FsO!&WQ`O'#FsO!&]Q&jO'#FwO!'[Q7[O'#F{O!'}Q,VO'#IqOOQ(C]'#Iq'#IqO!(XQaO'#IpO!(gQ`O'#IoO!(oQ`O'#CqOOQ(C]'#Cs'#CsOOQ(C]'#C|'#C|O!(wQ`O'#DOOJjQ&jO'#FjOJjQ&jO'#FlO!(|Q`O'#FnO!)RQ`O'#FoO!&WQ`O'#FuOJjQ&jO'#FzO!)WQ`O'#E^O!)oQ`O,5<RO`QdO,5>[OOQS'#Ik'#IkOOQS,5>],5>]OOQS-E;p-E;pO!+kQ(C|O,5:UOOQ(CX'#Cp'#CpO!,[Q&kO,5<vOOQO'#Cf'#CfO!,mQ(ChO'#IlO5bQ`O'#IlO:aQ`O,59XO!-OQ!bO,59XO!-WQ&jO,59XO5yQ&jO,59XO!-cQ`O,5:vO!-kQ`O'#GxO!-yQ`O'#JbO){QdO,5;kO!.RQ7[O,5;mO!.WQ`O,5=cO!.]Q`O,5=cO!.bQ`O,5=cO5lQ(ChO,5=cO5tQ`O,5<vO!.pQ`O'#E_O!/UQ7[O'#E`OOQ(CW'#JP'#JPO!/gQ(ChO'#J_O5lQ(ChO,5<zO7sQ`O,5=QOOQP'#Cr'#CrO!/rQ!bO,5<}O!/zQ!cO,5=OO!0VQ`O,5=QO!0[QpO,5=TO:aQ`O'#GnO5tQ`O'#GpO!0dQ`O'#GpO5yQ&jO'#GsO!0iQ`O'#GsOOQS,5=W,5=WO!0nQ`O'#GtO!0vQ`O'#CmO!0{Q`O,59OO!1VQ`O,59OO!3XQdO,59OOOQS,59O,59OO!3fQ(ChO,59OO){QdO,59OO!3qQdO'#G{OOQS'#G|'#G|OOQS'#G}'#G}O`QdO,5=eO!4RQ`O,5=eO){QdO'#DxO`QdO,5=kO`QdO,5=mO!4WQ`O,5=oO`QdO,5=qO!4]Q`O,5=tO!4bQdO,5=zOOQS,5>Q,5>QO){QdO,5>QO5lQ(ChO,5>SOOQS,5>U,5>UO!8cQ`O,5>UOOQS,5>W,5>WO!8cQ`O,5>WOOQS,5>Y,5>YO!8hQpO,59rOOOW-E;r-E;rOOQ(C[1G/]1G/]O!8mQtO,5>aO'dQdO,5>aOOQO,5>f,5>fO!8wQdO'#HuOOQO-E;s-E;sO!9UQ`O,5?bO!9^QtO,5?bO!9eQ`O,5?lOOQ(C[1G/c1G/cO!9mQ!bO'#DTOOQO'#Ix'#IxO){QdO'#IxO!:[Q!bO'#IxO!:yQ!bO'#DcO!;[Q7[O'#DcO!=gQdO'#DcO!=nQ`O'#IwO!=vQ`O,59|O!={Q`O'#EaO!>ZQ`O'#JSO!>cQ`O,5:zO!>yQ7[O'#DcO){QdO,5?mO!?TQ`O'#HzOOQO-E;x-E;xO!9eQ`O,5?lOOQ(CW1G0e1G0eO!@aQ7[O'#D|OOQ(C[,5:e,5:eO){QdO,5:eOIWQ&jO,5:eO!@hQaO,5:eO:aQ`O,5:uO!-OQ!bO,5:uO!-WQ&jO,5:uO5yQ&jO,5:uOOQ(C[1G/n1G/nOOQ(C[1G0O1G0OOOQ(CW'#EV'#EVO){QdO,5?jO!@sQ(ChO,5?jO!AUQ(ChO,5?jO!A]Q`O,5?iO!AeQ`O'#H|O!A]Q`O,5?iOOQ(CW1G0d1G0dO7YQ`O,5?iOOQ(C[1G0b1G0bO!BPQ(C|O1G0bO!CRQ(CyO,5:rOOQ(C]'#Fq'#FqO!CoQ(C}O'#IqOGWQdO1G0bO!EqQ,VO'#IyO!E{Q`O,5:WO!FQQtO'#IzO){QdO'#IzO!F[Q`O,5:]OOQ(C]'#DT'#DTOOQ(C[1G0k1G0kO!FaQ`O1G0kO!HrQ(C|O1G0mO!HyQ(C|O1G0mO!K^Q(C|O1G0mO!KeQ(C|O1G0mO!MlQ(C|O1G0mO!NPQ(C|O1G0mO#!pQ(C|O1G0mO#!wQ(C|O1G0mO#%[Q(C|O1G0mO#%cQ(C|O1G0mO#'WQ(C|O1G0mO#*QQMlO'#ChO#+{QMlO1G0}O#-vQMlO'#IuOOQ(C[1G1T1G1TO#.ZQ(C|O,5>kOOQ(CW-E;}-E;}O#.zQ(C}O1G0mOOQ(C[1G0m1G0mO#1PQ(C|O1G1QO#1pQ!bO,5;sO#1uQ!bO,5;tO#1zQ!bO'#F[O#2`Q`O'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#2eQ!bO1G1]OOQ(C[1G1]1G1]OOOO1G1f1G1fO#2sQMlO'#ItO#2}Q`O,5;}OLbQdO,5;}OOOO-E;|-E;|OOQ(C[1G1Y1G1YOOQ(C[,5<P,5<PO#3SQ!bO,5<POOQ(C],59a,59aOIWQ&jO'#C{OOOW'#Hs'#HsO#3XOWO,59eOOQ(C],59e,59eO){QdO1G1lO!)RQ`O'#IRO#3dQ`O,5<eOOQ(C],5<b,5<bOOQO'#GV'#GVOJjQ&jO,5<pOOQO'#GX'#GXOJjQ&jO,5<rOIWQ&jO,5<tOOQO1G1n1G1nO#3oQqO'#CpO#4SQqO,5<^O#4ZQ`O'#JZO5tQ`O'#JZO#4iQ`O,5<`OJjQ&jO,5<_O#4nQ`O'#FtO#4yQ`O,5<_O#5OQqO'#FqO#5]QqO'#J[O#5gQ`O'#J[OIWQ&jO'#J[O#5lQ`O,5<cOOQ(CW'#Dg'#DgO#5qQ!bO'#F|O!'VQ7[O'#F|O!'VQ7[O'#GOO#6SQ`O'#GPO!&WQ`O'#GSO#6XQ(ChO'#ITO#6dQ7[O,5<gOOQ(C],5<g,5<gO#6kQ7[O'#F|O#6yQ7[O'#F}O#7RQ7[O'#F}OOQ(C],5<u,5<uOJjQ&jO,5?[OJjQ&jO,5?[O#7WQ`O'#IUO#7cQ`O,5?ZO#7kQ`O,59]OOQ(C]'#Ch'#ChO#8[Q,VO,59jOOQ(C],59j,59jO#8}Q,VO,5<UO#9pQ,VO,5<WO#9zQ`O,5<YOOQ(C],5<Z,5<ZO#:PQ`O,5<aO#:UQ,VO,5<fOGWQdO1G1mO#:fQ`O1G1mOOQS1G3v1G3vOOQ(C[1G/p1G/pONbQ`O1G/pOOQS1G2b1G2bOIWQ&jO1G2bO){QdO1G2bOIWQ&jO1G2bO#:kQaO1G2bO#<QQ&jO'#EWOOQ(CW,5?W,5?WO#<[Q(ChO,5?WOOQS1G.s1G.sO:aQ`O1G.sO!-OQ!bO1G.sO!-WQ&jO1G.sO#<mQ`O1G0bO#<rQ`O'#ChO#<}Q`O'#JcO#=VQ`O,5=dO#=[Q`O'#JcO#=aQ`O'#JcO#=iQ`O'#I^O#=wQ`O,5?|O#>PQtO1G1VOOQ(C[1G1X1G1XO5tQ`O1G2}O#>WQ`O1G2}O#>]Q`O1G2}O#>bQ`O1G2}OOQS1G2}1G2}O#>gQ&kO1G2bO7YQ`O'#JQO7YQ`O'#EaO7YQ`O'#IWO#>xQ(ChO,5?yOOQS1G2f1G2fO!0VQ`O1G2lOIWQ&jO1G2iO#?TQ`O1G2iOOQS1G2j1G2jOIWQ&jO1G2jO#?YQaO1G2jO#?bQ7[O'#GhOOQS1G2l1G2lO!'VQ7[O'#IYO!0[QpO1G2oOOQS1G2o1G2oOOQS,5=Y,5=YO#?jQ&kO,5=[O5tQ`O,5=[O#6SQ`O,5=_O5bQ`O,5=_O!-OQ!bO,5=_O!-WQ&jO,5=_O5yQ&jO,5=_O#?{Q`O'#JaO#@WQ`O,5=`OOQS1G.j1G.jO#@]Q(ChO1G.jO#@hQ`O1G.jO#@mQ`O1G.jO5lQ(ChO1G.jO#@uQtO,5@OO#APQ`O,5@OO#A[QdO,5=gO#AcQ`O,5=gO7YQ`O,5@OOOQS1G3P1G3PO`QdO1G3POOQS1G3V1G3VOOQS1G3X1G3XO:[Q`O1G3ZO#AhQdO1G3]O#EcQdO'#H[OOQS1G3`1G3`O#EpQ`O'#HbO:aQ`O'#HdOOQS1G3f1G3fO#ExQdO1G3fO5lQ(ChO1G3lOOQS1G3n1G3nOOQ(CW'#Fx'#FxO5lQ(ChO1G3pO5lQ(ChO1G3rOOOW1G/^1G/^O#IvQpO,5<TO#JOQtO1G3{OOQO1G4Q1G4QO){QdO,5>aO#JYQ`O1G4|O#JbQ`O1G5WO#JjQ`O,5?dOLbQdO,5:{O7YQ`O,5:{O:aQ`O,59}OLbQdO,59}O!-OQ!bO,59}O#JoQMlO,59}OOQO,5:{,5:{O#JyQ7[O'#HvO#KaQ`O,5?cOOQ(C[1G/h1G/hO#KiQ7[O'#H{O#K}Q`O,5?nOOQ(CW1G0f1G0fO!;[Q7[O,59}O#LVQtO1G5XO7YQ`O,5>fOOQ(CW'#ES'#ESO#LaQ(DjO'#ETO!@XQ7[O'#D}OOQO'#Hy'#HyO#L{Q7[O,5:hOOQ(C[,5:h,5:hO#MSQ7[O'#D}O#MeQ7[O'#D}O#MlQ7[O'#EYO#MoQ7[O'#ETO#M|Q7[O'#ETO!@XQ7[O'#ETO#NaQ`O1G0PO#NfQqO1G0POOQ(C[1G0P1G0PO){QdO1G0POIWQ&jO1G0POOQ(C[1G0a1G0aO:aQ`O1G0aO!-OQ!bO1G0aO!-WQ&jO1G0aO#NmQ(C|O1G5UO){QdO1G5UO#N}Q(ChO1G5UO$ `Q`O1G5TO7YQ`O,5>hOOQO,5>h,5>hO$ hQ`O,5>hOOQO-E;z-E;zO$ `Q`O1G5TO$ vQ(C}O,59jO$#xQ(C}O,5<UO$%}Q(C}O,5<WO$(SQ(C}O,5<fOOQ(C[7+%|7+%|O$*_Q(C|O7+%|O$+OQ&jO'#HwO$+YQ`O,5?eOOQ(C]1G/r1G/rO$+bQdO'#HxO$+oQ`O,5?fO$+wQtO,5?fOOQ(C[1G/w1G/wOOQ(C[7+&V7+&VO$,RQMlO,5:^O){QdO7+&iO$,]QMlO,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$,jQ!LQO,5;vOLbQdO,5;uOOQO-E;{-E;{OOQ(C[7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$,uQ`O1G1iOOQ(C[1G1k1G1kO$,zQqO,59gOOOW-E;q-E;qOOQ(C]1G/P1G/PO$-RQ(C|O7+'WOOQ(C],5>m,5>mO$-rQ`O,5>mOOQ(C]1G2P1G2PP$-wQ`O'#IRPOQ(C]-E<P-E<PO$.hQ,VO1G2[O$/ZQ,VO1G2^O$/eQqO1G2`OOQ(C]1G1x1G1xO$/lQ`O'#IQO$/zQ`O,5?uO$/zQ`O,5?uO$0SQ`O,5?uO$0_Q`O,5?uOOQO1G1z1G1zO$0mQ,VO1G1yOJjQ&jO1G1yO$0}Q&jO'#ISO$1_Q`O,5?vOIWQ&jO,5?vO$1gQqO,5?vOOQ(C]1G1}1G1}OOQ(CW,5<h,5<hOOQ(CW,5<i,5<iO$1qQ`O,5<iO#5}Q`O,5<iO!-OQ!bO,5<hO$1vQ`O,5<jOOQ(CW,5<k,5<kO$1qQ`O,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ(C]1G2R1G2RO!'VQ7[O,5<hO$2OQ`O,5<iO!'VQ7[O,5<jO!'VQ7[O,5<iO$2ZQ,VO1G4vO$2eQ,VO1G4vOOQO,5>p,5>pOOQO-E<S-E<SOOQP1G.w1G.wO!.RQ7[O,59lO){QdO,59lO$2rQ`O1G1tOJjQ&jO1G1{O$2wQ(C|O7+'XOOQ(C[7+'X7+'XOGWQdO7+'XOOQ(C[7+%[7+%[O$3hQqO'#J]O#NaQ`O7+'|O$3rQ`O7+'|O$3zQqO7+'|OOQS7+'|7+'|OIWQ&jO7+'|O){QdO7+'|OIWQ&jO7+'|O$4UQ(CyO'#ChO$4iQ(CyO,5<lO$5ZQ`O,5<lOOQ(CW1G4r1G4rOOQS7+$_7+$_O:aQ`O7+$_O!-OQ!bO7+$_OGWQdO7+%|O$5`Q`O'#I]O$5qQ`O,5?}OOQO1G3O1G3OO5tQ`O,5?}O$5qQ`O,5?}O$5yQ`O,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ(C[7+&q7+&qO$6OQ`O7+(iO5lQ(ChO7+(iO5tQ`O7+(iO$6TQ`O7+(iO$6YQaO7+'|OOQ(CW,5>r,5>rOOQ(CW-E<U-E<UOOQS7+(W7+(WO$6hQ(CyO7+(TOIWQ&jO7+(TO$6rQqO7+(UOOQS7+(U7+(UOIWQ&jO7+(UO$6yQ`O'#J`O$7UQ`O,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQS7+(Z7+(ZO$8OQ7[O'#GqOOQS1G2v1G2vOIWQ&jO1G2vO){QdO1G2vOIWQ&jO1G2vO$8VQaO1G2vO$8eQ&kO1G2vO5lQ(ChO1G2yO#6SQ`O1G2yO5bQ`O1G2yO!-OQ!bO1G2yO!-WQ&jO1G2yO$8vQ`O'#I[O$9RQ`O,5?{O$9ZQ7[O,5?{OOQ(CW1G2z1G2zOOQS7+$U7+$UO$9cQ`O7+$UO5lQ(ChO7+$UO$9hQ`O7+$UO){QdO1G5jO){QdO1G5kO$9mQdO1G3RO$9tQ`O1G3RO$9yQdO1G3RO$:QQ(ChO1G5jOOQS7+(k7+(kO5lQ(ChO7+(uO`QdO7+(wOOQS'#Jf'#JfOOQS'#I_'#I_O$:[QdO,5=vOOQS,5=v,5=vO){QdO'#H]O$:iQ`O'#H_OOQS,5=|,5=|O7YQ`O,5=|OOQS,5>O,5>OOOQS7+)Q7+)QOOQS7+)W7+)WOOQS7+)[7+)[OOQS7+)^7+)^OOQO1G5O1G5OO$:nQMlO1G0gO$:xQ`O1G0gOOQO1G/i1G/iO$;TQMlO1G/iO:aQ`O1G/iOLbQdO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!-OQ!bO1G/iO:aQ`O,5:iOOQO,5:o,5:oO){QdO,5:oO$;_Q(ChO,5:oO$;jQ(ChO,5:oO!-OQ!bO,5:iOOQO-E;w-E;wOOQ(C[1G0S1G0SO!@XQ7[O,5:iO$;xQ7[O,5:iO$<ZQ(DjO,5:oO$<uQ7[O,5:iO!@XQ7[O,5:oOOQO,5:t,5:tO$<|Q7[O,5:oO$=ZQ(ChO,5:oOOQ(C[7+%k7+%kO#NaQ`O7+%kO#NfQqO7+%kOOQ(C[7+%{7+%{O:aQ`O7+%{O!-OQ!bO7+%{O$=oQ(C|O7+*pO){QdO7+*pOOQO1G4S1G4SO7YQ`O1G4SO$>PQ`O7+*oO$>XQ(C}O1G2[O$@^Q(C}O1G2^O$BcQ(C}O1G1yO$DnQ,VO,5>cOOQO-E;u-E;uO$DxQtO,5>dO){QdO,5>dOOQO-E;v-E;vO$ESQ`O1G5QO$E[QMlO1G0bO$GcQMlO1G0mO$GjQMlO1G0mO$IkQMlO1G0mO$IrQMlO1G0mO$KgQMlO1G0mO$KzQMlO1G0mO$NXQMlO1G0mO$N`QMlO1G0mO%!aQMlO1G0mO%!hQMlO1G0mO%$]QMlO1G0mO%$pQ(C|O<<JTO%%rQMmO1G0mO%'|QMmO'#IqO%)iQMlO1G1QOLbQdO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%)vQ`O1G1aO%){QMlO,5>kOOOO7+'T7+'TOOOW1G/R1G/ROOQ(C]1G4X1G4XOJjQ&jO7+'zO%*VQ`O,5>lO5tQ`O,5>lOOQO-E<O-E<OO%*eQ`O1G5aO%*eQ`O1G5aO%*mQ`O1G5aO%*xQ,VO7+'eO%+YQqO,5>nO%+dQ`O,5>nOIWQ&jO,5>nOOQO-E<Q-E<QO%+iQqO1G5bO%+sQ`O1G5bOOQ(CW1G2T1G2TO$1qQ`O1G2TOOQ(CW1G2S1G2SO%+{Q`O1G2UOIWQ&jO1G2UOOQ(CW1G2Y1G2YO!-OQ!bO1G2SO#5}Q`O1G2TO%,QQ`O1G2UO%,YQ`O1G2TOJjQ&jO7+*bOOQ(C]1G/W1G/WO%,eQ`O1G/WOOQ(C]7+'`7+'`O%,jQ,VO7+'gO%,zQ(C|O<<JsOOQ(C[<<Js<<JsOIWQ&jO'#IVO%-kQ`O,5?wOOQS<<Kh<<KhOIWQ&jO<<KhO#NaQ`O<<KhO%-sQ`O<<KhO%-{QqO<<KhOIWQ&jO1G2WOOQS<<Gy<<GyO:aQ`O<<GyO%.VQ(C|O<<IhOOQ(C[<<Ih<<IhOOQO,5>w,5>wO%.vQ`O,5>wO%.{Q`O,5>wOOQO-E<Z-E<ZO%/TQ`O1G5iO%/TQ`O1G5iO5tQ`O1G5iO%/]Q`O<<LTOOQS<<LT<<LTO%/bQ`O<<LTO5lQ(ChO<<LTO){QdO<<KhOIWQ&jO<<KhOOQS<<Ko<<KoO$6hQ(CyO<<KoOOQS<<Kp<<KpO$6rQqO<<KpO%/gQ7[O'#IXO%/rQ`O,5?zOLbQdO,5?zOOQS1G2n1G2nO#LaQ(DjO'#ETO!@XQ7[O'#GrOOQO'#IZ'#IZO%/zQ7[O,5=]OOQS,5=],5=]O%0RQ7[O'#ETO%0^Q7[O'#ETO%0uQ7[O'#ETO%1PQ7[O'#GrO%1bQ`O7+(bO%1gQ`O7+(bO%1oQqO7+(bOOQS7+(b7+(bOIWQ&jO7+(bO){QdO7+(bOIWQ&jO7+(bO%1yQaO7+(bOOQS7+(e7+(eO5lQ(ChO7+(eO#6SQ`O7+(eO5bQ`O7+(eO!-OQ!bO7+(eO%2XQ`O,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%2dQ`O1G5gO5lQ(ChO<<GpOOQS<<Gp<<GpO%2lQ`O<<GpO%2qQ`O7++UO%2vQ`O7++VOOQS7+(m7+(mO%2{Q`O7+(mO%3QQdO7+(mO%3XQ`O7+(mO){QdO7++UO){QdO7++VOOQS<<La<<LaOOQS<<Lc<<LcOOQS-E<]-E<]OOQS1G3b1G3bO%3^Q`O,5=wOOQS,5=y,5=yO%3cQ`O1G3hOLbQdO7+&ROOQO7+%T7+%TO%3hQMlO1G5XO:aQ`O7+%TOOQO1G0T1G0TO%3rQ(C|O1G0ZOOQO1G0Z1G0ZO){QdO1G0ZO%3|Q(ChO1G0ZO:aQ`O1G0TO!-OQ!bO1G0TO!@XQ7[O1G0TO%4XQ(ChO1G0ZO%4gQ7[O1G0TO%4xQ(ChO1G0ZO%5^Q(DjO1G0ZO%5hQ7[O1G0TO!@XQ7[O1G0ZOOQ(C[<<IV<<IVOOQ(C[<<Ig<<IgO:aQ`O<<IgO%5oQ(C|O<<N[OOQO7+)n7+)nO%6PQ(C}O7+'eO%8[Q(C}O7+'gO%:gQtO1G4OO%:qQMlO7+%|O%;gQMmO,59jO%=hQMmO,5<UO%?lQMmO,5<WO%A[QMmO,5<fO%B}QMlO7+'WO%C[QMlO7+'XO%CiQ`O,5;xOOQO7+&{7+&{O%CnQ,VO<<KfOOQO1G4W1G4WO%CuQ`O1G4WO%DQQ`O1G4WO%D`Q`O7+*{O%D`Q`O7+*{OIWQ&jO1G4YO%DhQqO1G4YO%DrQ`O7+*|OOQ(CW7+'o7+'oO$1qQ`O7+'pO%DzQqO7+'pOOQ(CW7+'n7+'nO$1qQ`O7+'oO%ERQ`O7+'pOIWQ&jO7+'pO#5}Q`O7+'oO%EWQ,VO<<M|OOQ(C]7+$r7+$rO%EbQqO,5>qOOQO-E<T-E<TO#NaQ`OANASOOQSANASANASOIWQ&jOANASO%ElQ(CyO7+'rOOQSAN=eAN=eO5tQ`O1G4cOOQO1G4c1G4cO%E|Q`O1G4cO%FRQ`O7++TO%FRQ`O7++TO5lQ(ChOANAoO%FZQ`OANAoOOQSANAoANAoO%F`Q`OANASO%FhQqOANASOOQSANAZANAZOOQSANA[ANA[O%FrQ`O,5>sOOQO-E<V-E<VO%F}QMlO1G5fO#6SQ`O,5=^O5bQ`O,5=^O!-OQ!bO,5=^OOQO-E<X-E<XOOQS1G2w1G2wO$<ZQ(DjO,5:oO!@XQ7[O,5=^O%GXQ7[O,5=^O%GjQ7[O,5:oOOQS<<K|<<K|OIWQ&jO<<K|O%1bQ`O<<K|O%GtQ`O<<K|O%G|QqO<<K|O){QdO<<K|OIWQ&jO<<K|OOQS<<LP<<LPO5lQ(ChO<<LPO#6SQ`O<<LPO5bQ`O<<LPO%HWQ7[O1G4bO%H`Q`O7++ROOQSAN=[AN=[O5lQ(ChOAN=[OOQS<<Np<<NpOOQS<<Nq<<NqOOQS<<LX<<LXO%HhQ`O<<LXO%HmQdO<<LXO%HtQ`O<<NpO%HyQ`O<<NqOOQS1G3c1G3cO:aQ`O7+)SO%IOQMlO<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%3rQ(C|O7+%uO){QdO7+%uOOQO7+%o7+%oO:aQ`O7+%oO!-OQ!bO7+%oO%IYQ(ChO7+%uO!@XQ7[O7+%oO%IeQ(ChO7+%uO%IsQ7[O7+%oO%JUQ(ChO7+%uOOQ(C[AN?RAN?RO%JjQMlO<<JTO%JwQMmO1G1yO%MOQMmO1G2[O& SQMmO1G2^O&!rQMlO<<JsO&#PQMlO<<IhOOQO1G1d1G1dOJjQ&jOANAQOOQO7+)r7+)rO&#^Q`O7+)rO&#iQ`O<<NgO&#qQqO7+)tOOQ(CW<<K[<<K[O$1qQ`O<<K[OOQ(CW<<KZ<<KZO&#{QqO<<K[O$1qQ`O<<KZOOQSG26nG26nO#NaQ`OG26nOOQO7+)}7+)}O5tQ`O7+)}O&$SQ`O<<NoOOQSG27ZG27ZO5lQ(ChOG27ZOIWQ&jOG26nOLbQdO1G4_O&$[Q`O7++QO5lQ(ChO1G2xO#6SQ`O1G2xO5bQ`O1G2xO!-OQ!bO1G2xO!@XQ7[O1G2xO%5^Q(DjO1G0ZO&$dQ7[O1G2xO%1bQ`OANAhOOQSANAhANAhOIWQ&jOANAhO&$uQ`OANAhO&$}QqOANAhOOQSANAkANAkO5lQ(ChOANAkO#6SQ`OANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQSG22vG22vOOQSANAsANAsO&%XQ`OANAsOOQSAND[AND[OOQSAND]AND]OOQS<<Ln<<LnOOQO<<Ia<<IaO%3rQ(C|O<<IaOOQO<<IZ<<IZO:aQ`O<<IZO){QdO<<IaO!-OQ!bO<<IZO&%^Q(ChO<<IaO!@XQ7[O<<IZO&%iQ(ChO<<IaO&%wQMmO7+'eO&'jQMmO7+'gO&)]Q,VOG26lOOQO<<M^<<M^OOQ(CWAN@vAN@vO$1qQ`OAN@vOOQ(CWAN@uAN@uOOQSLD,YLD,YOOQO<<Mi<<MiOOQSLD,uLD,uO#NaQ`OLD,YO&)mQMlO7+)yOOQO7+(d7+(dO5lQ(ChO7+(dO#6SQ`O7+(dO5bQ`O7+(dO!-OQ!bO7+(dO!@XQ7[O7+(dOOQSG27SG27SO%1bQ`OG27SOIWQ&jOG27SOOQSG27VG27VO5lQ(ChOG27VOOQSG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%3rQ(C|OAN>{O:aQ`OAN>uO){QdOAN>{O!-OQ!bOAN>uO&)wQ(ChOAN>{O&*SQ(C}OG26lOOQ(CWG26bG26bOOQS!$( t!$( tOOQO<<LO<<LOO5lQ(ChO<<LOO#6SQ`O<<LOO5bQ`O<<LOO!-OQ!bO<<LOOOQSLD,nLD,nO%1bQ`OLD,nOOQSLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%3rQ(C|OG24gO:aQ`OG24aO){QdOG24gO&,pQ!LRO,5:rO&-gQ$ITO'#IqOOQOANAjANAjO5lQ(ChOANAjO#6SQ`OANAjO5bQ`OANAjOOQS!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%3rQ(C|OLD*RO&.ZQMmOG26lO&/|Q!LRO,59jO&0pQ!LRO,5<UO&1dQ!LRO,5<WO&2WQ!LRO,5<fOOQOG27UG27UO5lQ(ChOG27UO#6SQ`OG27UOOQO!$'Mm!$'MmO&2}Q!LRO1G2[O&3qQ!LRO1G2^O&4eQ!LRO1G1yOOQOLD,pLD,pO5lQ(ChOLD,pO&5[Q!LRO7+'eO&6RQ!LRO7+'gOOQO!$(![!$(![O&6xQ!LROG26lOLbQdO'#DrO&7oQtO'#ItOLbQdO'#DjO&7vQ(C|O'#ChO&8aQtO'#ChO&8qQdO,5:vO&:qQ&jO'#EWOLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO'#IPO&<OQ`O,5<TO&=eQ&jO,5;ROLbQdO,5;fO!(wQ`O'#DOO!(wQ`O'#DOO!(wQ`O'#DOOIWQ&jO'#FjO&:qQ&jO'#FjO&<WQ&jO'#FjOIWQ&jO'#FlO&:qQ&jO'#FlO&<WQ&jO'#FlOIWQ&jO'#FzO&:qQ&jO'#FzO&<WQ&jO'#FzOLbQdO,5?mO&8qQdO1G0bO&=lQMlO'#ChOLbQdO1G1lOIWQ&jO,5<pO&:qQ&jO,5<pO&<WQ&jO,5<pOIWQ&jO,5<rO&:qQ&jO,5<rO&<WQ&jO,5<rOIWQ&jO,5<_O&:qQ&jO,5<_O&<WQ&jO,5<_O&8qQdO1G1mOLbQdO7+&iOIWQ&jO1G1yO&:qQ&jO1G1yO&<WQ&jO1G1yOIWQ&jO1G1{O&:qQ&jO1G1{O&<WQ&jO1G1{O&8qQdO7+'XO&8qQdO7+%|O&=vQ`O7+'pOIWQ&jOANAQO&:qQ&jOANAQO&<WQ&jOANAQO&=vQ`O<<K[O&=vQ`OAN@vO&={Q`O'#E[O&>QQ`O'#E[O&>YQ`O'#EzO&>_Q`O'#EgO&>dQ`O'#JRO&>oQ`O'#JPO&>zQ`O,5:vO&?PQ,VO,5<QO&?WQ`O'#FsO&?]Q`O'#FsO&?bQ`O'#FsO&?gQ`O,5<RO&?oQ`O,5:vO&?wQMlO1G0}O&@OQ`O,5<_O&@TQ`O,5<_O&@YQ`O,5<_O&@_Q`O,5<aO&@dQ`O,5<aO&@iQ`O,5<aO&@nQ`O1G1mO&@sQ`O1G0bO&@xQ`O1G2UO&@}Q,VO<<KfO&AUQ,VO<<KfO&A]Q,VO<<KfO&AdQqO7+'pO&AkQ`O7+'pO&ApQqO<<K[O4QQ&jO'#FhO5bQ`O'#FgOBzQ`O'#EZOLbQdO,5;cO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FuO!&WQ`O'#FuO!&WQ`O'#FuO&AwQ`O,5<jOJjQ&jO7+'zOJjQ&jO7+'zOJjQ&jO7+'zOIWQ&jO1G2UO&BPQ`O1G2UOIWQ&jO7+'pO!'VQ7[O'#GOO$/eQqO1G2`O$/eQqO1G2`O$/eQqO1G2`O!'VQ7[O,5<jOIWQ&jO,5<tOIWQ&jO,5<tOIWQ&jO,5<t",stateData:"&B}~O'YOS'ZOSTOSUOS~OQTORTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OQ[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOS!WO'U!XO'V!ZO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9bO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOQ'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']#pO'b$PO'f#sO'a'cP~O!d$ZO~O!]$]O~O_$^O'W$^O~O']$bO~O!d$ZO']$bO'^$dO'b$PO~Oc$jO!d$ZO']$bO~O#c#TO~O]$sOu$oO!T$lO!d$nO%R$rO']$bO'^$dO^(UP~O!n$tO~Ox$uO!T$vO']$bO~Ox$uO!T$vO%Z$zO']$bO~O']${O~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%UOc%TO!n%RO%P%SO%c%QO~P7xOb%XOcmO!T%WO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%[O!{%_O%R%YO'^$dO~P8wO!d%`O!g%dO~O!d%eO~O!TSO~O_$^O'T%mO'W$^O~O_$^O'T%pO'W$^O~O_$^O'T%rO'W$^O~OS!WO'U!XO'V%vO~OQ[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;dO!Q%xO!O&iX!O&nX!R&iX!R&nX~P'dO!R%zO!O'jX~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R%zO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>aO!O&PO~Ox&SO!W&^O!X&VO!Y&VO'^$dO~O]&TOk&TO!Q&WO'g&QO!S'kP!S'vP~P@dO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PA]O!{&_O!O'uX!R'uX~O!R&`O!O'tX~O!O&cO~O!{#eO~PA]OP&gO!T&dO!o&fO']$bO~Oc&lO!d$ZO']$bO~Ou$oO!d$nO~O!S&mO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOQ!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCfO!c&nO~O!]!wO!{&pO'p&oO!R'rX_'rX'W'rX~O!c'rX~PFOO!R&tO!c'qX~O!c&vO~Ox$uO!T$vO#V&wO']$bO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO']&{O'b$PO'f#sO~O#W&}O~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']&{O'b$PO'f#sO~O'a'mP~PJjO!Q'RO!c'nP~P){O'g'TO'oYO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'jO~PIWO!]'lO!T'yX#w'yX#z'yX$R'yX~Ou'mO~P! YOu'mO!T'yX#w'yX#z'yX$R'yX~O!T'oO#w'sO#z'nO$R'tO~O!Q'wO~PLbO#z#fO$R'zO~OP$eXu$eXx$eX!b$eX'w$eX'x$eX~OPfX!RfX!{fX'afX'a$eX~P!!rOk'|O~OS'}O'U(OO'V(QO~OP(ZOu(SOx(TO'w(VO'x(XO~O'a(RO~P!#{O'a([O~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~O!Q(`O'](]O!c'}P~P!$jO#W(bO~O!d(cO~O!Q(hO'](eO!O(OP~P!$jOj(uOx(mO!W(sO!X(lO!Y(lO!d(cO!x(tO$w(oO'^$dO'g(jO~O!S(rO~P!&jO!b!yOP'eXu'eXx'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'cOP(xO!{(wO!R'dX'a'dX~O!R(yO'a'cX~O']${O'a'cP~O'](|O~O!d)RO~O']&{O~Ox$uO!Q!rO!T$vO#U!uO#V!rO']$bO!c'qP~O!]!wO#W)VO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)wOP)_O!T&dO!o)^O%Q)]O'b$PO~O!])aO!T'`X_'`X!R'`X'W'`X~O!d$ZO'b$PO~O!d$ZO']$bO'b$PO~O!]!wO#W&}O~O])lO%R)mO'])iO!S(VP~O!R)nO^(UX~O'g'TO~OZ)rO~O^)sO~O!T$lO']$bO'^$dO^(UP~Ox$uO!Q)xO!R&`O!T$vO']$bO!O'tP~O]&ZOk&ZO!Q)yO'g'TO!S'vP~O!R)zO_(RX'W(RX~O!{*OO'b$PO~OP*RO!T#zO'b$PO~O!T*TO~Ou*VO!TSO~O!n*[O~Oc*aO~O'](|O!S(TP~Oc$jO~O%RtO']${O~P8wOZ*gO^*fO~OQTORTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9aO~P!1_O^*fO_$^O'W$^O~O_*kO#d*mO%T*mO%U*mO~P){O!d%`O~O%t*rO~O!T*tO~O&V*vO&X*wOQ&SaR&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*|O~On+PO~O!O&ia!R&ia~P!)wO!Q+TO!O&iX!R&iX~P){O!R%zO!O'ja~O!O'ja~P>aO!R&`O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+YO!{+XO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+[O!d$ZO'b$PO!R!VX!S!VX~O]&ROk&ROx&SO'g(jO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O'fQO'oYO'|;^O~O']:SO~P!;jO!R+`O!S'kX~O!S+bO~O!]+YO!{+XO!R#TX!S#TX~O!R+cO!S'vX~O!S+eO~O]&ROk&ROx&SO'^$dO'g(jO~O!X+fO!Y+fO~P!>hOx$uO!Q+hO!T$vO']$bO!O&nX!R&nX~O_+lO!W+oO!X+kO!Y+kO!r+sO!s+qO!t+rO!u+pO!x+tO'^$dO'g(jO'o+iO~O!S+nO~P!?iOP+yO!T&dO!o+xO~O!{,PO!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@sO!R&tO!c'qa~Ox$uO!Q,SO!T$vO#U,UO#V,SO']$bO!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)wOP;tOu(SOx(TO'w(VO'x(XO~O#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!BpO#W'eXQ'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX'p'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'cO!R,_O'a'mX~P!#{O'a,aO~O!R,bO!c'nX~P!)wO!c,eO~O!O,fO~OQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!FfO#[#PO~P!FfOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!IQOj#RO~P!IQOQ#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!KlOZ#dO!a#TO#a#TO#b#TO#c#TO~P!KlOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!NdO'w!}O~P!NdOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P##OO'x#OO~P##OOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#%jOQ[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#'}OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO#j9oO'fQO'p#[O'w!}O'x#OO~O#m,hO~P#*XOQ'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9sO#o9sO#c'iX#m'iX!S'iX~P#,SO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)wOQ#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!BpO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)wO#z,jO~O#z,kO~O!]'lO!{,lO!T$OX#w$OX#z$OX$R$OX~O!Q,mO~O!T'oO#w,oO#z'nO$R,pO~O!R9pO!S'hX~P#*XO!S,qO~O$R,sO~OS'}O'U(OO'V,vO~O],yOk,yO!O,zO~O!RdX!]dX!cdX!c$eX'pdX~P!!rO!c-QO~P!BpO!R-RO!]!wO'p&oO!c'}X~O!c-WO~O!Q(`O']$bO!c'}P~O#W-YO~O!O$eX!R$eX!]$lX~P!!rO!R-ZO!O(OX~P!BpO!]-]O~O!O-_O~Oj-cO!]!wO!d$ZO'b$PO'p&oO~O!])aO~O_$^O!R-hO'W$^O~O!S-jO~P!&jO!X-kO!Y-kO'^$dO'g(jO~Ox-mO'g(jO~O!x-nO~O']${O!R&xX'a&xX~O!R(yO'a'ca~O'a-sO~Ou-tOv-tOx-uOPra'wra'xra!Rra!{ra~O'ara#mra~P#7pOu(SOx(TOP$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#8fOu(SOx(TOP$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#9XO]-vO~O#W-wO~O'a$na!R$na!{$na#m$na~P!#{O#W-zO~OP.TO!T&dO!o.SO%Q.RO~O]#qOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~Oh.VO'].UO~P#:yO!])aO!T'`a_'`a!R'`a'W'`a~O#W.]O~OZ[X!RdX!SdX~O!R.^O!S(VX~O!S.`O~OZ.aO~O].cO'])iO~O!T$lO']$bO^'QX!R'QX~O!R)nO^(Ua~O!c.fO~P!)wO].hO~OZ.iO~O^.jO~OP.TO!T&dO!o.SO%Q.RO'b$PO~O!R)zO_(Ra'W(Ra~O!{.pO~OP.sO!T#zO~O'g'TO!S(SP~OP.}O!T.yO!o.|O%Q.{O'b$PO~OZ/XO!R/VO!S(TX~O!S/YO~O^/[O_$^O'W$^O~O]/]O~O]/^O'](|O~O#c/_O%r/`O~P0zO!{#eO#c/_O%r/`O~O_/aO~P){O_/cO~O%{/gOQ%yiR%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/mO!S/kO&Q/lO~P`O!TSO!d/oO~O&X*wOQ&SiR&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)wO!R%zO!O'ji~O!R&`O!O'ti~O!O/uO~O!R!Va!S!Va~P#*XO]&ROk&RO!Q/{O'g(jO!R&jX!S&jX~P@dO!R+`O!S'ka~O]&ZOk&ZO!Q)yO'g'TO!R&oX!S&oX~O!R+cO!S'va~O!O'ui!R'ui~P!)wO_$^O!]!wO!d$ZO!j0VO!{0TO'W$^O'b$PO'p&oO~O!S0YO~P!?iO!X0ZO!Y0ZO'^$dO'g(jO'o+iO~O!W0[O~P#MSO!TSO!W0[O!u0^O!x0_O~P#MSO!W0[O!s0aO!t0aO!u0^O!x0_O~P#MSO!T&dO~O!T&dO~P!BpO!R'ri!c'ri_'ri'W'ri~P!)wO!{0jO!R'ri!c'ri_'ri'W'ri~O!R&tO!c'qi~Ox$uO!T$vO#V0lO']$bO~O#WraQraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra'pra!cra!Ora!Tranra%Qra!]ra~P#7pO#W$^aQ$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a'p$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#8fO#W$`aQ$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a'p$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#9XO#W$naQ$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na'p$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!BpO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)wO!R&kX'a&kX~PJjO!R,_O'a'ma~O!Q0tO!R&lX!c&lX~P){O!R,bO!c'na~O!R,bO!c'na~P!)wO#m!fa!S!fa~PCfO#m!^a!R!^a!S!^a~P#*XO!T1XO#x^O$P1YO~O!S1^O~On1_O~P!BpO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)wO!O1`O~O],yOk,yO~Ou(SOx(TO'x(XOP$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$.POu(SOx(TOP$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$.rO'p#[O~P!BpO!Q1cO']$bO!R&tX!c&tX~O!R-RO!c'}a~O!R-RO!]!wO!c'}a~O!R-RO!]!wO'p&oO!c'}a~O'a$gi!R$gi!{$gi#m$gi~P!#{O!Q1kO'](eO!O&vX!R&vX~P!$jO!R-ZO!O(Oa~O!R-ZO!O(Oa~P!BpO!]!wO~O!]!wO#c1sO~Oj1vO!]!wO'p&oO~O!R'di'a'di~P!#{O!{1yO!R'di'a'di~P!#{O!c1|O~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)wO!R2QO!T(PX~P!BpO!T&dO%Q2TO~O!T&dO%Q2TO~P!BpO!T$eX$u[X_$eX!R$eX'W$eX~P!!rO$u2XOPgXugXxgX!TgX'wgX'xgX_gX!RgX'WgX~O$u2XO~O]2_O%R2`O'])iO!R'PX!S'PX~O!R.^O!S(Va~OZ2dO~O^2eO~O]2hO~OP2jO!T&dO!o2iO%Q2TO~O_$^O'W$^O~P!BpO!T#zO~P!BpO!R2oO!{2qO!S(SX~O!S2rO~Ox;oO!W2{O!X2tO!Y2tO!r2zO!s2yO!t2yO!x2xO'^$dO'g(jO'o+iO~O!S2wO~P$7ZOP3SO!T.yO!o3RO%Q3QO~OP3SO!T.yO!o3RO%Q3QO'b$PO~O'](|O!R'OX!S'OX~O!R/VO!S(Ta~O]3^O'g3]O~O]3_O~O^3aO~O!c3dO~P){O_3fO~O_3fO~P){O#c3hO%r3iO~PFOO`/mO!S3mO&Q/lO~P`O!]3oO~O!R#Ti!S#Ti~P#*XO!{3qO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#*XO_$^O!{3xO'W$^O~O_$^O!]!wO!{3xO'W$^O~O!X3|O!Y3|O'^$dO'g(jO'o+iO~O_$^O!]!wO!d$ZO!j3}O!{3xO'W$^O'b$PO'p&oO~O!W4OO~P$;xO!W4OO!u4RO!x4SO~P$;xO_$^O!]!wO!j3}O!{3xO'W$^O'p&oO~O!R'rq!c'rq_'rq'W'rq~P!)wO!R&tO!c'qq~O#W$xiQ$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi'p$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$.PO#W$ziQ$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi'p$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$.rO#W$giQ$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi'p$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!BpO!R&ka'a&ka~P!#{O!R&la!c&la~P!)wO!R,bO!c'ni~O#m#Oi!R#Oi!S#Oi~P#*XOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$EiO#[9eO~P$EiOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$GqOj9gO~P$GqOQ#^Oj9gOu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$IyOZ9rO!a9iO#a9iO#b9iO#c9iO~P$IyOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$L_O'w!}O~P$L_OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$NgO'x#OO~P$NgOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P%!oO_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)wOP;vOu(SOx(TO'w(VO'x(XO~OQ#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi'p#Zi!R#Zi!S#Zi~P%%aO!b!yOP'eXu'eXx'eX'w'eX'x'eX!S'eX~OQ'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX'p'eX!R'eX~P%'eO#m#ni!R#ni!S#ni~P#*XO!S4eO~O!R&sa!S&sa~P#*XO!]!wO'p&oO!R&ta!c&ta~O!R-RO!c'}i~O!R-RO!]!wO!c'}i~O'a$gq!R$gq!{$gq#m$gq~P!#{O!O&va!R&va~P!BpO!]4lO~O!R-ZO!O(Oi~P!BpO!R-ZO!O(Oi~O!O4pO~O!]!wO#c4uO~Oj4vO!]!wO'p&oO~O!O4xO~O'a$iq!R$iq!{$iq#m$iq~P!#{O_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)wO!R2QO!T(Pa~O!T&dO%Q4}O~O!T&dO%Q4}O~P!BpO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)wOZ5QO~O]5SO'])iO~O!R.^O!S(Vi~O]5VO~O^5WO~O'g'TO!R&{X!S&{X~O!R2oO!S(Sa~O!S5eO~P$7ZOx;sO'g(jO'o+iO~O!W5hO!X5gO!Y5gO!x0_O'^$dO'g(jO'o+iO~O!s5iO!t5iO~P%0^O!X5gO!Y5gO'^$dO'g(jO'o+iO~O!T.yO~O!T.yO%Q5kO~O!T.yO%Q5kO~P!BpOP5pO!T.yO!o5oO%Q5kO~OZ5uO!R'Oa!S'Oa~O!R/VO!S(Ti~O]5xO~O!c5yO~O!c5zO~O!c5{O~O!c5{O~P){O_5}O~O!]6QO~O!c6RO~O!R'ui!S'ui~P#*XO_$^O'W$^O~P!)wO_$^O!{6WO'W$^O~O_$^O!]!wO!{6WO'W$^O~O!X6]O!Y6]O'^$dO'g(jO'o+iO~O_$^O!]!wO!j6^O!{6WO'W$^O'p&oO~O!d$ZO'b$PO~P%4xO!W6_O~P%4gO!R'ry!c'ry_'ry'W'ry~P!)wO#W$gqQ$gqZ$gq_$gqj$gqv$gq!R$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq'W$gq'f$gq'p$gq!c$gq!O$gq!T$gq!{$gqn$gq%Q$gq!]$gq~P!BpO#W$iqQ$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq'p$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!BpO!R&li!c&li~P!)wO#m#Oq!R#Oq!S#Oq~P#*XOu-tOv-tOx-uOPra'wra'xra!Sra~OQraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra'pra!Rra~P%;OOu(SOx(TOP$^a'w$^a'x$^a!S$^a~OQ$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a'p$^a!R$^a~P%=SOu(SOx(TOP$`a'w$`a'x$`a!S$`a~OQ$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a'p$`a!R$`a~P%?WOQ$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na'p$na!R$na!S$na~P%%aO#m$Yq!R$Yq!S$Yq~P#*XO#m$Zq!R$Zq!S$Zq~P#*XO!S6hO~O#m6iO~P!#{O!]!wO!R&ti!c&ti~O!]!wO'p&oO!R&ti!c&ti~O!R-RO!c'}q~O!O&vi!R&vi~P!BpO!R-ZO!O(Oq~O!O6oO~P!BpO!O6oO~O!R'dy'a'dy~P!#{O!R&ya!T&ya~P!BpO!T$tq_$tq!R$tq'W$tq~P!BpOZ6vO~O!R.^O!S(Vq~O]6yO~O!T&dO%Q6zO~O!T&dO%Q6zO~P!BpO!{6{O!R&{a!S&{a~O!R2oO!S(Si~P#*XO!X7RO!Y7RO'^$dO'g(jO'o+iO~O!W7TO!x4SO~P%GXO!T.yO%Q7WO~O!T.yO%Q7WO~P!BpO]7_O'g7^O~O!R/VO!S(Tq~O!c7aO~O!c7aO~P){O!c7cO~O!c7dO~O!R#Ty!S#Ty~P#*XO_$^O!{7jO'W$^O~O_$^O!]!wO!{7jO'W$^O~O!X7mO!Y7mO'^$dO'g(jO'o+iO~O_$^O!]!wO!j7nO!{7jO'W$^O'p&oO~O#m#ky!R#ky!S#ky~P#*XOQ$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi'p$gi!R$gi!S$gi~P%%aOu(SOx(TO'x(XOP$xi'w$xi!S$xi~OQ$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi'p$xi!R$xi~P%LjOu(SOx(TOP$zi'w$zi'x$zi!S$zi~OQ$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi'p$zi!R$zi~P%NnO#m$Zy!R$Zy!S$Zy~P#*XO#m#Oy!R#Oy!S#Oy~P#*XO!]!wO!R&tq!c&tq~O!R-RO!c'}y~O!O&vq!R&vq~P!BpO!O7tO~P!BpO!R.^O!S(Vy~O!R2oO!S(Sq~O!X8QO!Y8QO'^$dO'g(jO'o+iO~O!T.yO%Q8TO~O!T.yO%Q8TO~P!BpO!c8WO~O_$^O!{8]O'W$^O~O_$^O!]!wO!{8]O'W$^O~OQ$gqZ$gqj$gqv$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq#m$gq'f$gq'p$gq!R$gq!S$gq~P%%aOQ$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq'p$iq!R$iq!S$iq~P%%aO'a$|!Z!R$|!Z!{$|!Z#m$|!Z~P!#{O!R&{q!S&{q~P#*XO_$^O!{8oO'W$^O~O#W$|!ZQ$|!ZZ$|!Z_$|!Zj$|!Zv$|!Z!R$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z'W$|!Z'f$|!Z'p$|!Z!c$|!Z!O$|!Z!T$|!Z!{$|!Zn$|!Z%Q$|!Z!]$|!Z~P!BpOP;uOu(SOx(TO'w(VO'x(XO~O!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P&,_O!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%'eOQ$|!ZZ$|!Zj$|!Zv$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z#m$|!Z'f$|!Z'p$|!Z!R$|!Z!S$|!Z~P%%aO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%;OO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%=SO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%?WO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P&,_O!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%LjO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%NnO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P&,_O!S$gq!W$gq!X$gq!Y$gq!r$gq!s$gq!t$gq!x$gq'^$gq'g$gq'o$gq~P&,_O!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P&,_O!S$|!Z!W$|!Z!X$|!Z!Y$|!Z!r$|!Z!s$|!Z!t$|!Z!x$|!Z'^$|!Z'g$|!Z'o$|!Z~P&,_On'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;dOQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!TSO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O]#qOh$QOj#rOk#qOl#qOq$ROs9uOx#yO!T#zO!_;fO!d#vO#V:OO#t$VO$_9xO$a9{O$d$WO']&{O'b$PO'f#sO~O!R9pO!S$]a~O]#qOh$QOj#rOk#qOl#qOq$ROs9vOx#yO!T#zO!_;gO!d#vO#V:PO#t$VO$_9yO$a9|O$d$WO']&{O'b$PO'f#sO~O#d'jO~P&<WO!S[X!SdX~P;dO!]9dO~O#W9cO~O!]!wO#W9cO~O!{9sO~O#c9iO~O!{:QO!R'uX!S'uX~O!{9sO!R'sX!S'sX~O#W:RO~O'a:TO~P!#{O#W:[O~O#W:]O~O#W:^O~O!]!wO#W:_O~O!]!wO#W:RO~O#m:`O~P#*XO#W:aO~O#W:bO~O#W:cO~O#W:dO~O#W:eO~O#W:fO~O#W:gO~O#W:hO~O!O:iO~O#m:jO~P!#{O#m:kO~P!#{O#m:lO~P!#{O!O:mO~P!BpO!O:mO~O!O:nO~P!BpO!]!wO#c;lO~O!]!wO#c;nO~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Kk(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s7o8SP8SPPP8SP:U8SP8SP:YPP:`P:t?VPPPP?ZPPPP?ZA{PPPBRDdP?ZPFwPPPPHp?ZPPPPPJi?ZPPMjNgPPPPNk!!TP!!]!#^PNg?Z?Z!&n!)i!.[!.[!1kPPP!1r!4h?ZPPPPPPPPPP!7_P!8pPP?Z!9}P?ZP?Z?Z?Z?ZP?Z!;dPP!>]P!AQ!AY!A^!A^P!>YP!Ab!AbP!DVP!DZ?Z?Z!Da!GT8SP8SP8S8SP!HW8S8S!Jf8S!M_8S# g8S8S#!T#$c#$c#$g#$c#$oP#$cP8S#%k8S#'X8S8S-zPPP#(yPP#)c#)cP#)cP#)x#)cPP#*OP#)uP#)u#*b!!X#)u#+P#+V#+Y([#+]([P#+d#+d#+dP([P([P([P([PP([P#+j#+mP#+m([P#+qP#+tP([P([P([P([P([P([([#+z#,U#,[#,b#,p#,v#,|#-W#-^#-m#-s#.R#.X#._#.m#/S#0z#1Y#1`#1f#1l#1r#1|#2S#2Y#2d#2v#2|PPPPPPPP#3SPP#3v#7OPP#8f#8m#8uPP#>a#@t#Fp#Fs#Fv#GR#GUPP#GX#G]#Gz#Hq#Hu#IZPP#I_#Ie#IiP#Il#Ip#Is#Jc#Jy#KO#KR#KU#K[#K_#Kc#KgmhOSj}!n$]%c%f%g%i*o*t/g/jQ$imQ$ppQ%ZyS&V!b+`Q&k!jS(l#z(qQ)g$jQ)t$rQ*`%TQ+f&^S+k&d+mQ+}&lQ-k(sQ/U*aY0Z+o+p+q+r+sS2t.y2vU3|0[0^0aU5g2y2z2{S6]4O4RS7R5h5iQ7m6_R8Q7T$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ(}$SQ)l$lQ*b%WQ*i%`Q,X9tQ.W)aQ.c)mQ/^*gQ2_.^Q3Z/VQ4^9vQ5S2`R8{9upeOSjy}!n$]%Y%c%f%g%i*o*t/g/jR*d%[&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%z&S&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;`;a[!cRU!]!`%x&WQ$clQ$hmS$mp$rv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ%PwQ&h!iQ&j!jS(_#v(cS)f$i$jQ)j$lQ)w$tQ*Z%RQ*_%TS+|&k&lQ-V(`Q.[)gQ.b)mQ.d)nQ.g)rQ/P*[S/T*`*aQ0h+}Q1b-RQ2^.^Q2b.aQ2g.iQ3Y/UQ4i1cQ5R2`Q5U2dQ6u5QR7w6vx#xa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k!Y$fm!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^Q)`$cQ*P$|Q*S$}Q*^%TQ.k)wQ/O*ZU/S*_*`*aQ3T/PS3X/T/UQ5b2sQ5t3YS7P5c5fS8O7Q7SQ8f8PQ8u8g#[;b!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd;c9d9x9{:O:V:Y:]:b:e:ke;d9r9y9|:P:W:Z:^:c:f:lW#}a$P(y;^S$|t%YQ$}uQ%OvR)}$z%P#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vT(O#s(PX)O$S9t9u9vU&Z!b$v+cQ'U!{Q)q$oQ.t*TQ1z-tR5^2o&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a$]#aZ!_!o$a%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,i,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|T!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ&X!bR/|+`Y&R!b&V&^+`+fS(k#z(qS+j&d+mS-d(l(sQ-e(mQ-l(tQ.v*VU0W+k+o+pU0]+q+r+sS0b+t2xQ1u-kQ1w-mQ1x-nS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mQ8g8QQ;h;oR;m;slhOSj}!n$]%c%f%g%i*o*t/g/jQ%k!QS&x!v9cQ)d$gQ*X%PQ*Y%QQ+z&iS,]&}:RS-y)V:_Q.Y)eQ.x*WQ/n*vQ/p*wQ/x+ZQ0`+qQ0f+{S2P-z:gQ2Y.ZS2].]:hQ3r/zQ3u0RQ4U0gQ5P2ZQ6T3tQ6X3zQ6a4VQ7e6RQ7h6YQ8Y7iQ8l8[R8x8n$W#`Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|W(v#{&|1V8qT)Z$a,i$W#_Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|Q'f#`S)Y$a,iR-{)Z&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ%f{Q%g|Q%i!OQ%j!PR/f*rQ&e!iQ)[$cQ+w&hS.Q)`)wS0c+u+vW2S-}.O.P.kS4T0d0eU4|2U2V2WU6s4{5Y5ZQ7v6tR8b7yT+l&d+mS+j&d+mU0W+k+o+pU0]+q+r+sS0b+t2xS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mR8g8QS+l&d+mT2u.y2vS&r!q/dQ-U(_Q-b(kS0V+j2sQ1g-VS1p-c-lU3}0]0b5fQ4h1bS4s1v1xU6^4P4Q7SQ6k4iQ6r4vR7n6`Q!xXS&q!q/dQ)W$[Q)b$eQ)h$kQ,Q&rQ-T(_Q-a(kQ-f(nQ.X)cQ/Q*]S0U+j2sS1f-U-VS1o-b-lQ1r-eQ1t-gQ3V/RW3y0V0]0b5fQ4g1bQ4k1gS4o1p1xQ4t1wQ5r3WW6[3}4P4Q7SS6j4h4iS6n4p:iQ6p4sQ6}5aQ7[5sS7l6^6`Q7r6kS7s6o:mQ7u6rQ7|7OQ8V7]Q8_7nS8a7t:nQ8d7}Q8s8eQ9Q8tQ9X9RQ:u:pQ;T:zQ;U:{Q;V;hR;[;m$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oS!xn!k!j:o#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:u;`$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ$[b!Y$em!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^S$kn!kQ)c$fQ*]%TW/R*^*_*`*aU3W/S/T/UQ5a2sS5s3X3YU7O5b5c5fQ7]5tU7}7P7Q7SS8e8O8PS8t8f8gQ9R8u!j:p#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ:z;_R:{;`$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oY!hRU!]!`%xv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ*j%`!h:q#]#k'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:t&WS&[!b$vR0O+c$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR*i%`$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ'U!{!k:r#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a!h#VZ!_$a%w%}&y'Q'_'`'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_!R9k'd'u+^,i/v/y0w1P1Q1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!d#XZ!_$a%w%}&y'Q'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_}9m'd'u+^,i/v/y0w1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!`#]Z!_$a%w%}&y'Q'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_Q1a-Px;a'd'u+^,i/v/y0w1W1]3s4]4b4c5`6S6b6f6g7z:|Q;i;pQ;j;qR;k;r&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#l`#mR1Y,l&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#g^#nT'n#i'rT#h^#nT'p#i'r&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aT#l`#mQ#o`R'y#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!k;_#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a#RdOSUj}!S!W!n!|#k$]%[%_%`%c%e%f%g%i%m&S&f'w)^*k*o*t+x,m-u.S.|/_/`/a/c/g/j/l1X2i3R3f3h3i5o5}x#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vQ)S$WQ,x(Sd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:kx#wa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;kQ(d#xS(n#z(qQ)T$XQ-g(o#[:w!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd:x9d9x9{:O:V:Y:]:b:e:kd:y9r9y9|:P:W:Z:^:c:f:lQ:};bQ;O;cQ;P;dQ;Q;eQ;R;fR;S;gx#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:klfOSj}!n$]%c%f%g%i*o*t/g/jQ(g#yQ*}%pQ+O%rR1j-Z%O#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vQ*Q$}Q.r*SQ2m.qR5]2nT(p#z(qS(p#z(qT2u.y2vQ)b$eQ-f(nQ.X)cQ/Q*]Q3V/RQ5r3WQ6}5aQ7[5sQ7|7OQ8V7]Q8d7}Q8s8eQ9Q8tR9X9Rp(W#t'O)U-X-o-p0q1h1}4f4w7q:v;W;X;Y!n:U&z'i(^(f+v,[,t-P-^-|.P.o.q0e0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r[:V8p9O9V9Y9Z9]]:W1U4a6c7o7p8zr(Y#t'O)U,}-X-o-p0q1h1}4f4w7q:v;W;X;Y!p:X&z'i(^(f+v,[,t-P-^-|.P.o.q0e0n0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r^:Y8p9O9T9V9Y9Z9]_:Z1U4a6c6d7o7p8zpeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ%VxR*k%`peOSjy}!n$]%Y%c%f%g%i*o*t/g/jR%VxQ*U%OR.n)}qeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ.z*ZS3P/O/PW5j2|2}3O3TU7V5l5m5nU8R7U7X7YQ8h8SR8v8iQ%^yR*e%YR3^/XR7_5uS$mp$rR.d)nQ%czR*o%dR*u%jT/h*t/jR*y%kQ*x%kR/q*yQjOQ!nST$`j!nQ(P#sR,u(PQ!YQR%u!YQ!^RU%{!^%|+UQ%|!_R+U%}Q+a&XR/}+aQ,`'OR0r,`Q,c'QS0u,c0vR0v,dQ+m&dR0X+mS!eR$uU&a!e&b+VQ&b!fR+V&OQ+d&[R0P+dQ&u!sQ,R&sU,V&u,R0mR0m,WQ'r#iR,n'rQ#m`R'x#mQ#cZU'h#c+Q9qQ+Q9_R9q'uQ-S(_W1d-S1e4j6lU1e-T-U-VS4j1f1gR6l4k$k(U#t&z'O'i(^(f)P)Q)U+v,Y,Z,[,t,}-O-P-X-^-o-p-|.P.o.q0e0n0o0p0q1U1h1i1m1}2W2l2n3O4Y4Z4_4`4a4f4m4q4w4y5O5Z5n6c6d6e6m6q7Y7o7p7q8`8p8z8|8}9O9T9U9V9Y9Z9]:v;W;X;Y;Z;];p;q;rQ-[(fU1l-[1n4nQ1n-^R4n1mQ(q#zR-i(qQ(z$OR-r(zQ2R-|R4z2RQ){$xR.m){Q2p.tS5_2p6|R6|5`Q*W%PR.w*WQ2v.yR5d2vQ/W*bS3[/W5vR5v3^Q._)jW2a._2c5T6wQ2c.bQ5T2bR6w5UQ)o$mR.e)oQ/j*tR3l/jWiOSj!nQ%h}Q)X$]Q*n%cQ*p%fQ*q%gQ*s%iQ/e*oS/h*t/jR3k/gQ$_gQ%l!RQ%o!TQ%q!UQ%s!VQ)v$sQ)|$yQ*d%^Q*{%nQ-h(pS/Z*e*hQ/r*zQ/s*}Q/t+OS0S+j2sQ2f.hQ2k.oQ3U/QQ3`/]Q3j/fY3w0U0V0]0b5fQ5X2hQ5[2lQ5q3VQ5w3_[6U3v3y3}4P4Q7SQ6x5VQ7Z5rQ7`5xW7f6V6[6^6`Q7x6yQ7{6}Q8U7[U8X7g7l7nQ8c7|Q8j8VS8k8Z8_Q8r8dQ8w8mQ9P8sQ9S8yQ9W9QR9[9XQ$gmQ&i!jU)e$h$i$jQ+Z&UU+{&j&k&lQ-`(kS.Z)f)gQ/z+]Q0R+jS0g+|+}Q1q-dQ2Z.[Q3t0QS3z0W0]Q4V0hQ4r1uS6Y3{4QQ7i6ZQ8[7kR8n8^S#ua;^R({$PU$Oa$P;^R-q(yQ#taS&z!w)aQ'O!yQ'i#dQ(^#vQ(f#yQ)P$TQ)Q$UQ)U$YQ+v&gQ,Y9wQ,Z9zQ,[9}Q,t'}Q,}(WQ-O(YQ-P(ZQ-X(bQ-^(hQ-o(wQ-p(xd-|)].R.{2T3Q4}5k6z7W8TQ.P)_Q.o*OQ.q*RQ0e+yQ0n:UQ0o:XQ0p:[Q0q,_Q1U9rQ1h-YQ1i-ZQ1m-]Q1}-wQ2W.TQ2l.pQ2n.sQ3O.}Q4Y:aQ4Z:dQ4_9yQ4`9|Q4a:PQ4f1aQ4m1kQ4q1sQ4w1yQ4y2QQ5O2XQ5Z2jQ5n3SQ6c:^Q6d:WQ6e:ZQ6m4lQ6q4uQ7Y5pQ7o:cQ7p:fQ7q6iQ8`:jQ8p9dQ8z:lQ8|9xQ8}9{Q9O:OQ9T:VQ9U:YQ9V:]Q9Y:bQ9Z:eQ9]:kQ:v;^Q;W;iQ;X;jQ;Y;kQ;Z;lQ;];nQ;p;tQ;q;uR;r;vlgOSj}!n$]%c%f%g%i*o*t/g/jS!pU%eQ%n!SQ%t!WQ'V!|Q'v#kS*h%[%_Q*l%`Q*z%mQ+W&SQ+u&fQ,r'wQ.O)^Q/b*kQ0d+xQ1[,mQ1{-uQ2V.SQ2}.|Q3b/_Q3c/`Q3e/aQ3g/cQ3n/lQ4d1XQ5Y2iQ5m3RQ5|3fQ6O3hQ6P3iQ7X5oR7b5}!vZOSUj}!S!n!|$]%[%_%`%c%e%f%g%i%m&S&f)^*k*o*t+x-u.S.|/_/`/a/c/g/j/l2i3R3f3h3i5o5}Q!_RQ!oTQ$akS%w!]%zQ%}!`Q&y!vQ'Q!zQ'W#PQ'X#QQ'Y#RQ'Z#SQ'[#TQ']#UQ'^#VQ'_#WQ'`#XQ'a#YQ'b#ZQ'd#]Q'g#bQ'k#eW'u#k'w,m1XQ)p$nS+R%x+TS+^&W/{Q+g&_Q,O&pQ,^&}Q,d'RQ,g9^Q,i9`Q,w(RQ-x)VQ/v+XQ/y+[Q0i,PQ0s,bQ0w9cQ0x9eQ0y9fQ0z9gQ0{9hQ0|9iQ0}9jQ1O9kQ1P9lQ1Q9mQ1R9nQ1S9oQ1T,hQ1W9sQ1]9pQ2O-zQ2[.]Q3s:QQ3v0TQ4W0jQ4[0tQ4]:RQ4b:TQ4c:_Q5`2qQ6S3qQ6V3xQ6b:`Q6f:gQ6g:hQ7g6WQ7z6{Q8Z7jQ8m8]Q8y8oQ9_!WR:|;aR!aRR&Y!bS&U!b+`S+]&V&^R0Q+fR'P!yR'S!zT!tU$ZS!sU$ZU$xrs*mS&s!r!uQ,T&tQ,W&wQ.l)zS0k,S,UR4X0l`!dR!]!`$u%x&`)x+hh!qUrs!r!u$Z&t&w)z,S,U0lQ/d*mQ/w+YQ3p/oT:s&W)yT!gR$uS!fR$uS%y!]&`S&O!`)xS+S%x+hT+_&W)yT&]!b$vQ#i^R'{#nT'q#i'rR1Z,lT(a#v(cR(i#yQ-})]Q2U.RQ2|.{Q4{2TQ5l3QQ6t4}Q7U5kQ7y6zQ8S7WR8i8TlhOSj}!n$]%c%f%g%i*o*t/g/jQ%]yR*d%YV$yrs*mR.u*TR*c%WQ$qpR)u$rR)k$lT%az%dT%bz%dT/i*t/j",nodeNames:"⚠ extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:iO,nodeProps:[["closedBy",4,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[uO],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T)X(rZ$UW]#eOY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j)X*{R$P&j$UW]#eO!^%T!_#o%T#p~%T)P+ZV]#eOY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U)P+wO$P&j]#e)P+zROr+Urs,Ts~+U)P,[U$P&j]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e,sU]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e-[O]#e#e-_PO~,n)X-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k)X.VZ$P&j$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/PZ$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/yR$UW]#eO!^%T!_#o%T#p~%T#m0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x3]0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`3]1g]$UW'o3TOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T5b5lU'x5Y$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T)X6jZ$UW]#eOY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w)P8YV]#eOY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T)P8rROw8Twx8{x~8T)P9SU$P&j]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e9kU]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e:QPO~9f)X:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c)X:xZ$P&j$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m;rZ$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k&i=QR!d&a$UWO!^%T!_#o%T#p~%Tk=bR!cc$UWO!^%T!_#o%T#p~%T7V=tU'^4V#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T%w>rSj%o$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu5^$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%T!{@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%T!{@iR!Q!s$UWO!^%T!_#o%T#p~%T!{@yZ$UWk!sO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%T!{AqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{BiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{CVV$UWk!sO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du!{!0cd$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%T!{!1x_$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%T!{!3OR$UWk!sO!^%T!_#o%T#p~%T!{!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%T!{!3}Y$UWk!sO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%T!{!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%T!{!5`X$UWk!sO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%T!{!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%T!{!6z]$UWk!sO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T$u!7|R!]V$UW#m$fO!^%T!_#o%T#p~%T!q!8^R_!i$UWO!^%T!_#o%T#p~%T5w!8rR'bd!a/n#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v$u!9kT!{$m$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%V!:gT'a!R#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T*a!<YV'p#{$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T*[!<vRv*S$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%Tk!={R!Oc$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$a!>pR$UW'f$XO!^%T!_#o%T#p~%T~!?OO!T~5b!?VT'w5Y$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T6X!?oR!S5}nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']$y'g3SOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[hO,aO,lO,cO,0,1,2,3,4,5,6,7,8,9,sO],topRules:{Script:[0,7]},dialects:{jsx:12107,ts:12109},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:e=>dO[e]||-1},{term:299,get:e=>fO[e]||-1},{term:63,get:e=>pO[e]||-1}],tokenPrec:12130}),mO=[Rf("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Rf("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Rf("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Rf("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Rf("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),Rf("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),Rf("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),Rf("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),Rf("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Rf('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Rf('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],OO=new qa,bO=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function vO(e){return(t,r)=>{let n=t.node.getChild("VariableDefinition");return n&&r(n,e),!0}}const xO=["FunctionDeclaration"],wO={FunctionDeclaration:vO("function"),ClassDeclaration:vO("class"),ClassExpression:()=>!0,EnumDeclaration:vO("constant"),TypeAliasDeclaration:vO("type"),NamespaceDeclaration:vO("namespace"),VariableDefinition(e,t){e.matchContext(xO)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function kO(e,t){let r=OO.get(t);if(r)return r;let n=[],o=!0;function i(t,r){let o=e.sliceString(t.from,t.to);n.push({label:o,type:r})}return t.cursor(Ca.IncludeAnonymous).iterate((t=>{if(o)o=!1;else if(t.name){let e=wO[t.name];if(e&&e(t,i)||bO.has(t.name))return!1}else if(t.to-t.from>8192){for(let r of kO(e,t.node))n.push(r);return!1}})),OO.set(t,n),n}const yO=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,QO=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function SO(e){let t=Ll(e.state).resolveInner(e.pos,-1);if(QO.indexOf(t.name)>-1)return null;let r=t.to-t.from<20&&yO.test(e.state.sliceDoc(t.from,t.to));if(!r&&!e.explicit)return null;let n=[];for(let r=t;r;r=r.parent)bO.has(r.name)&&(n=n.concat(kO(e.state.doc,r)));return{options:n,from:r?t.from:e.pos,validFor:yO}}const CO=Xl.define({parser:gO.configure({props:[oc.add({IfStatement:dc({except:/^\s*({|else\b)/}),TryStatement:dc({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,r=/^\s*\}/.test(t),n=/^\s*(case|default)\b/.test(t);return e.baseIndent+(r?0:n?1:2)*e.unit},Block:hc({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":dc({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),pc.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":gc,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),$O=CO.configure({dialect:"ts"}),TO=CO.configure({dialect:"jsx"}),_O=CO.configure({dialect:"jsx ts"}),PO="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map((e=>({label:e,type:"keyword"})));function RO(e={}){let t=e.jsx?e.typescript?_O:TO:e.typescript?$O:CO;return new Hl(t,[CO.data.of({autocomplete:(r=QO,n=Xd(mO.concat(PO)),e=>{for(let t=Ll(e.state).resolveInner(e.pos,-1);t;t=t.parent)if(r.indexOf(t.name)>-1)return null;return n(e)})}),CO.data.of({autocomplete:SO}),e.jsx?MO:[]]);var r,n}function AO(e,t,r=e.length){if(!t)return"";let n=t.getChild("JSXIdentifier");return n?e.sliceString(n.from,Math.min(n.to,r)):""}const zO="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),MO=Di.inputHandler.of(((e,t,r,n)=>{if((zO?e.composing:e.compositionStarted)||e.state.readOnly||t!=r||">"!=n&&"/"!=n||!CO.isActiveAt(e.state,t,-1))return!1;let{state:o}=e,i=o.changeByRange((e=>{var t,r,i;let s,{head:a}=e,l=Ll(o).resolveInner(a,-1);if("JSXStartTag"==l.name&&(l=l.parent),">"==n&&"JSXFragmentTag"==l.name)return{range:Xe.cursor(a+1),changes:{from:a,insert:"><>"}};if(">"==n&&"JSXIdentifier"==l.name){if("JSXEndTag"!=(null===(r=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===r?void 0:r.name)&&(s=AO(o.doc,l.parent,a)))return{range:Xe.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==n&&"JSXFragmentTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"JSXEndTag"!=(null===(i=t.lastChild)||void 0===i?void 0:i.name)&&(s=AO(o.doc,null==t?void 0:t.firstChild,a))){let e=`/${s}>`;return{range:Xe.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!i.changes.empty&&(e.dispatch(i,{userEvent:"input.type",scrollIntoView:!0}),!0)})),jO=["_blank","_self","_top","_parent"],EO=["ascii","utf-8","utf-16","latin1","latin1"],WO=["get","post","put","delete"],DO=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],XO=["true","false"],LO={},IO={a:{attrs:{href:null,ping:null,type:null,media:null,target:jO,hreflang:null}},abbr:LO,acronym:LO,address:LO,applet:LO,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:LO,aside:LO,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:LO,base:{attrs:{href:null,target:jO}},basefont:LO,bdi:LO,bdo:LO,big:LO,blockquote:{attrs:{cite:null}},body:LO,br:LO,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:DO,formmethod:WO,formnovalidate:["novalidate"],formtarget:jO,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:LO,center:LO,cite:LO,code:LO,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:LO,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:LO,dir:LO,div:LO,dl:LO,dt:LO,em:LO,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:LO,figure:LO,font:LO,footer:LO,form:{attrs:{action:null,name:null,"accept-charset":EO,autocomplete:["on","off"],enctype:DO,method:WO,novalidate:["novalidate"],target:jO}},frame:LO,frameset:LO,h1:LO,h2:LO,h3:LO,h4:LO,h5:LO,h6:LO,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:LO,hgroup:LO,hr:LO,html:{attrs:{manifest:null}},i:LO,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:DO,formmethod:WO,formnovalidate:["novalidate"],formtarget:jO,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:LO,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:LO,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:LO,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:EO,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:LO,noframes:LO,noscript:LO,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:LO,param:{attrs:{name:null,value:null}},pre:LO,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:LO,rt:LO,ruby:LO,s:LO,samp:LO,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:EO}},section:LO,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:LO,source:{attrs:{src:null,type:null,media:null}},span:LO,strike:LO,strong:LO,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:LO,summary:LO,sup:LO,table:LO,tbody:LO,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:LO,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:LO,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:LO,time:{attrs:{datetime:null}},title:LO,tr:LO,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:LO,u:LO,ul:{children:["li","script","template","ul","ol"]},var:LO,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:LO},ZO={accesskey:null,class:null,contenteditable:XO,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:XO,autocorrect:XO,autocapitalize:XO,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":XO,"aria-autocomplete":["inline","list","both","none"],"aria-busy":XO,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":XO,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":XO,"aria-hidden":XO,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":XO,"aria-multiselectable":XO,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":XO,"aria-relevant":null,"aria-required":XO,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null};class qO{constructor(e,t){this.tags=Object.assign(Object.assign({},IO),e),this.globalAttrs=Object.assign(Object.assign({},ZO),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}function NO(e,t,r=e.length){if(!t)return"";let n=t.firstChild,o=n&&n.getChild("TagName");return o?e.sliceString(o.from,Math.min(o.to,r)):""}function BO(e,t=!1){for(let r=e.parent;r;r=r.parent)if("Element"==r.name){if(!t)return r;t=!1}return null}function VO(e,t,r){let n=r.tags[NO(e,BO(t,!0))];return(null==n?void 0:n.children)||r.allTags}function GO(e,t){let r=[];for(let n=t;n=BO(n);){let o=NO(e,n);if(o&&"CloseTag"==n.lastChild.name)break;o&&r.indexOf(o)<0&&("EndTag"==t.name||t.from>=n.firstChild.to)&&r.push(o)}return r}qO.default=new qO;const UO=/^[:\-\.\w\u00b7-\uffff]*$/;function FO(e,t,r,n,o){let i=/\s*>/.test(e.sliceDoc(o,o+5))?"":">";return{from:n,to:o,options:VO(e.doc,r,t).map((e=>({label:e,type:"type"}))).concat(GO(e.doc,r).map(((e,t)=>({label:"/"+e,apply:"/"+e+i,type:"type",boost:99-t})))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function HO(e,t,r,n){let o=/\s*>/.test(e.sliceDoc(n,n+5))?"":">";return{from:r,to:n,options:GO(e.doc,t).map(((e,t)=>({label:e,apply:e+o,type:"type",boost:99-t}))),validFor:UO}}function YO(e,t){let{state:r,pos:n}=t,o=Ll(r).resolveInner(n),i=o.resolve(n,-1);for(let e,t=n;o==i&&(e=i.childBefore(t));){let r=e.lastChild;if(!r||!r.type.isError||r.from<r.to)break;o=i=e,t=r.from}return"TagName"==i.name?i.parent&&/CloseTag$/.test(i.parent.name)?HO(r,i,i.from,n):FO(r,e,i,i.from,n):"StartTag"==i.name?FO(r,e,i,n,n):"StartCloseTag"==i.name||"IncompleteCloseTag"==i.name?HO(r,i,n,n):t.explicit&&("OpenTag"==i.name||"SelfClosingTag"==i.name)||"AttributeName"==i.name?function(e,t,r,n,o){let i=BO(r),s=i?t.tags[NO(e.doc,i)]:null;return{from:n,to:o,options:(s&&s.attrs?Object.keys(s.attrs).concat(t.globalAttrNames):t.globalAttrNames).map((e=>({label:e,type:"property"}))),validFor:UO}}(r,e,i,"AttributeName"==i.name?i.from:n,n):"Is"==i.name||"AttributeValue"==i.name||"UnquotedAttributeValue"==i.name?function(e,t,r,n,o){var i;let s,a=null===(i=r.parent)||void 0===i?void 0:i.getChild("AttributeName"),l=[];if(a){let i=e.sliceDoc(a.from,a.to),c=t.globalAttrs[i];if(!c){let n=BO(r),o=n?t.tags[NO(e.doc,n)]:null;c=(null==o?void 0:o.attrs)&&o.attrs[i]}if(c){let t=e.sliceDoc(n,o).toLowerCase(),r='"',i='"';/^['"]/.test(t)?(s='"'==t[0]?/^[^"]*$/:/^[^']*$/,r="",i=e.sliceDoc(o,o+1)==t[0]?"":t[0],t=t.slice(1),n++):s=/^[^\s<>='"]*$/;for(let e of c)l.push({label:e,apply:r+e+i,type:"constant"})}}return{from:n,to:o,options:l,validFor:s}}(r,e,i,"Is"==i.name?n:i.from,n):!t.explicit||"Element"!=o.name&&"Text"!=o.name&&"Document"!=o.name?null:function(e,t,r,n){let o=[],i=0;for(let n of VO(e.doc,r,t))o.push({label:"<"+n,type:"type"});for(let t of GO(e.doc,r))o.push({label:"</"+t+">",type:"type",boost:99-i++});return{from:n,to:n,options:o,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(r,e,i,n)}function JO(e){let{extraTags:t,extraGlobalAttributes:r}=e,n=r||t?new qO(t,r):qO.default;return e=>YO(n,e)}const KO=Xl.define({parser:jm.configure({props:[oc.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit,Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t,r=null;for(let t=e.node;;){let e=t.lastChild;if(!e||"Element"!=e.name||e.to!=t.to)break;r=t=e}return r&&(!(t=r.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(r.from)+e.unit:null}}),pc.add({Element(e){let t=e.firstChild,r=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==r.name?r.from:e.to}:null}})],wrap:Dm([{tag:"script",attrs:e=>!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type),parser:CO.parser},{tag:"style",attrs:e=>(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type)),parser:rO.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}});function eb(e={}){let t=KO;return!1===e.matchClosingTags&&(t=t.configure({dialect:"noMatch"})),new Hl(t,[KO.data.of({autocomplete:JO(e)}),!1!==e.autoCloseTags?tb:[],RO().support,new Hl(rO,rO.data.of({autocomplete:tO})).support])}const tb=Di.inputHandler.of(((e,t,r,n)=>{if(e.composing||e.state.readOnly||t!=r||">"!=n&&"/"!=n||!KO.isActiveAt(e.state,t,-1))return!1;let{state:o}=e,i=o.changeByRange((e=>{var t,r,i;let s,{head:a}=e,l=Ll(o).resolveInner(a,-1);if("TagName"!=l.name&&"StartTag"!=l.name||(l=l.parent),">"==n&&"OpenTag"==l.name){if("CloseTag"!=(null===(r=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===r?void 0:r.name)&&(s=NO(o.doc,l.parent,a)))return{range:Xe.cursor(a+1),changes:{from:a,insert:`></${s}>`}}}else if("/"==n&&"OpenTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"CloseTag"!=(null===(i=t.lastChild)||void 0===i?void 0:i.name)&&(s=NO(o.doc,t,a))){let e=`/${s}>`;return{range:Xe.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!i.changes.empty&&(e.dispatch(i,{userEvent:"input.type",scrollIntoView:!0}),!0)})),rb=El({block:{open:"\x3c!--",close:"--\x3e"}}),nb=Tg.configure({props:[pc.add((e=>{if(e.is("Block")&&!e.is("Document"))return(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})),oc.add({Document:()=>null}),jl.add({Document:rb})]});function ob(e){return new Wl(rb,e)}const ib=ob(nb),sb=ob(nb.configure([Dg,Ig,Lg,Zg]));function ab(e,t){return t.sliceString(e.from,e.from+50)}class lb{constructor(e,t,r,n,o,i,s){this.node=e,this.from=t,this.to=r,this.spaceBefore=n,this.spaceAfter=o,this.type=i,this.item=s}blank(e=!0){let t=this.spaceBefore;if("Blockquote"==this.node.name)t+=">";else for(let e=this.to-this.from-t.length-this.spaceAfter.length;e>0;e--)t+=" ";return t+(e?this.spaceAfter:"")}marker(e,t){let r="OrderedList"==this.node.name?String(+hb(this.item,e)[2]+t):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function cb(e,t,r){let n=[];for(let t=e;t&&"Document"!=t.name;t=t.parent)"ListItem"!=t.name&&"Blockquote"!=t.name||n.push(t);let o=[],i=0;for(let e=n.length-1;e>=0;e--){let s,a=n[e],l=i;if("Blockquote"==a.name&&(s=/^[ \t]*>( ?)/.exec(t.slice(i))))i+=s[0].length,o.push(new lb(a,l,i,"",s[1],">",null));else if("ListItem"==a.name&&"OrderedList"==a.parent.name&&(s=/^([ \t]*)\d+([.)])([ \t]*)/.exec(ab(a,r)))){let e=s[3],t=s[0].length;e.length>=4&&(e=e.slice(0,e.length-4),t-=4),i+=t,o.push(new lb(a.parent,l,i,s[1],e,s[2],a))}else if("ListItem"==a.name&&"BulletList"==a.parent.name&&(s=/^([ \t]*)([-+*])([ \t]{1,4}\[[ xX]\])?([ \t]+)/.exec(ab(a,r)))){let e=s[4],t=s[0].length;e.length>4&&(e=e.slice(0,e.length-4),t-=4);let r=s[2];s[3]&&(r+=s[3].replace(/[xX]/," ")),i+=t,o.push(new lb(a.parent,l,i,s[1],e,r,a))}}return o}function hb(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function ub(e,t,r,n=0){for(let o=-1,i=e;;){if("ListItem"==i.name){let e=hb(i,t),s=+e[2];if(o>=0){if(s!=o+1)return;r.push({from:i.from+e[1].length,to:i.from+e[0].length,insert:String(o+2+n)})}o=s}let e=i.nextSibling;if(!e)break;i=e}}function db(e){return"QuoteMark"==e.name||"ListMark"==e.name}const fb=[{key:"Enter",run:({state:e,dispatch:t})=>{let r=Ll(e),{doc:n}=e,o=null,i=e.changeByRange((t=>{if(!t.empty||!sb.isActiveAt(e,t.from))return o={range:t};let i=t.from,s=n.lineAt(i),a=cb(r.resolveInner(i,-1),s.text,n);for(;a.length&&a[a.length-1].from>i-s.from;)a.pop();if(!a.length)return o={range:t};let l=a[a.length-1];if(l.to-l.spaceAfter.length>i-s.from)return o={range:t};let c=i>=l.to-l.spaceAfter.length&&!/\S/.test(s.text.slice(l.to));if(l.item&&c){if(l.node.firstChild.to>=i||s.from>0&&!/[^\s>]/.test(n.lineAt(s.from-1).text)){let e,t=a.length>1?a[a.length-2]:null,r="";t&&t.item?(e=s.from+t.from,r=t.marker(n,1)):e=s.from+(t?t.to:0);let o=[{from:e,to:i,insert:r}];return"OrderedList"==l.node.name&&ub(l.item,n,o,-2),t&&"OrderedList"==t.node.name&&ub(t.item,n,o),{range:Xe.cursor(e+r.length),changes:o}}{let t="";for(let e=0,r=a.length-2;e<=r;e++)t+=a[e].blank(e<r);return t+=e.lineBreak,{range:Xe.cursor(i+t.length),changes:{from:s.from,insert:t}}}}if("Blockquote"==l.node.name&&c&&s.from){let r=n.lineAt(s.from-1),o=/>\s*$/.exec(r.text);if(o&&o.index==l.from){let n=e.changes([{from:r.from+o.index,to:r.to},{from:s.from+l.from,to:s.to}]);return{range:t.map(n),changes:n}}}let h=[];"OrderedList"==l.node.name&&ub(l.item,n,h);let u=e.lineBreak,d=l.item&&l.item.from<s.from;if(!d||/^[\s\d.)\-+*>]*/.exec(s.text)[0].length>=l.to)for(let e=0,t=a.length-1;e<=t;e++)u+=e!=t||d?a[e].blank():a[e].marker(n,1);let f=i;for(;f>s.from&&/\s/.test(s.text.charAt(f-s.from-1));)f--;return h.push({from:f,to:i,insert:u}),{range:Xe.cursor(f+u.length),changes:h}}));return!o&&(t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0)}},{key:"Backspace",run:({state:e,dispatch:t})=>{let r=Ll(e),n=null,o=e.changeByRange((t=>{let o=t.from,{doc:i}=e;if(t.empty&&sb.isActiveAt(e,t.from)){let e=i.lineAt(o),n=cb(function(e,t){let r,n=e.resolveInner(t,-1),o=t;for(db(n)&&(o=n.from,n=n.parent);r=n.childBefore(o);)if(db(r))o=r.from;else{if("OrderedList"!=r.name&&"BulletList"!=r.name)break;n=r.lastChild,o=n.to}return n}(r,o),e.text,i);if(n.length){let r=n[n.length-1],i=r.to-r.spaceAfter.length+(r.spaceAfter?1:0);if(o-e.from>i&&!/\S/.test(e.text.slice(i,o-e.from)))return{range:Xe.cursor(e.from+i),changes:{from:e.from+i,to:o}};if(o-e.from==i){let n=e.from+r.from;if(r.item&&r.node.from<r.item.from&&/\S/.test(e.text.slice(r.from,r.to)))return{range:t,changes:{from:n,to:e.from+r.to,insert:r.blank()}};if(n<o)return{range:Xe.cursor(n),changes:{from:n,to:o}}}}}return n={range:t}}));return!n&&(t(e.update(o,{scrollIntoView:!0,userEvent:"delete"})),!0)}}],pb=eb({matchClosingTags:!1});function gb(e={}){let{codeLanguages:t,defaultCodeLanguage:r,addKeymap:n=!0,base:{parser:o}=ib}=e;if(!(o instanceof tg))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let i,s=e.extensions?[e.extensions]:[],a=[pb.support];r instanceof Hl?(a.push(r.support),i=r.language):r&&(i=r);let l=t||i?(c=t,h=i,e=>{if(e&&c){let t=null;if(t="function"==typeof c?c(e):Yl.matchLanguageName(c,e,!0),t instanceof Yl)return t.support?t.support.language.parser:ql.getSkippingParser(t.load());if(t)return t.parser}return h?h.parser:null}):void 0;var c,h;return s.push(function(e){let{codeParser:t,htmlParser:r}=e,n=Ga(((e,n)=>{let o=e.type.id;if(!t||o!=yp.CodeBlock&&o!=yp.FencedCode){if(r&&(o==yp.HTMLBlock||o==yp.HTMLTag))return{parser:r,overlay:_g(e.node,e.from,e.to)}}else{let r="";if(o==yp.FencedCode){let t=e.node.getChild(yp.CodeInfo);t&&(r=n.read(t.from,t.to))}let i=t(r);if(i)return{parser:i,overlay:e=>e.type.id==yp.CodeText}}return null}));return{wrap:n}}({codeParser:l,htmlParser:pb.language.parser})),n&&a.push(tt.high(Vi.of(fb))),new Hl(ob(o.configure(s)),a)}const mb=[];function Ob(t,r=e){let n;const o=new Set;function s(e){if(i(t,e)&&(t=e,n)){const e=!mb.length;for(const e of o)e[1](),mb.push(e,t);if(e){for(let e=0;e<mb.length;e+=2)mb[e][0](mb[e+1]);mb.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a=e){const l=[i,a];return o.add(l),1===o.size&&(n=r(s)||e),i(t),()=>{o.delete(l),0===o.size&&(n(),n=null)}}}}const bb=Ob({name:"Default",font:"Fira Code, Menlo",fontSize:"16pt",textAreaColor:"#454158",backgroundColor:"#22212C",textColor:"#80ffea",borderColor:"#1B1A23",Cyan:"#80FFEA",Green:"#8AFF80",Orange:"#FFCA80",Pink:"#FF80BF",Purple:"#9580FF",Red:"#FF9580",Yellow:"#FFFF80",functionColor:"#9580FF",stringColor:"#8AFF80",constantColor:"#FFCA80",keywordColor:"#FFFF80",highlightBackgroundColor:"#4f4f5f",selectionColor:"#22212C",buttons:[{color:"#80FFEA",id:0},{color:"#8AFF80",id:1},{color:"#FFCA80",id:2},{color:"#FF80BF",id:3},{color:"#9580FF",id:4},{color:"#FF9580",id:5},{color:"blue",id:6},{color:"green",id:7},{color:"red",id:8},{color:"purple",id:9}]});function vb(t){let r,n;return{c(){r=O("div"),k(r,"name","editor"),k(r,"id","CMeditor"),k(r,"style",n="height: "+t[0]+"; width: "+t[1]+"; "+t[2]),k(r,"class","svelte-1p9zuvj")},m(e,n){p(e,r,n),t[6](r)},p(e,[t]){7&t&&n!==(n="height: "+e[0]+"; width: "+e[1]+"; "+e[2])&&k(r,"style",n)},i:e,o:e,d(e){e&&g(r),t[6](null)}}}function xb(e,t,r){let n;s(e,bb,(e=>r(11,n=e)));const o=j();let{height:i=0}=t,{width:a=0}=t,{styling:l=""}=t,{config:c={}}=t,{initFinished:h=!1}=t,u=null,d=null,f=null,p=null,g=null;const m=Di.theme({"&":{color:n.textColor,backgroundColor:n.textAreaColor,height:i,minHeight:i},".cm-content":{caretColor:n.Cyan,minHeight:i},"&.cm-focused .cm-cursor":{borderLeftColor:n.Cyan},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection":{backgroundColor:n.selectionColor},".cm-panels":{backgroundColor:n.backgroundColor,color:n.textColor},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:n.highlightBackgroundColor},".cm-selectionMatch":{backgroundColor:"#aafe661a"},".cm-matchingBracket, .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutter":{minHeight:i},".cm-gutters":{backgroundColor:n.backgroundColor,color:n.green,border:"none"},".cm-activeLineGutter":{backgroundColor:n.highlightBackgroundColor},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid #181a1f",backgroundColor:n.backgroundColor},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:n.highlightBackgroundColor,color:n.textColor}}},{dark:!0});function O(e,t){o(e,{data:t})}function b(e){h&&v(e)}function v(e){null!==f&&(f.destroy(),r(3,u.innerHTML="",u));const t=[bs(),vh(),Ki(),[cs,hs],Pt.allowMultipleSelections.of(!0),Pt.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let r=e.newDoc,{head:n}=e.newSelection.main,o=r.lineAt(n);if(n>o.from+200)return e;let i=r.sliceString(o.from,n);if(!t.some((e=>e.test(i))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let r=rc(s,t.from);if(null==r)continue;let n=/^\s*/.exec(t.text)[0],o=tc(s,r);n!=o&&l.push({from:t.from,to:t.from+n.length,insert:o})}return l.length?[e,{changes:l,sequential:!0}]:e})),Xc(Zc,{fallback:!0}),Yc(),[Zf,Wf],Hf(),$s(),Ps(),ed(),Vi.of([...qf,...Wu,...Pd,...jh,...$c,...Yf,...dp]),m,Di.updateListener.of((e=>{e.docChanged&&O("textChange",{value:T(),cursor:$()})}))];switch(c.lineNumbers&&(t.push(function(e={}){let t=Object.assign(Object.assign({},Ac),e),r=new zc(t,!0),n=new zc(t,!1),o=En.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Fl)!=e.state.facet(Fl)||e.startState.field(kc,!1)!=e.state.field(kc,!1)||Ll(e.startState)!=Ll(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Wt;for(let o of e.viewportLineBlocks){let i=yc(e.state,o.from,o.to)?n:Oc(e.state,o.from,o.to)?r:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,ta({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||Et.empty},initialSpacer:()=>new zc(t,!1),domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,r)=>{if(i.click&&i.click(e,t,r))return!0;let n=yc(e.state,t.from,t.to);if(n)return e.dispatch({effects:xc.of(n)}),!0;let o=Oc(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:vc.of(o)}),!0)}})}),Pc()]}()),t.push(function(e={}){return[ua.of(e),na(),pa]}())),c.language){case"markdown":default:t.push(gb());break;case"javascript":t.push(RO())}c.lineWrapping&&t.push(Di.lineWrapping),c.lineHighlight&&t.push(ys),d=Pt.create({doc:e,extensions:t}),f=new Di({state:d,parent:u})}function x(e){if(void 0!==f){let t=$(),r=f.state.update({changes:[{from:t,insert:e}]});f.dispatch(r)}}function w(){return void 0!==f&&f.hasFocus}function k(e){return void 0!==f?f.docView.domAtPos(e).node.textContent:""}function y(){if(void 0!==f)return f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to)}function Q(e){if(void 0!==f){let t=f.state.selection.main.from,r=f.state.update({changes:[{from:f.state.selection.main.from,to:f.state.selection.main.to},{from:t,insert:e}]});f.dispatch(r)}}function S(){if(void 0!==f)return f.state.selection.ranges.some((e=>!e.empty))}function C(e){void 0!==f&&(g=e,f.dispatch({selection:{anchor:g}}))}function $(){return void 0!==f?(g=f.state.selection.main.head,g):0}function T(){if(void 0!==f)return f.state.doc.toString()}function _(){void 0!==f&&f.focus()}function P(){return f}function R(){return d}return z((()=>(v(""),p={getSelection:y,getValue:T,replaceSelection:Q,somethingSelected:S,setCursor:C,getCursor:$,setValue:b,getLine:k,focus:_,getEdView:P,getEdState:R,isFocused:w,insertAtCursor:x},O("editorChange",p),_(),()=>{d=null,f=null,p=null}))),e.$$set=e=>{"height"in e&&r(0,i=e.height),"width"in e&&r(1,a=e.width),"styling"in e&&r(2,l=e.styling),"config"in e&&r(4,c=e.config),"initFinished"in e&&r(5,h=e.initFinished)},[i,a,l,u,c,h,function(e){W[e?"unshift":"push"]((()=>{u=e,r(3,u)}))}]}class wb extends ae{constructor(e){super(),se(this,e,xb,vb,i,{height:0,width:1,styling:2,config:4,initFinished:5})}}function kb(e,t,r){const n=e.slice();return n[17]=t[r],n}function yb(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,Q=e[17].name+"",S=e[17].email+"";function C(){return e[11](e[17])}function $(){return e[12](e[17])}return{c(){t=O("tr"),r=O("td"),o=b(Q),i=v(),s=O("td"),a=b(S),l=v(),c=O("td"),c.textContent="🖋",h=v(),u=O("td"),u.textContent="❌",d=v(),k(c,"class","iconClick svelte-1c11hkb"),k(u,"class","iconClick svelte-1c11hkb")},m(e,n){p(e,t,n),f(t,r),f(r,o),f(t,i),f(t,s),f(s,a),f(t,l),f(t,c),f(t,h),f(t,u),f(t,d),m||(x=[w(c,"click",C),w(u,"click",$)],m=!0)},p(t,r){e=t,1&r&&Q!==(Q=e[17].name+"")&&y(o,Q),1&r&&S!==(S=e[17].email+"")&&y(a,S)},d(e){e&&g(t),m=!1,n(x)}}}function Qb(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,y,C,$,T,_,P;return{c(){t=O("div"),r=O("div"),o=O("label"),o.textContent="Name:",i=v(),s=O("input"),a=v(),l=O("div"),c=O("label"),c.textContent="Email:",h=v(),u=O("input"),d=v(),m=O("div"),x=O("button"),y=b("Save"),C=v(),$=O("button"),T=b("Close"),k(o,"for","aename"),k(s,"type","text"),k(s,"id","aename"),S(s,"background-color",e[4].textAreaColor),S(s,"color",e[4].textColor),S(s,"border-color",e[4].borderColor),k(s,"class","svelte-1c11hkb"),k(r,"id","addeditrow"),k(r,"class","svelte-1c11hkb"),k(c,"for","aeemail"),k(u,"type","text"),k(u,"id","aeemail"),S(u,"background-color",e[4].textAreaColor),S(u,"color",e[4].textColor),S(u,"border-color",e[4].borderColor),k(u,"class","svelte-1c11hkb"),k(l,"id","addeditrow"),k(l,"class","svelte-1c11hkb"),S(x,"background-color",e[4].textAreaColor),S(x,"color",e[4].textColor),S(x,"border-color",e[4].borderColor),k(x,"class","svelte-1c11hkb"),S($,"background-color",e[4].textAreaColor),S($,"color",e[4].textColor),S($,"border-color",e[4].borderColor),k($,"class","svelte-1c11hkb"),k(m,"id","buttonrow"),k(m,"class","svelte-1c11hkb"),k(t,"id","addeditdiv"),S(t,"background-color",e[4].backgroundColor),S(t,"font-family",e[4].font),S(t,"color",e[4].textColor),S(t,"font-size",e[4].fontSize),S(t,"border-color",e[4].textAreaColor),k(t,"class","svelte-1c11hkb")},m(n,g){p(n,t,g),f(t,r),f(r,o),f(r,i),f(r,s),Q(s,e[2]),f(t,a),f(t,l),f(l,c),f(l,h),f(l,u),Q(u,e[3]),f(t,d),f(t,m),f(m,x),f(x,y),f(m,C),f(m,$),f($,T),_||(P=[w(s,"input",e[13]),w(u,"input",e[14]),w(x,"click",e[7]),w($,"click",e[15])],_=!0)},p(e,r){16&r&&S(s,"background-color",e[4].textAreaColor),16&r&&S(s,"color",e[4].textColor),16&r&&S(s,"border-color",e[4].borderColor),4&r&&s.value!==e[2]&&Q(s,e[2]),16&r&&S(u,"background-color",e[4].textAreaColor),16&r&&S(u,"color",e[4].textColor),16&r&&S(u,"border-color",e[4].borderColor),8&r&&u.value!==e[3]&&Q(u,e[3]),16&r&&S(x,"background-color",e[4].textAreaColor),16&r&&S(x,"color",e[4].textColor),16&r&&S(x,"border-color",e[4].borderColor),16&r&&S($,"background-color",e[4].textAreaColor),16&r&&S($,"color",e[4].textColor),16&r&&S($,"border-color",e[4].borderColor),16&r&&S(t,"background-color",e[4].backgroundColor),16&r&&S(t,"font-family",e[4].font),16&r&&S(t,"color",e[4].textColor),16&r&&S(t,"font-size",e[4].fontSize),16&r&&S(t,"border-color",e[4].textAreaColor)},d(e){e&&g(t),_=!1,n(P)}}}function Sb(t){let r,o,i,s,a,l,c,h,u,d,y,Q,C,$,T,_,P,R=t[0],A=[];for(let e=0;e<R.length;e+=1)A[e]=yb(kb(t,R,e));let z=t[1]&&Qb(t);return{c(){r=O("div"),o=O("div"),i=O("table"),s=O("thead"),s.innerHTML="<th>Name</th>  <th>Address</th>  <th></th>  <th></th>",a=v(),l=O("tbody");for(let e=0;e<A.length;e+=1)A[e].c();c=v(),h=O("div"),u=O("button"),d=b("New"),y=v(),Q=O("button"),C=b("Close"),$=v(),z&&z.c(),T=x(),k(o,"id","tablediv"),k(o,"class","svelte-1c11hkb"),S(u,"background-color",t[4].textAreaColor),S(u,"color",t[4].textColor),S(u,"border-color",t[4].borderColor),k(u,"class","svelte-1c11hkb"),S(Q,"background-color",t[4].textAreaColor),S(Q,"color",t[4].textColor),S(Q,"border-color",t[4].borderColor),k(Q,"class","svelte-1c11hkb"),k(h,"id","buttonrow"),k(h,"class","svelte-1c11hkb"),k(r,"id","addressBook"),S(r,"background-color",t[4].backgroundColor),S(r,"font-family",t[4].font),S(r,"color",t[4].textColor),S(r,"font-size",t[4].fontSize),S(r,"border-color",t[4].borderColor),k(r,"class","svelte-1c11hkb")},m(e,n){p(e,r,n),f(r,o),f(o,i),f(i,s),f(i,a),f(i,l);for(let e=0;e<A.length;e+=1)A[e].m(l,null);f(r,c),f(r,h),f(h,u),f(u,d),f(h,y),f(h,Q),f(Q,C),p(e,$,n),z&&z.m(e,n),p(e,T,n),_||(P=[w(u,"click",t[5]),w(Q,"click",t[6])],_=!0)},p(e,[t]){if(769&t){let r;for(R=e[0],r=0;r<R.length;r+=1){const n=kb(e,R,r);A[r]?A[r].p(n,t):(A[r]=yb(n),A[r].c(),A[r].m(l,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=R.length}16&t&&S(u,"background-color",e[4].textAreaColor),16&t&&S(u,"color",e[4].textColor),16&t&&S(u,"border-color",e[4].borderColor),16&t&&S(Q,"background-color",e[4].textAreaColor),16&t&&S(Q,"color",e[4].textColor),16&t&&S(Q,"border-color",e[4].borderColor),16&t&&S(r,"background-color",e[4].backgroundColor),16&t&&S(r,"font-family",e[4].font),16&t&&S(r,"color",e[4].textColor),16&t&&S(r,"font-size",e[4].fontSize),16&t&&S(r,"border-color",e[4].borderColor),e[1]?z?z.p(e,t):(z=Qb(e),z.c(),z.m(T.parentNode,T)):z&&(z.d(1),z=null)},i:e,o:e,d(e){e&&g(r),m(A,e),e&&g($),z&&z.d(e),e&&g(T),_=!1,n(P)}}}function Cb(e,t,r){let n;s(e,bb,(e=>r(4,n=e)));let{show:o}=t,i=[],a=!1,l="",c="";function h(e){console.log(e),r(2,l=e.name),r(3,c=e.email)}function u(e){e.email=e.email.trim(),r(0,i=i.filter((t=>t.email!==e.email))),fetch("http://localhost:9978/api/emailit/addEmail",{method:"DELETE",headers:{"Content-type":"application/json"},body:{name:"",email:e.email}})}z((()=>{!function(e){fetch("http://localhost:9978/api/emailit/emails",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(0,i=t.emails),void 0!==e&&e()}))}()}));return e.$$set=e=>{"show"in e&&r(10,o=e.show)},[i,a,l,c,n,function(){r(1,a=!0),r(2,l=""),r(3,c="")},function(){r(10,o=!1)},function(){r(3,c=c.trim()),r(2,l=l.trim()),r(0,i=i.filter((e=>e.email!==c))),i.push({name:l,email:c}),r(0,i),fetch("http://localhost:9978/api/emailit/addEmail",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:l,email:c})}),r(1,a=!1)},h,u,o,e=>{h(e)},e=>{u(e)},function(){l=this.value,r(2,l)},function(){c=this.value,r(3,c)},()=>{r(1,a=!1)}]}class $b extends ae{constructor(e){super(),se(this,e,Cb,Sb,i,{show:10})}}var Tb,_b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pb={exports:{}};Tb=Pb,function(){function e(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n].defaultValue);return r}var t={},r={},n={},o=e(!0),i="vanilla",s={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:function(){var t=e(!0),r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=!0);return r}()};function a(e,r){var n=r?"Error in "+r+" extension->":"Error in unnamed extension",o={valid:!0,error:""};t.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var s=n+" sub-extension "+i+": ",a=e[i];if("object"!=typeof a)return o.valid=!1,o.error=s+"must be an object, but "+typeof a+" given",o;if(!t.helper.isString(a.type))return o.valid=!1,o.error=s+'property "type" must be a string, but '+typeof a.type+" given",o;var l=a.type=a.type.toLowerCase();if("language"===l&&(l=a.type="lang"),"html"===l&&(l=a.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return o.valid=!1,o.error=s+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',o;if("listener"===l){if(t.helper.isUndefined(a.listeners))return o.valid=!1,o.error=s+'. Extensions of type "listener" must have a property called "listeners"',o}else if(t.helper.isUndefined(a.filter)&&t.helper.isUndefined(a.regex))return o.valid=!1,o.error=s+l+' extensions must define either a "regex" property or a "filter" method',o;if(a.listeners){if("object"!=typeof a.listeners)return o.valid=!1,o.error=s+'"listeners" property must be an object but '+typeof a.listeners+" given",o;for(var c in a.listeners)if(a.listeners.hasOwnProperty(c)&&"function"!=typeof a.listeners[c])return o.valid=!1,o.error=s+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof a.listeners[c]+" given",o}if(a.filter){if("function"!=typeof a.filter)return o.valid=!1,o.error=s+'"filter" must be a function, but '+typeof a.filter+" given",o}else if(a.regex){if(t.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return o.valid=!1,o.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",o;if(t.helper.isUndefined(a.replace))return o.valid=!1,o.error=s+'"regex" extensions must implement a replace string or function',o}}return o}function l(e,t){return"¨E"+t.charCodeAt(0)+"E"}t.helper={},t.extensions={},t.setOption=function(e,t){return o[e]=t,this},t.getOption=function(e){return o[e]},t.getOptions=function(){return o},t.resetOptions=function(){o=e(!0)},t.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");t.resetOptions();var r=s[e];for(var n in i=e,r)r.hasOwnProperty(n)&&(o[n]=r[n])},t.getFlavor=function(){return i},t.getFlavorOptions=function(e){if(s.hasOwnProperty(e))return s[e]},t.getDefaultOptions=function(t){return e(t)},t.subParser=function(e,n){if(t.helper.isString(e)){if(void 0===n){if(r.hasOwnProperty(e))return r[e];throw Error("SubParser named "+e+" not registered!")}r[e]=n}},t.extension=function(e,r){if(!t.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=t.helper.stdExtName(e),t.helper.isUndefined(r)){if(!n.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return n[e]}"function"==typeof r&&(r=r()),t.helper.isArray(r)||(r=[r]);var o=a(r,e);if(!o.valid)throw Error(o.error);n[e]=r},t.getAllExtensions=function(){return n},t.removeExtension=function(e){delete n[e]},t.resetExtensions=function(){n={}},t.validateExtension=function(e){var t=a(e,null);return!!t.valid||(console.warn(t.error),!1)},t.hasOwnProperty("helper")||(t.helper={}),t.helper.isString=function(e){return"string"==typeof e||e instanceof String},t.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.helper.isArray=function(e){return Array.isArray(e)},t.helper.isUndefined=function(e){return void 0===e},t.helper.forEach=function(e,r){if(t.helper.isUndefined(e))throw new Error("obj param is required");if(t.helper.isUndefined(r))throw new Error("callback param is required");if(!t.helper.isFunction(r))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(r);else if(t.helper.isArray(e))for(var n=0;n<e.length;n++)r(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var o in e)e.hasOwnProperty(o)&&r(e[o],o,e)}},t.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},t.helper.escapeCharactersCallback=l,t.helper.escapeCharacters=function(e,t,r){var n="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(n="\\\\"+n);var o=new RegExp(n,"g");return e=e.replace(o,l)},t.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var c=function(e,t,r,n){var o,i,s,a,l,c=n||"",h=c.indexOf("g")>-1,u=new RegExp(t+"|"+r,"g"+c.replace(/g/g,"")),d=new RegExp(t,c.replace(/g/g,"")),f=[];do{for(o=0;s=u.exec(e);)if(d.test(s[0]))o++||(a=(i=u.lastIndex)-s[0].length);else if(o&&!--o){l=s.index+s[0].length;var p={left:{start:a,end:i},match:{start:i,end:s.index},right:{start:s.index,end:l},wholeMatch:{start:a,end:l}};if(f.push(p),!h)return f}}while(o&&(u.lastIndex=i));return f};t.helper.matchRecursiveRegExp=function(e,t,r,n){for(var o=c(e,t,r,n),i=[],s=0;s<o.length;++s)i.push([e.slice(o[s].wholeMatch.start,o[s].wholeMatch.end),e.slice(o[s].match.start,o[s].match.end),e.slice(o[s].left.start,o[s].left.end),e.slice(o[s].right.start,o[s].right.end)]);return i},t.helper.replaceRecursiveRegExp=function(e,r,n,o,i){if(!t.helper.isFunction(r)){var s=r;r=function(){return s}}var a=c(e,n,o,i),l=e,h=a.length;if(h>0){var u=[];0!==a[0].wholeMatch.start&&u.push(e.slice(0,a[0].wholeMatch.start));for(var d=0;d<h;++d)u.push(r(e.slice(a[d].wholeMatch.start,a[d].wholeMatch.end),e.slice(a[d].match.start,a[d].match.end),e.slice(a[d].left.start,a[d].left.end),e.slice(a[d].right.start,a[d].right.end))),d<h-1&&u.push(e.slice(a[d].wholeMatch.end,a[d+1].wholeMatch.start));a[h-1].wholeMatch.end<e.length&&u.push(e.slice(a[h-1].wholeMatch.end)),l=u.join("")}return l},t.helper.regexIndexOf=function(e,r,n){if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(r instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var o=e.substring(n||0).search(r);return o>=0?o+(n||0):o},t.helper.splitAtIndex=function(e,r){if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,r),e.substring(r)]},t.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}))},t.helper.padEnd=function(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=r.repeat(t/r.length)),String(e)+r.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),t.helper.regexes={asteriskDashAndColon:/([*_:~])/g},t.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},t.Converter=function(e){var r={},l=[],c=[],h={},u=i,d={parsed:{},raw:"",format:""};function f(e,r){if(r=r||null,t.helper.isString(e)){if(r=e=t.helper.stdExtName(e),t.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,r){"function"==typeof e&&(e=e(new t.Converter)),t.helper.isArray(e)||(e=[e]);var n=a(e,r);if(!n.valid)throw Error(n.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":l.push(e[o]);break;case"output":c.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(t.extensions[e],e);if(t.helper.isUndefined(n[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=n[e]}"function"==typeof e&&(e=e()),t.helper.isArray(e)||(e=[e]);var o=a(e,r);if(!o.valid)throw Error(o.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":l.push(e[i]);break;case"output":c.push(e[i])}if(e[i].hasOwnProperty("listeners"))for(var s in e[i].listeners)e[i].listeners.hasOwnProperty(s)&&p(s,e[i].listeners[s])}}function p(e,r){if(!t.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof r)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof r+" given");h.hasOwnProperty(e)||(h[e]=[]),h[e].push(r)}!function(){for(var n in e=e||{},o)o.hasOwnProperty(n)&&(r[n]=o[n]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.extensions&&t.helper.forEach(r.extensions,f)}(),this._dispatch=function(e,t,r,n){if(h.hasOwnProperty(e))for(var o=0;o<h[e].length;++o){var i=h[e][o](e,t,this,r,n);i&&void 0!==i&&(t=i)}return t},this.listen=function(e,t){return p(e,t),this},this.makeHtml=function(e){if(!e)return e;var n={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:c,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),r.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,r=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(r,"")}(e)),e="\n\n"+e+"\n\n",e=(e=t.subParser("detab")(e,r,n)).replace(/^[ \t]+$/gm,""),t.helper.forEach(l,(function(o){e=t.subParser("runExtension")(o,e,r,n)})),e=t.subParser("metadata")(e,r,n),e=t.subParser("hashPreCodeTags")(e,r,n),e=t.subParser("githubCodeBlocks")(e,r,n),e=t.subParser("hashHTMLBlocks")(e,r,n),e=t.subParser("hashCodeTags")(e,r,n),e=t.subParser("stripLinkDefinitions")(e,r,n),e=t.subParser("blockGamut")(e,r,n),e=t.subParser("unhashHTMLSpans")(e,r,n),e=(e=(e=t.subParser("unescapeSpecialChars")(e,r,n)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=t.subParser("completeHTMLDocument")(e,r,n),t.helper.forEach(c,(function(o){e=t.subParser("runExtension")(o,e,r,n)})),d=n.metadata,e},this.makeMarkdown=this.makeMd=function(e,r){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!r){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");r=window.document}var n=r.createElement("div");n.innerHTML=e;var o={preList:function(e){for(var r=e.querySelectorAll("pre"),n=[],o=0;o<r.length;++o)if(1===r[o].childElementCount&&"code"===r[o].firstChild.tagName.toLowerCase()){var i=r[o].firstChild.innerHTML.trim(),s=r[o].firstChild.getAttribute("data-language")||"";if(""===s)for(var a=r[o].firstChild.className.split(" "),l=0;l<a.length;++l){var c=a[l].match(/^language-(.+)$/);if(null!==c){s=c[1];break}}i=t.helper.unescapeHTMLEntities(i),n.push(i),r[o].outerHTML='<precode language="'+s+'" precodenum="'+o.toString()+'"></precode>'}else n.push(r[o].innerHTML),r[o].innerHTML="",r[o].setAttribute("prenum",o.toString());return n}(n)};!function e(t){for(var r=0;r<t.childNodes.length;++r){var n=t.childNodes[r];3===n.nodeType?/\S/.test(n.nodeValue)||/^[ ]+$/.test(n.nodeValue)?(n.nodeValue=n.nodeValue.split("\n").join(" "),n.nodeValue=n.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(n),--r):1===n.nodeType&&e(n)}}(n);for(var i=n.childNodes,s="",a=0;a<i.length;a++)s+=t.subParser("makeMarkdown.node")(i[a],o);return s},this.setOption=function(e,t){r[e]=t},this.getOption=function(e){return r[e]},this.getOptions=function(){return r},this.addExtension=function(e,t){f(e,t=t||null)},this.useExtension=function(e){f(e)},this.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");var t=s[e];for(var n in u=e,t)t.hasOwnProperty(n)&&(r[n]=t[n])},this.getFlavor=function(){return u},this.removeExtension=function(e){t.helper.isArray(e)||(e=[e]);for(var r=0;r<e.length;++r){for(var n=e[r],o=0;o<l.length;++o)l[o]===n&&l.splice(o,1);for(var i=0;i<c.length;++i)c[i]===n&&c.splice(i,1)}},this.getAllExtensions=function(){return{language:l,output:c}},this.getMetadata=function(e){return e?d.raw:d.parsed},this.getMetadataFormat=function(){return d.format},this._setMetadataPair=function(e,t){d.parsed[e]=t},this._setMetadataFormat=function(e){d.format=e},this._setMetadataRaw=function(e){d.raw=e}},t.subParser("anchors",(function(e,r,n){var o=function(e,o,i,s,a,l,c){if(t.helper.isUndefined(c)&&(c=""),i=i.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)s="";else if(!s){if(i||(i=o.toLowerCase().replace(/ ?\n/g," ")),s="#"+i,t.helper.isUndefined(n.gUrls[i]))return e;s=n.gUrls[i],t.helper.isUndefined(n.gTitles[i])||(c=n.gTitles[i])}var h='<a href="'+(s=s.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(h+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),r.openLinksInNewWindow&&!/^#/.test(s)&&(h+=' rel="noopener noreferrer" target="¨E95Eblank"'),h+=">"+o+"</a>"};return e=(e=(e=(e=(e=n.converter._dispatch("anchors.before",e,r,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,o)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,o)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,o)).replace(/\[([^\[\]]+)]()()()()()/g,o),r.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,n,o,i,s){if("\\"===o)return n+i;if(!t.helper.isString(r.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var a=r.ghMentionsLink.replace(/\{u}/g,s),l="";return r.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),n+'<a href="'+a+'"'+l+">"+i+"</a>"}))),e=n.converter._dispatch("anchors.after",e,r,n)}));var h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,u=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,d=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,f=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,p=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(e){return function(r,n,o,i,s,a,l){var c=o=o.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback),h="",u="",d=n||"",f=l||"";return/^www\./i.test(o)&&(o=o.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&a&&(h=a),e.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="¨E95Eblank"'),d+'<a href="'+o+'"'+u+">"+c+"</a>"+h+f}},m=function(e,r){return function(n,o,i){var s="mailto:";return o=o||"",i=t.subParser("unescapeSpecialChars")(i,e,r),e.encodeEmails?(s=t.helper.encodeEmailAddress(s+i),i=t.helper.encodeEmailAddress(i)):s+=i,o+'<a href="'+s+'">'+i+"</a>"}};t.subParser("autoLinks",(function(e,t,r){return e=(e=(e=r.converter._dispatch("autoLinks.before",e,t,r)).replace(d,g(t))).replace(p,m(t,r)),e=r.converter._dispatch("autoLinks.after",e,t,r)})),t.subParser("simplifiedAutoLinks",(function(e,t,r){return t.simplifiedAutoLink?(e=r.converter._dispatch("simplifiedAutoLinks.before",e,t,r),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(u,g(t)):e.replace(h,g(t))).replace(f,m(t,r)),e=r.converter._dispatch("simplifiedAutoLinks.after",e,t,r)):e})),t.subParser("blockGamut",(function(e,r,n){return e=n.converter._dispatch("blockGamut.before",e,r,n),e=t.subParser("blockQuotes")(e,r,n),e=t.subParser("headers")(e,r,n),e=t.subParser("horizontalRule")(e,r,n),e=t.subParser("lists")(e,r,n),e=t.subParser("codeBlocks")(e,r,n),e=t.subParser("tables")(e,r,n),e=t.subParser("hashHTMLBlocks")(e,r,n),e=t.subParser("paragraphs")(e,r,n),e=n.converter._dispatch("blockGamut.after",e,r,n)})),t.subParser("blockQuotes",(function(e,r,n){e=n.converter._dispatch("blockQuotes.before",e,r,n),e+="\n\n";var o=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return r.splitAdjacentBlockquotes&&(o=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(o,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=t.subParser("githubCodeBlocks")(e,r,n),e=(e=(e=t.subParser("blockGamut")(e,r,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var r=t;return r=(r=r.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),t.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",r,n)})),e=n.converter._dispatch("blockQuotes.after",e,r,n)})),t.subParser("codeBlocks",(function(e,r,n){return e=n.converter._dispatch("codeBlocks.before",e,r,n),e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,o,i){var s=o,a=i,l="\n";return s=t.subParser("outdent")(s,r,n),s=t.subParser("encodeCode")(s,r,n),s=(s=(s=t.subParser("detab")(s,r,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),r.omitExtraWLInCodeBlocks&&(l=""),s="<pre><code>"+s+l+"</code></pre>",t.subParser("hashBlock")(s,r,n)+a})),e=e.replace(/¨0/,""),e=n.converter._dispatch("codeBlocks.after",e,r,n)})),t.subParser("codeSpans",(function(e,r,n){return void 0===(e=n.converter._dispatch("codeSpans.before",e,r,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,o,i,s){var a=s;return a=(a=a.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),a=o+"<code>"+(a=t.subParser("encodeCode")(a,r,n))+"</code>",a=t.subParser("hashHTMLSpans")(a,r,n)})),e=n.converter._dispatch("codeSpans.after",e,r,n)})),t.subParser("completeHTMLDocument",(function(e,t,r){if(!t.completeHTMLDocument)return e;e=r.converter._dispatch("completeHTMLDocument.before",e,t,r);var n="html",o="<!DOCTYPE HTML>\n",i="",s='<meta charset="utf-8">\n',a="",l="";for(var c in void 0!==r.metadata.parsed.doctype&&(o="<!DOCTYPE "+r.metadata.parsed.doctype+">\n","html"!==(n=r.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==n||(s='<meta charset="utf-8">')),r.metadata.parsed)if(r.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":i="<title>"+r.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===n||"html5"===n?'<meta charset="'+r.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+r.metadata.parsed.charset+'">\n';break;case"language":case"lang":a=' lang="'+r.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+r.metadata.parsed[c]+'">\n'}return e=o+"<html"+a+">\n<head>\n"+i+s+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=r.converter._dispatch("completeHTMLDocument.after",e,t,r)})),t.subParser("detab",(function(e,t,r){return e=(e=(e=(e=r.converter._dispatch("detab.before",e,t,r)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var r=t,n=4-r.length%4,o=0;o<n;o++)r+=" ";return r})),e=(e=e.replace(/¨A/g,"    ")).replace(/¨B/g,""),e=r.converter._dispatch("detab.after",e,t,r)})),t.subParser("ellipsis",(function(e,t,r){return t.ellipsis?(e=(e=r.converter._dispatch("ellipsis.before",e,t,r)).replace(/\.\.\./g,"…"),e=r.converter._dispatch("ellipsis.after",e,t,r)):e})),t.subParser("emoji",(function(e,r,n){return r.emoji?(e=(e=n.converter._dispatch("emoji.before",e,r,n)).replace(/:([\S]+?):/g,(function(e,r){return t.helper.emojis.hasOwnProperty(r)?t.helper.emojis[r]:e})),e=n.converter._dispatch("emoji.after",e,r,n)):e})),t.subParser("encodeAmpsAndAngles",(function(e,t,r){return e=(e=(e=(e=(e=r.converter._dispatch("encodeAmpsAndAngles.before",e,t,r)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=r.converter._dispatch("encodeAmpsAndAngles.after",e,t,r)})),t.subParser("encodeBackslashEscapes",(function(e,r,n){return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,r,n)).replace(/\\(\\)/g,t.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,t.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeBackslashEscapes.after",e,r,n)})),t.subParser("encodeCode",(function(e,r,n){return e=(e=n.converter._dispatch("encodeCode.before",e,r,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,t.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeCode.after",e,r,n)})),t.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,r,n){return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,r,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)})),e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,r,n)})),t.subParser("githubCodeBlocks",(function(e,r,n){return r.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,r,n),e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,o,i,s){var a=r.omitExtraWLInCodeBlocks?"":"\n";return s=t.subParser("encodeCode")(s,r,n),s="<pre><code"+(i?' class="'+i+" language-"+i+'"':"")+">"+(s=(s=(s=t.subParser("detab")(s,r,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+a+"</code></pre>",s=t.subParser("hashBlock")(s,r,n),"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"})),e=e.replace(/¨0/,""),n.converter._dispatch("githubCodeBlocks.after",e,r,n)):e})),t.subParser("hashBlock",(function(e,t,r){return e=(e=r.converter._dispatch("hashBlock.before",e,t,r)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n",e=r.converter._dispatch("hashBlock.after",e,t,r)})),t.subParser("hashCodeTags",(function(e,r,n){return e=n.converter._dispatch("hashCodeTags.before",e,r,n),e=t.helper.replaceRecursiveRegExp(e,(function(e,o,i,s){var a=i+t.subParser("encodeCode")(o,r,n)+s;return"¨C"+(n.gHtmlSpans.push(a)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=n.converter._dispatch("hashCodeTags.after",e,r,n)})),t.subParser("hashElement",(function(e,t,r){return function(e,t){var n=t;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\n¨K"+(r.gHtmlBlocks.push(n)-1)+"K\n\n"}})),t.subParser("hashHTMLBlocks",(function(e,r,n){e=n.converter._dispatch("hashHTMLBlocks.before",e,r,n);var o=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function(e,t,r,o){var i=e;return-1!==r.search(/\bmarkdown\b/)&&(i=r+n.converter.makeHtml(t)+o),"\n\n¨K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"};r.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var s=0;s<o.length;++s)for(var a,l=new RegExp("^ {0,3}(<"+o[s]+"\\b[^>]*>)","im"),c="<"+o[s]+"\\b[^>]*>",h="</"+o[s]+">";-1!==(a=t.helper.regexIndexOf(e,l));){var u=t.helper.splitAtIndex(e,a),d=t.helper.replaceRecursiveRegExp(u[1],i,c,h,"im");if(d===u[1])break;e=u[0].concat(d)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,r,n)),e=(e=t.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,r,n)),e=n.converter._dispatch("hashHTMLBlocks.after",e,r,n)})),t.subParser("hashHTMLSpans",(function(e,t,r){function n(e){return"¨C"+(r.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=r.converter._dispatch("hashHTMLSpans.before",e,t,r)).replace(/<[^>]+?\/>/gi,(function(e){return n(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return n(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return n(e)}))).replace(/<[^>]+?>/gi,(function(e){return n(e)})),e=r.converter._dispatch("hashHTMLSpans.after",e,t,r)})),t.subParser("unhashHTMLSpans",(function(e,t,r){e=r.converter._dispatch("unhashHTMLSpans.before",e,t,r);for(var n=0;n<r.gHtmlSpans.length;++n){for(var o=r.gHtmlSpans[n],i=0;/¨C(\d+)C/.test(o);){var s=RegExp.$1;if(o=o.replace("¨C"+s+"C",r.gHtmlSpans[s]),10===i){console.error("maximum nesting of 10 spans reached!!!");break}++i}e=e.replace("¨C"+n+"C",o)}return e=r.converter._dispatch("unhashHTMLSpans.after",e,t,r)})),t.subParser("hashPreCodeTags",(function(e,r,n){return e=n.converter._dispatch("hashPreCodeTags.before",e,r,n),e=t.helper.replaceRecursiveRegExp(e,(function(e,o,i,s){var a=i+t.subParser("encodeCode")(o,r,n)+s;return"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=n.converter._dispatch("hashPreCodeTags.after",e,r,n)})),t.subParser("headers",(function(e,r,n){e=n.converter._dispatch("headers.before",e,r,n);var o=isNaN(parseInt(r.headerLevelStart))?1:parseInt(r.headerLevelStart),i=r.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,s=r.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(i,(function(e,i){var s=t.subParser("spanGamut")(i,r,n),a=r.noHeaderId?"":' id="'+l(i)+'"',c="<h"+o+a+">"+s+"</h"+o+">";return t.subParser("hashBlock")(c,r,n)}))).replace(s,(function(e,i){var s=t.subParser("spanGamut")(i,r,n),a=r.noHeaderId?"":' id="'+l(i)+'"',c=o+1,h="<h"+c+a+">"+s+"</h"+c+">";return t.subParser("hashBlock")(h,r,n)}));var a=r.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var o,i;if(r.customizedHeaderId){var s=e.match(/\{([^{]+?)}\s*$/);s&&s[1]&&(e=s[1])}return o=e,i=t.helper.isString(r.prefixHeaderId)?r.prefixHeaderId:!0===r.prefixHeaderId?"section-":"",r.rawPrefixHeaderId||(o=i+o),o=r.ghCompatibleHeaderId?o.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():r.rawHeaderId?o.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():o.replace(/[^\w]/g,"").toLowerCase(),r.rawPrefixHeaderId&&(o=i+o),n.hashLinkCounts[o]?o=o+"-"+n.hashLinkCounts[o]++:n.hashLinkCounts[o]=1,o}return e=e.replace(a,(function(e,i,s){var a=s;r.customizedHeaderId&&(a=s.replace(/\s?\{([^{]+?)}\s*$/,""));var c=t.subParser("spanGamut")(a,r,n),h=r.noHeaderId?"":' id="'+l(s)+'"',u=o-1+i.length,d="<h"+u+h+">"+c+"</h"+u+">";return t.subParser("hashBlock")(d,r,n)})),e=n.converter._dispatch("headers.after",e,r,n)})),t.subParser("horizontalRule",(function(e,r,n){e=n.converter._dispatch("horizontalRule.before",e,r,n);var o=t.subParser("hashBlock")("<hr />",r,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,o)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,o)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,o),e=n.converter._dispatch("horizontalRule.after",e,r,n)})),t.subParser("images",(function(e,r,n){function o(e,r,o,i,s,a,l,c){var h=n.gUrls,u=n.gTitles,d=n.gDimensions;if(o=o.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)i="";else if(""===i||null===i){if(""!==o&&null!==o||(o=r.toLowerCase().replace(/ ?\n/g," ")),i="#"+o,t.helper.isUndefined(h[o]))return e;i=h[o],t.helper.isUndefined(u[o])||(c=u[o]),t.helper.isUndefined(d[o])||(s=d[o].width,a=d[o].height)}r=r.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback);var f='<img src="'+(i=i.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'" alt="'+r+'"';return c&&t.helper.isString(c)&&(f+=' title="'+(c=c.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),s&&a&&(f+=' width="'+(s="*"===s?"auto":s)+'"',f+=' height="'+(a="*"===a?"auto":a)+'"'),f+=" />"}return e=(e=(e=(e=(e=(e=n.converter._dispatch("images.before",e,r,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,o)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,r,n,i,s,a,l){return o(e,t,r,n=n.replace(/\s/g,""),i,s,0,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,o)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,o)).replace(/!\[([^\[\]]+)]()()()()()/g,o),e=n.converter._dispatch("images.after",e,r,n)})),t.subParser("italicsAndBold",(function(e,t,r){function n(e,t,r){return t+e+r}return e=r.converter._dispatch("italicsAndBold.before",e,t,r),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return n(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return n(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return n(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?n(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,r){return n(r,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?n(t,"<em>","</em>"):e})),e=r.converter._dispatch("italicsAndBold.after",e,t,r)})),t.subParser("lists",(function(e,r,n){function o(e,o){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return r.disableForced4SpacesIndentedSublists&&(i=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(i,(function(e,o,i,a,l,c,h){h=h&&""!==h.trim();var u=t.subParser("outdent")(l,r,n),d="";return c&&r.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return h&&(e+=" checked"),e+=">"}))),u=u.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),o||u.search(/\n{2,}/)>-1?(u=t.subParser("githubCodeBlocks")(u,r,n),u=t.subParser("blockGamut")(u,r,n)):(u=(u=t.subParser("lists")(u,r,n)).replace(/\n$/,""),u=(u=t.subParser("hashHTMLBlocks")(u,r,n)).replace(/\n\n+/g,"\n\n"),u=s?t.subParser("paragraphs")(u,r,n):t.subParser("spanGamut")(u,r,n)),u="<li"+d+">"+(u=u.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),n.gListLevel--,o&&(e=e.replace(/\s+$/,"")),e}function i(e,t){if("ol"===t){var r=e.match(/^ *(\d+)\./);if(r&&"1"!==r[1])return' start="'+r[1]+'"'}return""}function s(e,t,n){var s=r.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,a=r.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===t?s:a,c="";if(-1!==e.search(l))!function r(h){var u=h.search(l),d=i(e,t);-1!==u?(c+="\n\n<"+t+d+">\n"+o(h.slice(0,u),!!n)+"</"+t+">\n",l="ul"==(t="ul"===t?"ol":"ul")?s:a,r(h.slice(u))):c+="\n\n<"+t+d+">\n"+o(h,!!n)+"</"+t+">\n"}(e);else{var h=i(e,t);c="\n\n<"+t+h+">\n"+o(e,!!n)+"</"+t+">\n"}return c}return e=n.converter._dispatch("lists.before",e,r,n),e+="¨0",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r){return s(t,r.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,r,n){return s(r,n.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=n.converter._dispatch("lists.after",e,r,n)})),t.subParser("metadata",(function(e,t,r){if(!t.metadata)return e;function n(e){r.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,n){return r.metadata.parsed[t]=n,""}))}return e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,r){return n(r),"¨M"})),e=e.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,o){return t&&(r.metadata.format=t),n(o),"¨M"})),e=e.replace(/¨M/g,""),e=r.converter._dispatch("metadata.after",e,t,r)})),t.subParser("outdent",(function(e,t,r){return e=(e=(e=r.converter._dispatch("outdent.before",e,t,r)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=r.converter._dispatch("outdent.after",e,t,r)})),t.subParser("paragraphs",(function(e,r,n){for(var o=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,r,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],s=o.length,a=0;a<s;a++){var l=o[a];l.search(/¨(K|G)(\d+)\1/g)>=0?i.push(l):l.search(/\S/)>=0&&(l=(l=t.subParser("spanGamut")(l,r,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",i.push(l))}for(s=i.length,a=0;a<s;a++){for(var c="",h=i[a],u=!1;/¨(K|G)(\d+)\1/.test(h);){var d=RegExp.$1,f=RegExp.$2;c=(c="K"===d?n.gHtmlBlocks[f]:u?t.subParser("encodeCode")(n.ghCodeBlocks[f].text,r,n):n.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),h=h.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(h)&&(u=!0)}i[a]=h}return e=(e=(e=i.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,r,n)})),t.subParser("runExtension",(function(e,t,r,n){if(e.filter)t=e.filter(t,n.converter,r);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t})),t.subParser("spanGamut",(function(e,r,n){return e=n.converter._dispatch("spanGamut.before",e,r,n),e=t.subParser("codeSpans")(e,r,n),e=t.subParser("escapeSpecialCharsWithinTagAttributes")(e,r,n),e=t.subParser("encodeBackslashEscapes")(e,r,n),e=t.subParser("images")(e,r,n),e=t.subParser("anchors")(e,r,n),e=t.subParser("autoLinks")(e,r,n),e=t.subParser("simplifiedAutoLinks")(e,r,n),e=t.subParser("emoji")(e,r,n),e=t.subParser("underline")(e,r,n),e=t.subParser("italicsAndBold")(e,r,n),e=t.subParser("strikethrough")(e,r,n),e=t.subParser("ellipsis")(e,r,n),e=t.subParser("hashHTMLSpans")(e,r,n),e=t.subParser("encodeAmpsAndAngles")(e,r,n),r.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=n.converter._dispatch("spanGamut.after",e,r,n)})),t.subParser("strikethrough",(function(e,r,n){return r.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,r,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,o){return function(e){return r.simplifiedAutoLink&&(e=t.subParser("simplifiedAutoLinks")(e,r,n)),"<del>"+e+"</del>"}(o)})),e=n.converter._dispatch("strikethrough.after",e,r,n)),e})),t.subParser("stripLinkDefinitions",(function(e,r,n){var o=function(o,i,s,a,l,c,h){return i=i.toLowerCase(),e.toLowerCase().split(i).length-1<2?o:(s.match(/^data:.+?\/.+?;base64,/)?n.gUrls[i]=s.replace(/\s/g,""):n.gUrls[i]=t.subParser("encodeAmpsAndAngles")(s,r,n),c?c+h:(h&&(n.gTitles[i]=h.replace(/"|'/g,"&quot;")),r.parseImgDimensions&&a&&l&&(n.gDimensions[i]={width:a,height:l}),""))};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,o)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,o)).replace(/¨0/,"")})),t.subParser("tables",(function(e,r,n){if(!r.tables)return e;function o(e,o){var i="";return e=e.trim(),(r.tablesHeaderId||r.tableHeaderId)&&(i=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),"<th"+i+o+">"+(e=t.subParser("spanGamut")(e,r,n))+"</th>\n"}function i(e){var i,s=e.split("\n");for(i=0;i<s.length;++i)/^ {0,3}\|/.test(s[i])&&(s[i]=s[i].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(s[i])&&(s[i]=s[i].replace(/\|[ \t]*$/,"")),s[i]=t.subParser("codeSpans")(s[i],r,n);var a,l,c=s[0].split("|").map((function(e){return e.trim()})),h=s[1].split("|").map((function(e){return e.trim()})),u=[],d=[],f=[],p=[];for(s.shift(),s.shift(),i=0;i<s.length;++i)""!==s[i].trim()&&u.push(s[i].split("|").map((function(e){return e.trim()})));if(c.length<h.length)return e;for(i=0;i<h.length;++i)f.push((a=h[i],/^:[ \t]*--*$/.test(a)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""));for(i=0;i<c.length;++i)t.helper.isUndefined(f[i])&&(f[i]=""),d.push(o(c[i],f[i]));for(i=0;i<u.length;++i){for(var g=[],m=0;m<d.length;++m)t.helper.isUndefined(u[i][m]),g.push((l=u[i][m],"<td"+f[m]+">"+t.subParser("spanGamut")(l,r,n)+"</td>\n"));p.push(g)}return function(e,t){for(var r="<table>\n<thead>\n<tr>\n",n=e.length,o=0;o<n;++o)r+=e[o];for(r+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){r+="<tr>\n";for(var i=0;i<n;++i)r+=t[o][i];r+="</tr>\n"}return r+"</tbody>\n</table>\n"}(d,p)}return e=(e=(e=(e=n.converter._dispatch("tables.before",e,r,n)).replace(/\\(\|)/g,t.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,i)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,i),e=n.converter._dispatch("tables.after",e,r,n)})),t.subParser("underline",(function(e,r,n){return r.underline?(e=n.converter._dispatch("underline.before",e,r,n),e=(e=r.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,t.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,r,n)):e})),t.subParser("unescapeSpecialChars",(function(e,t,r){return e=(e=r.converter._dispatch("unescapeSpecialChars.before",e,t,r)).replace(/¨E(\d+)E/g,(function(e,t){var r=parseInt(t);return String.fromCharCode(r)})),e=r.converter._dispatch("unescapeSpecialChars.after",e,t,r)})),t.subParser("makeMarkdown.blockquote",(function(e,r){var n="";if(e.hasChildNodes())for(var o=e.childNodes,i=o.length,s=0;s<i;++s){var a=t.subParser("makeMarkdown.node")(o[s],r);""!==a&&(n+=a)}return n="> "+(n=n.trim()).split("\n").join("\n> ")})),t.subParser("makeMarkdown.codeBlock",(function(e,t){var r=e.getAttribute("language"),n=e.getAttribute("precodenum");return"```"+r+"\n"+t.preList[n]+"\n```"})),t.subParser("makeMarkdown.codeSpan",(function(e){return"`"+e.innerHTML+"`"})),t.subParser("makeMarkdown.emphasis",(function(e,r){var n="";if(e.hasChildNodes()){n+="*";for(var o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);n+="*"}return n})),t.subParser("makeMarkdown.header",(function(e,r,n){var o=new Array(n+1).join("#"),i="";if(e.hasChildNodes()){i=o+" ";for(var s=e.childNodes,a=s.length,l=0;l<a;++l)i+=t.subParser("makeMarkdown.node")(s[l],r)}return i})),t.subParser("makeMarkdown.hr",(function(){return"---"})),t.subParser("makeMarkdown.image",(function(e){var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),t.subParser("makeMarkdown.links",(function(e,r){var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){var o=e.childNodes,i=o.length;n="[";for(var s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n})),t.subParser("makeMarkdown.list",(function(e,r,n){var o="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,s=i.length,a=e.getAttribute("start")||1,l=0;l<s;++l)void 0!==i[l].tagName&&"li"===i[l].tagName.toLowerCase()&&(o+=("ol"===n?a.toString()+". ":"- ")+t.subParser("makeMarkdown.listItem")(i[l],r),++a);return(o+="\n\x3c!-- --\x3e\n").trim()})),t.subParser("makeMarkdown.listItem",(function(e,r){for(var n="",o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),t.subParser("makeMarkdown.node",(function(e,r,n){n=n||!1;var o="";if(3===e.nodeType)return t.subParser("makeMarkdown.txt")(e,r);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(o=t.subParser("makeMarkdown.header")(e,r,1)+"\n\n");break;case"h2":n||(o=t.subParser("makeMarkdown.header")(e,r,2)+"\n\n");break;case"h3":n||(o=t.subParser("makeMarkdown.header")(e,r,3)+"\n\n");break;case"h4":n||(o=t.subParser("makeMarkdown.header")(e,r,4)+"\n\n");break;case"h5":n||(o=t.subParser("makeMarkdown.header")(e,r,5)+"\n\n");break;case"h6":n||(o=t.subParser("makeMarkdown.header")(e,r,6)+"\n\n");break;case"p":n||(o=t.subParser("makeMarkdown.paragraph")(e,r)+"\n\n");break;case"blockquote":n||(o=t.subParser("makeMarkdown.blockquote")(e,r)+"\n\n");break;case"hr":n||(o=t.subParser("makeMarkdown.hr")(e,r)+"\n\n");break;case"ol":n||(o=t.subParser("makeMarkdown.list")(e,r,"ol")+"\n\n");break;case"ul":n||(o=t.subParser("makeMarkdown.list")(e,r,"ul")+"\n\n");break;case"precode":n||(o=t.subParser("makeMarkdown.codeBlock")(e,r)+"\n\n");break;case"pre":n||(o=t.subParser("makeMarkdown.pre")(e,r)+"\n\n");break;case"table":n||(o=t.subParser("makeMarkdown.table")(e,r)+"\n\n");break;case"code":o=t.subParser("makeMarkdown.codeSpan")(e,r);break;case"em":case"i":o=t.subParser("makeMarkdown.emphasis")(e,r);break;case"strong":case"b":o=t.subParser("makeMarkdown.strong")(e,r);break;case"del":o=t.subParser("makeMarkdown.strikethrough")(e,r);break;case"a":o=t.subParser("makeMarkdown.links")(e,r);break;case"img":o=t.subParser("makeMarkdown.image")(e,r);break;default:o=e.outerHTML+"\n\n"}return o})),t.subParser("makeMarkdown.paragraph",(function(e,r){var n="";if(e.hasChildNodes())for(var o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);return n=n.trim()})),t.subParser("makeMarkdown.pre",(function(e,t){var r=e.getAttribute("prenum");return"<pre>"+t.preList[r]+"</pre>"})),t.subParser("makeMarkdown.strikethrough",(function(e,r){var n="";if(e.hasChildNodes()){n+="~~";for(var o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);n+="~~"}return n})),t.subParser("makeMarkdown.strong",(function(e,r){var n="";if(e.hasChildNodes()){n+="**";for(var o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r);n+="**"}return n})),t.subParser("makeMarkdown.table",(function(e,r){var n,o,i="",s=[[],[]],a=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(n=0;n<a.length;++n){var c=t.subParser("makeMarkdown.tableCell")(a[n],r),h="---";if(a[n].hasAttribute("style"))switch(a[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":h=":---";break;case"text-align:right;":h="---:";break;case"text-align:center;":h=":---:"}s[0][n]=c.trim(),s[1][n]=h}for(n=0;n<l.length;++n){var u=s.push([])-1,d=l[n].getElementsByTagName("td");for(o=0;o<a.length;++o){var f=" ";void 0!==d[o]&&(f=t.subParser("makeMarkdown.tableCell")(d[o],r)),s[u].push(f)}}var p=3;for(n=0;n<s.length;++n)for(o=0;o<s[n].length;++o){var g=s[n][o].length;g>p&&(p=g)}for(n=0;n<s.length;++n){for(o=0;o<s[n].length;++o)1===n?":"===s[n][o].slice(-1)?s[n][o]=t.helper.padEnd(s[n][o].slice(-1),p-1,"-")+":":s[n][o]=t.helper.padEnd(s[n][o],p,"-"):s[n][o]=t.helper.padEnd(s[n][o],p);i+="| "+s[n].join(" | ")+" |\n"}return i.trim()})),t.subParser("makeMarkdown.tableCell",(function(e,r){var n="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,i=o.length,s=0;s<i;++s)n+=t.subParser("makeMarkdown.node")(o[s],r,!0);return n.trim()})),t.subParser("makeMarkdown.txt",(function(e){var r=e.nodeValue;return r=(r=r.replace(/ +/g," ")).replace(/¨NBSP;/g," "),r=(r=(r=(r=(r=(r=(r=(r=(r=t.helper.unescapeHTMLEntities(r)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")})),Tb.exports?Tb.exports=t:this.showdown=t}.call(_b);var Rb=Pb.exports;const Ab=Ob("emailit"),zb=Ob(void 0),Mb=Ob({to:"",subject:"",body:""}),jb=Ob(void 0),Eb=Ob(void 0),Wb=Ob(!1),Db=Ob(!1);function Xb(e,t,r){const n=e.slice();return n[96]=t[r],n}function Lb(e,t,r){const n=e.slice();return n[96]=t[r],n}function Ib(e,t,r){const n=e.slice();return n[101]=t[r],n}function Zb(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,y,C,$,T,_,P,R,A,z,M,j,E,W,D,X,L,I,Z,q,N,B,V,G,U,F,H,Y,J,K,ee,te,re,ne,oe,ie,se;return{c(){t=O("div"),r=O("label"),r.textContent="Default:",o=v(),i=O("input"),s=v(),a=O("label"),a.textContent="Name of Account:",l=v(),c=O("input"),h=v(),u=O("label"),u.textContent="From Email:",d=v(),m=O("input"),x=v(),y=O("label"),y.textContent="Address of SMPT Server:",C=v(),$=O("input"),T=v(),_=O("label"),_.textContent="SMPT Server Port:",P=v(),R=O("input"),A=v(),z=O("label"),z.textContent="User Name:",M=v(),j=O("input"),E=v(),W=O("label"),W.textContent="Password:",D=v(),X=O("input"),L=v(),I=O("label"),I.textContent="Signiture:",Z=v(),q=O("textarea"),N=v(),B=O("label"),B.textContent="Header HTML:",V=v(),G=O("textarea"),U=v(),F=O("label"),F.textContent="Footer HTML:",H=v(),Y=O("textarea"),J=v(),K=O("div"),ee=O("button"),te=b("Save"),re=v(),ne=O("button"),oe=b("Cancel"),k(r,"for","accountDefaultInput"),k(r,"class","newAccountLabel svelte-1fv5snm"),k(i,"id","accountDefaultInput"),k(i,"type","checkbox"),k(i,"class","svelte-1fv5snm"),k(a,"for","accountNameInput"),k(a,"class","newAccountLabel svelte-1fv5snm"),k(c,"id","accountNameInput"),S(c,"background-color",e[28].textAreaColor),S(c,"color",e[28].textColor),S(c,"border-color",e[28].borderColor),k(c,"class","svelte-1fv5snm"),k(u,"for","accountFromInput"),k(u,"class","newAccountLabel svelte-1fv5snm"),k(m,"id","accountFromInput"),S(m,"background-color",e[28].textAreaColor),S(m,"color",e[28].textColor),S(m,"border-color",e[28].borderColor),k(m,"class","svelte-1fv5snm"),k(y,"for","accountSmptServerInput"),k(y,"class","newAccountLabel svelte-1fv5snm"),k($,"id","accountSmptServerInput"),S($,"background-color",e[28].textAreaColor),S($,"color",e[28].textColor),S($,"border-color",e[28].borderColor),k($,"class","svelte-1fv5snm"),k(_,"for","accountPortInput"),k(_,"class","newAccountLabel svelte-1fv5snm"),k(R,"id","accountPortInput"),S(R,"background-color",e[28].textAreaColor),S(R,"color",e[28].textColor),S(R,"border-color",e[28].borderColor),k(R,"class","svelte-1fv5snm"),k(z,"for","accountUsernameInput"),k(z,"class","newAccountLabel svelte-1fv5snm"),k(j,"id","accountUsernameInput"),S(j,"background-color",e[28].textAreaColor),S(j,"color",e[28].textColor),S(j,"border-color",e[28].borderColor),k(j,"class","svelte-1fv5snm"),k(W,"for","accountPasswordInput"),k(W,"class","newAccountLabel svelte-1fv5snm"),k(X,"id","accountPasswordInput"),S(X,"background-color",e[28].textAreaColor),S(X,"color",e[28].textColor),S(X,"border-color",e[28].borderColor),k(X,"class","svelte-1fv5snm"),k(I,"for","accountSigInput"),k(I,"class","newAccountLabel svelte-1fv5snm"),k(q,"id","accountSigInput"),S(q,"background-color",e[28].textAreaColor),S(q,"color",e[28].textColor),S(q,"border-color",e[28].borderColor),k(q,"class","svelte-1fv5snm"),k(B,"for","accountHeaderHTMLInput"),k(B,"class","newAccountLabel svelte-1fv5snm"),k(G,"id","accountHeaderHTMLInput"),S(G,"background-color",e[28].textAreaColor),S(G,"color",e[28].textColor),S(G,"border-color",e[28].borderColor),k(G,"class","svelte-1fv5snm"),k(F,"for","accountFooterHTMLInput"),k(F,"class","newAccountLabel svelte-1fv5snm"),k(Y,"id","accountFooterHTMLInput"),S(Y,"background-color",e[28].textAreaColor),S(Y,"color",e[28].textColor),S(Y,"border-color",e[28].borderColor),k(Y,"class","svelte-1fv5snm"),k(ee,"id","save"),S(ee,"background-color",e[28].textAreaColor),S(ee,"color",e[28].textColor),S(ee,"border-color",e[28].borderColor),k(ee,"class","svelte-1fv5snm"),k(ne,"id","cancel"),S(ne,"background-color",e[28].textAreaColor),S(ne,"color",e[28].textColor),S(ne,"border-color",e[28].borderColor),k(ne,"class","svelte-1fv5snm"),k(K,"id","buttonrow"),S(K,"grid-column","1 / span 2"),k(K,"class","svelte-1fv5snm"),k(t,"id","newAccountDialog"),S(t,"background-color",e[28].backgroundColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(n,g){p(n,t,g),f(t,r),f(t,o),f(t,i),i.checked=e[16],f(t,s),f(t,a),f(t,l),f(t,c),Q(c,e[8]),f(t,h),f(t,u),f(t,d),f(t,m),Q(m,e[7]),f(t,x),f(t,y),f(t,C),f(t,$),Q($,e[10]),f(t,T),f(t,_),f(t,P),f(t,R),Q(R,e[12]),f(t,A),f(t,z),f(t,M),f(t,j),Q(j,e[9]),f(t,E),f(t,W),f(t,D),f(t,X),Q(X,e[11]),f(t,L),f(t,I),f(t,Z),f(t,q),Q(q,e[13]),f(t,N),f(t,B),f(t,V),f(t,G),Q(G,e[14]),f(t,U),f(t,F),f(t,H),f(t,Y),Q(Y,e[15]),f(t,J),f(t,K),f(K,ee),f(ee,te),f(K,re),f(K,ne),f(ne,oe),ie||(se=[w(i,"change",e[53]),w(c,"input",e[54]),w(m,"input",e[55]),w($,"input",e[56]),w(R,"input",e[57]),w(j,"input",e[58]),w(X,"input",e[59]),w(q,"input",e[60]),w(G,"input",e[61]),w(Y,"input",e[62]),w(ee,"click",e[43]),w(ne,"click",e[45])],ie=!0)},p(e,r){65536&r[0]&&(i.checked=e[16]),268435456&r[0]&&S(c,"background-color",e[28].textAreaColor),268435456&r[0]&&S(c,"color",e[28].textColor),268435456&r[0]&&S(c,"border-color",e[28].borderColor),256&r[0]&&c.value!==e[8]&&Q(c,e[8]),268435456&r[0]&&S(m,"background-color",e[28].textAreaColor),268435456&r[0]&&S(m,"color",e[28].textColor),268435456&r[0]&&S(m,"border-color",e[28].borderColor),128&r[0]&&m.value!==e[7]&&Q(m,e[7]),268435456&r[0]&&S($,"background-color",e[28].textAreaColor),268435456&r[0]&&S($,"color",e[28].textColor),268435456&r[0]&&S($,"border-color",e[28].borderColor),1024&r[0]&&$.value!==e[10]&&Q($,e[10]),268435456&r[0]&&S(R,"background-color",e[28].textAreaColor),268435456&r[0]&&S(R,"color",e[28].textColor),268435456&r[0]&&S(R,"border-color",e[28].borderColor),4096&r[0]&&R.value!==e[12]&&Q(R,e[12]),268435456&r[0]&&S(j,"background-color",e[28].textAreaColor),268435456&r[0]&&S(j,"color",e[28].textColor),268435456&r[0]&&S(j,"border-color",e[28].borderColor),512&r[0]&&j.value!==e[9]&&Q(j,e[9]),268435456&r[0]&&S(X,"background-color",e[28].textAreaColor),268435456&r[0]&&S(X,"color",e[28].textColor),268435456&r[0]&&S(X,"border-color",e[28].borderColor),2048&r[0]&&X.value!==e[11]&&Q(X,e[11]),268435456&r[0]&&S(q,"background-color",e[28].textAreaColor),268435456&r[0]&&S(q,"color",e[28].textColor),268435456&r[0]&&S(q,"border-color",e[28].borderColor),8192&r[0]&&Q(q,e[13]),268435456&r[0]&&S(G,"background-color",e[28].textAreaColor),268435456&r[0]&&S(G,"color",e[28].textColor),268435456&r[0]&&S(G,"border-color",e[28].borderColor),16384&r[0]&&Q(G,e[14]),268435456&r[0]&&S(Y,"background-color",e[28].textAreaColor),268435456&r[0]&&S(Y,"color",e[28].textColor),268435456&r[0]&&S(Y,"border-color",e[28].borderColor),32768&r[0]&&Q(Y,e[15]),268435456&r[0]&&S(ee,"background-color",e[28].textAreaColor),268435456&r[0]&&S(ee,"color",e[28].textColor),268435456&r[0]&&S(ee,"border-color",e[28].borderColor),268435456&r[0]&&S(ne,"background-color",e[28].textAreaColor),268435456&r[0]&&S(ne,"color",e[28].textColor),268435456&r[0]&&S(ne,"border-color",e[28].borderColor),268435456&r[0]&&S(t,"background-color",e[28].backgroundColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),ie=!1,n(se)}}}function qb(e){let t,r,o,i,s,a,l,c,h,u,d,x,y,Q,C,$,T,_,P,R,A,z,M;function j(e,t){return void 0!==e[27]?Bb:Nb}let E=j(e),W=E(e),D=e[3],X=[];for(let t=0;t<D.length;t+=1)X[t]=Vb(Ib(e,D,t));return{c(){t=O("div"),r=O("h1"),r.textContent="Email It - Change Account",o=v(),W.c(),i=v(),s=O("div");for(let e=0;e<X.length;e+=1)X[e].c();a=v(),l=O("div"),c=O("button"),h=b("Save"),u=v(),d=O("button"),x=b("New"),y=v(),Q=O("button"),C=b("Edit"),$=v(),T=O("button"),_=b("Cancel"),P=v(),R=O("button"),A=b("Delete"),k(r,"class","svelte-1fv5snm"),k(s,"id","AccountsList"),k(s,"class","svelte-1fv5snm"),k(c,"id","save"),S(c,"background-color",e[28].textAreaColor),S(c,"color",e[28].textColor),S(c,"border-color",e[28].borderColor),k(c,"class","svelte-1fv5snm"),k(d,"id","new"),S(d,"background-color",e[28].textAreaColor),S(d,"color",e[28].textColor),S(d,"border-color",e[28].borderColor),k(d,"class","svelte-1fv5snm"),k(Q,"id","edit"),S(Q,"background-color",e[28].textAreaColor),S(Q,"color",e[28].textColor),S(Q,"border-color",e[28].borderColor),k(Q,"class","svelte-1fv5snm"),k(T,"id","cancel"),S(T,"background-color",e[28].textAreaColor),S(T,"color",e[28].textColor),S(T,"border-color",e[28].borderColor),k(T,"class","svelte-1fv5snm"),k(R,"id","delete"),S(R,"background-color",e[28].textAreaColor),S(R,"color",e[28].textColor),S(R,"border-color",e[28].borderColor),k(R,"class","svelte-1fv5snm"),k(l,"id","buttonrow"),k(l,"class","svelte-1fv5snm"),k(t,"id","accountsDiv"),S(t,"background-color",e[28].backgroundColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(n,g){p(n,t,g),f(t,r),f(t,o),W.m(t,null),f(t,i),f(t,s);for(let e=0;e<X.length;e+=1)X[e].m(s,null);f(t,a),f(t,l),f(l,c),f(c,h),f(l,u),f(l,d),f(d,x),f(l,y),f(l,Q),f(Q,C),f(l,$),f(l,T),f(T,_),f(l,P),f(l,R),f(R,A),z||(M=[w(c,"click",e[35]),w(d,"click",e[36]),w(Q,"click",e[46]),w(T,"click",e[37]),w(R,"click",e[44])],z=!0)},p(e,r){if(E===(E=j(e))&&W?W.p(e,r):(W.d(1),W=E(e),W&&(W.c(),W.m(t,i))),268435464&r[0]|128&r[1]){let t;for(D=e[3],t=0;t<D.length;t+=1){const n=Ib(e,D,t);X[t]?X[t].p(n,r):(X[t]=Vb(n),X[t].c(),X[t].m(s,null))}for(;t<X.length;t+=1)X[t].d(1);X.length=D.length}268435456&r[0]&&S(c,"background-color",e[28].textAreaColor),268435456&r[0]&&S(c,"color",e[28].textColor),268435456&r[0]&&S(c,"border-color",e[28].borderColor),268435456&r[0]&&S(d,"background-color",e[28].textAreaColor),268435456&r[0]&&S(d,"color",e[28].textColor),268435456&r[0]&&S(d,"border-color",e[28].borderColor),268435456&r[0]&&S(Q,"background-color",e[28].textAreaColor),268435456&r[0]&&S(Q,"color",e[28].textColor),268435456&r[0]&&S(Q,"border-color",e[28].borderColor),268435456&r[0]&&S(T,"background-color",e[28].textAreaColor),268435456&r[0]&&S(T,"color",e[28].textColor),268435456&r[0]&&S(T,"border-color",e[28].borderColor),268435456&r[0]&&S(R,"background-color",e[28].textAreaColor),268435456&r[0]&&S(R,"color",e[28].textColor),268435456&r[0]&&S(R,"border-color",e[28].borderColor),268435456&r[0]&&S(t,"background-color",e[28].backgroundColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),W.d(),m(X,e),z=!1,n(M)}}}function Nb(t){let r;return{c(){r=O("h2"),r.textContent="Current Account: Please Create an Account",k(r,"class","svelte-1fv5snm")},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function Bb(e){let t,r,n,o=e[27].name+"";return{c(){t=O("h2"),r=b("Current Account: "),n=b(o),k(t,"class","svelte-1fv5snm")},m(e,o){p(e,t,o),f(t,r),f(t,n)},p(e,t){134217728&t[0]&&o!==(o=e[27].name+"")&&y(n,o)},d(e){e&&g(t)}}}function Vb(e){let t,r,n,o,i,s=e[101].name+"";function a(){return e[63](e[101])}return{c(){t=O("button"),r=b(s),n=v(),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(e,s){p(e,t,s),f(t,r),f(t,n),o||(i=w(t,"click",a),o=!0)},p(n,o){e=n,8&o[0]&&s!==(s=e[101].name+"")&&y(r,s),268435456&o[0]&&S(t,"background-color",e[28].textAreaColor),268435456&o[0]&&S(t,"color",e[28].textColor),268435456&o[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),o=!1,i()}}}function Gb(e){let t,r,n=e[20],o=[];for(let t=0;t<n.length;t+=1)o[t]=Ub(Lb(e,n,t));return{c(){t=O("div"),r=O("ul");for(let e=0;e<o.length;e+=1)o[e].c();k(r,"class","svelte-1fv5snm"),k(t,"id","elist"),S(t,"width",e[26].offsetWidth+"px"),S(t,"left",sv(e[26]).left+"px"),S(t,"top",sv(e[26]).top+40+"px"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(e,n){p(e,t,n),f(t,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null)},p(e,i){if(68157440&i[0]|1&i[1]){let t;for(n=e[20],t=0;t<n.length;t+=1){const s=Lb(e,n,t);o[t]?o[t].p(s,i):(o[t]=Ub(s),o[t].c(),o[t].m(r,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=n.length}67108864&i[0]&&S(t,"width",e[26].offsetWidth+"px"),67108864&i[0]&&S(t,"left",sv(e[26]).left+"px"),67108864&i[0]&&S(t,"top",sv(e[26]).top+40+"px"),268435456&i[0]&&S(t,"background-color",e[28].textAreaColor),268435456&i[0]&&S(t,"color",e[28].textColor),268435456&i[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),m(o,e)}}}function Ub(e){let t,r,n,o,i,s=e[96]+"";function a(){return e[71](e[96])}return{c(){t=O("li"),r=b(s),n=v(),k(t,"class","svelte-1fv5snm")},m(e,s){p(e,t,s),f(t,r),f(t,n),o||(i=w(t,"click",a),o=!0)},p(t,n){e=t,1048576&n[0]&&s!==(s=e[96]+"")&&y(r,s)},d(e){e&&g(t),o=!1,i()}}}function Fb(e){let t,r;return t=new wb({props:{height:"330px",width:"983px",config:e[29],initFinished:e[18],styling:"position: relative; margin-bottom: 20px; border: solid 1px transparent; border-radius: 20px; overflow: hidden;"}}),t.$on("textChange",e[73]),t.$on("editorChange",e[74]),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},p(e,r){const n={};262144&r[0]&&(n.initFinished=e[18]),t.$set(n)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Hb(t){let r;return{c(){r=O("div"),k(r,"id","preview"),S(r,"border-color",t[28].textColor),k(r,"class","svelte-1fv5snm")},m(e,n){p(e,r,n),r.innerHTML=t[17]},p(e,t){131072&t[0]&&(r.innerHTML=e[17]),268435456&t[0]&&S(r,"border-color",e[28].textColor)},i:e,o:e,d(e){e&&g(r)}}}function Yb(e){let t,r,o,i,s,a,l;return{c(){t=O("button"),r=b("Edit"),o=v(),i=O("button"),s=b("Send"),k(t,"id","edit"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm"),k(i,"id","send"),S(i,"background-color",e[28].textAreaColor),S(i,"color",e[28].textColor),S(i,"border-color",e[28].borderColor),k(i,"class","svelte-1fv5snm")},m(n,c){p(n,t,c),f(t,r),p(n,o,c),p(n,i,c),f(i,s),a||(l=[w(t,"click",e[40]),w(i,"click",e[41])],a=!0)},p(e,r){268435456&r[0]&&S(t,"background-color",e[28].textAreaColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor),268435456&r[0]&&S(i,"background-color",e[28].textAreaColor),268435456&r[0]&&S(i,"color",e[28].textColor),268435456&r[0]&&S(i,"border-color",e[28].borderColor)},d(e){e&&g(t),e&&g(o),e&&g(i),a=!1,n(l)}}}function Jb(e){let t,r,n,o;return{c(){t=O("button"),r=b("Preview"),k(t,"id","showPreview"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(i,s){p(i,t,s),f(t,r),n||(o=w(t,"click",e[39]),n=!0)},p(e,r){268435456&r[0]&&S(t,"background-color",e[28].textAreaColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),n=!1,o()}}}function Kb(e){let t,r,n,o,i=e[27].name+"";return{c(){t=O("button"),r=b(i),k(t,"id","account"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(i,s){p(i,t,s),f(t,r),n||(o=w(t,"click",e[34]),n=!0)},p(e,n){134217728&n[0]&&i!==(i=e[27].name+"")&&y(r,i),268435456&n[0]&&S(t,"background-color",e[28].textAreaColor),268435456&n[0]&&S(t,"color",e[28].textColor),268435456&n[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),n=!1,o()}}}function ev(e){let t,r,n,o;return{c(){t=O("button"),r=b("Create a New Account"),k(t,"id","account"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(i,s){p(i,t,s),f(t,r),n||(o=w(t,"click",e[36]),n=!0)},p(e,r){268435456&r[0]&&S(t,"background-color",e[28].textAreaColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),n=!1,o()}}}function tv(e){let t,r,n,o,i,s,a,l,c,h,u,d,m=e[19].length>0&&rv(e);return{c(){t=O("div"),r=O("h1"),n=b(e[21]),o=v(),i=O("p"),s=b(e[22]),a=v(),m&&m.c(),l=v(),c=O("button"),h=b("Close"),k(r,"class","svelte-1fv5snm"),k(c,"class","alertbutton svelte-1fv5snm"),S(c,"background-color",e[28].textAreaColor),S(c,"color",e[28].textColor),S(c,"border-color",e[28].borderColor),S(c,"border-color",e[28].backgroundColor),k(t,"id","alert"),S(t,"background-color",e[28].textAreaColor),S(t,"color",e[28].textColor),S(t,"border-color",e[28].borderColor),k(t,"class","svelte-1fv5snm")},m(g,O){p(g,t,O),f(t,r),f(r,n),f(t,o),f(t,i),f(i,s),f(t,a),m&&m.m(t,null),f(t,l),f(t,c),f(c,h),u||(d=w(c,"click",e[75]),u=!0)},p(e,r){2097152&r[0]&&y(n,e[21]),4194304&r[0]&&y(s,e[22]),e[19].length>0?m?m.p(e,r):(m=rv(e),m.c(),m.m(t,l)):m&&(m.d(1),m=null),268435456&r[0]&&S(c,"background-color",e[28].textAreaColor),268435456&r[0]&&S(c,"color",e[28].textColor),268435456&r[0]&&S(c,"border-color",e[28].borderColor),268435456&r[0]&&S(c,"border-color",e[28].backgroundColor),268435456&r[0]&&S(t,"background-color",e[28].textAreaColor),268435456&r[0]&&S(t,"color",e[28].textColor),268435456&r[0]&&S(t,"border-color",e[28].borderColor)},d(e){e&&g(t),m&&m.d(),u=!1,d()}}}function rv(e){let t,r=e[19],n=[];for(let t=0;t<r.length;t+=1)n[t]=nv(Xb(e,r,t));return{c(){t=O("ul");for(let e=0;e<n.length;e+=1)n[e].c();k(t,"class","svelte-1fv5snm")},m(e,r){p(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,o){if(524288&o[0]){let i;for(r=e[19],i=0;i<r.length;i+=1){const s=Xb(e,r,i);n[i]?n[i].p(s,o):(n[i]=nv(s),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(e){e&&g(t),m(n,e)}}}function nv(e){let t,r,n=e[96]+"";return{c(){t=O("li"),r=b(n),k(t,"class","svelte-1fv5snm")},m(e,n){p(e,t,n),f(t,r)},p(e,t){524288&t[0]&&n!==(n=e[96]+"")&&y(r,n)},d(e){e&&g(t)}}}function ov(e){let t,r,n;function o(t){e[76](t)}let i={};return void 0!==e[25]&&(i.show=e[25]),t=new $b({props:i}),W.push((()=>re(t,"show",o))),{c(){ne(t.$$.fragment)},m(e,r){oe(t,e,r),n=!0},p(e,n){const o={};!r&&33554432&n[0]&&(r=!0,o.show=e[25],B((()=>r=!1))),t.$set(o)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ie(t,e)}}}function iv(e){let t,r,o,i,s,a,l,c,h,u,d,m,y,C,$,T,_,P,R,A,z,M,j,E,W,D,X,L,I,Z,q,N,B,V,G,U,F,H,Y,re,ne,oe,ie,se=e[5]&&Zb(e),ae=e[4]&&qb(e),le=e[24]&&e[20].length>0&&Gb(e);const ce=[Hb,Fb],he=[];function ue(e,t){return e[6]?0:1}function de(e,t){return"edit"===e[2]?Jb:Yb}P=ue(e),R=he[P]=ce[P](e);let fe=de(e),pe=fe(e);function ge(e,t){return void 0===e[27]?ev:Kb}let me=ge(e),Oe=me(e),be=e[23]&&tv(e),ve=e[25]&&ov(e);return{c(){t=O("div"),se&&se.c(),r=v(),ae&&ae.c(),o=v(),i=O("h1"),i.textContent="Email It",s=v(),a=O("div"),l=O("div"),c=O("label"),c.textContent="To:",h=v(),u=O("input"),d=v(),le&&le.c(),m=v(),y=O("div"),C=O("label"),C.textContent="Subject:",$=v(),T=O("input"),_=v(),R.c(),A=v(),z=O("div"),M=O("button"),j=b("Notes"),E=v(),pe.c(),W=v(),Oe.c(),D=v(),X=O("button"),L=b("Clear"),I=v(),Z=O("button"),q=b("Templates"),N=v(),B=O("button"),V=b("Scripts"),G=v(),U=O("button"),F=b("Address Book"),H=v(),be&&be.c(),Y=v(),ve&&ve.c(),re=x(),k(i,"class","svelte-1fv5snm"),k(c,"for","receiverInput"),k(c,"class","svelte-1fv5snm"),k(u,"id","receiverInput"),k(u,"class","receiverInput svelte-1fv5snm"),S(u,"background-color",e[28].textAreaColor),S(u,"color",e[28].textColor),S(u,"border-color",e[28].borderColor),k(l,"class","headerRow svelte-1fv5snm"),k(C,"for","subject"),k(C,"class","svelte-1fv5snm"),k(T,"id","subject"),S(T,"background-color",e[28].textAreaColor),S(T,"color",e[28].textColor),S(T,"border-color",e[28].borderColor),k(T,"class","svelte-1fv5snm"),k(y,"class","headerRow svelte-1fv5snm"),k(a,"id","header"),k(a,"class","svelte-1fv5snm"),S(M,"background-color",e[28].textAreaColor),S(M,"color",e[28].textColor),S(M,"border-color",e[28].borderColor),k(M,"class","svelte-1fv5snm"),k(X,"id","clear"),S(X,"background-color",e[28].textAreaColor),S(X,"color",e[28].textColor),S(X,"border-color",e[28].borderColor),k(X,"class","svelte-1fv5snm"),S(Z,"background-color",e[28].textAreaColor),S(Z,"color",e[28].textColor),S(Z,"border-color",e[28].borderColor),k(Z,"class","svelte-1fv5snm"),S(B,"background-color",e[28].textAreaColor),S(B,"color",e[28].textColor),S(B,"border-color",e[28].borderColor),k(B,"class","svelte-1fv5snm"),k(U,"id","addressBook"),S(U,"background-color",e[28].textAreaColor),S(U,"color",e[28].textColor),S(U,"border-color",e[28].borderColor),k(U,"class","svelte-1fv5snm"),k(z,"id","buttonrow"),k(z,"class","svelte-1fv5snm"),k(t,"id","main"),S(t,"background-color",e[28].backgroundColor),S(t,"font-family",e[28].font),S(t,"color",e[28].textColor),S(t,"font-size",e[28].fontSize),k(t,"class","svelte-1fv5snm")},m(n,g){p(n,t,g),se&&se.m(t,null),f(t,r),ae&&ae.m(t,null),f(t,o),f(t,i),f(t,s),f(t,a),f(a,l),f(l,c),f(l,h),f(l,u),Q(u,e[0]),e[65](u),f(l,d),le&&le.m(l,null),f(a,m),f(a,y),f(y,C),f(y,$),f(y,T),e[72](T),f(t,_),he[P].m(t,null),f(t,A),f(t,z),f(z,M),f(M,j),f(z,E),pe.m(z,null),f(z,W),Oe.m(z,null),f(z,D),f(z,X),f(X,L),f(z,I),f(z,Z),f(Z,q),f(z,N),f(z,B),f(B,V),f(z,G),f(z,U),f(U,F),p(n,H,g),be&&be.m(n,g),p(n,Y,g),ve&&ve.m(n,g),p(n,re,g),ne=!0,oe||(ie=[w(u,"input",e[64]),w(u,"blur",e[66]),w(u,"focus",e[67]),w(u,"keydown",e[68]),w(u,"keyup",e[69]),w(u,"change",e[70]),w(T,"blur",e[48]),w(M,"click",e[47]),w(X,"click",e[42]),w(Z,"click",e[50]),w(B,"click",e[49]),w(U,"click",e[52])],oe=!0)},p(e,n){e[5]?se?se.p(e,n):(se=Zb(e),se.c(),se.m(t,r)):se&&(se.d(1),se=null),e[4]?ae?ae.p(e,n):(ae=qb(e),ae.c(),ae.m(t,o)):ae&&(ae.d(1),ae=null),(!ne||268435456&n[0])&&S(u,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(u,"color",e[28].textColor),(!ne||268435456&n[0])&&S(u,"border-color",e[28].borderColor),1&n[0]&&u.value!==e[0]&&Q(u,e[0]),e[24]&&e[20].length>0?le?le.p(e,n):(le=Gb(e),le.c(),le.m(l,null)):le&&(le.d(1),le=null),(!ne||268435456&n[0])&&S(T,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(T,"color",e[28].textColor),(!ne||268435456&n[0])&&S(T,"border-color",e[28].borderColor);let i=P;P=ue(e),P===i?he[P].p(e,n):(J(),te(he[i],1,1,(()=>{he[i]=null})),K(),R=he[P],R?R.p(e,n):(R=he[P]=ce[P](e),R.c()),ee(R,1),R.m(t,A)),(!ne||268435456&n[0])&&S(M,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(M,"color",e[28].textColor),(!ne||268435456&n[0])&&S(M,"border-color",e[28].borderColor),fe===(fe=de(e))&&pe?pe.p(e,n):(pe.d(1),pe=fe(e),pe&&(pe.c(),pe.m(z,W))),me===(me=ge(e))&&Oe?Oe.p(e,n):(Oe.d(1),Oe=me(e),Oe&&(Oe.c(),Oe.m(z,D))),(!ne||268435456&n[0])&&S(X,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(X,"color",e[28].textColor),(!ne||268435456&n[0])&&S(X,"border-color",e[28].borderColor),(!ne||268435456&n[0])&&S(Z,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(Z,"color",e[28].textColor),(!ne||268435456&n[0])&&S(Z,"border-color",e[28].borderColor),(!ne||268435456&n[0])&&S(B,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(B,"color",e[28].textColor),(!ne||268435456&n[0])&&S(B,"border-color",e[28].borderColor),(!ne||268435456&n[0])&&S(U,"background-color",e[28].textAreaColor),(!ne||268435456&n[0])&&S(U,"color",e[28].textColor),(!ne||268435456&n[0])&&S(U,"border-color",e[28].borderColor),(!ne||268435456&n[0])&&S(t,"background-color",e[28].backgroundColor),(!ne||268435456&n[0])&&S(t,"font-family",e[28].font),(!ne||268435456&n[0])&&S(t,"color",e[28].textColor),(!ne||268435456&n[0])&&S(t,"font-size",e[28].fontSize),e[23]?be?be.p(e,n):(be=tv(e),be.c(),be.m(Y.parentNode,Y)):be&&(be.d(1),be=null),e[25]?ve?(ve.p(e,n),33554432&n[0]&&ee(ve,1)):(ve=ov(e),ve.c(),ee(ve,1),ve.m(re.parentNode,re)):ve&&(J(),te(ve,1,1,(()=>{ve=null})),K())},i(e){ne||(ee(R),ee(ve),ne=!0)},o(e){te(R),te(ve),ne=!1},d(r){r&&g(t),se&&se.d(),ae&&ae.d(),e[65](null),le&&le.d(),e[72](null),he[P].d(),pe.d(),Oe.d(),r&&g(H),be&&be.d(r),r&&g(Y),ve&&ve.d(r),r&&g(re),oe=!1,n(ie)}}}function sv(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}}function av(e,t,r){let n,o,i,a,l,c,h;s(e,Mb,(e=>r(82,n=e))),s(e,Db,(e=>r(83,o=e))),s(e,Wb,(e=>r(84,i=e))),s(e,jb,(e=>r(85,a=e))),s(e,zb,(e=>r(27,l=e))),s(e,Eb,(e=>r(86,c=e))),s(e,bb,(e=>r(28,h=e)));let u,f,p,g="",m="",O="edit",b=!1,v=!1,x=!1,w="",k="",y="",Q="",S="",C="",$="",T="",_="",P=!1,R="",A="",j="",E=[],D=!0,X=[],L=[],I="",Z="",q=!1,N=!1,B=!1;function V(e){if(void 0===e||"Escape"!==e.key&&"Tab"!==e.key){var t=g.toString().toLowerCase(),n="",o=t.split(",");o.length>1?(n=o[o.length-1],r(20,L=E.filter((e=>e.toString().toLowerCase().includes(n.trim()))))):r(20,L=E.filter((e=>e.toString().toLowerCase().includes(t))))}else r(24,N=!1),"Tab"!==e.key&&e.preventDefault()}function G(e){var t=g.split(",");t.length>1?(r(0,g=t.slice(0,t.length-1).map((e=>e.trim())).join(",")+", "+e),r(26,p.selectionStart=g.length,p)):r(0,g=e)}function U(e){d(jb,a=e,a)}function F(e){d(Mb,n.body=e.value,n),A=e.value}function H(){r(8,k=""),r(16,P=!1),r(7,w=""),r(9,y=""),r(10,Q=""),r(11,S=""),r(12,C=""),r(13,$=""),r(14,T=""),r(15,_="")}function Y(e){d(zb,l=e,l),"edit"===O?A=a.getValue():J()}function J(){var e=new Rb.Converter({extensions:[]});e.setOption("tables",!0),r(17,R=e.makeHtml(A+l.signiture)),void 0!==l.headerHTML&&r(17,R=l.headerHTML+R+l.footerHTML)}function K(){r(21,I="Invalid Emails"),r(22,Z="Please fix these emails!"),r(23,q=!0)}function ee(e){var t=!0;return r(19,X=[]),e.toString().split(",").forEach((e=>{const r=function(e){if(e.includes("<")){const t=new RegExp(/^[^<]*\<([^\>]*)\>/),r=e.match(t);e=r[1]}return new RegExp(/^[a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1}([a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1})*[a-zA-Z0-9]@[a-zA-Z0-9][-\.]{0,1}([a-zA-Z][-\.]{0,1})*[a-zA-Z0-9]\.[a-zA-Z0-9]{1,}([\.\-]{0,1}[a-zA-Z]){0,}[a-zA-Z0-9]{0,}$/i).test(e)}(e.trim());r||(t=!1,X.push(e))})),t}function te(){if(null!==a){var e=document.getElementById("receiverInput");d(Mb,n.to=e.value,n),d(Mb,n.body=a.getValue(),n),d(Mb,n.subject=m.value,n)}}function re(){d(Mb,n.to=g,n)}z((()=>{!function(e){fetch("http://localhost:9978/api/emailit/emails",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{E=t.emails.map((e=>""===e.name?e.email:`${e.name.trim()} <${e.email.trim()}>`)),void 0!==e&&e()}))}(),function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(3,u=t),u.length>0&&void 0===l&&d(zb,l=u.find((e=>e.default)),l),void 0!==e&&e()}))}(),r(2,O="edit"),j="edit",r(18,D=!0)})),M((()=>{void 0!==c&&""!==c&&(r(0,g=c),d(Mb,n.to=c,n),d(Eb,c=void 0,c)),null!==a&&"edit"===O&&"preview"===j&&(a.setValue(A),j="edit")}));return[g,m,O,u,b,v,x,w,k,y,Q,S,C,$,T,_,P,R,D,X,L,I,Z,q,N,B,p,l,h,{language:"markdown",lineNumbers:!1,lineWrapping:!0,lineHighlight:!0},V,G,U,F,function(){f=l,r(4,b=!b)},function(){"preview"===O&&J(),r(4,b=!1)},function(){H(),r(5,v=!0)},function(){d(zb,l=f,l),"edit"===O?A=a.getValue():J(),r(4,b=!1)},Y,function(){var e;e=void 0!==n.to?n.to:document.getElementById("receiverInput").value,ee(e)?(A=a.getValue(),r(2,O="preview"),j=O,J(),r(6,x=!0)):K()},async function(){r(2,O="edit"),r(6,x=!1)},async function(){var e;if(ee(e=void 0!==n.to?n.to:document.getElementById("receiverInput").value)){e.toString().split(",").forEach((e=>{var t=e,r="";if(e.includes("<")){const n=new RegExp(/^([^<]*)\<([^\>]*)\>/),o=e.match(n);r=o[1],t=o[2]}!function(e,t){t=t.trim(),e=e.trim(),E=E.filter((e=>e.email!==t)),E.push({name:e,email:t}),fetch("http://localhost:9978/api/emailit/addEmail",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,email:t})})}(r,t)}));var t=A+l.signiture.replace(/<hr>/gimu,"\n").replace(/<[/]*[^>]+>/gimu,"");r(6,x=!1),r(2,O="edit"),fetch("http://localhost:9978/api/emailit/send",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({acc:l,to:e,from:l.from,subject:m.value,text:t,html:R})})}else K()},function(){document.getElementById("receiverInput").value="",r(0,g=""),r(1,m.value="",m),a.setValue(""),A="",d(Mb,n.to="",n),d(Mb,n.subject="",n),d(Mb,n.body="",n),r(6,x=!1),r(2,O="edit"),j="edit"},function(){var e={name:k,default:P,from:w,username:y,smtpserver:Q,port:C,password:S,signiture:$,headerHTML:T,footerHTML:_};!function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(e),P&&r(3,u=u.map((e=>(e.default=!1,e)))),u.filter((t=>t.name===e.name)).length>0&&(r(3,u=u.filter((t=>t.name!==e.name))),u.push(e)),d(zb,l=e,l),r(3,u),"preview"===O&&J(),H(),r(5,v=!1)},function(){var e=l;r(3,u=u.filter((t=>t.name!==e.name))),u.length>0?(d(zb,l=u[0],l),f=u[0],"preview"===O&&J()):(r(5,v=!1),d(zb,l=void 0,l),f=void 0),function(e){fetch("http://localhost:9978/api/emailit/accounts",{method:"DELETE",headers:{"Content-type":"application/json"},body:e})}(e)},function(){H(),r(5,v=!1)},function(){r(8,k=l.name),r(16,P=l.default),r(7,w=l.from),r(9,y=l.username),r(10,Q=l.smtpserver),r(11,S=l.password),r(12,C=l.port),r(13,$=l.signiture),r(14,T=l.headerHTML),r(15,_=l.footerHTML),r(5,v=!0)},function(){te(),Ab.set("notes")},te,function(){d(Wb,i=!i,i)},function(){d(Db,o=!o,o)},re,function(){r(25,B=!B)},function(){P=this.checked,r(16,P)},function(){k=this.value,r(8,k)},function(){w=this.value,r(7,w)},function(){Q=this.value,r(10,Q)},function(){C=this.value,r(12,C)},function(){y=this.value,r(9,y)},function(){S=this.value,r(11,S)},function(){$=this.value,r(13,$)},function(){T=this.value,r(14,T)},function(){_=this.value,r(15,_)},e=>{Y(e)},function(){g=this.value,r(0,g)},function(e){W[e?"unshift":"push"]((()=>{p=e,r(26,p)}))},()=>{re()},()=>{r(24,N=!0),V(),r(26,p.selectionStart=g.length,p)},e=>{V(e)},e=>{V(e)},()=>{V()},e=>{G(e),p.focus()},function(e){W[e?"unshift":"push"]((()=>{m=e,r(1,m)}))},e=>{F(e.detail.data)},e=>{U(e.detail.data)},()=>{r(23,q=!1)},function(e){B=e,r(25,B)}]}class lv extends ae{constructor(e){super(),se(this,e,av,iv,i,{},null,[-1,-1,-1,-1])}}function cv(e){window.runtime.BrowserOpenURL(e)}function hv(e){let t;return{c(){t=O("div"),k(t,"id","logItems"),k(t,"class","svelte-1p4g52i")},m(r,n){p(r,t,n),t.innerHTML=e[0],e[7](t)},p(e,r){1&r&&(t.innerHTML=e[0])},d(r){r&&g(t),e[7](null)}}}function uv(t){let r;return{c(){r=O("p"),r.textContent="No Logs"},m(e,t){p(e,r,t)},p:e,d(e){e&&g(r)}}}function dv(t){let r,o,i,s,a,l,c,h,u,d,m,x,y,Q,C,$;function T(e,t){return void 0===e[0]?uv:hv}let _=T(t),P=_(t);return{c(){r=O("div"),P.c(),o=v(),i=O("div"),s=O("button"),a=b("EmailIt"),l=v(),c=O("button"),h=b("Notes"),u=v(),d=O("button"),m=b("Node-Red"),x=v(),y=O("button"),Q=b("Node-Red Dashboard"),S(s,"background-color",t[2].textAreaColor),S(s,"color",t[2].textColor),S(s,"border-color",t[2].borderColor),k(s,"class","svelte-1p4g52i"),S(c,"background-color",t[2].textAreaColor),S(c,"color",t[2].textColor),S(c,"border-color",t[2].borderColor),k(c,"class","svelte-1p4g52i"),S(d,"background-color",t[2].textAreaColor),S(d,"color",t[2].textColor),S(d,"border-color",t[2].borderColor),k(d,"class","svelte-1p4g52i"),S(y,"background-color",t[2].textAreaColor),S(y,"color",t[2].textColor),S(y,"border-color",t[2].borderColor),k(y,"class","svelte-1p4g52i"),k(i,"id","buttonRow"),k(i,"class","svelte-1p4g52i"),k(r,"id","log"),S(r,"background-color",t[2].backgroundColor),S(r,"font-family",t[2].font),S(r,"color",t[2].textColor),S(r,"font-size",t[2].fontSize),k(r,"class","svelte-1p4g52i")},m(e,n){p(e,r,n),P.m(r,null),f(r,o),f(r,i),f(i,s),f(s,a),f(i,l),f(i,c),f(c,h),f(i,u),f(i,d),f(d,m),f(i,x),f(i,y),f(y,Q),C||($=[w(s,"click",t[3]),w(c,"click",t[4]),w(d,"click",t[5]),w(y,"click",t[6])],C=!0)},p(e,[t]){_===(_=T(e))&&P?P.p(e,t):(P.d(1),P=_(e),P&&(P.c(),P.m(r,o))),4&t&&S(s,"background-color",e[2].textAreaColor),4&t&&S(s,"color",e[2].textColor),4&t&&S(s,"border-color",e[2].borderColor),4&t&&S(c,"background-color",e[2].textAreaColor),4&t&&S(c,"color",e[2].textColor),4&t&&S(c,"border-color",e[2].borderColor),4&t&&S(d,"background-color",e[2].textAreaColor),4&t&&S(d,"color",e[2].textColor),4&t&&S(d,"border-color",e[2].borderColor),4&t&&S(y,"background-color",e[2].textAreaColor),4&t&&S(y,"color",e[2].textColor),4&t&&S(y,"border-color",e[2].borderColor),4&t&&S(r,"background-color",e[2].backgroundColor),4&t&&S(r,"font-family",e[2].font),4&t&&S(r,"color",e[2].textColor),4&t&&S(r,"font-size",e[2].fontSize)},i:e,o:e,d(e){e&&g(r),P.d(),C=!1,n($)}}}function fv(e,t,r){let n,o,i;return s(e,bb,(e=>r(2,n=e))),z((()=>{!function(e){fetch("http://localhost:9978/api/messages",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(0,o=function(e){var t="";return e.map((e=>t+="<p>"+e.replaceAll(" ","&nbsp;").replaceAll("\n","<br />").replaceAll("\t","&nbsp;&nbsp;")+"</p>")),t}(t.data)),void 0!==e&&e()}))}()})),M((()=>{void 0!==i&&r(1,i.scrollTop=i.scrollHeight,i)})),[o,i,n,function(){Ab.set("emailit")},function(){Ab.set("notes")},async function(){cv("http://localhost:9978/red/admin")},async function(){cv("http://localhost:9978/red/api/ui")},function(e){W[e?"unshift":"push"]((()=>{i=e,r(1,i)}))}]}class pv extends ae{constructor(e){super(),se(this,e,fv,dv,i,{})}}const gv=Ob(0),mv=Ob(["","","","","","","","","",""]),Ov=Ob(["","","","","","","","","",""]),bv=Ob(void 0);function vv(e,t,r){const n=e.slice();return n[27]=t[r],n[29]=r,n}function xv(e){let t,r,n,o;function i(){return e[15](e[29])}return{c(){t=O("div"),k(t,"class",r="noteButton "+(e[1]===e[2].buttons[e[29]].id?"selectedButton":"")+" svelte-yyde1d"),S(t,"background-color",e[2].buttons[e[29]].color)},m(e,r){p(e,t,r),n||(o=w(t,"click",i),n=!0)},p(n,o){e=n,6&o&&r!==(r="noteButton "+(e[1]===e[2].buttons[e[29]].id?"selectedButton":"")+" svelte-yyde1d")&&k(t,"class",r),4&o&&S(t,"background-color",e[2].buttons[e[29]].color)},d(e){e&&g(t),n=!1,o()}}}function wv(e){let t,r,o,i,s,a,l,c,h,u,d,x,y,Q,C,$,T,_,P,R,A,z,M,j,E,W,D;o=new wb({props:{height:"500px",width:"900px",config:e[3],initFinished:e[0]}}),o.$on("textChange",e[13]),o.$on("editorChange",e[14]);let X=e[2].buttons,L=[];for(let t=0;t<X.length;t+=1)L[t]=xv(vv(e,X,t));return{c(){t=O("div"),r=O("div"),ne(o.$$.fragment),i=v(),s=O("div");for(let e=0;e<L.length;e+=1)L[e].c();a=v(),l=O("div"),c=O("button"),h=b("EmailIt"),u=v(),d=O("button"),x=b("Logs"),y=v(),Q=O("button"),C=b("Scripts"),$=v(),T=O("button"),_=b("Templates"),P=v(),R=O("button"),A=b("Edit Scripts"),z=v(),M=O("button"),j=b("Edit Templates"),k(s,"id","noteButtons"),k(s,"class","svelte-yyde1d"),k(r,"id","editorRow"),k(r,"class","svelte-yyde1d"),S(c,"background-color",e[2].textAreaColor),S(c,"color",e[2].textColor),S(c,"border-color",e[2].borderColor),k(c,"class","svelte-yyde1d"),S(d,"background-color",e[2].textAreaColor),S(d,"color",e[2].textColor),S(d,"border-color",e[2].borderColor),k(d,"class","svelte-yyde1d"),S(Q,"background-color",e[2].textAreaColor),S(Q,"color",e[2].textColor),S(Q,"border-color",e[2].borderColor),k(Q,"class","svelte-yyde1d"),S(T,"background-color",e[2].textAreaColor),S(T,"color",e[2].textColor),S(T,"border-color",e[2].borderColor),k(T,"class","svelte-yyde1d"),S(R,"background-color",e[2].textAreaColor),S(R,"color",e[2].textColor),S(R,"border-color",e[2].borderColor),k(R,"class","svelte-yyde1d"),S(M,"background-color",e[2].textAreaColor),S(M,"color",e[2].textColor),S(M,"border-color",e[2].borderColor),k(M,"class","svelte-yyde1d"),k(l,"id","buttonRow"),k(l,"class","svelte-yyde1d"),k(t,"id","notes"),S(t,"background-color",e[2].backgroundColor),S(t,"font-family",e[2].font),S(t,"color",e[2].textColor),S(t,"font-size",e[2].fontSize),k(t,"class","svelte-yyde1d")},m(n,g){p(n,t,g),f(t,r),oe(o,r,null),f(r,i),f(r,s);for(let e=0;e<L.length;e+=1)L[e].m(s,null);f(t,a),f(t,l),f(l,c),f(c,h),f(l,u),f(l,d),f(d,x),f(l,y),f(l,Q),f(Q,C),f(l,$),f(l,T),f(T,_),f(l,P),f(l,R),f(R,A),f(l,z),f(l,M),f(M,j),E=!0,W||(D=[w(c,"click",e[7]),w(d,"click",e[6]),w(Q,"click",e[9]),w(T,"click",e[10]),w(R,"click",e[12]),w(M,"click",e[11])],W=!0)},p(e,[r]){const n={};if(1&r&&(n.initFinished=e[0]),o.$set(n),262&r){let t;for(X=e[2].buttons,t=0;t<X.length;t+=1){const n=vv(e,X,t);L[t]?L[t].p(n,r):(L[t]=xv(n),L[t].c(),L[t].m(s,null))}for(;t<L.length;t+=1)L[t].d(1);L.length=X.length}(!E||4&r)&&S(c,"background-color",e[2].textAreaColor),(!E||4&r)&&S(c,"color",e[2].textColor),(!E||4&r)&&S(c,"border-color",e[2].borderColor),(!E||4&r)&&S(d,"background-color",e[2].textAreaColor),(!E||4&r)&&S(d,"color",e[2].textColor),(!E||4&r)&&S(d,"border-color",e[2].borderColor),(!E||4&r)&&S(Q,"background-color",e[2].textAreaColor),(!E||4&r)&&S(Q,"color",e[2].textColor),(!E||4&r)&&S(Q,"border-color",e[2].borderColor),(!E||4&r)&&S(T,"background-color",e[2].textAreaColor),(!E||4&r)&&S(T,"color",e[2].textColor),(!E||4&r)&&S(T,"border-color",e[2].borderColor),(!E||4&r)&&S(R,"background-color",e[2].textAreaColor),(!E||4&r)&&S(R,"color",e[2].textColor),(!E||4&r)&&S(R,"border-color",e[2].borderColor),(!E||4&r)&&S(M,"background-color",e[2].textAreaColor),(!E||4&r)&&S(M,"color",e[2].textColor),(!E||4&r)&&S(M,"border-color",e[2].borderColor),(!E||4&r)&&S(t,"background-color",e[2].backgroundColor),(!E||4&r)&&S(t,"font-family",e[2].font),(!E||4&r)&&S(t,"color",e[2].textColor),(!E||4&r)&&S(t,"font-size",e[2].fontSize)},i(e){E||(ee(o.$$.fragment,e),E=!0)},o(e){te(o.$$.fragment,e),E=!1},d(e){e&&g(t),ie(o),m(L,e),W=!1,n(D)}}}function kv(e,t,r){let n,o,i,a,l,c,h,u;s(e,Ab,(e=>r(16,n=e))),s(e,Db,(e=>r(17,o=e))),s(e,Wb,(e=>r(18,i=e))),s(e,bv,(e=>r(19,a=e))),s(e,gv,(e=>r(1,l=e))),s(e,Ov,(e=>r(20,c=e))),s(e,mv,(e=>r(21,h=e))),s(e,bb,(e=>r(2,u=e)));let f=!1;function p(e,t){fetch(`http://localhost:9978/api/note/${e}/w`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((r=>{d(mv,h[e]=r.note,h),void 0!==t&&t()}))}function g(e){d(bv,a=e,a)}function m(e){d(mv,h[l]=e.value,h),d(Ov,c[l]=e.cursor,c),function(e){var t=h[e];fetch(`http://localhost:9978/api/note/${e}/w`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({note:t})})}(l)}function O(){null!==a&&a.focus()}function b(){d(Ov,c[l]=a.getCursor(),c)}function v(e){d(gv,l=e,l),a.setValue(h[l]);var t=parseInt(c[l]);Number.isInteger(t)||(t=0),a.setCursor(t),O()}z((()=>{p(0),p(1),p(2),p(3),p(4),p(5),p(6),p(7),p(8),p(9,(async()=>{r(0,f=!0),await q(),v(l),O()}))}));return[f,l,u,{language:"markdown",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},g,m,function(){b(),d(Ab,n="viewlog",n)},function(){b(),d(Ab,n="emailit",n)},v,function(){d(Wb,i=!i,i)},function(){d(Db,o=!o,o)},function(){d(Ab,n="templates",n)},function(){d(Ab,n="scripts",n)},e=>{m(e.detail.data)},e=>{g(e.detail.data)},e=>{v(e)}]}class yv extends ae{constructor(e){super(),se(this,e,kv,wv,i,{})}}const Qv=Ob([]),Sv=Ob(void 0),Cv=Ob(void 0);function $v(e,t,r){const n=e.slice();return n[20]=t[r],n[22]=r,n}function Tv(e){let t,r=e[2],n=[];for(let t=0;t<r.length;t+=1)n[t]=_v($v(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=x()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);p(e,t,r)},p(e,o){if(212&o){let i;for(r=e[2],i=0;i<r.length;i+=1){const s=$v(e,r,i);n[i]?n[i].p(s,o):(n[i]=_v(s),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(e){m(n,e),e&&g(t)}}}function _v(e){let t,r,n,o,i,s=e[20].name+"";function a(){return e[11](e[20])}return{c(){t=O("li"),r=b(s),n=v(),S(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent"),k(t,"data-key",e[22]),k(t,"class","svelte-n0htir")},m(e,s){p(e,t,s),f(t,r),f(t,n),o||(i=w(t,"click",a),o=!0)},p(n,o){e=n,4&o&&s!==(s=e[20].name+"")&&y(r,s),80&o&&S(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent")},d(e){e&&g(t),o=!1,i()}}}function Pv(t){let r,o,i,s,a,l,c,h="object"==typeof t[5]&&Tv(t);return{c(){r=O("div"),o=O("input"),i=v(),s=O("div"),a=O("ul"),h&&h.c(),k(o,"type","text"),S(o,"background-color",t[6].textAreaColor),S(o,"font-family",t[6].font),S(o,"color",t[6].textColor),S(o,"font-size",t[6].fontSize),S(o,"border","solid 3px "+t[6].borderColor),k(o,"class","svelte-n0htir"),k(a,"class","svelte-n0htir"),k(s,"id","list"),k(s,"class","svelte-n0htir"),k(r,"id","scriptmenu"),S(r,"left",t[1]?"10px":"-900px"),S(r,"background-color",t[6].backgroundColor),S(r,"font-family",t[6].font),S(r,"color",t[6].textColor),S(r,"font-size",t[6].fontSize),S(r,"border","solid 3px "+t[6].borderColor),k(r,"class","svelte-n0htir")},m(e,n){p(e,r,n),f(r,o),Q(o,t[0]),t[10](o),f(r,i),f(r,s),f(s,a),h&&h.m(a,null),l||(c=[w(o,"input",t[9]),w(o,"keydown",t[8])],l=!0)},p(e,[t]){64&t&&S(o,"background-color",e[6].textAreaColor),64&t&&S(o,"font-family",e[6].font),64&t&&S(o,"color",e[6].textColor),64&t&&S(o,"font-size",e[6].fontSize),64&t&&S(o,"border","solid 3px "+e[6].borderColor),1&t&&o.value!==e[0]&&Q(o,e[0]),"object"==typeof e[5]?h?h.p(e,t):(h=Tv(e),h.c(),h.m(a,null)):h&&(h.d(1),h=null),2&t&&S(r,"left",e[1]?"10px":"-900px"),64&t&&S(r,"background-color",e[6].backgroundColor),64&t&&S(r,"font-family",e[6].font),64&t&&S(r,"color",e[6].textColor),64&t&&S(r,"font-size",e[6].fontSize),64&t&&S(r,"border","solid 3px "+e[6].borderColor)},i:e,o:e,d(e){e&&g(r),t[10](null),h&&h.d(),l=!1,n(c)}}}function Rv(e,t,r){let n,o,i,a,l,c,h,u;s(e,Wb,(e=>r(1,n=e))),s(e,Sv,(e=>r(13,o=e))),s(e,Ab,(e=>r(14,i=e))),s(e,Cv,(e=>r(15,a=e))),s(e,bv,(e=>r(16,l=e))),s(e,jb,(e=>r(17,c=e))),s(e,Qv,(e=>r(5,h=e))),s(e,bb,(e=>r(6,u=e)));let f,p="",g=[],m=!0,O=0;function b(e){var t=[];return""===e||void 0===e?t=h:(e=e.toLowerCase(),t=h.filter((t=>null!=t&&t.name.toLowerCase().includes(e)))),t=t.sort(((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()))}function v(e){var t="",s=!1;"emailit"===i?c.somethingSelected()?(s=!0,t=c.getSelection()):t=c.getValue():"notes"===i?l.somethingSelected()?(s=!0,t=l.getSelection()):t=l.getValue():"scripts"===i?a.somethingSelected()?(s=!0,t=a.getSelection()):t=a.getValue():"templates"===i&&(o.somethingSelected()?(s=!0,t=o.getSelection()):t=o.getValue()),fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:e.name,text:t})}).then((e=>e.json())).then((t=>{"emailit"===i?(s?c.replaceSelection(t.text):e.insert?c.insertAtCursor(t.text):c.setValue(t.text),c.focus()):"notes"===i?(s?l.replaceSelection(t.text):e.insert?l.insertAtCursor(t.text):l.setValue(t.text),l.focus()):"scripts"===i?(s?a.replaceSelection(t.text):e.insert?a.insertAtCursor(t.text):a.setValue(t.text),a.focus()):"templates"===i&&(s?o.replaceSelection(t.text):e.insert?o.insertAtCursor(t.text):o.setValue(t.text),o.focus()),d(Wb,n=!1,n),r(0,p="")}))}z((()=>{})),M((()=>{n&&m&&(r(2,g=b(p)),m=!1,f.focus())}));return e.$$.update=()=>{1&e.$$.dirty&&r(2,g=b(p)),2&e.$$.dirty&&n&&(r(4,O=0),r(0,p=""),f.focus())},[p,n,g,f,O,h,u,v,function(e){switch(e.key){case"ArrowDown":e.preventDefault(),r(4,O+=1),O>=g.length&&r(4,O=g.length-1);break;case"ArrowUp":e.preventDefault(),r(4,O-=1),O<0&&r(4,O=0);break;case"Enter":e.preventDefault(),v(g[O]);break;case"Escape":d(Wb,n=!1,n)}},function(){p=this.value,r(0,p)},function(e){W[e?"unshift":"push"]((()=>{f=e,r(3,f)}))},e=>{v(e)}]}class Av extends ae{constructor(e){super(),se(this,e,Rv,Pv,i,{})}}const zv=Ob([]);function Mv(e,t,r){const n=e.slice();return n[20]=t[r],n[22]=r,n}function jv(e){let t,r=e[2],n=[];for(let t=0;t<r.length;t+=1)n[t]=Ev(Mv(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=x()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);p(e,t,r)},p(e,o){if(212&o){let i;for(r=e[2],i=0;i<r.length;i+=1){const s=Mv(e,r,i);n[i]?n[i].p(s,o):(n[i]=Ev(s),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(e){m(n,e),e&&g(t)}}}function Ev(e){let t,r,n,o,i,s=e[20]+"";function a(){return e[11](e[20])}return{c(){t=O("li"),r=b(s),n=v(),S(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent"),k(t,"data-key",e[22]),k(t,"class","svelte-wbzyyy")},m(e,s){p(e,t,s),f(t,r),f(t,n),o||(i=w(t,"click",a),o=!0)},p(n,o){e=n,4&o&&s!==(s=e[20]+"")&&y(r,s),80&o&&S(t,"background-color",e[4]===e[22]?e[6].Purple:"transparent")},d(e){e&&g(t),o=!1,i()}}}function Wv(t){let r,o,i,s,a,l,c,h="object"==typeof t[5]&&jv(t);return{c(){r=O("div"),o=O("input"),i=v(),s=O("div"),a=O("ul"),h&&h.c(),k(o,"type","text"),S(o,"background-color",t[6].textAreaColor),S(o,"font-family",t[6].font),S(o,"color",t[6].textColor),S(o,"font-size",t[6].fontSize),S(o,"border","solid 3px "+t[6].borderColor),k(o,"class","svelte-wbzyyy"),k(a,"class","svelte-wbzyyy"),k(s,"id","list"),k(s,"class","svelte-wbzyyy"),k(r,"id","templatemenu"),S(r,"left",t[1]?"10px":"-900px"),S(r,"background-color",t[6].backgroundColor),S(r,"font-family",t[6].font),S(r,"color",t[6].textColor),S(r,"font-size",t[6].fontSize),S(r,"border","solid 3px "+t[6].borderColor),k(r,"class","svelte-wbzyyy")},m(e,n){p(e,r,n),f(r,o),Q(o,t[0]),t[10](o),f(r,i),f(r,s),f(s,a),h&&h.m(a,null),l||(c=[w(o,"input",t[9]),w(o,"keydown",t[8])],l=!0)},p(e,[t]){64&t&&S(o,"background-color",e[6].textAreaColor),64&t&&S(o,"font-family",e[6].font),64&t&&S(o,"color",e[6].textColor),64&t&&S(o,"font-size",e[6].fontSize),64&t&&S(o,"border","solid 3px "+e[6].borderColor),1&t&&o.value!==e[0]&&Q(o,e[0]),"object"==typeof e[5]?h?h.p(e,t):(h=jv(e),h.c(),h.m(a,null)):h&&(h.d(1),h=null),2&t&&S(r,"left",e[1]?"10px":"-900px"),64&t&&S(r,"background-color",e[6].backgroundColor),64&t&&S(r,"font-family",e[6].font),64&t&&S(r,"color",e[6].textColor),64&t&&S(r,"font-size",e[6].fontSize),64&t&&S(r,"border","solid 3px "+e[6].borderColor)},i:e,o:e,d(e){e&&g(r),t[10](null),h&&h.d(),l=!1,n(c)}}}function Dv(e,t,r){let n,o,i,a,l,c,h,u;s(e,Db,(e=>r(1,n=e))),s(e,Sv,(e=>r(13,o=e))),s(e,Ab,(e=>r(14,i=e))),s(e,Cv,(e=>r(15,a=e))),s(e,bv,(e=>r(16,l=e))),s(e,jb,(e=>r(17,c=e))),s(e,zv,(e=>r(5,h=e))),s(e,bb,(e=>r(6,u=e)));let f,p="",g=[],m=!0,O=0;function b(e){var t=[];return""===e||void 0===e?t=h:(e=e.toLowerCase(),t=h.filter((t=>null!=t&&t.toLowerCase().includes(e)))),t=t.sort(((e,t)=>e.toLowerCase()>t.toLowerCase()))}function v(e){var t="",s=!1;"emailit"===i?c.somethingSelected()?(s=!0,t=c.getSelection()):t=c.getValue():"notes"===i?l.somethingSelected()?(s=!0,t=l.getSelection()):t=l.getValue():"scripts"===i?a.somethingSelected()?(s=!0,t=a.getSelection()):t=a.getValue():"templates"===i&&(o.somethingSelected()?(s=!0,t=o.getSelection()):t=o.getValue()),fetch("http://localhost:9978/api/template/run",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({template:e,text:t})}).then((e=>e.json())).then((e=>{"emailit"===i?(s?c.replaceSelection(e.text):c.setValue(e.text),c.focus()):"notes"===i?(s?l.replaceSelection(e.text):l.setValue(e.text),l.focus()):"scripts"===i?(s?a.replaceSelection(e.text):a.setValue(e.text),a.focus()):"templates"===i&&(s?o.replaceSelection(e.text):o.setValue(e.text),o.focus()),d(Db,n=!1,n),r(0,p="")}))}z((()=>{})),M((()=>{n&&m&&(r(2,g=b(p)),m=!1,f.focus())}));return e.$$.update=()=>{1&e.$$.dirty&&r(2,g=b(p)),2&e.$$.dirty&&n&&(r(4,O=0),r(0,p=""),f.focus())},[p,n,g,f,O,h,u,v,function(e){switch(e.key){case"ArrowDown":e.preventDefault(),r(4,O+=1),O>=g.length&&r(4,O=g.length-1);break;case"ArrowUp":e.preventDefault(),r(4,O-=1),O<0&&r(4,O=0);break;case"Enter":e.preventDefault(),v(g[O]);break;case"Escape":d(Db,n=!1,n)}},function(){p=this.value,r(0,p)},function(e){W[e?"unshift":"push"]((()=>{f=e,r(3,f)}))},e=>{v(e)}]}class Xv extends ae{constructor(e){super(),se(this,e,Dv,Wv,i,{})}}const Lv=e=>({noResultsText:2048&e[0]}),Iv=e=>({noResultsText:e[11]}),Zv=e=>({createText:8192&e[0]}),qv=e=>({createText:e[13]}),Nv=e=>({loadingText:4096&e[0]}),Bv=e=>({loadingText:e[12]});function Vv(e,t,r){const n=e.slice();return n[107]=t[r],n[109]=r,n}const Gv=e=>({item:1&e[1],label:1&e[1]}),Uv=e=>({item:e[107].item,label:e[107].highlighted?e[107].highlighted.label:e[107].label});function Fv(e,t,r){const n=e.slice();return n[110]=t[r],n}const Hv=e=>({label:2&e[0],item:2&e[0]}),Yv=e=>({label:e[35](e[110]),item:e[110],unselectItem:e[42]});function Jv(e,t,r){const n=e.slice();return n[109]=t[r],n}function Kv(e){let t,r=e[1],n=[];for(let t=0;t<r.length;t+=1)n[t]=tx(Jv(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=x()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);p(e,t,r)},p(e,o){if(18&o[0]|16&o[1]){let i;for(r=e[1],i=0;i<r.length;i+=1){const s=Jv(e,r,i);n[i]?n[i].p(s,o):(n[i]=tx(s),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(e){m(n,e),e&&g(t)}}}function ex(e){let t,r;return{c(){t=O("option"),r=b(e[3]),t.__value=e[2],t.value=t.__value,t.selected=!0,k(t,"class","svelte-xmtx21")},m(e,n){p(e,t,n),f(t,r)},p(e,n){8&n[0]&&y(r,e[3]),22&n[0]&&(t.__value=e[2],t.value=t.__value)},d(e){e&&g(t)}}}function tx(e){let t,r,n,o,i=e[35](e[109])+"";return{c(){t=O("option"),r=b(i),n=v(),t.__value=o=e[4](e[109],!0),t.value=t.__value,t.selected=!0,k(t,"class","svelte-xmtx21")},m(e,o){p(e,t,o),f(t,r),f(t,n)},p(e,n){2&n[0]&&i!==(i=e[35](e[109])+"")&&y(r,i),18&n[0]&&o!==(o=e[4](e[109],!0))&&(t.__value=o,t.value=t.__value)},d(e){e&&g(t)}}}function rx(e){let t,r,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=nx(Fv(e,n,t));const i=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);p(e,t,n),r=!0},p(e,r){if(2&r[0]|2064&r[1]|2048&r[2]){let s;for(n=e[1],s=0;s<n.length;s+=1){const i=Fv(e,n,s);o[s]?(o[s].p(i,r),ee(o[s],1)):(o[s]=nx(i),o[s].c(),ee(o[s],1),o[s].m(t.parentNode,t))}for(J(),s=n.length;s<o.length;s+=1)i(s);K()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)ee(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);r=!1},d(e){m(o,e),e&&g(t)}}}function nx(e){let t;const r=e[74].tag,n=a(r,e,e[73],Yv),o=n||function(e){let t,r,n,o,i,s,a,l,c=e[35](e[110])+"";function h(){return e[76](e[110])}return{c(){t=O("div"),r=O("span"),n=b(c),o=v(),i=O("span"),s=v(),k(r,"class","tag svelte-xmtx21"),k(i,"class","tag is-delete svelte-xmtx21"),k(t,"class","tags has-addons svelte-xmtx21")},m(e,c){var u;p(e,t,c),f(t,r),f(r,n),f(t,o),f(t,i),p(e,s,c),a||(l=w(i,"click",(u=h,function(e){return e.preventDefault(),u.call(this,e)})),a=!0)},p(t,r){e=t,2&r[0]&&c!==(c=e[35](e[110])+"")&&y(n,c)},d(e){e&&g(t),e&&g(s),a=!1,l()}}}(e);return{c(){o&&o.c()},m(e,r){o&&o.m(e,r),t=!0},p(e,i){n?n.p&&(!t||2&i[0]|2048&i[2])&&h(n,r,e,e[73],t?c(r,e[73],i,Hv):u(e[73]),Yv):o&&o.p&&(!t||2&i[0])&&o.p(e,t?i:[-1,-1,-1,-1])},i(e){t||(ee(o,e),t=!0)},o(e){te(o,e),t=!1},d(e){o&&o.d(e)}}}function ox(t){let r,n,o;return{c(){r=O("span"),r.textContent="✖",k(r,"class","autocomplete-clear-button svelte-xmtx21")},m(e,i){p(e,r,i),n||(o=w(r,"click",t[46]),n=!0)},p:e,d(e){e&&g(r),n=!1,o()}}}function ix(e){let t,r;const n=e[74]["no-results"],o=a(n,e,e[73],Iv),i=o||function(e){let t;return{c(){t=b(e[11])},m(e,r){p(e,t,r)},p(e,r){2048&r[0]&&y(t,e[11])},d(e){e&&g(t)}}}(e);return{c(){t=O("div"),i&&i.c(),k(t,"class","autocomplete-list-item-no-results svelte-xmtx21")},m(e,n){p(e,t,n),i&&i.m(t,null),r=!0},p(e,t){o?o.p&&(!r||2048&t[0]|2048&t[2])&&h(o,n,e,e[73],r?c(n,e[73],t,Lv):u(e[73]),Iv):i&&i.p&&(!r||2048&t[0])&&i.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(i,e),r=!0)},o(e){te(i,e),r=!1},d(e){e&&g(t),i&&i.d(e)}}}function sx(e){let t,r,n,o;const i=e[74].create,s=a(i,e,e[73],qv),l=s||function(e){let t;return{c(){t=b(e[13])},m(e,r){p(e,t,r)},p(e,r){8192&r[0]&&y(t,e[13])},d(e){e&&g(t)}}}(e);return{c(){t=O("div"),l&&l.c(),k(t,"class","autocomplete-list-item-create svelte-xmtx21")},m(i,s){p(i,t,s),l&&l.m(t,null),r=!0,n||(o=w(t,"click",e[36]),n=!0)},p(e,t){s?s.p&&(!r||8192&t[0]|2048&t[2])&&h(s,i,e,e[73],r?c(i,e[73],t,Zv):u(e[73]),qv):l&&l.p&&(!r||8192&t[0])&&l.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(l,e),r=!0)},o(e){te(l,e),r=!1},d(e){e&&g(t),l&&l.d(e),n=!1,o()}}}function ax(e){let t,r;const n=e[74].loading,o=a(n,e,e[73],Bv),i=o||function(e){let t;return{c(){t=b(e[12])},m(e,r){p(e,t,r)},p(e,r){4096&r[0]&&y(t,e[12])},d(e){e&&g(t)}}}(e);return{c(){t=O("div"),i&&i.c(),k(t,"class","autocomplete-list-item-loading svelte-xmtx21")},m(e,n){p(e,t,n),i&&i.m(t,null),r=!0},p(e,t){o?o.p&&(!r||4096&t[0]|2048&t[2])&&h(o,n,e,e[73],r?c(n,e[73],t,Nv):u(e[73]),Bv):i&&i.p&&(!r||4096&t[0])&&i.p(e,r?t:[-1,-1,-1,-1])},i(e){r||(ee(i,e),r=!0)},o(e){te(i,e),r=!1},d(e){e&&g(t),i&&i.d(e)}}}function lx(e){let t,r,n,o=e[31],i=[];for(let t=0;t<o.length;t+=1)i[t]=fx(Vv(e,o,t));const s=e=>te(i[e],1,1,(()=>{i[e]=null}));let a=e[5]>0&&e[31].length>e[5]&&px(e);return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=v(),a&&a.c(),r=x()},m(e,o){for(let t=0;t<i.length;t+=1)i[t].m(e,o);p(e,t,o),a&&a.m(e,o),p(e,r,o),n=!0},p(e,n){if(1073741856&n[0]|131137&n[1]|2048&n[2]){let r;for(o=e[31],r=0;r<o.length;r+=1){const s=Vv(e,o,r);i[r]?(i[r].p(s,n),ee(i[r],1)):(i[r]=fx(s),i[r].c(),ee(i[r],1),i[r].m(t.parentNode,t))}for(J(),r=o.length;r<i.length;r+=1)s(r);K()}e[5]>0&&e[31].length>e[5]?a?a.p(e,n):(a=px(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(e){if(!n){for(let e=0;e<o.length;e+=1)ee(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)te(i[e]);n=!1},d(e){m(i,e),e&&g(t),a&&a.d(e),e&&g(r)}}}function cx(e){let t,r,n=e[107]&&hx(e);return{c(){n&&n.c(),t=x()},m(e,o){n&&n.m(e,o),p(e,t,o),r=!0},p(e,r){e[107]?n?(n.p(e,r),1&r[1]&&ee(n,1)):(n=hx(e),n.c(),ee(n,1),n.m(t.parentNode,t)):n&&(J(),te(n,1,1,(()=>{n=null})),K())},i(e){r||(ee(n),r=!0)},o(e){te(n),r=!1},d(e){n&&n.d(e),e&&g(t)}}}function hx(e){let t,r,o,i,s;const l=e[74].item,d=a(l,e,e[73],Uv),f=d||function(e){let t;function r(e,t){return e[107].highlighted?dx:ux}let n=r(e),o=n(e);return{c(){o.c(),t=x()},m(e,r){o.m(e,r),p(e,t,r)},p(e,i){n===(n=r(e))&&o?o.p(e,i):(o.d(1),o=n(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}(e);function m(){return e[79](e[107])}function b(){return e[80](e[109])}return{c(){t=O("div"),f&&f.c(),k(t,"class",r="autocomplete-list-item "+(e[109]===e[30]?"selected":"")+" svelte-xmtx21"),T(t,"confirmed",e[48](e[107].item))},m(e,r){p(e,t,r),f&&f.m(t,null),o=!0,i||(s=[w(t,"click",m),w(t,"pointerenter",b)],i=!0)},p(n,i){e=n,d?d.p&&(!o||1&i[1]|2048&i[2])&&h(d,l,e,e[73],o?c(l,e[73],i,Gv):u(e[73]),Uv):f&&f.p&&(!o||1&i[1])&&f.p(e,o?i:[-1,-1,-1,-1]),(!o||1073741824&i[0]&&r!==(r="autocomplete-list-item "+(e[109]===e[30]?"selected":"")+" svelte-xmtx21"))&&k(t,"class",r),1073741824&i[0]|131073&i[1]&&T(t,"confirmed",e[48](e[107].item))},i(e){o||(ee(f,e),o=!0)},o(e){te(f,e),o=!1},d(e){e&&g(t),f&&f.d(e),i=!1,n(s)}}}function ux(e){let t,r,n=e[107].label+"";return{c(){t=new _(!1),r=x(),t.a=r},m(e,o){t.m(n,e,o),p(e,r,o)},p(e,r){1&r[1]&&n!==(n=e[107].label+"")&&t.p(n)},d(e){e&&g(r),e&&t.d()}}}function dx(e){let t,r,n=e[107].highlighted.label+"";return{c(){t=new _(!1),r=x(),t.a=r},m(e,o){t.m(n,e,o),p(e,r,o)},p(e,r){1&r[1]&&n!==(n=e[107].highlighted.label+"")&&t.p(n)},d(e){e&&g(r),e&&t.d()}}}function fx(e){let t,r,n=e[107]&&(e[5]<=0||e[109]<e[5])&&cx(e);return{c(){n&&n.c(),t=x()},m(e,o){n&&n.m(e,o),p(e,t,o),r=!0},p(e,r){e[107]&&(e[5]<=0||e[109]<e[5])?n?(n.p(e,r),32&r[0]|1&r[1]&&ee(n,1)):(n=cx(e),n.c(),ee(n,1),n.m(t.parentNode,t)):n&&(J(),te(n,1,1,(()=>{n=null})),K())},i(e){r||(ee(n),r=!0)},o(e){te(n),r=!1},d(e){n&&n.d(e),e&&g(t)}}}function px(e){let t,r,n,o,i=e[31].length-e[5]+"";return{c(){t=O("div"),r=b("..."),n=b(i),o=b(" results not shown"),k(t,"class","autocomplete-list-item-no-results svelte-xmtx21")},m(e,i){p(e,t,i),f(t,r),f(t,n),f(t,o)},p(e,t){32&t[0]|1&t[1]&&i!==(i=e[31].length-e[5]+"")&&y(n,i)},d(e){e&&g(t)}}}function gx(t){let r,i,s,a,l,c,h,u,d,m,b,x,y,$,_,P,R,A,z,M;function j(e,t){return!e[6]&&e[2]?ex:e[6]&&e[1]?Kv:void 0}let E=j(t),W=E&&E(t),D=t[6]&&t[1]&&rx(t),X=t[32]&&ox(t);const L=[lx,ax,sx,ix],I=[];function Z(e,t){return e[31]&&e[31].length>0?0:e[29]&&e[12]?1:e[7]?2:e[11]?3:-1}return~($=Z(t))&&(_=I[$]=L[$](t)),{c(){r=O("div"),i=O("select"),W&&W.c(),s=v(),a=O("div"),D&&D.c(),l=v(),c=O("input"),b=v(),X&&X.c(),x=v(),y=O("div"),_&&_.c(),k(i,"name",t[19]),k(i,"id",t[20]),k(i,"class","svelte-xmtx21"),void 0===t[2]&&N((()=>t[75].call(i))),k(c,"type","text"),k(c,"class",h=(t[16]?t[16]:"")+" input autocomplete-input svelte-xmtx21"),k(c,"id",u=t[17]?t[17]:""),k(c,"autocomplete",d=t[22]?"on":"off"),k(c,"placeholder",t[14]),k(c,"name",t[18]),c.disabled=t[25],k(c,"title",t[21]),c.readOnly=m=t[23]||t[8]&&t[1],S(c,"background-color",t[26].textAreaColor),S(c,"color",t[26].textColor),S(c,"border-color",t[26].borderColor),k(a,"class","input-container svelte-xmtx21"),k(y,"class",P=(t[24]?t[24]:"")+" autocomplete-list "+(t[33]?"":"hidden")+" is-fullwidth svelte-xmtx21"),S(y,"background-color",t[26].textAreaColor),S(y,"color",t[26].textColor),S(y,"border-color",t[26].borderColor),k(r,"class",R=(t[15]?t[15]:"")+" "+(t[9]||!t[0].length?"hide-arrow":"")+" "+(t[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+t[34]+" svelte-xmtx21"),T(r,"show-clear",t[32]),T(r,"is-loading",t[10]&&t[29])},m(n,h){var u;p(n,r,h),f(r,i),W&&W.m(i,null),C(i,t[2]),f(r,s),f(r,a),D&&D.m(a,null),f(a,l),f(a,c),t[77](c),Q(c,t[3]),f(a,b),X&&X.m(a,null),f(r,x),f(r,y),~$&&I[$].m(y,null),t[81](y),A=!0,z||(M=[w(window,"click",t[38]),w(i,"change",t[75]),(u=t[47].call(null,i),u&&o(u.destroy)?u.destroy:e),w(c,"input",t[78]),w(c,"input",t[41]),w(c,"focus",t[44]),w(c,"blur",t[45]),w(c,"keydown",t[39]),w(c,"click",t[43]),w(c,"keypress",t[40])],z=!0)},p(e,t){E===(E=j(e))&&W?W.p(e,t):(W&&W.d(1),W=E&&E(e),W&&(W.c(),W.m(i,null))),(!A||524288&t[0])&&k(i,"name",e[19]),(!A||1048576&t[0])&&k(i,"id",e[20]),22&t[0]&&C(i,e[2]),e[6]&&e[1]?D?(D.p(e,t),66&t[0]&&ee(D,1)):(D=rx(e),D.c(),ee(D,1),D.m(a,l)):D&&(J(),te(D,1,1,(()=>{D=null})),K()),(!A||65536&t[0]&&h!==(h=(e[16]?e[16]:"")+" input autocomplete-input svelte-xmtx21"))&&k(c,"class",h),(!A||131072&t[0]&&u!==(u=e[17]?e[17]:""))&&k(c,"id",u),(!A||4194304&t[0]&&d!==(d=e[22]?"on":"off"))&&k(c,"autocomplete",d),(!A||16384&t[0])&&k(c,"placeholder",e[14]),(!A||262144&t[0])&&k(c,"name",e[18]),(!A||33554432&t[0])&&(c.disabled=e[25]),(!A||2097152&t[0])&&k(c,"title",e[21]),(!A||8388866&t[0]&&m!==(m=e[23]||e[8]&&e[1]))&&(c.readOnly=m),(!A||67108864&t[0])&&S(c,"background-color",e[26].textAreaColor),(!A||67108864&t[0])&&S(c,"color",e[26].textColor),(!A||67108864&t[0])&&S(c,"border-color",e[26].borderColor),8&t[0]&&c.value!==e[3]&&Q(c,e[3]),e[32]?X?X.p(e,t):(X=ox(e),X.c(),X.m(a,null)):X&&(X.d(1),X=null);let n=$;$=Z(e),$===n?~$&&I[$].p(e,t):(_&&(J(),te(I[n],1,1,(()=>{I[n]=null})),K()),~$?(_=I[$],_?_.p(e,t):(_=I[$]=L[$](e),_.c()),ee(_,1),_.m(y,null)):_=null),(!A||16777216&t[0]|4&t[1]&&P!==(P=(e[24]?e[24]:"")+" autocomplete-list "+(e[33]?"":"hidden")+" is-fullwidth svelte-xmtx21"))&&k(y,"class",P),(!A||67108864&t[0])&&S(y,"background-color",e[26].textAreaColor),(!A||67108864&t[0])&&S(y,"color",e[26].textColor),(!A||67108864&t[0])&&S(y,"border-color",e[26].borderColor),(!A||33345&t[0]&&R!==(R=(e[15]?e[15]:"")+" "+(e[9]||!e[0].length?"hide-arrow":"")+" "+(e[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+e[34]+" svelte-xmtx21"))&&k(r,"class",R),33345&t[0]|2&t[1]&&T(r,"show-clear",e[32]),536905281&t[0]&&T(r,"is-loading",e[10]&&e[29])},i(e){A||(ee(D),ee(_),A=!0)},o(e){te(D),te(_),A=!1},d(e){e&&g(r),W&&W.d(),D&&D.d(),t[77](null),X&&X.d(),~$&&I[$].d(),t[81](null),z=!1,n(M)}}}function mx(e,t){let r;"function"!=typeof e&&console.error("Not a function: "+e+", argument: "+t);try{r=e(t)}catch(r){console.warn("Error executing Autocomplete function on value: "+t+" function: "+e)}let n=r;return null==n&&(n=""),"string"!=typeof n&&(n=n.toString()),n}function Ox(e,t){if(!e)return 0;const r=e.keywords;let n=0;return t.forEach((e=>{r.includes(e)&&n++})),n}function bx(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function vx(e,t,r){let n,o,{$$slots:i={},$$scope:s}=t,{items:a=[]}=t,{searchFunction:l=!1}=t,{labelFieldName:c}=t,{keywordsFieldName:h=c}=t,{valueFieldName:u}=t,{labelFunction:d=function(e){return null==e?"":c?e[c]:e}}=t,{keywordsFunction:f=function(e){return null==e?"":h?e[h]:d(e)}}=t,{valueFunction:p=function(e,t=!1){return null==e?e:!S||t?u?e[u]:e:e.map((e=>u?e[u]:e))}}=t,{keywordsCleanFunction:g=function(e){return e}}=t,{textCleanFunction:m=function(e){return e}}=t,{beforeChange:O=function(e,t){return!0}}=t,{onChange:b=function(e){}}=t,{onFocus:v=function(){}}=t,{onBlur:x=function(){}}=t,{onCreate:w=function(e){K&&console.log("onCreate: "+e)}}=t,{selectFirstIfEmpty:k=!1}=t,{minCharactersToSearch:y=1}=t,{maxItemsToShowInList:Q=0}=t,{multiple:S=!1}=t,{create:C=!1}=t,{ignoreAccents:T=!0}=t,{matchAllKeywords:_=!0}=t,{sortByMatchedKeywords:P=!1}=t,{lock:R=!1}=t,{delay:A=0}=t,{localFiltering:z=!0}=t,{hideArrow:M=!1}=t,{showClear:j=!1}=t,{showLoadingIndicator:E=!1}=t,{noResultsText:D="No results found"}=t,{loadingText:X="Loading results..."}=t,{createText:L="Not found, add anyway?"}=t,{placeholder:I}=t,{className:Z}=t,{inputClassName:q}=t,{inputId:N}=t,{name:B}=t,{selectName:V}=t,{selectId:G}=t,{title:U}=t,{html5autocomplete:F}=t,{readonly:H}=t,{dropdownClassName:Y}=t,{disabled:J=!1}=t,{debug:K=!1}=t,{selectedItem:ee}=t,{value:te}=t,{theme:re}=t;const ne="sautocomplete-"+Math.floor(1e3*Math.random());let oe,ie,se,ae,le=!1,ce=!1,he=-1,{text:ue}=t,de=0,fe=[],pe=0,ge=0;function me(e){return mx(d,e)}function Oe(e){const t=mx(f,e);let r=mx(g,t);return r=r.toLowerCase().trim(),T&&(r=bx(r)),K&&console.log("Extracted keywords: '"+r+"' from item: "+JSON.stringify(e)),r}function be(){let e;K&&(e=`Autocomplete prepare list ${N?`(id: ${N})`:""})`,console.time(e),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(a))),Array.isArray(a)||(console.warn("Autocomplete items / search function did not return array but",a),r(0,a=[]));const t=a?a.length:0;fe=new Array(t),t>0&&a.forEach(((e,t)=>{const r=function(e){return{keywords:Oe(e),label:me(e),item:e}}(e);null==r&&console.log("Undefined item for: ",e),fe[t]=r})),K&&(console.log(fe.length+" items to search"),console.timeEnd(e))}async function ve(){let e;K&&(e=`Autocomplete search ${N?`(id: ${N})`:""})`,console.time(e),console.log("Searching user entered text: '"+ue+"'"));const t=function(e){if(null==e)return"";const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();if(r(72,de=t.length),y>1&&de<y)return"";const n=m(t).toLowerCase().trim();return K&&console.log("Change user entered text '"+e+"' into '"+n+"'"),n}(ue);if(""===t)return l?(r(0,a=[]),K&&console.log("User entered text is empty clear list of items")):(r(31,se=fe),K&&console.log("User entered text is empty set the list of items to all items")),je(),void(K&&console.timeEnd(e));if(l){pe+=1;const e=pe;r(29,ce=!0);if(l instanceof async function*(){}.constructor)for await(const n of l(t)){if(e<ge)return!1;e>ge&&r(0,a=[]),ge=e,r(0,a=[...a,...n]),xe(t)}else{let n=await l(t);if(e<ge)return!1;ge=e,r(0,a=n),xe(t)}r(29,ce=!1)}else xe(t);K&&(console.timeEnd(e),console.log("Search found "+se.length+" items"))}function xe(e){let t;if(be(),z){var n=e.split(" ");T&&(n=n.map((e=>bx(e)))),t=fe.filter((e=>{var t=Ox(e,n);return _?t>=n.length:t>0})),P&&(t=t.sort(((e,t)=>Ox(t,n)-Ox(e,n))))}else t=fe;const o=Ee(e,["label"]),i=t.map(o);return r(31,se=i),je(),!0}function we(e){if(K&&console.log("selectListItem"),void 0===e)return C?(w(ue),!0):(K&&console.log("listItem is undefined. Can not select."),!1);const t=e.item;return O(ee,t)&&(S?ee?ee.includes(t)?r(1,ee=ee.filter((e=>e!==t))):r(1,ee=[...ee,t]):r(1,ee=[t]):r(1,ee=t)),!0}function ke(){K&&console.log("selectItem");we(se[he])&&(ze(),S&&oe.focus())}function ye(){K&&console.log("up"),Ae(),he>0&&r(30,he--,he),Se()}function Qe(){K&&console.log("down"),Ae(),he<se.length-1&&r(30,he++,he),Se()}function Se(){K&&console.log("highlight");const e=".selected";K&&console.log("Seaching DOM element: .selected in "+ie);const t=ie&&ie.querySelector(e);t?"function"==typeof t.scrollIntoViewIfNeeded?(K&&console.log("Scrolling selected item into view"),t.scrollIntoViewIfNeeded()):K&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):K&&console.warn("Selected item not found to scroll into view")}function Ce(e){K&&console.log("onListItemClick"),we(e)&&(ze(),S&&oe.focus())}function $e(e){K&&console.log("unselectItem",e),r(1,ee=ee.filter((t=>t!==e))),oe.focus()}function Te(){ve()&&(r(30,he=0),Ae())}function _e(e){K&&console.log("onEsc"),e.stopPropagation(),le&&(oe.focus(),ze())}function Pe(e){K&&console.log("onBackspace"),$e(ee[ee.length-1])}function Re(){if(K&&console.log("resetListToAllItemsAndOpen"),ue?!fe.length&&ee&&l&&ve():r(31,se=fe),Ae(),ee){K&&console.log("Searching currently selected item: "+JSON.stringify(ee));for(let e=0;e<fe.length;e++){const t=fe[e];if(void 0!==t){if(K&&console.log("Item "+e+": "+JSON.stringify(t)),ee==t.item){r(30,he=e),K&&console.log("Found selected item: "+e+": "+JSON.stringify(t)),Se();break}}else K&&console.log(`listItem ${e} is undefined. Skipping.`)}}}function Ae(){K&&console.log("open"),Me()||r(71,le=!0)}function ze(){K&&console.log("close"),r(71,le=!1),r(29,ce=!1),!ue&&k&&(Ee=0,ke())}function Me(){return y>1&&de<y}function je(){Me()&&ze()}function Ee(e,t){return e=e.split(/\s+/g),r=>{const n=Object.assign({highlighted:{}},r);return t&&t.forEach((t=>{n[t]&&!n.highlighted[t]&&(n.highlighted[t]=n[t]),n.highlighted[t]&&e.forEach((e=>{const r=new RegExp("("+e+")","ig");n.highlighted[t]=n.highlighted[t].replace(r,"<b>$1</b>")}))})),n}}return e.$$set=e=>{"items"in e&&r(0,a=e.items),"searchFunction"in e&&r(49,l=e.searchFunction),"labelFieldName"in e&&r(50,c=e.labelFieldName),"keywordsFieldName"in e&&r(51,h=e.keywordsFieldName),"valueFieldName"in e&&r(52,u=e.valueFieldName),"labelFunction"in e&&r(53,d=e.labelFunction),"keywordsFunction"in e&&r(54,f=e.keywordsFunction),"valueFunction"in e&&r(4,p=e.valueFunction),"keywordsCleanFunction"in e&&r(55,g=e.keywordsCleanFunction),"textCleanFunction"in e&&r(56,m=e.textCleanFunction),"beforeChange"in e&&r(57,O=e.beforeChange),"onChange"in e&&r(58,b=e.onChange),"onFocus"in e&&r(59,v=e.onFocus),"onBlur"in e&&r(60,x=e.onBlur),"onCreate"in e&&r(61,w=e.onCreate),"selectFirstIfEmpty"in e&&r(62,k=e.selectFirstIfEmpty),"minCharactersToSearch"in e&&r(63,y=e.minCharactersToSearch),"maxItemsToShowInList"in e&&r(5,Q=e.maxItemsToShowInList),"multiple"in e&&r(6,S=e.multiple),"create"in e&&r(7,C=e.create),"ignoreAccents"in e&&r(64,T=e.ignoreAccents),"matchAllKeywords"in e&&r(65,_=e.matchAllKeywords),"sortByMatchedKeywords"in e&&r(66,P=e.sortByMatchedKeywords),"lock"in e&&r(8,R=e.lock),"delay"in e&&r(67,A=e.delay),"localFiltering"in e&&r(68,z=e.localFiltering),"hideArrow"in e&&r(9,M=e.hideArrow),"showClear"in e&&r(69,j=e.showClear),"showLoadingIndicator"in e&&r(10,E=e.showLoadingIndicator),"noResultsText"in e&&r(11,D=e.noResultsText),"loadingText"in e&&r(12,X=e.loadingText),"createText"in e&&r(13,L=e.createText),"placeholder"in e&&r(14,I=e.placeholder),"className"in e&&r(15,Z=e.className),"inputClassName"in e&&r(16,q=e.inputClassName),"inputId"in e&&r(17,N=e.inputId),"name"in e&&r(18,B=e.name),"selectName"in e&&r(19,V=e.selectName),"selectId"in e&&r(20,G=e.selectId),"title"in e&&r(21,U=e.title),"html5autocomplete"in e&&r(22,F=e.html5autocomplete),"readonly"in e&&r(23,H=e.readonly),"dropdownClassName"in e&&r(24,Y=e.dropdownClassName),"disabled"in e&&r(25,J=e.disabled),"debug"in e&&r(70,K=e.debug),"selectedItem"in e&&r(1,ee=e.selectedItem),"value"in e&&r(2,te=e.value),"theme"in e&&r(26,re=e.theme),"text"in e&&r(3,ue=e.text),"$$scope"in e&&r(73,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty[0]&&(r(2,te=p(ee)),r(3,ue=S?"":me(ee)),b(ee)),1&e.$$.dirty[0]|1536&e.$$.dirty[2]&&r(33,n=le&&(a&&a.length>0||de>0)),322&e.$$.dirty[0]|128&e.$$.dirty[2]&&r(32,o=j||(R||S)&&ee),1&e.$$.dirty[0]&&be()},[a,ee,te,ue,p,Q,S,C,R,M,E,D,X,L,I,Z,q,N,B,V,G,U,F,H,Y,J,re,oe,ie,ce,he,se,o,n,ne,me,ke,Ce,function(e){K&&console.log("onDocumentClick: "+JSON.stringify(e.target)),e.target.closest("."+ne)?(K&&console.log("onDocumentClick inside"),Se()):(K&&console.log("onDocumentClick outside"),ze())},function(e){K&&console.log("onKeyDown");let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const r={Tab:le?Qe.bind(this):null,ShiftTab:le?ye.bind(this):null,ArrowDown:Qe.bind(this),Escape:_e.bind(this),Backspace:S&&ee&&ee.length&&!ue?Pe.bind(this):null}[t];"function"==typeof r&&(e.preventDefault(),r(e))},function(e){K&&console.log("onKeyPress"),"Enter"===e.key&&le&&(e.preventDefault(),ke())},function(e){K&&console.log("onInput"),r(3,ue=e.target.value),ae&&clearTimeout(ae),A?ae=setTimeout(Te,A):Te()},$e,function(){K&&console.log("onInputClick"),Re()},function(){K&&console.log("onFocus"),v(),Re()},function(){K&&console.log("onBlur"),x()},function(){K&&console.log("clear"),r(3,ue=""),r(1,ee=void 0),setTimeout((()=>{oe.focus(),ze()}))},function(e){e.multiple=S},function(e){return!!ee&&(S?ee.includes(e):e==ee)},l,c,h,u,d,f,g,m,O,b,v,x,w,k,y,T,_,P,A,z,j,K,le,de,s,i,function(){te=$(this),r(2,te),r(4,p),r(1,ee)},e=>{$e(e)},function(e){W[e?"unshift":"push"]((()=>{oe=e,r(27,oe)}))},function(){ue=this.value,r(3,ue)},e=>Ce(e),e=>{r(30,he=e)},function(e){W[e?"unshift":"push"]((()=>{ie=e,r(28,ie)}))}]}class xx extends ae{constructor(e){super(),se(this,e,vx,gx,i,{items:0,searchFunction:49,labelFieldName:50,keywordsFieldName:51,valueFieldName:52,labelFunction:53,keywordsFunction:54,valueFunction:4,keywordsCleanFunction:55,textCleanFunction:56,beforeChange:57,onChange:58,onFocus:59,onBlur:60,onCreate:61,selectFirstIfEmpty:62,minCharactersToSearch:63,maxItemsToShowInList:5,multiple:6,create:7,ignoreAccents:64,matchAllKeywords:65,sortByMatchedKeywords:66,lock:8,delay:67,localFiltering:68,hideArrow:9,showClear:69,showLoadingIndicator:10,noResultsText:11,loadingText:12,createText:13,placeholder:14,className:15,inputClassName:16,inputId:17,name:18,selectName:19,selectId:20,title:21,html5autocomplete:22,readonly:23,dropdownClassName:24,disabled:25,debug:70,selectedItem:1,value:2,theme:26,text:3},null,[-1,-1,-1,-1])}}function wx(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,y,C,$,T,_,P,R,A,z,M,j,E,D,X,L,I,Z,q,N,V,G,U,F,H;function Y(t){e[19](t)}let J={inputId:"scriptName",items:e[6],inputClassName:"scriptInput",className:"scriptDiv",create:"true",theme:e[8],onChange:e[17],onCreate:e[18]};return void 0!==e[2]&&(J.selectedItem=e[2]),a=new xx({props:J}),W.push((()=>re(a,"selectedItem",Y))),_=new wb({props:{height:"380px",width:"980px",config:e[9],initFinished:e[0]}}),_.$on("textChange",e[22]),_.$on("editorChange",e[23]),{c(){t=O("div"),r=O("div"),o=O("div"),i=O("label"),i.textContent="Name:",s=v(),ne(a.$$.fragment),c=v(),h=O("label"),h.textContent="Insert?",u=v(),d=O("input"),m=v(),x=O("div"),y=O("label"),y.textContent="Description:",C=v(),$=O("input"),T=v(),ne(_.$$.fragment),P=v(),R=O("div"),A=O("button"),z=b("Save Script"),M=v(),j=O("button"),E=b("Delete Script"),D=v(),X=O("button"),L=b("Notes"),I=v(),Z=O("button"),q=b("Scripts Menu"),N=v(),V=O("button"),G=b("Templates Menu"),k(i,"for","scriptName"),k(i,"class","svelte-1nkhnrz"),k(h,"id","insertChkLab"),k(h,"for","insertChk"),k(h,"class","svelte-1nkhnrz"),k(d,"id","insertChk"),k(d,"name","insertChk"),k(d,"type","checkbox"),S(d,"background-color",e[8].textAreaColor),S(d,"color",e[8].textColor),S(d,"border-color",e[8].borderColor),k(d,"class","svelte-1nkhnrz"),k(o,"class","headerRow svelte-1nkhnrz"),k(y,"for","description"),k(y,"class","svelte-1nkhnrz"),k($,"id","description"),S($,"background-color",e[8].textAreaColor),S($,"color",e[8].textColor),S($,"border-color",e[8].borderColor),S($,"font-size",e[8].fontSize),k($,"class","svelte-1nkhnrz"),k(x,"class","headerRow svelte-1nkhnrz"),k(r,"id","header"),k(r,"class","svelte-1nkhnrz"),S(A,"background-color",e[8].textAreaColor),S(A,"color",e[8].textColor),S(A,"border-color",e[8].borderColor),k(A,"class","svelte-1nkhnrz"),S(j,"background-color",e[8].textAreaColor),S(j,"color",e[8].textColor),S(j,"border-color",e[8].borderColor),k(j,"class","svelte-1nkhnrz"),S(X,"background-color",e[8].textAreaColor),S(X,"color",e[8].textColor),S(X,"border-color",e[8].borderColor),k(X,"class","svelte-1nkhnrz"),S(Z,"background-color",e[8].textAreaColor),S(Z,"color",e[8].textColor),S(Z,"border-color",e[8].borderColor),k(Z,"class","svelte-1nkhnrz"),S(V,"background-color",e[8].textAreaColor),S(V,"color",e[8].textColor),S(V,"border-color",e[8].borderColor),k(V,"class","svelte-1nkhnrz"),k(R,"id","buttonRow"),k(R,"class","svelte-1nkhnrz"),k(t,"id","scripts"),S(t,"background-color",e[8].backgroundColor),S(t,"font-family",e[8].font),S(t,"color",e[8].textColor),S(t,"font-size",e[8].fontSize),k(t,"class","svelte-1nkhnrz")},m(n,l){p(n,t,l),f(t,r),f(r,o),f(o,i),f(o,s),oe(a,o,null),f(o,c),f(o,h),f(o,u),f(o,d),d.checked=e[5],f(r,m),f(r,x),f(x,y),f(x,C),f(x,$),Q($,e[4]),f(t,T),oe(_,t,null),f(t,P),f(t,R),f(R,A),f(A,z),f(R,M),f(R,j),f(j,E),f(R,D),f(R,X),f(X,L),f(R,I),f(R,Z),f(Z,q),f(R,N),f(R,V),f(V,G),U=!0,F||(H=[w(d,"change",e[20]),w($,"input",e[21]),w(A,"click",e[10]),w(j,"click",e[11]),w(X,"click",e[14]),w(Z,"click",e[15]),w(V,"click",e[16])],F=!0)},p(e,r){const n={};64&r[0]&&(n.items=e[6]),256&r[0]&&(n.theme=e[8]),154&r[0]&&(n.onCreate=e[18]),!l&&4&r[0]&&(l=!0,n.selectedItem=e[2],B((()=>l=!1))),a.$set(n),(!U||256&r[0])&&S(d,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(d,"color",e[8].textColor),(!U||256&r[0])&&S(d,"border-color",e[8].borderColor),32&r[0]&&(d.checked=e[5]),(!U||256&r[0])&&S($,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S($,"color",e[8].textColor),(!U||256&r[0])&&S($,"border-color",e[8].borderColor),(!U||256&r[0])&&S($,"font-size",e[8].fontSize),16&r[0]&&$.value!==e[4]&&Q($,e[4]);const o={};1&r[0]&&(o.initFinished=e[0]),_.$set(o),(!U||256&r[0])&&S(A,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(A,"color",e[8].textColor),(!U||256&r[0])&&S(A,"border-color",e[8].borderColor),(!U||256&r[0])&&S(j,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(j,"color",e[8].textColor),(!U||256&r[0])&&S(j,"border-color",e[8].borderColor),(!U||256&r[0])&&S(X,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(X,"color",e[8].textColor),(!U||256&r[0])&&S(X,"border-color",e[8].borderColor),(!U||256&r[0])&&S(Z,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(Z,"color",e[8].textColor),(!U||256&r[0])&&S(Z,"border-color",e[8].borderColor),(!U||256&r[0])&&S(V,"background-color",e[8].textAreaColor),(!U||256&r[0])&&S(V,"color",e[8].textColor),(!U||256&r[0])&&S(V,"border-color",e[8].borderColor),(!U||256&r[0])&&S(t,"background-color",e[8].backgroundColor),(!U||256&r[0])&&S(t,"font-family",e[8].font),(!U||256&r[0])&&S(t,"color",e[8].textColor),(!U||256&r[0])&&S(t,"font-size",e[8].fontSize)},i(e){U||(ee(a.$$.fragment,e),ee(_.$$.fragment,e),U=!0)},o(e){te(a.$$.fragment,e),te(_.$$.fragment,e),U=!1},d(e){e&&g(t),ie(a),ie(_),F=!1,n(H)}}}function kx(e,t,r){let n,o,i,a,l,c;s(e,Db,(e=>r(24,n=e))),s(e,Wb,(e=>r(25,o=e))),s(e,Ab,(e=>r(26,i=e))),s(e,Cv,(e=>r(7,a=e))),s(e,Qv,(e=>r(27,l=e))),s(e,bb,(e=>r(8,c=e)));let h,u,f=!1,p="",g="",m="",O=!1;function b(e){fetch("http://localhost:9978/api/scripts/user",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(6,u=t.scripts.sort()),void 0!==e&&e()}))}function v(e){fetch("http://localhost:9978/api/scripts/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{d(Qv,l=t.data,l),void 0!==e&&e()}))}function x(e){d(Cv,a=e,a)}function w(e){r(1,h=e.value)}z((()=>{r(0,f=!0),b((()=>{}))}));return[f,h,p,g,m,O,u,a,c,{language:"javascript",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},function(){void 0!==g&&""!==g&&fetch(`http://localhost:9978/api/scripts/${g}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({script:{name:g,insert:O,description:m,script:h}})}).then((()=>{r(2,p=""),r(3,g=""),r(5,O=!0),r(4,m=""),r(1,h=""),a.setValue(h),v(),b()}))},function(){void 0!==g&&""!==g&&fetch(`http://localhost:9978/api/scripts/${g}`,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((()=>{r(3,g=""),r(5,O=!0),r(4,m=""),r(1,h=""),r(2,p=""),a.setValue(h),v(),b()}))},x,w,function(){d(Ab,i="notes",i)},function(){d(Wb,o=!o,o)},function(){d(Db,n=!n,n)},function(e){void 0!==e&&""!==e&&(r(3,g=e),function(e,t){void 0!==e&&""!==e&&fetch(`http://localhost:9978/api/scripts/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{r(3,g=e.script.name),r(1,h=e.script.script),r(4,m=e.script.description),r(5,O="true"==e.script.insert),a.setValue(h),void 0!==t&&t()}))}(g))},e=>{void 0!==e&&""!==e&&(r(3,g=e),r(4,m=""),r(1,h=""),a.setValue(h))},function(e){p=e,r(2,p)},function(){O=this.checked,r(5,O)},function(){m=this.value,r(4,m)},e=>{w(e.detail.data)},e=>{x(e.detail.data)}]}class yx extends ae{constructor(e){super(),se(this,e,kx,wx,i,{},null,[-1,-1])}}function Qx(e){let t,r,n,o;return{c(){t=O("button"),r=b("Delete Template"),S(t,"background-color",e[7].textAreaColor),S(t,"color",e[7].textColor),S(t,"border-color",e[7].borderColor),k(t,"class","svelte-2ihs3u")},m(i,s){p(i,t,s),f(t,r),n||(o=w(t,"click",e[10]),n=!0)},p(e,r){128&r&&S(t,"background-color",e[7].textAreaColor),128&r&&S(t,"color",e[7].textColor),128&r&&S(t,"border-color",e[7].borderColor)},d(e){e&&g(t),n=!1,o()}}}function Sx(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,y,C,$,T,_,P,R,A,z,M,j,E,D,X,L,I,Z,q;function N(t){e[18](t)}let V={inputId:"templateName",items:e[5],inputClassName:"templateInput",className:"templateDiv",create:"true",theme:e[7],onChange:e[16],onCreate:e[17]};void 0!==e[4]&&(V.selectedItem=e[4]),a=new xx({props:V}),W.push((()=>re(a,"selectedItem",N))),y=new wb({props:{height:"375px",width:"980px",config:e[8],initFinished:e[0]}}),y.$on("textChange",e[20]),y.$on("editorChange",e[21]);let G="Defaults"!==e[3]&&Qx(e);return{c(){t=O("div"),r=O("div"),o=O("div"),i=O("label"),i.textContent="Name:",s=v(),ne(a.$$.fragment),c=v(),h=O("div"),u=O("label"),u.textContent="Description:",d=v(),m=O("input"),x=v(),ne(y.$$.fragment),C=v(),$=O("div"),T=O("button"),_=b("Save Template"),P=v(),G&&G.c(),R=v(),A=O("button"),z=b("Notes"),M=v(),j=O("button"),E=b("Scripts Menu"),D=v(),X=O("button"),L=b("Templates Menu"),k(i,"for","templateName"),k(i,"class","svelte-2ihs3u"),k(o,"class","headerRow svelte-2ihs3u"),k(u,"for","description"),k(u,"class","svelte-2ihs3u"),k(m,"id","description"),S(m,"background-color",e[7].textAreaColor),S(m,"color",e[7].textColor),S(m,"border-color",e[7].borderColor),k(m,"class","svelte-2ihs3u"),k(h,"class","headerRow svelte-2ihs3u"),k(r,"id","header"),k(r,"class","svelte-2ihs3u"),S(T,"background-color",e[7].textAreaColor),S(T,"color",e[7].textColor),S(T,"border-color",e[7].borderColor),k(T,"class","svelte-2ihs3u"),S(A,"background-color",e[7].textAreaColor),S(A,"color",e[7].textColor),S(A,"border-color",e[7].borderColor),k(A,"class","svelte-2ihs3u"),S(j,"background-color",e[7].textAreaColor),S(j,"color",e[7].textColor),S(j,"border-color",e[7].borderColor),k(j,"class","svelte-2ihs3u"),S(X,"background-color",e[7].textAreaColor),S(X,"color",e[7].textColor),S(X,"border-color",e[7].borderColor),k(X,"class","svelte-2ihs3u"),k($,"id","buttonRow"),k($,"class","svelte-2ihs3u"),k(t,"id","templates"),S(t,"background-color",e[7].backgroundColor),S(t,"font-family",e[7].font),S(t,"color",e[7].textColor),S(t,"font-size",e[7].fontSize),k(t,"class","svelte-2ihs3u")},m(n,l){p(n,t,l),f(t,r),f(r,o),f(o,i),f(o,s),oe(a,o,null),f(r,c),f(r,h),f(h,u),f(h,d),f(h,m),Q(m,e[2]),f(t,x),oe(y,t,null),f(t,C),f(t,$),f($,T),f(T,_),f($,P),G&&G.m($,null),f($,R),f($,A),f(A,z),f($,M),f($,j),f(j,E),f($,D),f($,X),f(X,L),I=!0,Z||(q=[w(m,"input",e[19]),w(T,"click",e[9]),w(A,"click",e[13]),w(j,"click",e[14]),w(X,"click",e[15])],Z=!0)},p(e,[r]){const n={};32&r&&(n.items=e[5]),128&r&&(n.theme=e[7]),78&r&&(n.onCreate=e[17]),!l&&16&r&&(l=!0,n.selectedItem=e[4],B((()=>l=!1))),a.$set(n),(!I||128&r)&&S(m,"background-color",e[7].textAreaColor),(!I||128&r)&&S(m,"color",e[7].textColor),(!I||128&r)&&S(m,"border-color",e[7].borderColor),4&r&&m.value!==e[2]&&Q(m,e[2]);const o={};1&r&&(o.initFinished=e[0]),y.$set(o),(!I||128&r)&&S(T,"background-color",e[7].textAreaColor),(!I||128&r)&&S(T,"color",e[7].textColor),(!I||128&r)&&S(T,"border-color",e[7].borderColor),"Defaults"!==e[3]?G?G.p(e,r):(G=Qx(e),G.c(),G.m($,R)):G&&(G.d(1),G=null),(!I||128&r)&&S(A,"background-color",e[7].textAreaColor),(!I||128&r)&&S(A,"color",e[7].textColor),(!I||128&r)&&S(A,"border-color",e[7].borderColor),(!I||128&r)&&S(j,"background-color",e[7].textAreaColor),(!I||128&r)&&S(j,"color",e[7].textColor),(!I||128&r)&&S(j,"border-color",e[7].borderColor),(!I||128&r)&&S(X,"background-color",e[7].textAreaColor),(!I||128&r)&&S(X,"color",e[7].textColor),(!I||128&r)&&S(X,"border-color",e[7].borderColor),(!I||128&r)&&S(t,"background-color",e[7].backgroundColor),(!I||128&r)&&S(t,"font-family",e[7].font),(!I||128&r)&&S(t,"color",e[7].textColor),(!I||128&r)&&S(t,"font-size",e[7].fontSize)},i(e){I||(ee(a.$$.fragment,e),ee(y.$$.fragment,e),I=!0)},o(e){te(a.$$.fragment,e),te(y.$$.fragment,e),I=!1},d(e){e&&g(t),ie(a),ie(y),G&&G.d(),Z=!1,n(q)}}}function Cx(e,t,r){let n,o,i,a,l,c;s(e,Db,(e=>r(22,n=e))),s(e,Wb,(e=>r(23,o=e))),s(e,Ab,(e=>r(24,i=e))),s(e,Sv,(e=>r(6,a=e))),s(e,zv,(e=>r(25,l=e))),s(e,bb,(e=>r(7,c=e)));let h,u,f=!1,p="",g="",m="";function O(e){fetch("http://localhost:9978/api/template/user",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{r(5,u=t.templates.sort()),void 0!==e&&e()}))}function b(e){fetch("http://localhost:9978/api/template/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((t=>{d(zv,l=t.templates,l),void 0!==e&&e()}))}function v(e){d(Sv,a=e,a)}function x(e){r(1,p=e.value)}z((()=>{O((()=>{r(0,f=!0)}))}));return[f,p,g,m,h,u,a,c,{language:"javascript",lineNumbers:!0,lineWrapping:!0,lineHighlight:!0},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/template/${m}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({template:{name:m,description:g,template:p}})}).then((()=>{r(1,p=""),r(3,m=""),r(2,g=""),r(4,h=""),a.setValue(p),b(),O()}))},function(){void 0!==m&&""!==m&&fetch(`http://localhost:9978/api/template/${m}`,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((()=>{r(1,p=""),r(3,m=""),r(2,g=""),r(4,h=""),a.setValue(p),b(),O()}))},v,x,function(){d(Ab,i="notes",i)},function(){d(Wb,o=!o,o)},function(){d(Db,n=!n,n)},function(e){void 0!==e&&(r(3,m=e),function(e,t){void 0!==e&&""!==e&&fetch(`http://localhost:9978/api/template/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{r(1,p=e.text.template),a.setValue(p),r(2,g=e.text.description),void 0!==t&&t()}))}(m))},e=>{void 0!==e&&(r(3,m=e),r(2,g=""),r(1,p=""),a.setValue(p))},function(e){h=e,r(4,h)},function(){g=this.value,r(2,g)},e=>{x(e.detail.data)},e=>{v(e.detail.data)}]}class $x extends ae{constructor(e){super(),se(this,e,Cx,Sx,i,{})}}function Tx(t){let r,o,i,s,a,l,c,h,u,d,m,b;return{c(){r=O("div"),o=O("div"),i=O("label"),i.textContent="Auto Launch Node-Red?",s=v(),a=O("input"),l=v(),c=O("div"),h=O("label"),h.textContent="Dashboard configured?",u=v(),d=O("input"),k(i,"class","styleLabel svelte-n1ihpd"),k(a,"class","PrefCheck svelte-n1ihpd"),k(a,"type","checkbox"),k(o,"class","labelRadialHolder svelte-n1ihpd"),k(h,"class","styleLabel svelte-n1ihpd"),k(d,"class","PrefCheck svelte-n1ihpd"),k(d,"type","checkbox"),k(c,"class","labelRadialHolder svelte-n1ihpd")},m(e,n){p(e,r,n),f(r,o),f(o,i),f(o,s),f(o,a),a.checked=t[0].REDAuto,f(r,l),f(r,c),f(c,h),f(c,u),f(c,d),d.checked=t[0].REDDashboard,m||(b=[w(a,"change",t[2]),w(a,"change",t[3]),w(d,"change",t[4]),w(d,"change",t[5])],m=!0)},p(e,[t]){1&t&&(a.checked=e[0].REDAuto),1&t&&(d.checked=e[0].REDDashboard)},i:e,o:e,d(e){e&&g(r),m=!1,n(b)}}}function _x(e,t,r){const n=j();var o={REDAuto:!0,REDDashboard:!0};function i(){!function(e,t){n(e,{data:t})}("changeTodos",{auto:o.REDAuto,dashboard:o.REDDashboard})}return[o,i,function(){o.REDAuto=this.checked,r(0,o)},()=>{i()},function(){o.REDDashboard=this.checked,r(0,o)},()=>{i()}]}class Px extends ae{constructor(e){super(),se(this,e,_x,Tx,i,{})}}function Rx(t){let r;return{c(){r=O("div"),S(r,"background-color",t[0].backgroundColor)},m(e,t){p(e,r,t)},p(e,[t]){1&t&&S(r,"background-color",e[0].backgroundColor)},i:e,o:e,d(e){e&&g(r)}}}function Ax(e,t,r){let n;return s(e,bb,(e=>r(0,n=e))),[n]}class zx extends ae{constructor(e){super(),se(this,e,Ax,Rx,i,{})}}
/**
     * @category  html5 widgets
     * @package   Kelly
     * @author    Rubchuk Vladimir <torrenttvi@gmail.com>
     * @copyright 2015-2017 Rubchuk Vladimir
     * @license   GPLv3
     * @version   1.19
     *
     * Usage example :
     *
     *   new KellyColorPicker({place : 'color-picker'});
     *
     * ToDo :
     * 
     * Add switch color in colorsavers button (analog of X button in Photoshop)
     *
     **/function Mx(e){var t,r=Math.PI,n=!0,o=new Object;o.radius=4;var i=!1,s=!1,a="quad",l=!1,c=!1,h=!0,u=new Array,d=new Array,f=document.createElement("canvas"),p=!1,g=!1,m=null,O=!1,b=!0,v="mixed",x=new Object;x.tag=!1,x.margin=6;var w,k,y,Q,S=!1,C=this,$=200,T="#000000",_=1,P=!1,R=!1,A=new Array,z=!1,M=new Array;function j(e,t,r){t=!!t;var n=new Object;n.width,n.widthPercentage=22,n.imageData=null,n.align=e,n.selected=t,n.color="#ffffff",n.position,n.paddingY=-4,n.paddingX=4,n.lineWidth=1,n.selectSize=4,"right"==e&&(n.paddingX=-1*n.paddingX),n.selected&&(n.color=T),r&&(n.color=r),n.updateSize=function(){this.width=parseInt($-$/100*(100-this.widthPercentage)),"left"==this.align?this.position={x:0,y:$-this.width}:"right"==this.align&&(this.position={x:$-this.width,y:$-this.width})},n.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},n.isDotIn=function(e){var t=new Array;"left"==this.align?(t[0]={x:this.position.x,y:this.position.y},t[1]={x:this.position.x,y:this.position.y+this.width},t[2]={x:this.position.x+this.width,y:this.position.y+this.width}):(t[0]={x:this.position.x+this.width,y:this.position.y},t[1]={x:t[0].x,y:t[0].y+this.width},t[2]={x:t[0].x-this.width,y:this.position.y+this.width});for(var r=0;r<=t.length-1;++r)t[r].x+=this.paddingX,t[r].y+=this.paddingY;var n=this.calcS(t),o=[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y},{x:e.x,y:e.y}],i=this.calcS(o);return o[1]={x:t[2].x,y:t[2].y},i+=this.calcS(o),o[0]={x:t[1].x,y:t[1].y},i+=this.calcS(o),Math.ceil(i)==Math.ceil(n)},n.draw=function(){f.width=this.width,f.height=this.width,p.clearRect(0,0,this.width,this.width),p.beginPath(),"left"==this.align&&(p.moveTo(this.lineWidth/2,this.width-this.lineWidth),p.lineTo(this.width,this.width-this.lineWidth),p.lineTo(this.lineWidth,this.lineWidth),p.lineTo(this.lineWidth,this.width-this.lineWidth)),"right"==this.align&&(p.moveTo(this.lineWidth/2,this.width-this.lineWidth),p.lineTo(this.width-this.lineWidth,this.width-this.lineWidth),p.lineTo(this.width-this.lineWidth,this.lineWidth),p.lineTo(this.lineWidth,this.width-this.lineWidth)),this.selected&&(p.fillStyle="rgba(255,255,255, 1)",p.fill(),p.strokeStyle="rgba(0, 0, 0, 1)",p.stroke(),p.closePath(),p.beginPath(),p.lineWidth=this.lineWidth,"left"==this.align&&(p.moveTo(this.selectSize,this.width-this.selectSize),p.lineTo(this.width-2*this.selectSize,this.width-this.selectSize),p.lineTo(this.selectSize,2*this.selectSize),p.lineTo(this.selectSize,this.width-this.selectSize)),"right"==this.align&&(p.moveTo(2*this.selectSize,this.width-this.selectSize),p.lineTo(this.width-this.selectSize,this.width-this.selectSize),p.lineTo(this.width-this.selectSize,2*this.selectSize),p.lineTo(2*this.selectSize,this.width-this.selectSize)));var e=U(this.color);p.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",p.fill(),p.strokeStyle="rgba(0, 0, 0, 1)",p.stroke(),this.imageData=p.getImageData(0,0,this.width,this.width),s.drawImage(f,this.position.x+this.paddingX,this.position.y+this.paddingY)};var o=A.length;A[o]=n}var E=new Object;E.width=18,E.imageData=null,E.innerRadius,E.startAngle=0,E.outerRadius,E.outerStrokeStyle="rgba(0,0,0,0.2)",E.innerStrokeStyle="rgba(0,0,0,0.2)",E.pos,E.draw=function(){if(this.imageData)s.putImageData(this.imageData,0,0);else{for(var e=this.startAngle,t=0;t<=360;t++){var n=H(t-2),o=H(t);s.beginPath(),s.moveTo(k,k),s.arc(k,k,this.outerRadius,n,o,!1),s.closePath();var i=V(e/360,1,1);s.fillStyle="rgb("+i.r+", "+i.g+", "+i.b+")",s.fill(),++e>=360&&(e=0)}s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(k,k,this.innerRadius,0,2*r),s.fill(),s.globalCompositeOperation="source-over",s.strokeStyle=this.innerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),s.beginPath(),s.arc(k,k,this.outerRadius,0,2*r),s.strokeStyle=this.outerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),this.imageData=s.getImageData(0,0,$,$)}},E.isDotIn=function(e){return Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)<Math.pow(this.outerRadius,2)&&Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)>Math.pow(this.innerRadius,2)};var W=new Object;W.lineWeight=2,W.height=4,W.paddingX=2,W.path;var D=new Object;D.width=18,D.padding=4,D.outerStrokeStyle="rgba(0,0,0,0.2)",D.innerStrokeStyle="rgba(0,0,0,0.2)",D.height,D.pos,D.updateSize=function(){this.pos={x:$+D.padding,y:D.padding},this.height=$-2*D.padding},D.draw=function(){var e=s.createLinearGradient(0,0,0,this.height),t=V(y.h,1,1);e.addColorStop(0,"rgba("+t.r+","+t.g+","+t.b+",1)"),e.addColorStop(1,"rgba("+t.r+","+t.g+","+t.b+",0)"),s.beginPath(),s.rect(this.pos.x,this.pos.y,this.width,this.height),s.fillStyle="white",s.fill(),s.fillStyle=e,s.fill(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2,s.stroke(),s.closePath()},D.dotToAlpha=function(e){return 1-Math.abs(this.pos.y-e.y)/this.height},D.alphaToDot=function(e){return{x:0,y:this.height-this.height*e}},D.limitDotPosition=function(e){var t=e.y;return t<this.pos.y&&(t=this.pos.y),t>this.pos.y+this.height&&(t=this.pos.y+this.height),{x:this.pos.x,y:t}},D.isDotIn=function(e){return!(e.x<this.pos.x||e.x>this.pos.x+D.width||e.y<this.pos.y||e.y>this.pos.y+this.height)};var X=new Object;function L(e){var t=e.getBoundingClientRect(),r=0,n=0;return l&&(n=D.width+2*D.padding),e===i?t.width<=t.height?r=t.height:t.height<t.width&&(r=t.width):R?"height"==R?r=t.height:"width"==R&&(r=t.width):t.width>t.height?r=t.height:t.height>=t.width&&(r=t.width),r=parseInt(r),l&&(r-=n),!(r<=0)&&r}function I(e,t){var r=1,n=!1;if((e=e.trim(e)).length<=7)"#"==e.charAt(0)&&(e=e.slice(1)),3==e.length?n=e+e:6==e.length&&(n=e);else if("rgb"==e.substring(0,3)){var o=e.split(",");if(o.length>=3&&o.length<=4){o[0]=o[0].replace("rgba(",""),o[0]=o[0].replace("rgb(","");var i={r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])};i.r<=255&&i.g<=255&&i.b<=255&&(n=F(i),4==o.length&&((!(r=parseFloat(o[3]))||r<0)&&(r=0),r>1&&(r=1)))}}return(!1!==n||!t)&&(!1===n&&(n="000000"),"#"!=n.charAt(0)&&(n="#"+n),{h:n,a:r})}function Z(){if(M.quad)return M.quad;var e=new Object;return e.size,e.padding=2,e.path,e.imageData=null,e.dotToSv=function(e){return{s:Math.abs(this.path[3].x-e.x)/this.size,v:Math.abs(this.path[3].y-e.y)/this.size}},e.svToDot=function(e){var t=this.path[0].x,r=this.path[0].y,n=.02;$<150?n=.07:$<100&&(n=.16);for(var o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var s={x:i+t,y:o+r},a=this.dotToSv(s),l=Math.abs(a.s-e.s),c=Math.abs(a.v-e.v);if(l<n&&c<n)return s}return{x:0,y:0}},e.limitDotPosition=function(e){var t=e.x,r=e.y;return t<this.path[0].x&&(t=this.path[0].x),t>this.path[0].x+this.size&&(t=this.path[0].x+this.size),r<this.path[0].y&&(r=this.path[0].y),r>this.path[0].y+this.size&&(r=this.path[0].y+this.size),{x:t,y:r}},e.draw=function(){this.imageData||(this.imageData=s.createImageData(this.size,this.size));for(var e=0,t=this.path[0].x,r=this.path[0].y,n=0;n<this.size;n++)for(var o=0;o<this.size;o++){var i={x:o+t,y:n+r},a=this.dotToSv(i),l=V(y.h,a.s,a.v);this.imageData.data[e+0]=l.r,this.imageData.data[e+1]=l.g,this.imageData.data[e+2]=l.b,this.imageData.data[e+3]=255,e+=4}s.putImageData(this.imageData,t,r),s.beginPath(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2;for(e=0;e<=this.path.length-1;++e)0==e?s.moveTo(this.path[e].x,this.path[e].y):s.lineTo(this.path[e].x,this.path[e].y);s.stroke(),s.closePath()},e.updateSize=function(){var e=2*E.innerRadius-2*W.paddingX-2*this.padding;this.size=Math.floor(e/Math.sqrt(2)),this.path=new Array,this.path[0]={x:this.size/2*-1,y:this.size/2*-1},this.path[1]={x:this.path[0].x+this.size,y:this.path[0].y},this.path[2]={x:this.path[1].x,y:this.path[1].y+this.size},this.path[3]={x:this.path[2].x-this.size,y:this.path[2].y},this.path[4]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=E.pos.x,this.path[t].y+=E.pos.y},e.isDotIn=function(e){return!(e.x<this.path[0].x||e.x>this.path[0].x+this.size||e.y<this.path[0].y||e.y>this.path[0].y+this.size)},M.quad=e,e}function q(){if(M.triangle)return M.triangle;var e=new Object;return e.size,e.padding=2,e.path,e.imageData=null,e.followWheel=!0,e.s,e.sOnTop=!1,e.outerRadius,e.limitDotPosition=function(e){var t=e.x,r=e.y,n=this.path[0].x,o=this.path[2].x,i=t,s=r;i=Math.min(Math.max(o,i),n);var a=(this.path[0].y-this.path[1].y)/(this.path[0].x-this.path[1].x),l=Math.ceil(this.path[1].y+a*(i-this.path[1].x));a=(this.path[0].y-this.path[2].y)/(this.path[0].x-this.path[2].x);var c=Math.floor(this.path[2].y+a*(i-this.path[2].x));return t<o&&(E.pos.y,E.pos.x,s=r),{x:i,y:s=Math.min(Math.max(l,s),c)}},e.svToDot=function(e){var r=.02;$<150?r=.07:$<100&&(r=.16);for(var n=0;n<this.size;n++)for(var o=0;o<this.size;o++){var i={x:this.path[1].x+o,y:this.path[1].y+n};if(t.isDotIn(i)){var s=this.dotToSv(i),a=Math.abs(s.s-e.s),l=Math.abs(s.v-e.v);if(a<r&&l<r)return i}}return{x:0,y:0}},e.draw=function(){this.imageData||(this.imageData=p.createImageData(this.size,this.size)),f.width=this.size,f.height=this.size;for(var e=this.path[1].x,r=this.path[1].y,n=0,o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var a={x:this.path[1].x+i,y:this.path[1].y+o};if(t.isDotIn(a)){var l=this.dotToSv(a),c=V(y.h,l.s,l.v);this.imageData.data[n+0]=c.r,this.imageData.data[n+1]=c.g,this.imageData.data[n+2]=c.b,this.imageData.data[n+3]=255}else this.imageData.data[n+0]=0,this.imageData.data[n+1]=0,this.imageData.data[n+2]=0,this.imageData.data[n+3]=0;n+=4}p.putImageData(this.imageData,0,0),s.drawImage(f,e,r),s.beginPath(),s.strokeStyle="rgba(0, 0, 0, 0.3)",s.lineWidth=2;var h=this.path;for(n=0;n<=h.length-1;++n)0==n?s.moveTo(h[n].x,h[n].y):s.lineTo(h[n].x,h[n].y);s.stroke(),s.closePath()},e.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},e.dotToSv=function(e){var t,r,n=function(e,t){var r=(t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y),n=(e.x-t[0].x)*(t[1].x-t[0].x)+(e.y-t[0].y)*(t[1].y-t[0].y),o=!0,i=n/r;i<0&&(i=0,o=!1);i>1&&(i=1,o=!1);return{x:t[0].x+i*(t[1].x-t[0].x),y:t[0].y+i*(t[1].y-t[0].y),pt:o}}({x:e.x,y:e.y},this.vol),o=(t=n,r=this.vol[0],Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)));o<1&&(o=Math.floor(o)),o>this.h-1&&(o=this.h);var i=o/this.h,s=Math.abs(J(e,this.sSide));return s<30&&(s=30),s=60-(s-=30),{s:s/=60,v:i}},e.isDotIn=function(e){var t=[{x:this.path[0].x,y:this.path[0].y},{x:this.path[1].x,y:this.path[1].y},{x:e.x,y:e.y}],r=this.calcS(t);return t[1]={x:this.path[2].x,y:this.path[2].y},r+=this.calcS(t),t[0]={x:this.path[1].x,y:this.path[1].y},r+=this.calcS(t),Math.ceil(r)==Math.ceil(this.s)},e.updateSize=function(){this.outerRadius=E.innerRadius-W.paddingX-this.padding,this.size=Math.floor(2*this.outerRadius*Math.sin(H(60)));var e=Math.sqrt(3)/2*this.size;this.h=Math.sqrt(3)/2*this.size,this.path=new Array,this.path[0]={x:this.outerRadius,y:0},this.path[1]={x:this.path[0].x-e,y:this.size/2*-1},this.path[2]={x:this.path[1].x,y:this.size/2},this.path[3]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=E.pos.x,this.path[t].y+=E.pos.y;if(this.vol=new Array,this.s=this.calcS(this.path),this.sOnTop){var r=Y(this.path[0],this.path[2]);this.vol[0]={x:this.path[1].x,y:this.path[1].y},this.vol[1]={x:r.x,y:r.y},this.sSide=this.path[1]}else{r=Y(this.path[0],this.path[1]);this.vol[0]={x:this.path[2].x,y:this.path[2].y},this.vol[1]={x:r.x,y:r.y},this.sSide=this.path[2]}},M.triangle=e,e}function N(e,t,r,n){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(n||(n=""),u[n+t]=r,e.addEventListener?e.addEventListener(t,u[n+t]):e.attachEvent("on"+t,u[n+t]),!0)}function B(e,t,r){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(r||(r=""),!!u[r+t]&&(e.removeEventListener?e.removeEventListener(t,u[r+t]):e.detachEvent("on"+t,u[r+t]),u[r+t]=null,!0))}function V(e,t,r){var n,o,i,s,a,l,c,h;switch(e&&void 0===t&&void 0===r&&(t=e.s,r=e.v,e=e.h),l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:n=r,o=h,i=l;break;case 1:n=c,o=r,i=l;break;case 2:n=l,o=r,i=h;break;case 3:n=l,o=c,i=r;break;case 4:n=h,o=l,i=r;break;case 5:n=r,o=l,i=c}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*i)}}function G(e,t,r){e&&void 0===t&&void 0===r&&(t=e.g,r=e.b,e=e.r),e/=255,t/=255,r/=255;var n,o,i=Math.max(e,t,r),s=Math.min(e,t,r),a=i,l=i-s;if(o=0==i?0:l/i,i==s)n=0;else{switch(i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,v:a}}function U(e){var t=parseInt("#"==e.charAt(0)?e.slice(1):e,16);return{r:t>>16,g:t>>8&255,b:255&t}}function F(e){var t=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};return"#"+t(e.r)+t(e.g)+t(e.b)}function H(e){return e*(r/180)}function Y(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function J(e,t,n){t||(t={x:0,y:0});var o=e.x-t.x,i=e.y-t.y,s=180*Math.atan2(i,o)/r;return n&&s<0&&(s=360+s),s}function K(){w=2+W.paddingX,g=!1,E.imageData=null,k=$/2,E.pos={x:k,y:k},E.outerRadius=k-w,E.innerRadius=E.outerRadius-E.width,W.path=[{x:E.innerRadius-W.paddingX,y:-1*W.height},{x:E.outerRadius+W.paddingX,y:-1*W.height},{x:E.outerRadius+W.paddingX,y:W.height},{x:E.innerRadius-W.paddingX,y:W.height},{x:E.innerRadius-W.paddingX,y:-1*W.height}];var e=$;l&&(e+=D.width+2*D.padding),"CANVAS"!=S.tagName&&(S.style.width=e+"px",S.style.height=$+"px"),i.width=e,i.height=$,P!=i&&(i.style.width=e+"px",i.style.height=$+"px");for(var r=0;r<=A.length-1;++r)A[r].updateSize();z&&(z.imageData.triangle=null,z.imageData.quad=null,z.updateSize()),t.updateSize(),l&&D.updateSize()}function ee(e){if(O){if(d.updateinput)if(!(0,d.updateinput)(C,O,e))return;var t="rgba("+Q.r+", "+Q.g+", "+Q.b+", "+_.toFixed(2)+")";e||(O.value=_<1&&"mixed"===v?t:"hex"===v||"mixed"===v?T:t),b&&(y.v<.5?O.style.color="#FFF":O.style.color="#000",O.style.background=t)}}function te(){N(i,"mousedown",(function(e){C.mouseDownEvent(e)}),"wait_action_"),N(i,"touchstart",(function(e){C.mouseDownEvent(e)}),"wait_action_"),N(i,"mouseout",(function(e){C.mouseOutEvent(e)}),"wait_action_"),N(window,"touchmove",(function(e){C.touchMoveEvent(e)}),"wait_action_"),N(i,"mousemove",(function(e){C.mouseMoveRest(e)}),"wait_action_")}function re(){B(i,"mousedown","wait_action_"),B(i,"touchstart","wait_action_"),B(i,"mouseout","wait_action_"),B(window,"touchmove","wait_action_"),B(i,"mousemove","wait_action_")}function ne(e){var t,r;e=e||window.event;var n=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop;"touchend"==e.type?(t=e.changedTouches[0].clientX+n,r=e.changedTouches[0].clientY+o):"touchmove"==e.type||e.touches?(t=e.touches[0].clientX+n,r=e.touches[0].clientY+o):(t=e.clientX+n,r=e.clientY+o);var s=i.getBoundingClientRect();return{x:t-=s.left+n,y:r-=s.top+o}}function oe(e){for(var t=!1,r=0;r<=A.length-1;++r)A[r].selected&&(t=r),A[r].selected=!1;var n=!1;for(r=0;r<=A.length-1;++r)if(r==e){A[r].selected=!0,C.setColorByHex(A[r].color),n=!0;break}n&&d.selectcolorsaver&&(0,d.selectcolorsaver)(C,A[e]);return n||!1===t||(A[t].selected=!0),n}function ie(){for(var e=0;e<=A.length-1;++e)A[e].selected&&(A[e].color=T)}function se(){if(A.length)for(var e=0;e<=A.length-1;++e)A[e].draw()}function ae(){if(!s||(s.clearRect(0,0,i.width,i.height),!(g?(s.putImageData(m,0,0),se(),1):(E.draw(),t.draw(),l&&D.draw(),se(),z&&z.draw(),c||(m=s.getImageData(0,0,i.width,i.height),g=!0),1))))return!1;var e=360*y.h-E.startAngle;if(l){s.beginPath();var n=D.height*(1-_);s.rect(D.pos.x-2,D.padding+n-1,D.width+4,2),s.strokeStyle="rgba(0,0,0, 0.8)",s.lineWidth=2,s.stroke(),s.closePath()}s.beginPath();for(var a=function(e,t){t=H(t);for(var r=new Array,n=0;n<=e.length-1;++n)r[n]={x:e[n].x*Math.cos(t)-e[n].y*Math.sin(t),y:e[n].x*Math.sin(t)+e[n].y*Math.cos(t)};return r}(W.path,e,(E.pos.x,E.pos.y)),h=0;h<=a.length-1;++h)a[h].x+=E.pos.x,a[h].y+=E.pos.y,0==h?s.moveTo(a[h].x,a[h].y):s.lineTo(a[h].x,a[h].y);return s.strokeStyle="rgba(0,0,0,0.8)",s.lineWidth=W.lineWeight,s.stroke(),s.closePath(),y.v>.5&&y.s<.5?s.strokeStyle="rgba(0, 0, 0, 1)":s.strokeStyle="rgba(255, 255, 255, 1)",s.beginPath(),s.lineWidth=2,s.arc(y.x,y.y,o.radius,0,2*r),s.stroke(),s.closePath(),!1}X.svCursorData=null,X.stCursor=null,X.curType=0,X.size=16,X.cEl=document.body,X.initSvCursor=function(){if(!i)return!1;if(this.curType=1,this.stCursor||(this.stCursor=window.getComputedStyle(this.cEl).cursor,this.stCursor||(this.stCursor="auto")),this.svCursorData)return this.cEl.style.cursor=this.svCursorData,!0;if(!f)return!1;var e=this.size+2;f.width=e,f.height=e,p.clearRect(0,0,this.size,this.size),p.strokeStyle="rgba(255, 255, 255, 1)",p.beginPath(),p.lineWidth=2,p.arc(e/2,e/2,this.size/2,0,2*r),p.stroke(),p.closePath();var t=e,n=f.toDataURL();return this.svCursorData="url("+n+") "+t/2+" "+t/2+", auto",!!this.svCursorData&&(this.cEl.style.cursor=this.svCursorData,-1===this.cEl.style.cursor.indexOf(n)&&(this.svCursorData="crosshair",this.cEl.style.cursor="crosshair"),!0)},X.initStandartCursor=function(){this.stCursor&&(X.curType=0,this.cEl.style.cursor=this.stCursor)},X.updateCursor=function(e){n&&(Mx.cursorLock||(t.isDotIn(e)?X.initSvCursor():X.initStandartCursor()))},this.popUpClose=function(e){if(!1!==x.tag){if(e){if(e.target==O||e.target==i)return!1;if(e.target==x.tag)return!1}x.tag.style.display="none",Mx.activePopUp==C&&(Mx.activePopUp=!1)}},this.popUpShow=function(e){if(!1!==x.tag){if(d.popupshow)if(!(0,d.popupshow)(C,e))return;Mx.popupEventsInclude||(N(document,"click",(function(e){return!!Mx.activePopUp&&Mx.activePopUp.popUpClose(e)}),"popup_close_"),N(window,"resize",(function(e){if(Mx.activePopUp)return Mx.activePopUp.popUpShow(e)}),"popup_resize_"),Mx.popupEventsInclude=!0),Mx.activePopUp&&Mx.activePopUp.popUpClose(!1);var t=C.getCanvas().width,r=C.getAlphaFig();r&&(t-=r.width+r.padding);var n=window.getComputedStyle(x.tag),o=parseInt(n.paddingBottom)+parseInt(n.paddingTop);o<=0&&(o=0);var i=O.getBoundingClientRect(),s=i.top+(window.scrollY||window.pageYOffset||document.body.scrollTop)-o,a=i.left+(window.scrollX||window.pageXOffset||document.body.scrollLeft);return x.tag.style.top=s-t-x.margin+"px",x.tag.style.left=a+"px",x.tag.style.display="block",Mx.activePopUp=C,!1}},this.setHueByDot=function(e){var t=J(e,E.pos)+E.startAngle;(t<0&&(t=360+t),y.h=t/360,Q=V(y.h,y.s,y.v),T=F(Q),ie(),d.change)&&(0,d.change)(C);ee(),g=!1,ae()},this.setColorForColorSaver=function(e,t){var r=I(e,!0);if(r){var n=C.getColorSaver(t);return n.selected?this.setColorByHex(e,!1):(n.color=r.h,ae()),!0}},this.setColor=function(e,t){C.setColorByHex(e,t)},this.setColorByHex=function(e,r){r||(r=!1);var n=_;if(!1!==e){if(!e||!e.length)return;var o=I(e,!0);if(!o)return;e=o.h,l&&(n=o.a)}else e=T;if(l&&e==T&&g&&n!=_)return _=n,void ae();if(!T||e!=T||!g){_=n,Q=U(e),T=e,y=G(Q);var i=t.svToDot(y);if(y.x=i.x,y.y=i.y,g=!1,ie(),ae(),d.change)(0,d.change)(C);ee(r)}},this.setAlphaByDot=function(e){(_=D.dotToAlpha(e),d.change)&&(0,d.change)(C);ee(),ae()},this.setAlpha=function(e){_=e,ee(),ae()},this.setColorByDot=function(e){var r=t.dotToSv(e);(y.s=r.s,y.v=r.v,y.x=e.x,y.y=e.y,y.s>1&&(y.s=1),y.s<0&&(y.s=0),y.v>1&&(y.v=1),y.v<0&&(y.v=0),Q=V(y.h,y.s,y.v),T=F(Q),ie(),d.change)&&(0,d.change)(C);ee(),ae()},this.mouseOutEvent=function(e){X.curType>0&&!Mx.cursorLock&&X.initStandartCursor()},this.mouseMoveRest=function(e){if(!c&&h){h=!1;var t=ne(e);if(X.updateCursor(t),requestAnimationFrame((function(){h=!0})),d.mousemoverest)(0,d.mousemoverest)(e,C,t)}},this.touchMoveEvent=function(e){c&&event.preventDefault()},this.mouseDownEvent=function(e){e.preventDefault();var r,n=!1,o=ne(e);if(E.isDotIn(o))c="wheel",C.setHueByDot(o),r=function(e){C.wheelMouseMove(e,o)},n=function(e){Mx.cursorLock=!1,C.wheelMouseUp(e,o)};else if(t.isDotIn(o))c="sv",C.setColorByDot(o),r=function(e){C.svMouseMove(e,o)},n=function(e){Mx.cursorLock=!1,C.svMouseUp(e,o)};else if(l&&D.isDotIn(o))c="alpha",C.setAlphaByDot(o),r=function(e){C.alphaMouseMove(e,o)},n=function(e){Mx.cursorLock=!1,C.alphaMouseUp(e,o)};else if(z&&z.isDotIn(o))C.setMethod();else if(A.length)for(var i=0;i<=A.length-1;++i)if(A[i].isDotIn(o)){oe(i);break}r&&n&&(re(),Mx.cursorLock=C,N(document,"mouseup",n,"action_process_"),N(document,"mousemove",r,"action_process_"),N(document,"touchend",n,"action_process_"),N(document,"touchmove",r,"action_process_"))},this.wheelMouseMove=function(e,t){if(e.preventDefault(),c&&h){h=!1;var r=ne(e);if(requestAnimationFrame((function(){h=!0})),C.setHueByDot(r),d.mousemoveh)(0,d.mousemoveh)(e,C,r)}},this.wheelMouseUp=function(e,t){if(e.preventDefault(),c){B(document,"mouseup","action_process_"),B(document,"mousemove","action_process_"),B(document,"touchend","action_process_"),B(document,"touchmove","action_process_"),te(),c=!1,g=!1,ae();var r=ne(e);if(X.updateCursor(r),d.mouseuph)(0,d.mouseuph)(e,C,r)}},this.alphaMouseMove=function(e,t){if(e.preventDefault(),c&&h){h=!1;var r=ne(e);if(r=D.limitDotPosition(r),requestAnimationFrame((function(){h=!0})),C.setAlphaByDot(r),d.mousemovealpha)(0,d.mousemovealpha)(e,C,r)}},this.alphaMouseUp=function(e,t){if(e.preventDefault(),c){B(document,"mouseup","action_process_"),B(document,"mousemove","action_process_"),B(document,"touchend","action_process_"),B(document,"touchmove","action_process_"),te(),c=!1;var r=ne(e);if(X.updateCursor(r),d.mouseupalpha)(0,d.mouseupalpha)(e,C,r)}},this.svMouseMove=function(e,r){if(e.preventDefault(),c&&h){h=!1;var n=ne(e);if(n=t.limitDotPosition(n),requestAnimationFrame((function(){h=!0})),C.setColorByDot(n),d.mousemovesv)(0,d.mousemovesv)(e,C,n)}},this.svMouseUp=function(e,t){if(e.preventDefault(),c){B(document,"mouseup","action_process_"),B(document,"mousemove","action_process_"),B(document,"touchend","action_process_"),B(document,"touchmove","action_process_"),te(),c=!1;var r=ne(e);if(X.updateCursor(r),l&&(g=!1,ae()),d.mouseupsv)(0,d.mouseupsv)(e,C,r)}},this.addUserEvent=function(e,t){return d[e]=t,!0},this.removeUserEvent=function(e){return!!d[e]&&(d[e]=null,!0)},this.getCanvas=function(){return!!s&&i},this.getCtx=function(){return s||!1},this.getInput=function(){return O},this.getSvFig=function(){return t},this.getSvFigCursor=function(){return o},this.getWheel=function(){return E},this.getWheelCursor=function(){return W},this.getCurColorHsv=function(){return y},this.getCurColorRgb=function(){return Q},this.getCurColorHex=function(){return T},this.getCurColorRgba=function(){return{r:Q.r,g:Q.g,b:Q.b,a:_}},this.getCurAlpha=function(){return _},this.getAlphaFig=function(){return!!l&&D},this.getPopup=function(){return x},this.getSize=function(){return $},this.getColorSaver=function(e){for(var t=0;t<=A.length-1;++t)if(!e&&A[t].selected||A[t].align==e)return A[t].rgb=U(A[t].color),A[t].hsv=G(A[t].rgb.r,A[t].rgb.g,A[t].rgb.b),A[t]},this.setColorSaver=function(e){if(!e)return!1;for(var t=0;t<=A.length-1;++t)if(A[t].align==e)return oe(t),A[t]},this.updateView=function(e){return!!s&&(e&&(E.imageData=null,t.imageData=null,m=null),g=!1,K(),ae(),!0)},this.resize=function(e,r){return!!s&&(e==$&&!r||(g=!1,E.imageData=null,t.imageData=null,m=null,$=e,K(),C.setColorByHex(!1),!1))},this.syncSize=function(e){if(!P)return!1;var t=L(P);return t&&C.resize(t),!1},this.setMethod=function(e){if(e||(e="triangle","triangle"==a&&(e="quad")),e==a)return!1;if("quad"!=a&&"triangle"!=a)return!1;("quad"==(a=e)&&(t=Z()),"triangle"==a&&(t=q()),C.resize($,!0),d.setmethod)&&(0,d.setmethod)(C,a);return!0},this.destroy=function(){if(!C)return!1;X.curType>0&&(Mx.cursorLock=!1,X.initStandartCursor()),c&&(B(document,"mouseup","action_process_"),B(document,"mousemove","action_process_"),B(document,"touchend","action_process_"),B(document,"touchmove","action_process_"),c=!1),x.tag&&B(O,"click","popup_"),O&&(B(O,"click","input_edit_"),B(O,"change","input_edit_"),B(O,"keyup","input_edit_"),B(O,"keypress","input_edit_")),Mx.popupEventsInclude&&u.popup_close_click&&(Mx.activePopUp&&Mx.activePopUp.popUpClose(!1),B(document,"click","popup_close_"),B(window,"resize","popup_resize_"),Mx.popupEventsInclude=!1),E.imageData=null,t.imageData=null,m=null,f=null,S&&S.parentNode&&S.parentNode.removeChild(S),P&&B(window,"resize","canvas_"),re(),C=null},function(e){var o="",c="";if(void 0!==e.alpha_slider&&(e.alphaSlider=e.alpha_slider),void 0!==e.input_color&&(e.inputColor=e.input_color),void 0!==e.input_format&&(e.inputFormat=e.input_format),e.input&&"object"!=typeof e.input?(e.input=document.getElementById(e.input),O=e.input):"object"==typeof e.input&&(O=e.input),void 0!==e.changeCursor&&(n=e.changeCursor),void 0!==e.alpha&&(_=e.alpha),void 0!==e.alphaSlider&&(l=e.alphaSlider),void 0!==e.inputColor&&(b=e.inputColor),void 0!==e.inputFormat&&(v=e.inputFormat),e.userEvents&&(d=e.userEvents),e.place&&"object"!=typeof e.place&&(c=e.place,e.place=document.getElementById(e.place)),e.place)S=e.place;else if(O){x.tag=document.createElement("div"),x.tag.className="popup-kelly-color",e.popupClass?x.tag.className=e.popupClass:(x.tag.className="popup-kelly-color",x.tag.style.position="absolute",x.tag.style.bottom="0px",x.tag.style.left="0px",x.tag.style.display="none",x.tag.style.backgroundColor="#e1e1e1",x.tag.style.border="1px solid #bfbfbf",x.tag.style.boxShadow="7px 7px 14px -3px rgba(0,0,0,0.24)",x.tag.style.borderTopLeftRadius="4px",x.tag.style.borderTopRightRadius="4px",x.tag.style.borderBottomLeftRadius="4px",x.tag.style.borderBottomRightRadius="4px",x.tag.style.padding="12px",x.tag.style.boxSizing="content-box"),S=x.tag,document.getElementsByTagName("body")[0].appendChild(x.tag),N(O,"click",(function(e){return C.popUpShow(e)}),"popup_")}else o+='| "place" ('+c+") not not found";var h=!1;if(e.color?h=I(e.color):O&&O.value&&(h=I(O.value)),h&&(T=h.h,l&&(_=h.a)),!e.method||"triangle"!=e.method&&"quad"!=e.method||(a=e.method),function(){if(!S)return!1;"CANVAS"!=S.tagName?(i=document.createElement("CANVAS"),S.appendChild(i)):i=S;void 0!==window.G_vmlCanvasManager&&(i=window.G_vmlCanvasManager.initElement(i),f=window.G_vmlCanvasManager.initElement(f));return!(!i.getContext||!i.getContext("2d"))&&(s=i.getContext("2d"),p=f.getContext("2d"),!0)}()||(o+=" | cant init canvas context"),e.resizeWith&&("object"!=typeof e.resizeWith&&"boolean"!=typeof e.resizeWith&&(e.resizeWith=document.getElementById(e.resizeWith)),P=!0===e.resizeWith?i:e.resizeWith,e.resizeSide&&(R=e.resizeSide),P&&(L(P)&&(e.size=L(P)),N(window,"resize",(function(e){return C.syncSize(e)}),"canvas_"))),e.size&&e.size>0&&($=e.size),o)"undefined"!=typeof console&&console.log("KellyColorPicker : "+o);else{if("quad"==a&&(t=Z()),"triangle"==a&&(t=q()),O){var u=function(e){(e=e||window.event).target||(e.target=e.srcElement),C.setColorByHex(e.target.value,!0)};N(O,"click",u,"input_edit_"),N(O,"change",u,"input_edit_"),N(O,"keyup",u,"input_edit_"),N(O,"keypress",u,"input_edit_")}e.colorSaver&&(j("left",!0),j("right")),e.methodSwitch&&((z=new Object).size,z.sizePercentage=10,z.position,z.paddingY=4,z.paddingX=4,z.imageData=new Array,z.lineWidth=2,z.color="#c1ebf5",z.updateSize=function(){this.size=parseInt($-$/100*(100-this.sizePercentage)),this.size<16&&(this.size=16),this.position={x:this.paddingX,y:this.paddingY}},z.draw=function(){if(this.imageData[a])s.putImageData(this.imageData[a],this.position.x,this.position.y);else{var e=U(this.color);f.width=this.size,f.height=this.size,p.clearRect(0,0,this.size,this.size),p.beginPath();var t,n="triangle";if("triangle"==a&&(n="quad"),p.beginPath(),this.size<35)var o=i=f.width/2;else{var i=f.width/2-this.lineWidth;p.arc(this.size/2,this.size/2,i,0,2*r),p.strokeStyle="rgba(0, 0, 0, 0.4)",p.lineWidth=this.lineWidth,p.stroke(),o=i-6,p.closePath(),p.beginPath(),p.arc(this.size/2,this.size/2,o,0,2*r),p.strokeStyle="rgba(0, 0, 0, 0.4)",p.lineWidth=this.lineWidth,p.stroke(),p.closePath()}if(p.beginPath(),"quad"==n){var l=2*o-4;t=Math.floor(l/Math.sqrt(2));var c=(this.size-t)/2;(h={x:c+t,y:c+t/2}).y=h.y-t/2,p.moveTo(h.x,h.y),p.lineTo(h.x-t,h.y),p.lineTo(h.x-t,h.y+t),p.lineTo(h.x,h.y+t)}else{t=Math.floor((2*o-4)*Math.sin(H(60)));var h={x:2*o+(i-o),y:this.size/2},u=Math.sqrt(3)/2*t;p.moveTo(h.x,h.y),p.lineTo(h.x-u,h.y-t/2),p.lineTo(h.x-u,h.y+t/2),p.lineTo(h.x,h.y)}p.lineTo(h.x,h.y),p.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",p.fill(),p.lineWidth=this.lineWidth,p.strokeStyle="rgba(0, 0, 0, 0.6)",p.stroke(),p.closePath(),this.imageData[a]=p.getImageData(0,0,f.width,f.width),s.drawImage(f,this.position.x,this.position.y)}},z.isDotIn=function(e){return e.x>=this.position.x&&e.x<=this.position.x+this.size&&e.y>=this.position.y&&e.y<=this.position.y+this.size}),te(),K(),C.setColorByHex(!1)}}(e)}function jx(e){let t,r,o,i,s,a,l,c,h,u,d,m,x,Q,C,$,T,_;return{c(){t=O("div"),r=O("p"),o=b("The color for "),i=b(e[2]),s=b(":"),a=v(),l=O("canvas"),c=O("br"),h=v(),u=O("input"),d=v(),m=O("button"),x=b("Select"),Q=v(),C=O("button"),$=b("Quit"),k(l,"id","picker"),k(u,"id","color"),u.value=e[0],S(m,"background-color",e[5].textAreaColor),S(m,"font-family",e[5].font),S(m,"color",e[5].textColor),S(m,"font-size",e[5].fontSize),k(m,"class","svelte-6rjn91"),S(C,"background-color",e[5].textAreaColor),S(C,"font-family",e[5].font),S(C,"color",e[5].textColor),S(C,"font-size",e[5].fontSize),k(C,"class","svelte-6rjn91"),k(t,"id","colorPicker"),S(t,"background-color",e[5].backgroundColor),S(t,"font-family",e[5].font),S(t,"color",e[5].textColor),S(t,"font-size",e[5].fontSize),k(t,"class","svelte-6rjn91")},m(n,g){p(n,t,g),f(t,r),f(r,o),f(r,i),f(r,s),f(t,a),f(t,l),e[11](l),f(t,c),f(t,h),f(t,u),e[12](u),f(t,d),f(t,m),f(m,x),f(t,Q),f(t,C),f(C,$),T||(_=[w(u,"keyup",e[13]),w(m,"click",e[14]),w(C,"click",e[15])],T=!0)},p(e,r){4&r&&y(i,e[2]),1&r&&u.value!==e[0]&&(u.value=e[0]),32&r&&S(m,"background-color",e[5].textAreaColor),32&r&&S(m,"font-family",e[5].font),32&r&&S(m,"color",e[5].textColor),32&r&&S(m,"font-size",e[5].fontSize),32&r&&S(C,"background-color",e[5].textAreaColor),32&r&&S(C,"font-family",e[5].font),32&r&&S(C,"color",e[5].textColor),32&r&&S(C,"font-size",e[5].fontSize),32&r&&S(t,"background-color",e[5].backgroundColor),32&r&&S(t,"font-family",e[5].font),32&r&&S(t,"color",e[5].textColor),32&r&&S(t,"font-size",e[5].fontSize)},d(r){r&&g(t),e[11](null),e[12](null),T=!1,n(_)}}}function Ex(t){let r,n=t[1]&&jx(t);return{c(){n&&n.c(),r=x()},m(e,t){n&&n.m(e,t),p(e,r,t)},p(e,[t]){e[1]?n?n.p(e,t):(n=jx(e),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i:e,o:e,d(e){n&&n.d(e),e&&g(r)}}}function Wx(e,t,r){let n;s(e,bb,(e=>r(5,n=e)));let o,i,{color:a=""}=t,{id:l=0}=t,{show:c=!1}=t,{item:h="circle"}=t,{explainText:u=""}=t;const d=j();function f(e,t){d(e,{data:t})}function p(){f("quitColorPicker",{})}function g(){document.body.style.cursor="default",f("colorChanged",{color:i.value,id:l})}function m(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),g())}M((()=>{c&&new Mx({place:o,input:i,colorSaver:!0,methodSwitch:!0})}));return e.$$set=e=>{"color"in e&&r(0,a=e.color),"id"in e&&r(9,l=e.id),"show"in e&&r(1,c=e.show),"item"in e&&r(10,h=e.item),"explainText"in e&&r(2,u=e.explainText)},[a,c,u,o,i,n,p,g,m,l,h,function(e){W[e?"unshift":"push"]((()=>{o=e,r(3,o)}))},function(e){W[e?"unshift":"push"]((()=>{i=e,r(4,i)}))},e=>{m(e)},e=>{g()},e=>{p()}]}Mx.cursorLock=!1,Mx.activePopUp=!1,Mx.popupEventsInclude=!1,Mx.attachToInputByClass=function(e,t){for(var r=new Array,n=document.getElementsByClassName(e),o=0;o<n.length;o++)t?t.input=n[o]:t={input:n[o],size:150},r.push(new Mx(t));return r};class Dx extends ae{constructor(e){super(),se(this,e,Wx,Ex,i,{color:0,id:9,show:1,item:10,explainText:2})}}function Xx(e,t,r){const n=e.slice();return n[40]=t[r],n[42]=r,n}function Lx(e,t,r){const n=e.slice();return n[43]=t[r],n}function Ix(e){let t,r,o,i,s,a,l,c,h,u,d=void 0!==e[7]&&qx(e);return{c(){t=O("select"),d&&d.c(),r=O("option"),r.textContent="New",o=v(),i=O("button"),s=b("Update Theme"),a=v(),l=O("button"),c=b("Delete Theme"),r.__value="New",r.value=r.__value,k(t,"class","prefSelector svelte-1igofh5"),S(t,"background-color",e[8].textAreaColor),S(t,"color",e[8].textColor),void 0===e[5]&&N((()=>e[17].call(t))),S(i,"background-color",e[8].textAreaColor),S(i,"font-family",e[8].font),S(i,"color",e[8].textColor),S(i,"font-size",e[8].fontSize),k(i,"class","svelte-1igofh5"),S(l,"background-color",e[8].textAreaColor),S(l,"font-family",e[8].font),S(l,"color",e[8].textColor),S(l,"font-size",e[8].fontSize),k(l,"class","svelte-1igofh5")},m(n,g){p(n,t,g),d&&d.m(t,null),f(t,r),C(t,e[5]),p(n,o,g),p(n,i,g),f(i,s),p(n,a,g),p(n,l,g),f(l,c),h||(u=[w(t,"change",e[17]),w(t,"change",e[18]),w(i,"click",e[13]),w(l,"click",e[14])],h=!0)},p(e,n){void 0!==e[7]?d?d.p(e,n):(d=qx(e),d.c(),d.m(t,r)):d&&(d.d(1),d=null),256&n[0]&&S(t,"background-color",e[8].textAreaColor),256&n[0]&&S(t,"color",e[8].textColor),160&n[0]&&C(t,e[5]),256&n[0]&&S(i,"background-color",e[8].textAreaColor),256&n[0]&&S(i,"font-family",e[8].font),256&n[0]&&S(i,"color",e[8].textColor),256&n[0]&&S(i,"font-size",e[8].fontSize),256&n[0]&&S(l,"background-color",e[8].textAreaColor),256&n[0]&&S(l,"font-family",e[8].font),256&n[0]&&S(l,"color",e[8].textColor),256&n[0]&&S(l,"font-size",e[8].fontSize)},d(e){e&&g(t),d&&d.d(),e&&g(o),e&&g(i),e&&g(a),e&&g(l),h=!1,n(u)}}}function Zx(e){let t,r,o,i,s,a;return{c(){t=O("input"),r=v(),o=O("button"),i=b("Save New"),k(t,"class","prefInput svelte-1igofh5"),S(t,"background-color",e[8].textAreaColor),S(t,"color",e[8].textColor),S(o,"background-color",e[8].textAreaColor),S(o,"font-family",e[8].font),S(o,"color",e[8].textColor),S(o,"font-size",e[8].fontSize),k(o,"class","svelte-1igofh5")},m(n,l){p(n,t,l),Q(t,e[5]),p(n,r,l),p(n,o,l),f(o,i),s||(a=[w(t,"input",e[15]),w(t,"change",e[16]),w(o,"click",e[12])],s=!0)},p(e,r){256&r[0]&&S(t,"background-color",e[8].textAreaColor),256&r[0]&&S(t,"color",e[8].textColor),160&r[0]&&t.value!==e[5]&&Q(t,e[5]),256&r[0]&&S(o,"background-color",e[8].textAreaColor),256&r[0]&&S(o,"font-family",e[8].font),256&r[0]&&S(o,"color",e[8].textColor),256&r[0]&&S(o,"font-size",e[8].fontSize)},d(e){e&&g(t),e&&g(r),e&&g(o),s=!1,n(a)}}}function qx(e){let t,r=e[7],n=[];for(let t=0;t<r.length;t+=1)n[t]=Nx(Lx(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=x()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);p(e,t,r)},p(e,o){if(128&o[0]){let i;for(r=e[7],i=0;i<r.length;i+=1){const s=Lx(e,r,i);n[i]?n[i].p(s,o):(n[i]=Nx(s),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(e){m(n,e),e&&g(t)}}}function Nx(e){let t,r,n,o=e[43]+"";return{c(){t=O("option"),r=b(o),t.__value=n=e[43],t.value=t.__value},m(e,n){p(e,t,n),f(t,r)},p(e,i){128&i[0]&&o!==(o=e[43]+"")&&y(r,o),128&i[0]&&n!==(n=e[43])&&(t.__value=n,t.value=t.__value)},d(e){e&&g(t)}}}function Bx(e){let t,r,n,o,i,s,a,l,c,h,u,d,m=e[40].color+"";function x(...t){return e[19](e[40],...t)}return{c(){t=O("div"),r=O("label"),n=b("#"),o=b(e[42]),i=v(),s=O("div"),a=v(),l=O("label"),c=b(m),h=v(),k(r,"class","circlePickerLabel svelte-1igofh5"),k(s,"class","circlePicker svelte-1igofh5"),S(s,"background-color",e[40].color),k(l,"class","circlePickerLabel svelte-1igofh5"),k(t,"class","circlePickerWrap svelte-1igofh5")},m(e,g){p(e,t,g),f(t,r),f(r,n),f(r,o),f(t,i),f(t,s),f(t,a),f(t,l),f(l,c),f(t,h),u||(d=w(s,"click",x),u=!0)},p(t,r){e=t,256&r[0]&&S(s,"background-color",e[40].color),256&r[0]&&m!==(m=e[40].color+"")&&y(c,m)},d(e){e&&g(t),u=!1,d()}}}function Vx(e){let t,r;return t=new Dx({props:{item:e[4],explainText:e[6],color:e[0],id:e[1],show:e[2]}}),t.$on("colorChanged",e[37]),t.$on("quitColorPicker",e[38]),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},p(e,r){const n={};16&r[0]&&(n.item=e[4]),64&r[0]&&(n.explainText=e[6]),1&r[0]&&(n.color=e[0]),2&r[0]&&(n.id=e[1]),4&r[0]&&(n.show=e[2]),t.$set(n)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Gx(e){let t,r,o,i,s,a,l,c,h,u,d,Q,C,$,T,_,P,R,A,z,M,j,E,W,D,X,L,I,Z,q,N,B,V,G,U,F,H,Y,re,ne,oe,ie,se,ae,le,ce,he,ue,de,fe,pe,ge,me,Oe,be,ve,xe,we,ke,ye,Qe,Se,Ce,$e,Te,_e,Pe,Re,Ae,ze,Me,je,Ee,We,De,Xe,Le,Ie,Ze,qe,Ne,Be,Ve,Ge,Ue,Fe,He,Ye,Je,Ke,et,tt,rt,nt,ot,it,st,at,lt,ct,ht,ut,dt,ft,pt,gt,mt,Ot,bt,vt,xt,wt,kt,yt,Qt,St,Ct,$t,Tt,_t,Pt,Rt,At,zt,Mt,jt,Et,Wt,Dt,Xt,Lt,It,Zt,qt,Nt=e[8].textAreaColor+"",Bt=e[8].backgroundColor+"",Vt=e[8].textColor+"",Gt=e[8].borderColor+"",Ut=e[8].functionColor+"",Ft=e[8].stringColor+"",Ht=e[8].constantColor+"",Yt=e[8].keywordColor+"",Jt=e[8].highlightBackgroundColor+"",Kt=e[8].selectionColor+"",er=e[8].Cyan+"",tr=e[8].Green+"",rr=e[8].Orange+"",nr=e[8].Pink+"",or=e[8].Purple+"",ir=e[8].Red+"",sr=e[8].Yellow+"";function ar(e,t){return e[3]?Zx:Ix}let lr=ar(e),cr=lr(e),hr=e[8].buttons,ur=[];for(let t=0;t<hr.length;t+=1)ur[t]=Bx(Xx(e,hr,t));let dr=void 0!==e[8]&&Vx(e);return{c(){t=O("div"),r=O("label"),r.textContent="Name of theme:",o=v(),cr.c(),i=v(),s=O("h3"),s.textContent="Circle Colors",a=v(),l=O("div");for(let e=0;e<ur.length;e+=1)ur[e].c();c=v(),h=O("h3"),h.textContent="Various Other Colors",u=v(),d=O("div"),Q=O("label"),Q.textContent="textAreaColor",C=v(),$=O("div"),T=v(),_=O("label"),P=b(Nt),R=v(),A=O("label"),A.textContent="backgroundColor",z=v(),M=O("div"),j=v(),E=O("label"),W=b(Bt),D=v(),X=O("label"),X.textContent="textColor",L=v(),I=O("div"),Z=v(),q=O("label"),N=b(Vt),B=v(),V=O("label"),V.textContent="borderColor",G=v(),U=O("div"),F=v(),H=O("label"),Y=b(Gt),re=v(),ne=O("label"),ne.textContent="functionColor",oe=v(),ie=O("div"),se=v(),ae=O("label"),le=b(Ut),ce=v(),he=O("label"),he.textContent="stringColor",ue=v(),de=O("div"),fe=v(),pe=O("label"),ge=b(Ft),me=v(),Oe=O("label"),Oe.textContent="constantColor",be=v(),ve=O("div"),xe=v(),we=O("label"),ke=b(Ht),ye=v(),Qe=O("label"),Qe.textContent="keywordColor",Se=v(),Ce=O("div"),$e=v(),Te=O("label"),_e=b(Yt),Pe=v(),Re=O("label"),Re.textContent="highlightBackgroundColor",Ae=v(),ze=O("div"),Me=v(),je=O("label"),Ee=b(Jt),We=v(),De=O("label"),De.textContent="selectionColor",Xe=v(),Le=O("div"),Ie=v(),Ze=O("label"),qe=b(Kt),Ne=v(),Be=O("label"),Be.textContent="Cyan",Ve=v(),Ge=O("div"),Ue=v(),Fe=O("label"),He=b(er),Ye=v(),Je=O("label"),Je.textContent="Green",Ke=v(),et=O("div"),tt=v(),rt=O("label"),nt=b(tr),ot=v(),it=O("label"),it.textContent="Orange",st=v(),at=O("div"),lt=v(),ct=O("label"),ht=b(rr),ut=v(),dt=O("label"),dt.textContent="Pink",ft=v(),pt=O("div"),gt=v(),mt=O("label"),Ot=b(nr),bt=v(),vt=O("label"),vt.textContent="Purple",xt=v(),wt=O("div"),kt=v(),yt=O("label"),Qt=b(or),St=v(),Ct=O("label"),Ct.textContent="Red",$t=v(),Tt=O("div"),_t=v(),Pt=O("label"),Rt=b(ir),At=v(),zt=O("label"),zt.textContent="Yellow",Mt=v(),jt=O("div"),Et=v(),Wt=O("label"),Dt=b(sr),Xt=v(),dr&&dr.c(),Lt=x(),k(t,"id","themeName"),k(t,"class","svelte-1igofh5"),k(l,"class","circlePickersWrap svelte-1igofh5"),k(Q,"class","variousPickerLabel1 svelte-1igofh5"),k($,"class","circlePicker svelte-1igofh5"),S($,"background-color",e[8].textAreaColor),k(_,"class","variousPickerLabel2 svelte-1igofh5"),k(A,"class","variousPickerLabel1 svelte-1igofh5"),k(M,"class","circlePicker svelte-1igofh5"),S(M,"background-color",e[8].backgroundColor),k(E,"class","variousPickerLabel2 svelte-1igofh5"),k(X,"class","variousPickerLabel1 svelte-1igofh5"),k(I,"class","circlePicker svelte-1igofh5"),S(I,"background-color",e[8].textColor),k(q,"class","variousPickerLabel2 svelte-1igofh5"),k(V,"class","variousPickerLabel1 svelte-1igofh5"),k(U,"class","circlePicker svelte-1igofh5"),S(U,"background-color",e[8].borderColor),k(H,"class","variousPickerLabel2 svelte-1igofh5"),k(ne,"class","variousPickerLabel1 svelte-1igofh5"),k(ie,"class","circlePicker svelte-1igofh5"),S(ie,"background-color",e[8].functionColor),k(ae,"class","variousPickerLabel2 svelte-1igofh5"),k(he,"class","variousPickerLabel1 svelte-1igofh5"),k(de,"class","circlePicker svelte-1igofh5"),S(de,"background-color",e[8].stringColor),k(pe,"class","variousPickerLabel2 svelte-1igofh5"),k(Oe,"class","variousPickerLabel1 svelte-1igofh5"),k(ve,"class","circlePicker svelte-1igofh5"),S(ve,"background-color",e[8].constantColor),k(we,"class","variousPickerLabel2 svelte-1igofh5"),k(Qe,"class","variousPickerLabel1 svelte-1igofh5"),k(Ce,"class","circlePicker svelte-1igofh5"),S(Ce,"background-color",e[8].keywordColor),k(Te,"class","variousPickerLabel2 svelte-1igofh5"),k(Re,"class","variousPickerLabel1 svelte-1igofh5"),k(ze,"class","circlePicker svelte-1igofh5"),S(ze,"background-color",e[8].highlightBackgroundColor),k(je,"class","variousPickerLabel2 svelte-1igofh5"),k(De,"class","variousPickerLabel1 svelte-1igofh5"),k(Le,"class","circlePicker svelte-1igofh5"),S(Le,"background-color",e[8].selectionColor),k(Ze,"class","variousPickerLabel2 svelte-1igofh5"),k(Be,"class","variousPickerLabel1 svelte-1igofh5"),k(Ge,"class","circlePicker svelte-1igofh5"),S(Ge,"background-color",e[8].Cyan),k(Fe,"class","variousPickerLabel2 svelte-1igofh5"),k(Je,"class","variousPickerLabel1 svelte-1igofh5"),k(et,"class","circlePicker svelte-1igofh5"),S(et,"background-color",e[8].Green),k(rt,"class","variousPickerLabel2 svelte-1igofh5"),k(it,"class","variousPickerLabel1 svelte-1igofh5"),k(at,"class","circlePicker svelte-1igofh5"),S(at,"background-color",e[8].Orange),k(ct,"class","variousPickerLabel2 svelte-1igofh5"),k(dt,"class","variousPickerLabel1 svelte-1igofh5"),k(pt,"class","circlePicker svelte-1igofh5"),S(pt,"background-color",e[8].Pink),k(mt,"class","variousPickerLabel2 svelte-1igofh5"),k(vt,"class","variousPickerLabel1 svelte-1igofh5"),k(wt,"class","circlePicker svelte-1igofh5"),S(wt,"background-color",e[8].Purple),k(yt,"class","variousPickerLabel2 svelte-1igofh5"),k(Ct,"class","variousPickerLabel1 svelte-1igofh5"),k(Tt,"class","circlePicker svelte-1igofh5"),S(Tt,"background-color",e[8].Red),k(Pt,"class","variousPickerLabel2 svelte-1igofh5"),k(zt,"class","variousPickerLabel1 svelte-1igofh5"),k(jt,"class","circlePicker svelte-1igofh5"),S(jt,"background-color",e[8].Yellow),k(Wt,"class","variousPickerLabel2 svelte-1igofh5"),k(d,"id","variousOtherColorsDiv"),k(d,"class","svelte-1igofh5")},m(n,g){p(n,t,g),f(t,r),f(t,o),cr.m(t,null),p(n,i,g),p(n,s,g),p(n,a,g),p(n,l,g);for(let e=0;e<ur.length;e+=1)ur[e].m(l,null);p(n,c,g),p(n,h,g),p(n,u,g),p(n,d,g),f(d,Q),f(d,C),f(d,$),f(d,T),f(d,_),f(_,P),f(d,R),f(d,A),f(d,z),f(d,M),f(d,j),f(d,E),f(E,W),f(d,D),f(d,X),f(d,L),f(d,I),f(d,Z),f(d,q),f(q,N),f(d,B),f(d,V),f(d,G),f(d,U),f(d,F),f(d,H),f(H,Y),f(d,re),f(d,ne),f(d,oe),f(d,ie),f(d,se),f(d,ae),f(ae,le),f(d,ce),f(d,he),f(d,ue),f(d,de),f(d,fe),f(d,pe),f(pe,ge),f(d,me),f(d,Oe),f(d,be),f(d,ve),f(d,xe),f(d,we),f(we,ke),f(d,ye),f(d,Qe),f(d,Se),f(d,Ce),f(d,$e),f(d,Te),f(Te,_e),f(d,Pe),f(d,Re),f(d,Ae),f(d,ze),f(d,Me),f(d,je),f(je,Ee),f(d,We),f(d,De),f(d,Xe),f(d,Le),f(d,Ie),f(d,Ze),f(Ze,qe),f(d,Ne),f(d,Be),f(d,Ve),f(d,Ge),f(d,Ue),f(d,Fe),f(Fe,He),f(d,Ye),f(d,Je),f(d,Ke),f(d,et),f(d,tt),f(d,rt),f(rt,nt),f(d,ot),f(d,it),f(d,st),f(d,at),f(d,lt),f(d,ct),f(ct,ht),f(d,ut),f(d,dt),f(d,ft),f(d,pt),f(d,gt),f(d,mt),f(mt,Ot),f(d,bt),f(d,vt),f(d,xt),f(d,wt),f(d,kt),f(d,yt),f(yt,Qt),f(d,St),f(d,Ct),f(d,$t),f(d,Tt),f(d,_t),f(d,Pt),f(Pt,Rt),f(d,At),f(d,zt),f(d,Mt),f(d,jt),f(d,Et),f(d,Wt),f(Wt,Dt),p(n,Xt,g),dr&&dr.m(n,g),p(n,Lt,g),It=!0,Zt||(qt=[w($,"click",e[20]),w(M,"click",e[21]),w(I,"click",e[22]),w(U,"click",e[23]),w(ie,"click",e[24]),w(de,"click",e[25]),w(ve,"click",e[26]),w(Ce,"click",e[27]),w(ze,"click",e[28]),w(Le,"click",e[29]),w(Ge,"click",e[30]),w(et,"click",e[31]),w(at,"click",e[32]),w(pt,"click",e[33]),w(wt,"click",e[34]),w(Tt,"click",e[35]),w(jt,"click",e[36])],Zt=!0)},p(e,r){if(lr===(lr=ar(e))&&cr?cr.p(e,r):(cr.d(1),cr=lr(e),cr&&(cr.c(),cr.m(t,null))),2304&r[0]){let t;for(hr=e[8].buttons,t=0;t<hr.length;t+=1){const n=Xx(e,hr,t);ur[t]?ur[t].p(n,r):(ur[t]=Bx(n),ur[t].c(),ur[t].m(l,null))}for(;t<ur.length;t+=1)ur[t].d(1);ur.length=hr.length}(!It||256&r[0])&&S($,"background-color",e[8].textAreaColor),(!It||256&r[0])&&Nt!==(Nt=e[8].textAreaColor+"")&&y(P,Nt),(!It||256&r[0])&&S(M,"background-color",e[8].backgroundColor),(!It||256&r[0])&&Bt!==(Bt=e[8].backgroundColor+"")&&y(W,Bt),(!It||256&r[0])&&S(I,"background-color",e[8].textColor),(!It||256&r[0])&&Vt!==(Vt=e[8].textColor+"")&&y(N,Vt),(!It||256&r[0])&&S(U,"background-color",e[8].borderColor),(!It||256&r[0])&&Gt!==(Gt=e[8].borderColor+"")&&y(Y,Gt),(!It||256&r[0])&&S(ie,"background-color",e[8].functionColor),(!It||256&r[0])&&Ut!==(Ut=e[8].functionColor+"")&&y(le,Ut),(!It||256&r[0])&&S(de,"background-color",e[8].stringColor),(!It||256&r[0])&&Ft!==(Ft=e[8].stringColor+"")&&y(ge,Ft),(!It||256&r[0])&&S(ve,"background-color",e[8].constantColor),(!It||256&r[0])&&Ht!==(Ht=e[8].constantColor+"")&&y(ke,Ht),(!It||256&r[0])&&S(Ce,"background-color",e[8].keywordColor),(!It||256&r[0])&&Yt!==(Yt=e[8].keywordColor+"")&&y(_e,Yt),(!It||256&r[0])&&S(ze,"background-color",e[8].highlightBackgroundColor),(!It||256&r[0])&&Jt!==(Jt=e[8].highlightBackgroundColor+"")&&y(Ee,Jt),(!It||256&r[0])&&S(Le,"background-color",e[8].selectionColor),(!It||256&r[0])&&Kt!==(Kt=e[8].selectionColor+"")&&y(qe,Kt),(!It||256&r[0])&&S(Ge,"background-color",e[8].Cyan),(!It||256&r[0])&&er!==(er=e[8].Cyan+"")&&y(He,er),(!It||256&r[0])&&S(et,"background-color",e[8].Green),(!It||256&r[0])&&tr!==(tr=e[8].Green+"")&&y(nt,tr),(!It||256&r[0])&&S(at,"background-color",e[8].Orange),(!It||256&r[0])&&rr!==(rr=e[8].Orange+"")&&y(ht,rr),(!It||256&r[0])&&S(pt,"background-color",e[8].Pink),(!It||256&r[0])&&nr!==(nr=e[8].Pink+"")&&y(Ot,nr),(!It||256&r[0])&&S(wt,"background-color",e[8].Purple),(!It||256&r[0])&&or!==(or=e[8].Purple+"")&&y(Qt,or),(!It||256&r[0])&&S(Tt,"background-color",e[8].Red),(!It||256&r[0])&&ir!==(ir=e[8].Red+"")&&y(Rt,ir),(!It||256&r[0])&&S(jt,"background-color",e[8].Yellow),(!It||256&r[0])&&sr!==(sr=e[8].Yellow+"")&&y(Dt,sr),void 0!==e[8]?dr?(dr.p(e,r),256&r[0]&&ee(dr,1)):(dr=Vx(e),dr.c(),ee(dr,1),dr.m(Lt.parentNode,Lt)):dr&&(J(),te(dr,1,1,(()=>{dr=null})),K())},i(e){It||(ee(dr),It=!0)},o(e){te(dr),It=!1},d(e){e&&g(t),cr.d(),e&&g(i),e&&g(s),e&&g(a),e&&g(l),m(ur,e),e&&g(c),e&&g(h),e&&g(u),e&&g(d),e&&g(Xt),dr&&dr.d(e),e&&g(Lt),Zt=!1,n(qt)}}}async function Ux(e){let t=await fetch(`http://localhost:9978/api/theme/${e}`,{method:"GET",headers:{"Content-type":"application/json"}}),r=await t.json();return r.theme.name=e,r.theme}async function Fx(){let e=await fetch("http://localhost:9978/api/theme/list",{method:"GET",headers:{"Content-type":"application/json"}});return(await e.json()).themes}function Hx(e,t,r){let n;s(e,bb,(e=>r(8,n=e)));let o,i,a="",l=0,c=!1,h=!1,u=!1,f="",p="Default";async function g(){"New"===p?(r(3,u=!0),d(bb,n.name=p,n)):(d(bb,n=await Ux(p),n),d(bb,n.name=p,n))}function m(e,t){if(h)d(bb,n.buttons[e].color=t,n);else switch(e){case"textAreaColor":d(bb,n.textAreaColor=t,n);break;case"backgroundColor":d(bb,n.backgroundColor=t,n);break;case"textColor":d(bb,n.textColor=t,n);break;case"borderColor":d(bb,n.borderColor=t,n);break;case"Cyan":d(bb,n.Cyan=t,n);break;case"Green":d(bb,n.Green=t,n);break;case"Orange":d(bb,n.Orange=t,n);break;case"Pink":d(bb,n.Pink=t,n);break;case"Purple":d(bb,n.Purple=t,n);break;case"Red":d(bb,n.Red=t,n);break;case"Yellow":d(bb,n.Yellow=t,n);break;case"functionColor":d(bb,n.functionColor=t,n);break;case"stringColor":d(bb,n.stringColor=t,n);break;case"constantColor":d(bb,n.constantColor=t,n);break;case"keywordColor":d(bb,n.keywordColor=t,n);break;case"highlightBackgroundColor":d(bb,n.highlightBackgroundColor=t,n);break;case"selectionColor":d(bb,n.selectionColor=t,n);break;default:console.log("Invalid id.")}r(2,c=!1),h=!1}function O(e){r(0,a=e.color),r(1,l=e.id),r(2,c=!0),isNaN(l)?(h=!1,r(4,f=l),r(6,o=`${l}`)):(h=!0,r(4,f="Circle"),r(6,o=`#${l} Circle`))}async function b(){d(bb,n.name=p,n),await fetch(`http://localhost:9978/api/theme/${p}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}),r(7,i=await Fx())}z((async()=>{r(7,i=await Fx())}));return[a,l,c,u,f,p,o,i,n,g,m,O,function(){r(3,u=!1),b()},b,async function(){await fetch(`http://localhost:9978/api/theme/${p}`,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}),r(7,i=await Fx()),r(5,p="Default"),d(bb,n=await Ux(p),n)},function(){p=this.value,r(5,p),r(7,i)},()=>{r(3,u=!0)},function(){p=$(this),r(5,p),r(7,i)},()=>{g()},(e,t)=>{O(e)},e=>{O({id:"textAreaColor",color:n.textAreaColor})},e=>{O({id:"backgroundColor",color:n.backgroundColor})},e=>{O({id:"textColor",color:n.textColor})},e=>{O({id:"borderColor",color:n.borderColor})},e=>{O({id:"functionColor",color:n.functionColor})},e=>{O({id:"stringColor",color:n.stringColor})},e=>{O({id:"constantColor",color:n.constantColor})},e=>{O({id:"keywordColor",color:n.keywordColor})},e=>{O({id:"highlightBackgroundColor",color:n.highlightBackgroundColor})},e=>{O({id:"selectionColor",color:n.selectionColor})},e=>{O({id:"Cyan",color:n.Cyan})},e=>{O({id:"Green",color:n.Green})},e=>{O({id:"Orange",color:n.Orange})},e=>{O({id:"Pink",color:n.Pink})},e=>{O({id:"Purple",color:n.Purple})},e=>{O({id:"Red",color:n.Red})},e=>{O({id:"Yellow",color:n.Yellow})},e=>{m(e.detail.data.id,e.detail.data.color)},e=>{r(2,c=!1)}]}class Yx extends ae{constructor(e){super(),se(this,e,Hx,Gx,i,{},null,[-1,-1])}}function Jx(e,t,r){const n=e.slice();return n[6]=t[r],n}function Kx(e){let t,r,n,o,i,s,a=e[6]+"";function l(){return e[4](e[6])}return{c(){t=O("li"),r=O("span"),n=b(a),o=v(),k(r,"class","scriptName svelte-xv3rwd")},m(e,a){p(e,t,a),f(t,r),f(r,n),f(t,o),i||(s=w(r,"click",l),i=!0)},p(t,r){e=t,1&r&&a!==(a=e[6]+"")&&y(n,a)},d(e){e&&g(t),i=!1,s()}}}function ew(t){let r,n,o,i,s,a,l,c,h,u,d=t[0],x=[];for(let e=0;e<d.length;e+=1)x[e]=Kx(Jx(t,d,e));return{c(){r=O("div"),n=O("h2"),n.textContent="External Scripts",o=v(),i=O("ol");for(let e=0;e<x.length;e+=1)x[e].c();s=v(),a=O("div"),l=O("button"),c=b("New Script"),k(n,"class","svelte-xv3rwd"),k(i,"class","svelte-xv3rwd"),k(l,"id","new"),k(l,"class","buttonStyle svelte-xv3rwd"),k(l,"type","button"),S(l,"background-color",t[1].textAreaColor),S(l,"color",t[1].textColor),S(l,"font-name",t[1].font),S(l,"font-size",t[1].fontSize),k(a,"id","buttonRow"),k(a,"class","svelte-xv3rwd"),k(r,"id","scriptlist"),k(r,"class","svelte-xv3rwd")},m(e,d){p(e,r,d),f(r,n),f(r,o),f(r,i);for(let e=0;e<x.length;e+=1)x[e].m(i,null);f(r,s),f(r,a),f(a,l),f(l,c),h||(u=w(l,"click",t[3]),h=!0)},p(e,[t]){if(5&t){let r;for(d=e[0],r=0;r<d.length;r+=1){const n=Jx(e,d,r);x[r]?x[r].p(n,t):(x[r]=Kx(n),x[r].c(),x[r].m(i,null))}for(;r<x.length;r+=1)x[r].d(1);x.length=d.length}2&t&&S(l,"background-color",e[1].textAreaColor),2&t&&S(l,"color",e[1].textColor),2&t&&S(l,"font-name",e[1].font),2&t&&S(l,"font-size",e[1].fontSize)},i:e,o:e,d(e){e&&g(r),m(x,e),h=!1,u()}}}function tw(e,t,r){let n;s(e,bb,(e=>r(1,n=e)));let o=[];const i=j();function a(e){i("changeView",{view:"script",config:{script:e}})}z((async()=>{r(0,o=await async function(){let e=await fetch("http://localhost:9978/api/scripts/ext/list",{headers:{"Content-type":"application/json"}});return await e.json()}())}));return[o,n,a,function(){i("changeView",{view:"script",config:{script:"new"}})},e=>{a(e)}]}class rw extends ae{constructor(e){super(),se(this,e,tw,ew,i,{})}}function nw(e,t,r){const n=e.slice();return n[13]=t[r],n}function ow(e){let t,r,o,i,s,a,l,c,h,u,d,f,b,x,y,$,T,_=e[1],P=[];for(let t=0;t<_.length;t+=1)P[t]=iw(nw(e,_,t));return{c(){t=O("label"),t.textContent="Name of Script",r=v(),o=O("input"),i=v(),s=O("label"),s.textContent="What is the name of the Script file?",a=v(),l=O("input"),c=v(),h=O("label"),h.textContent="What is the directory for the script?",u=v(),d=O("input"),f=v(),b=O("label"),b.textContent="What is the environment for the script?",x=v(),y=O("select");for(let e=0;e<P.length;e+=1)P[e].c();k(t,"id","scriptName"),k(t,"for","scriptName"),k(t,"class","svelte-1vxe7fa"),k(o,"id","scriptName"),k(o,"name","scriptName"),S(o,"border-radius","5px"),S(o,"border-color","$"+e[2].borderColor),S(o,"background-color",e[2].textAreaColor),S(o,"color",e[2].textColor),S(o,"font-name",e[2].font),S(o,"font-size",e[2].fontSize),k(s,"id","scriptScript"),k(s,"for","scriptScript"),k(s,"class","svelte-1vxe7fa"),k(l,"id","scriptScript"),k(l,"name","scriptScript"),S(l,"border-radius","5px"),S(l,"border-color","$"+e[2].borderColor),S(l,"background-color",e[2].textAreaColor),S(l,"color",e[2].textColor),S(l,"font-name",e[2].font),S(l,"font-size",e[2].fontSize),k(h,"id","scriptPath"),k(h,"for","scriptPath"),k(h,"class","svelte-1vxe7fa"),k(d,"id","scriptPath"),k(d,"name","scriptPath"),S(d,"border-radius","5px"),S(d,"border-color","$"+e[2].borderColor),S(d,"background-color",e[2].textAreaColor),S(d,"color",e[2].textColor),S(d,"font-name",e[2].font),S(d,"font-size",e[2].fontSize),k(b,"id","scriptEnv"),k(b,"for","scriptEnv"),k(b,"class","svelte-1vxe7fa"),k(y,"id","scriptEnv"),k(y,"name","scriptEnv"),S(y,"border-radius","5px"),S(y,"border-color","$"+e[2].borderColor),S(y,"background-color",e[2].textAreaColor),S(y,"color",e[2].textColor),S(y,"font-name",e[2].font),S(y,"font-size",e[2].fontSize),k(y,"class","svelte-1vxe7fa"),void 0===e[0].env&&N((()=>e[10].call(y)))},m(n,g){p(n,t,g),p(n,r,g),p(n,o,g),Q(o,e[0].name),p(n,i,g),p(n,s,g),p(n,a,g),p(n,l,g),Q(l,e[0].script),p(n,c,g),p(n,h,g),p(n,u,g),p(n,d,g),Q(d,e[0].path),p(n,f,g),p(n,b,g),p(n,x,g),p(n,y,g);for(let e=0;e<P.length;e+=1)P[e].m(y,null);C(y,e[0].env),$||(T=[w(o,"blur",e[3]),w(o,"input",e[7]),w(l,"blur",e[3]),w(l,"input",e[8]),w(d,"blur",e[3]),w(d,"input",e[9]),w(y,"blur",e[3]),w(y,"change",e[10])],$=!0)},p(e,t){if(4&t&&S(o,"border-color","$"+e[2].borderColor),4&t&&S(o,"background-color",e[2].textAreaColor),4&t&&S(o,"color",e[2].textColor),4&t&&S(o,"font-name",e[2].font),4&t&&S(o,"font-size",e[2].fontSize),3&t&&o.value!==e[0].name&&Q(o,e[0].name),4&t&&S(l,"border-color","$"+e[2].borderColor),4&t&&S(l,"background-color",e[2].textAreaColor),4&t&&S(l,"color",e[2].textColor),4&t&&S(l,"font-name",e[2].font),4&t&&S(l,"font-size",e[2].fontSize),3&t&&l.value!==e[0].script&&Q(l,e[0].script),4&t&&S(d,"border-color","$"+e[2].borderColor),4&t&&S(d,"background-color",e[2].textAreaColor),4&t&&S(d,"color",e[2].textColor),4&t&&S(d,"font-name",e[2].font),4&t&&S(d,"font-size",e[2].fontSize),3&t&&d.value!==e[0].path&&Q(d,e[0].path),2&t){let r;for(_=e[1],r=0;r<_.length;r+=1){const n=nw(e,_,r);P[r]?P[r].p(n,t):(P[r]=iw(n),P[r].c(),P[r].m(y,null))}for(;r<P.length;r+=1)P[r].d(1);P.length=_.length}4&t&&S(y,"border-color","$"+e[2].borderColor),4&t&&S(y,"background-color",e[2].textAreaColor),4&t&&S(y,"color",e[2].textColor),4&t&&S(y,"font-name",e[2].font),4&t&&S(y,"font-size",e[2].fontSize),3&t&&C(y,e[0].env)},d(e){e&&g(t),e&&g(r),e&&g(o),e&&g(i),e&&g(s),e&&g(a),e&&g(l),e&&g(c),e&&g(h),e&&g(u),e&&g(d),e&&g(f),e&&g(b),e&&g(x),e&&g(y),m(P,e),$=!1,n(T)}}}function iw(e){let t,r,n,o=e[13]+"";return{c(){t=O("option"),r=b(o),t.__value=n=e[13],t.value=t.__value},m(e,n){p(e,t,n),f(t,r)},p(e,i){2&i&&o!==(o=e[13]+"")&&y(r,o),2&i&&n!==(n=e[13])&&(t.__value=n,t.value=t.__value)},d(e){e&&g(t)}}}function sw(t){let r,o,i,s,a,l,c,h,u,d,m=void 0!==t[0]&&void 0!==t[1]&&ow(t);return{c(){r=O("div"),m&&m.c(),o=v(),i=O("div"),s=O("button"),a=b("Return"),l=v(),c=O("button"),h=b("Delete"),k(s,"class","buttonStyle svelte-1vxe7fa"),k(s,"type","button"),S(s,"border-radius","5px"),S(s,"border-color","$"+t[2].borderColor),S(s,"background-color",t[2].textAreaColor),S(s,"color",t[2].textColor),S(s,"font-name",t[2].font),S(s,"font-size",t[2].fontSize),k(c,"class","buttonStyle svelte-1vxe7fa"),k(c,"type","button"),S(c,"border-radius","5px"),S(c,"border-color","$"+t[2].borderColor),S(c,"background-color",t[2].textAreaColor),S(c,"color",t[2].textColor),S(c,"font-name",t[2].font),S(c,"font-size",t[2].fontSize),k(i,"id","buttonRow"),k(i,"class","svelte-1vxe7fa"),k(r,"id","script"),S(r,"color",t[2].textColor),S(r,"font-name",t[2].font),S(r,"font-size",t[2].fontSize),k(r,"class","svelte-1vxe7fa")},m(e,n){p(e,r,n),m&&m.m(r,null),f(r,o),f(r,i),f(i,s),f(s,a),f(i,l),f(i,c),f(c,h),u||(d=[w(s,"click",t[11]),w(c,"click",t[4])],u=!0)},p(e,[t]){void 0!==e[0]&&void 0!==e[1]?m?m.p(e,t):(m=ow(e),m.c(),m.m(r,o)):m&&(m.d(1),m=null),4&t&&S(s,"border-color","$"+e[2].borderColor),4&t&&S(s,"background-color",e[2].textAreaColor),4&t&&S(s,"color",e[2].textColor),4&t&&S(s,"font-name",e[2].font),4&t&&S(s,"font-size",e[2].fontSize),4&t&&S(c,"border-color","$"+e[2].borderColor),4&t&&S(c,"background-color",e[2].textAreaColor),4&t&&S(c,"color",e[2].textColor),4&t&&S(c,"font-name",e[2].font),4&t&&S(c,"font-size",e[2].fontSize),4&t&&S(r,"color",e[2].textColor),4&t&&S(r,"font-name",e[2].font),4&t&&S(r,"font-size",e[2].fontSize)},i:e,o:e,d(e){e&&g(r),m&&m.d(),u=!1,n(d)}}}function aw(e,t,r){let n;s(e,bb,(e=>r(2,n=e)));let o,i,{config:a}=t;const l=j();async function c(){""!==o.name&&null!==o.name&&"new"!==o.name&&await fetch(`http://localhost:9978/api/scripts/ext/${o.name}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(o)})}function h(){l("changeView",{view:"lists",config:{}})}z((async()=>{"new"!==a.script?r(0,o=await async function(e){let t=await fetch(`http://localhost:9978/api/scripts/ext/${e}`,{headers:{"Content-type":"application/json"}});return await t.json()}(a.script)):r(0,o={name:"new",script:"",path:"",env:""}),r(1,i=await async function(){let e=await fetch("http://localhost:9978/api/scripts/env/list",{headers:{"Content-type":"application/json"}});return await e.json()}())}));return e.$$set=e=>{"config"in e&&r(6,a=e.config)},[o,i,n,c,async function(){await fetch(`http://localhost:9978/api/scripts/ext/${o.name}`,{method:"DELETE",headers:{"Content-type":"application/json"}}),q(),h()},h,a,function(){o.name=this.value,r(0,o),r(1,i)},function(){o.script=this.value,r(0,o),r(1,i)},function(){o.path=this.value,r(0,o),r(1,i)},function(){o.env=$(this),r(0,o),r(1,i)},()=>{c(),h()}]}class lw extends ae{constructor(e){super(),se(this,e,aw,sw,i,{config:6})}}function cw(e){let t,r;return t=new lw({props:{config:e[1]}}),t.$on("changeView",e[3]),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.config=e[1]),t.$set(n)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function hw(t){let r,n,o;return n=new rw({}),n.$on("changeView",t[3]),{c(){r=O("div"),ne(n.$$.fragment),k(r,"id","listviews"),k(r,"class","svelte-1ix4abu")},m(e,t){p(e,r,t),oe(n,r,null),o=!0},p:e,i(e){o||(ee(n.$$.fragment,e),o=!0)},o(e){te(n.$$.fragment,e),o=!1},d(e){e&&g(r),ie(n)}}}function uw(e){let t,r,n,o;const i=[hw,cw],s=[];function a(e,t){return"lists"===e[0]?0:"script"===e[0]?1:-1}return~(r=a(e))&&(n=s[r]=i[r](e)),{c(){t=O("div"),n&&n.c(),k(t,"id","ExtScriptEditor"),S(t,"color",e[2].textcolor),S(t,"background-color",e[2].appBackground),k(t,"class","svelte-1ix4abu")},m(e,n){p(e,t,n),~r&&s[r].m(t,null),o=!0},p(e,[l]){let c=r;r=a(e),r===c?~r&&s[r].p(e,l):(n&&(J(),te(s[c],1,1,(()=>{s[c]=null})),K()),~r?(n=s[r],n?n.p(e,l):(n=s[r]=i[r](e),n.c()),ee(n,1),n.m(t,null)):n=null),(!o||4&l)&&S(t,"color",e[2].textcolor),(!o||4&l)&&S(t,"background-color",e[2].appBackground)},i(e){o||(ee(n),o=!0)},o(e){te(n),o=!1},d(e){e&&g(t),~r&&s[r].d()}}}function dw(e,t,r){let n;s(e,bb,(e=>r(2,n=e)));let o="lists",i={};return[o,i,n,function(e){r(0,o=e.detail.view),r(1,i=e.detail.config)}]}class fw extends ae{constructor(e){super(),se(this,e,dw,uw,i,{})}}function pw(e,t,r){const n=e.slice();return n[9]=t[r],n}function gw(e){let t,r,n,o,i,s,a=e[9]+"";function l(){return e[6](e[9])}return{c(){t=O("li"),r=O("span"),n=b(a),o=v(),k(r,"class","envName svelte-1xg0rtz")},m(e,a){p(e,t,a),f(t,r),f(r,n),f(t,o),i||(s=w(r,"click",l),i=!0)},p(t,r){e=t,1&r&&a!==(a=e[9]+"")&&y(n,a)},d(e){e&&g(t),i=!1,s()}}}function mw(e){let t,r,n,o;return{c(){t=O("button"),r=b("Create Default"),k(t,"id","default"),k(t,"class","buttonStyle svelte-1xg0rtz"),S(t,"background-color",e[2].textAreaColor),S(t,"color",e[2].textColor),S(t,"font-name",e[2].font),S(t,"font-size",e[2].fontSize),k(t,"type","button")},m(i,s){p(i,t,s),f(t,r),n||(o=w(t,"click",e[5]),n=!0)},p(e,r){4&r&&S(t,"background-color",e[2].textAreaColor),4&r&&S(t,"color",e[2].textColor),4&r&&S(t,"font-name",e[2].font),4&r&&S(t,"font-size",e[2].fontSize)},d(e){e&&g(t),n=!1,o()}}}function Ow(t){let r,n,o,i,s,a,l,c,h,u,d,x=t[0],y=[];for(let e=0;e<x.length;e+=1)y[e]=gw(pw(t,x,e));let Q=t[1]&&mw(t);return{c(){r=O("div"),n=O("h2"),n.textContent="Environments",o=v(),i=O("ol");for(let e=0;e<y.length;e+=1)y[e].c();s=v(),a=O("div"),l=O("button"),c=b("New Environment"),h=v(),Q&&Q.c(),k(n,"class","svelte-1xg0rtz"),k(i,"class","svelte-1xg0rtz"),k(l,"id","new"),k(l,"class","buttonStyle svelte-1xg0rtz"),S(l,"background-color",t[2].textAreaColor),S(l,"color",t[2].textColor),S(l,"font-name",t[2].font),S(l,"font-size",t[2].fontSize),k(l,"type","button"),k(a,"id","buttonRow"),k(a,"class","svelte-1xg0rtz"),k(r,"id","envlist"),k(r,"class","svelte-1xg0rtz")},m(e,g){p(e,r,g),f(r,n),f(r,o),f(r,i);for(let e=0;e<y.length;e+=1)y[e].m(i,null);f(r,s),f(r,a),f(a,l),f(l,c),f(a,h),Q&&Q.m(a,null),u||(d=w(l,"click",t[3]),u=!0)},p(e,[t]){if(17&t){let r;for(x=e[0],r=0;r<x.length;r+=1){const n=pw(e,x,r);y[r]?y[r].p(n,t):(y[r]=gw(n),y[r].c(),y[r].m(i,null))}for(;r<y.length;r+=1)y[r].d(1);y.length=x.length}4&t&&S(l,"background-color",e[2].textAreaColor),4&t&&S(l,"color",e[2].textColor),4&t&&S(l,"font-name",e[2].font),4&t&&S(l,"font-size",e[2].fontSize),e[1]?Q?Q.p(e,t):(Q=mw(e),Q.c(),Q.m(a,null)):Q&&(Q.d(1),Q=null)},i:e,o:e,d(e){e&&g(r),m(y,e),Q&&Q.d(),u=!1,d()}}}function bw(e,t,r){let n;s(e,bb,(e=>r(2,n=e)));let o=[],i=!1;const a=j();function l(e){a("changeView",{view:"env",config:{env:e}})}z((async()=>{await async function(){var e=await fetch("http://localhost:9978/api/scripts/env/list");r(0,o=await e.json())}();var e=o.filter((e=>"Default"==e));Array.isArray(e)&&0===e.length&&r(1,i=!0)}));return[o,i,n,async function(){a("changeView",{view:"env",config:{env:"new",envVar:[]}})},l,async function(){await fetch("http://localhost:9978/api/scripts/env/Default",{method:"PUT"}),a("changeView",{view:"env",config:{env:"Default"}})},e=>{l(e)}]}class vw extends ae{constructor(e){super(),se(this,e,bw,Ow,i,{})}}function xw(e){let t,r,o,i,s,a,l,c,h,u,d,m,x;return{c(){t=O("td"),r=O("span"),r.textContent="✏️",o=v(),i=O("td"),s=O("span"),s.textContent="❌",a=v(),l=O("td"),c=b(e[0]),h=v(),u=O("td"),d=b(e[1]),k(t,"class","editTD svelte-iq93qk"),S(s,"width","10px"),S(s,"cursor","pointer"),k(i,"class","deleteTD svelte-iq93qk")},m(n,g){p(n,t,g),f(t,r),p(n,o,g),p(n,i,g),f(i,s),p(n,a,g),p(n,l,g),f(l,c),p(n,h,g),p(n,u,g),f(u,d),m||(x=[w(r,"click",e[10]),w(s,"click",e[6])],m=!0)},p(e,t){1&t&&y(c,e[0]),2&t&&y(d,e[1])},d(e){e&&g(t),e&&g(o),e&&g(i),e&&g(a),e&&g(l),e&&g(h),e&&g(u),m=!1,n(x)}}}function ww(e){let t,r,o,i,s,a,l,c,h,u;return{c(){t=O("td"),r=O("td"),o=v(),i=O("td"),s=O("input"),a=v(),l=O("td"),c=O("input"),k(s,"type","text"),S(s,"padding-left","10px"),S(s,"border-radius","10px"),S(s,"border-color",e[4].borderColor),S(s,"background-color",e[4].textAreaColor),S(s,"color",e[4].textColor),S(s,"font-family","'"+e[4].font+"'"),S(s,"font-size",e[4].fontSize),k(c,"type","text"),S(c,"padding-left","10px"),S(c,"border-radius","10px"),S(c,"border-color",e[4].borderColor),S(c,"background-color",e[4].textAreaColor),S(c,"color",e[4].textColor),S(c,"font-family",e[4].font),S(c,"font-size",e[4].fontSize)},m(n,d){p(n,t,d),p(n,r,d),p(n,o,d),p(n,i,d),f(i,s),e[7](s),Q(s,e[0]),p(n,a,d),p(n,l,d),f(l,c),Q(c,e[1]),h||(u=[w(s,"input",e[8]),w(c,"input",e[9]),w(c,"blur",e[5])],h=!0)},p(e,t){16&t&&S(s,"border-color",e[4].borderColor),16&t&&S(s,"background-color",e[4].textAreaColor),16&t&&S(s,"color",e[4].textColor),16&t&&S(s,"font-family","'"+e[4].font+"'"),16&t&&S(s,"font-size",e[4].fontSize),1&t&&s.value!==e[0]&&Q(s,e[0]),16&t&&S(c,"border-color",e[4].borderColor),16&t&&S(c,"background-color",e[4].textAreaColor),16&t&&S(c,"color",e[4].textColor),16&t&&S(c,"font-family",e[4].font),16&t&&S(c,"font-size",e[4].fontSize),2&t&&c.value!==e[1]&&Q(c,e[1])},d(s){s&&g(t),s&&g(r),s&&g(o),s&&g(i),e[7](null),s&&g(a),s&&g(l),h=!1,n(u)}}}function kw(t){let r;function n(e,t){return e[2]?ww:xw}let o=n(t),i=o(t);return{c(){r=O("tr"),i.c()},m(e,t){p(e,r,t),i.m(r,null)},p(e,[t]){o===(o=n(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(r,null)))},i:e,o:e,d(e){e&&g(r),i.d()}}}function yw(e,t,r){let n;s(e,bb,(e=>r(4,n=e)));const o=j();let{name:i}=t,{value:a}=t;var l,c=!1;M((()=>{c&&l.focus()}));return e.$$set=e=>{"name"in e&&r(0,i=e.name),"value"in e&&r(1,a=e.value)},[i,a,c,l,n,function(){r(2,c=!1),o("editRow",{name:i,value:a})},function(){o("deleteRow",{name:i,value:a})},function(e){W[e?"unshift":"push"]((()=>{r(3,l=e)}))},function(){i=this.value,r(0,i)},function(){a=this.value,r(1,a)},()=>{r(2,c=!0)}]}class Qw extends ae{constructor(e){super(),se(this,e,yw,kw,i,{name:0,value:1})}}function Sw(e,t,r){const n=e.slice();return n[19]=t[r],n}function Cw(e){let t,r,o,i,s,a,l,c,h,u="undefined"!==e[0].envVar&&$w(e);return{c(){t=O("div"),r=O("label"),r.textContent="Name of the Environment",o=v(),i=O("input"),s=v(),u&&u.c(),a=x(),k(r,"id","envName"),k(r,"for","envName"),k(i,"id","envName"),k(i,"name","envName"),S(i,"padding-left","10px"),S(i,"margin-top","-5px"),S(i,"margin-left","20px"),S(i,"border-radius","10px"),S(i,"border-color",e[4].borderColor),S(i,"background-color",e[4].textAreaColor),S(i,"font-family",e[4].font),S(i,"color",e[4].textColor),S(i,"font-size",e[4].fontSize),S(i,"border","solid 3px "+e[4].borderColor),S(t,"display","flex"),S(t,"flex-direction","row")},m(n,d){p(n,t,d),f(t,r),f(t,o),f(t,i),Q(i,e[0].name),p(n,s,d),u&&u.m(n,d),p(n,a,d),l=!0,c||(h=[w(i,"blur",e[5]),w(i,"input",e[11])],c=!0)},p(e,t){(!l||16&t)&&S(i,"border-color",e[4].borderColor),(!l||16&t)&&S(i,"background-color",e[4].textAreaColor),(!l||16&t)&&S(i,"font-family",e[4].font),(!l||16&t)&&S(i,"color",e[4].textColor),(!l||16&t)&&S(i,"font-size",e[4].fontSize),(!l||16&t)&&S(i,"border","solid 3px "+e[4].borderColor),1&t&&i.value!==e[0].name&&Q(i,e[0].name),"undefined"!==e[0].envVar?u?(u.p(e,t),1&t&&ee(u,1)):(u=$w(e),u.c(),ee(u,1),u.m(a.parentNode,a)):u&&(J(),te(u,1,1,(()=>{u=null})),K())},i(e){l||(ee(u),l=!0)},o(e){te(u),l=!1},d(e){e&&g(t),e&&g(s),u&&u.d(e),e&&g(a),c=!1,n(h)}}}function $w(e){let t,r,n,o,i,s,a,l=Object.entries(e[0].envVar).length>0,c=l&&Tw(e);function h(e,t){return e[1]?Rw:Pw}let u=h(e),d=u(e);return{c(){t=O("div"),r=O("table"),n=O("thead"),n.innerHTML='<tr><th class="svelte-13talvl"></th> \n              <th class="svelte-13talvl"></th> \n              <th class="svelte-13talvl">Name</th> \n              <th class="svelte-13talvl">Value</th></tr>',o=v(),i=O("tbody"),c&&c.c(),s=v(),d.c(),k(t,"id","EnvTable"),k(t,"class","svelte-13talvl")},m(e,l){p(e,t,l),f(t,r),f(r,n),f(r,o),f(r,i),c&&c.m(i,null),f(i,s),d.m(i,null),a=!0},p(e,t){1&t&&(l=Object.entries(e[0].envVar).length>0),l?c?(c.p(e,t),1&t&&ee(c,1)):(c=Tw(e),c.c(),ee(c,1),c.m(i,s)):c&&(J(),te(c,1,1,(()=>{c=null})),K()),u===(u=h(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(i,null)))},i(e){a||(ee(c),a=!0)},o(e){te(c),a=!1},d(e){e&&g(t),c&&c.d(),d.d()}}}function Tw(e){let t,r,n=Object.entries(e[0].envVar),o=[];for(let t=0;t<n.length;t+=1)o[t]=_w(Sw(e,n,t));const i=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);p(e,t,n),r=!0},p(e,r){if(769&r){let s;for(n=Object.entries(e[0].envVar),s=0;s<n.length;s+=1){const i=Sw(e,n,s);o[s]?(o[s].p(i,r),ee(o[s],1)):(o[s]=_w(i),o[s].c(),ee(o[s],1),o[s].m(t.parentNode,t))}for(J(),s=n.length;s<o.length;s+=1)i(s);K()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)ee(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);r=!1},d(e){m(o,e),e&&g(t)}}}function _w(e){let t,r;return t=new Qw({props:{name:e[19][0],value:e[19][1]}}),t.$on("deleteRow",(function(){return e[12](e[19])})),t.$on("editRow",e[13]),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},p(r,n){e=r;const o={};1&n&&(o.name=e[19][0]),1&n&&(o.value=e[19][1]),t.$set(o)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Pw(t){let r,n,o,i,s;return{c(){r=O("tr"),n=O("td"),o=O("span"),o.textContent="+",k(o,"class","addNewItem svelte-13talvl"),k(n,"span","2"),k(n,"class","svelte-13talvl")},m(e,a){p(e,r,a),f(r,n),f(n,o),i||(s=w(o,"click",t[16]),i=!0)},p:e,d(e){e&&g(r),i=!1,s()}}}function Rw(e){let t,r,o,i,s,a,l,c,h,u;return{c(){t=O("tr"),r=O("td"),o=O("input"),s=v(),a=O("td"),l=O("input"),k(o,"class","inputKV"),k(o,"type","text"),k(o,"style",i="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";"),k(r,"class","svelte-13talvl"),k(l,"class","inputKV"),k(l,"type","text"),k(l,"style",c="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";"),k(a,"class","svelte-13talvl")},m(n,i){p(n,t,i),f(t,r),f(r,o),Q(o,e[2]),f(t,s),f(t,a),f(a,l),Q(l,e[3]),h||(u=[w(o,"input",e[14]),w(l,"input",e[15]),w(l,"blur",e[8])],h=!0)},p(e,t){16&t&&i!==(i="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";")&&k(o,"style",i),4&t&&o.value!==e[2]&&Q(o,e[2]),16&t&&c!==(c="background-color: "+e[4].textAreaColor+"; text= "+e[4].textColor+"; font-name: "+e[4].font+"; font-size: "+e[4].fontSize+";")&&k(l,"style",c),8&t&&l.value!==e[3]&&Q(l,e[3])},d(e){e&&g(t),h=!1,n(u)}}}function Aw(e){let t,r,o,i,s,a,l,c,h,u,d,m=void 0!==e[0]&&Cw(e);return{c(){t=O("div"),m&&m.c(),r=v(),o=O("div"),i=O("button"),s=b("Return"),a=v(),l=O("button"),c=b("Delete"),k(i,"id","goback"),k(i,"class","buttonStyle svelte-13talvl"),k(i,"type","button"),S(i,"background-color",e[4].textAreaColor),S(i,"color",e[4].textColor),S(i,"font-name",e[4].font),S(i,"font-size",e[4].fontSize),k(l,"class","buttonStyle svelte-13talvl"),k(l,"type","button"),S(l,"background-color",e[4].textAreaColor),S(l,"color",e[4].textColor),S(l,"font-name",e[4].font),S(l,"font-size",e[4].fontSize),k(o,"id","buttonRow"),k(o,"class","svelte-13talvl"),k(t,"id","env"),S(t,"color",e[4].textColor),S(t,"background-color",e[4].textareaColor),k(t,"class","svelte-13talvl")},m(n,g){p(n,t,g),m&&m.m(t,null),f(t,r),f(t,o),f(o,i),f(i,s),f(o,a),f(o,l),f(l,c),h=!0,u||(d=[w(i,"click",e[17]),w(l,"click",e[6])],u=!0)},p(e,[n]){void 0!==e[0]?m?(m.p(e,n),1&n&&ee(m,1)):(m=Cw(e),m.c(),ee(m,1),m.m(t,r)):m&&(J(),te(m,1,1,(()=>{m=null})),K()),(!h||16&n)&&S(i,"background-color",e[4].textAreaColor),(!h||16&n)&&S(i,"color",e[4].textColor),(!h||16&n)&&S(i,"font-name",e[4].font),(!h||16&n)&&S(i,"font-size",e[4].fontSize),(!h||16&n)&&S(l,"background-color",e[4].textAreaColor),(!h||16&n)&&S(l,"color",e[4].textColor),(!h||16&n)&&S(l,"font-name",e[4].font),(!h||16&n)&&S(l,"font-size",e[4].fontSize),(!h||16&n)&&S(t,"color",e[4].textColor),(!h||16&n)&&S(t,"background-color",e[4].textareaColor)},i(e){h||(ee(m),h=!0)},o(e){te(m),h=!1},d(e){e&&g(t),m&&m.d(),u=!1,n(d)}}}async function zw(e){var t=await fetch(`http://localhost:9978/api/scripts/env/${e}`);return await t.json()}function Mw(e,t,r){let n;s(e,bb,(e=>r(4,n=e)));let o,{config:i}=t,a=!1,l="",c="";const h=j();async function u(){null!=o&&""!==o.name&&null!==o.name&&"new"!==o.name&&await async function(e){await fetch(`http://localhost:9978/api/scripts/env/${e.name}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(o)}function d(){h("changeView",{view:"lists",config:{}})}async function f(){r(0,o.envVar[l]=c,o),r(1,a=!1),r(2,l=""),r(3,c=""),await u()}async function p(e){delete o.envVar[e[0]],await u(),r(0,o=await zw(i.env))}z((async()=>{void 0!==i.env&&("new"!==i.env&&null!==i.env?("default"===i.env&&r(10,i.env="Default",i),r(0,o=await zw(i.env))):r(0,o={name:"new",envVar:{}}))}));return e.$$set=e=>{"config"in e&&r(10,i=e.config)},[o,a,l,c,n,u,async function(){void 0!==o&&null!==o.name&&"new"!==o.name&&""!==o.name&&(await async function(e){await fetch(`http://localhost:9978/api/scripts/env/${e}`,{method:"DELETE"})}(o.name),q(),d())},d,f,p,i,function(){o.name=this.value,r(0,o)},e=>{p(e)},e=>{r(0,o.envVar[e.detail.name]=e.detail.value,o),f()},function(){l=this.value,r(2,l)},function(){c=this.value,r(3,c)},()=>{r(1,a=!0)},()=>{u(),d()}]}class jw extends ae{constructor(e){super(),se(this,e,Mw,Aw,i,{config:10})}}function Ew(e){let t,r;return t=new jw({props:{config:e[1]}}),t.$on("changeView",e[3]),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},p(e,r){const n={};2&r&&(n.config=e[1]),t.$set(n)},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Ww(t){let r,n,o;return n=new vw({}),n.$on("changeView",t[3]),{c(){r=O("div"),ne(n.$$.fragment),k(r,"id","listviews"),k(r,"class","svelte-gorzvb")},m(e,t){p(e,r,t),oe(n,r,null),o=!0},p:e,i(e){o||(ee(n.$$.fragment,e),o=!0)},o(e){te(n.$$.fragment,e),o=!1},d(e){e&&g(r),ie(n)}}}function Dw(e){let t,r,n,o;const i=[Ww,Ew],s=[];function a(e,t){return"lists"===e[0]?0:"env"===e[0]?1:-1}return~(r=a(e))&&(n=s[r]=i[r](e)),{c(){t=O("div"),n&&n.c(),k(t,"id","EnvEditor"),S(t,"color",e[2].textColor),S(t,"background-color",e[2].backgroundColor),k(t,"class","svelte-gorzvb")},m(e,n){p(e,t,n),~r&&s[r].m(t,null),o=!0},p(e,[l]){let c=r;r=a(e),r===c?~r&&s[r].p(e,l):(n&&(J(),te(s[c],1,1,(()=>{s[c]=null})),K()),~r?(n=s[r],n?n.p(e,l):(n=s[r]=i[r](e),n.c()),ee(n,1),n.m(t,null)):n=null),(!o||4&l)&&S(t,"color",e[2].textColor),(!o||4&l)&&S(t,"background-color",e[2].backgroundColor)},i(e){o||(ee(n),o=!0)},o(e){te(n),o=!1},d(e){e&&g(t),~r&&s[r].d()}}}function Xw(e,t,r){let n;s(e,bb,(e=>r(2,n=e)));let o="lists",i={env:"Default"};return[o,i,n,function(e){r(0,o=e.detail.view),r(1,i=e.detail.config)}]}class Lw extends ae{constructor(e){super(),se(this,e,Xw,Dw,i,{})}}function Iw(e,t,r){const n=e.slice();return n[10]=t[r],n}function Zw(e){let t,r,n,o,i,s=e[10].name+"";function a(){return e[6](e[10])}return{c(){t=O("li"),r=b(s),n=v(),k(t,"class","tabName svelte-1c0xrvo"),S(t,"border-color","gray")},m(e,s){p(e,t,s),f(t,r),f(t,n),o||(i=w(t,"click",a),o=!0)},p(t,r){e=t},d(e){e&&g(t),o=!1,i()}}}function qw(e){let t,r,n,o=e[10].name+"";return{c(){t=O("li"),r=b(o),n=v(),k(t,"class","tabName svelte-1c0xrvo"),S(t,"border-bottom","3px "+e[1].backgroundColor),S(t,"z-index","100")},m(e,o){p(e,t,o),f(t,r),f(t,n)},p(e,r){2&r&&S(t,"border-bottom","3px "+e[1].backgroundColor)},d(e){e&&g(t)}}}function Nw(e){let t;function r(e,t){return e[10].name===e[0]?qw:Zw}let n=r(e),o=n(e);return{c(){o.c(),t=x()},m(e,r){o.m(e,r),p(e,t,r)},p(e,i){n===(n=r(e))&&o?o.p(e,i):(o.d(1),o=n(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}function Bw(e){let t,r;return t=new Lw({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Vw(e){let t,r;return t=new fw({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Gw(e){let t,r;return t=new Px({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Uw(e){let t,r;return t=new Yx({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Fw(e){let t,r;return t=new zx({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function Hw(e){let t,r,o,i,s,a,l,c,h,u,d,x,y,Q,C,$,T=e[2],_=[];for(let t=0;t<T.length;t+=1)_[t]=Nw(Iw(e,T,t));const P=[Fw,Uw,Gw,Vw,Bw],R=[];function A(e,t){return"General"===e[0]?0:"Theme"===e[0]?1:"Node-Red"===e[0]?2:"External Scripts"===e[0]?3:"Environments"===e[0]?4:-1}return~(s=A(e))&&(a=R[s]=P[s](e)),{c(){t=O("div"),r=O("ul");for(let e=0;e<_.length;e+=1)_[e].c();o=v(),i=O("div"),a&&a.c(),l=v(),c=O("div"),h=O("button"),u=b("EmailIt+"),d=v(),x=O("button"),y=b("Notes"),k(r,"id","tabs"),k(r,"class","svelte-1c0xrvo"),k(i,"id","prefListWrap"),k(i,"class","svelte-1c0xrvo"),S(h,"background-color",e[1].textAreaColor),S(h,"font-family",e[1].font),S(h,"color",e[1].textColor),S(h,"font-size",e[1].fontSize),k(h,"class","svelte-1c0xrvo"),S(x,"background-color",e[1].textAreaColor),S(x,"font-family",e[1].font),S(x,"color",e[1].textColor),S(x,"font-size",e[1].fontSize),k(x,"class","svelte-1c0xrvo"),k(c,"id","buttonPanel"),k(c,"class","svelte-1c0xrvo"),k(t,"id","PreferencePanel"),S(t,"background-color",e[1].backgroundColor),S(t,"font-family",e[1].font),S(t,"color",e[1].textColor),S(t,"font-size",e[1].fontSize),k(t,"class","svelte-1c0xrvo")},m(n,a){p(n,t,a),f(t,r);for(let e=0;e<_.length;e+=1)_[e].m(r,null);f(t,o),f(t,i),~s&&R[s].m(i,null),f(t,l),f(t,c),f(c,h),f(h,u),f(c,d),f(c,x),f(x,y),Q=!0,C||($=[w(h,"click",e[7]),w(x,"click",e[8])],C=!0)},p(e,[n]){if(15&n){let t;for(T=e[2],t=0;t<T.length;t+=1){const o=Iw(e,T,t);_[t]?_[t].p(o,n):(_[t]=Nw(o),_[t].c(),_[t].m(r,null))}for(;t<_.length;t+=1)_[t].d(1);_.length=T.length}let o=s;s=A(e),s!==o&&(a&&(J(),te(R[o],1,1,(()=>{R[o]=null})),K()),~s?(a=R[s],a||(a=R[s]=P[s](e),a.c()),ee(a,1),a.m(i,null)):a=null),(!Q||2&n)&&S(h,"background-color",e[1].textAreaColor),(!Q||2&n)&&S(h,"font-family",e[1].font),(!Q||2&n)&&S(h,"color",e[1].textColor),(!Q||2&n)&&S(h,"font-size",e[1].fontSize),(!Q||2&n)&&S(x,"background-color",e[1].textAreaColor),(!Q||2&n)&&S(x,"font-family",e[1].font),(!Q||2&n)&&S(x,"color",e[1].textColor),(!Q||2&n)&&S(x,"font-size",e[1].fontSize),(!Q||2&n)&&S(t,"background-color",e[1].backgroundColor),(!Q||2&n)&&S(t,"font-family",e[1].font),(!Q||2&n)&&S(t,"color",e[1].textColor),(!Q||2&n)&&S(t,"font-size",e[1].fontSize)},i(e){Q||(ee(a),Q=!0)},o(e){te(a),Q=!1},d(e){e&&g(t),m(_,e),~s&&R[s].d(),C=!1,n($)}}}function Yw(e,t,r){let n,o;s(e,Ab,(e=>r(9,n=e))),s(e,bb,(e=>r(1,o=e)));let i="General";function a(e){r(0,i=e)}function l(){d(Ab,n="emailit",n)}function c(){d(Ab,n="notes",n)}return[i,o,[{name:"General"},{name:"Theme"},{name:"Node-Red"},{name:"External Scripts"},{name:"Environments"}],a,l,c,e=>{a(e.name)},()=>{l()},e=>{c()}]}class Jw extends ae{constructor(e){super(),se(this,e,Yw,Hw,i,{})}}function Kw(e){let t,r;return t=new Jw({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function ek(e){let t,r;return t=new $x({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function tk(e){let t,r;return t=new yx({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function rk(e){let t,r;return t=new yv({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function nk(e){let t,r;return t=new pv({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function ok(e){let t,r;return t=new lv({}),{c(){ne(t.$$.fragment)},m(e,n){oe(t,e,n),r=!0},i(e){r||(ee(t.$$.fragment,e),r=!0)},o(e){te(t.$$.fragment,e),r=!1},d(e){ie(t,e)}}}function ik(e){let t,r,n,o,i,s,a,l,c,h,u;const d=[ok,nk,rk,tk,ek,Kw],f=[];function m(e,t){return"emailit"===e[0]?0:"viewlog"===e[0]?1:"notes"===e[0]?2:"scripts"===e[0]?3:"templates"===e[0]?4:"preferences"===e[0]?5:-1}return~(n=m(e))&&(o=f[n]=d[n](e)),s=new Av({}),l=new Xv({}),{c(){t=O("div"),r=v(),o&&o.c(),i=v(),ne(s.$$.fragment),a=v(),ne(l.$$.fragment),k(t,"id","dragbar"),k(t,"data-wails-drag",""),k(t,"class","svelte-wpwr83")},m(o,d){p(o,t,d),p(o,r,d),~n&&f[n].m(o,d),p(o,i,d),oe(s,o,d),p(o,a,d),oe(l,o,d),c=!0,h||(u=w(window,"keydown",e[1]),h=!0)},p(e,[t]){let r=n;n=m(e),n!==r&&(o&&(J(),te(f[r],1,1,(()=>{f[r]=null})),K()),~n?(o=f[n],o||(o=f[n]=d[n](e),o.c()),ee(o,1),o.m(i.parentNode,i)):o=null)},i(e){c||(ee(o),ee(s.$$.fragment,e),ee(l.$$.fragment,e),c=!0)},o(e){te(o),te(s.$$.fragment,e),te(l.$$.fragment,e),c=!1},d(e){e&&g(t),e&&g(r),~n&&f[n].d(e),e&&g(i),ie(s,e),e&&g(a),ie(l,e),h=!1,u()}}}function sk(e,t,r){let n,o,i,a,l,c;return s(e,Ab,(e=>r(0,n=e))),s(e,Db,(e=>r(3,o=e))),s(e,Wb,(e=>r(4,i=e))),s(e,zv,(e=>r(5,a=e))),s(e,Qv,(e=>r(6,l=e))),s(e,bb,(e=>r(7,c=e))),z((()=>{fetch("http://localhost:9978/api/scripts/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(Qv,l=e.data,l),"undefined"!=typeof callback&&callback()})),fetch("http://localhost:9978/api/template/list",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(zv,a=e.templates,a),"undefined"!=typeof callback&&callback()})),fetch("http://localhost:9978/api/theme",{method:"GET",headers:{"Content-type":"application/json"}}).then((e=>e.json())).then((e=>{d(bb,c=e.theme,c),"undefined"!=typeof callback&&callback()}))})),M((()=>{})),[n,function(e){if(e.metaKey&&","===e.key)e.preventDefault(),d(Ab,n="preferences",n);else if(e.ctrlKey)switch(e.key){case"e":d(Ab,n="emailit",n),e.preventDefault();break;case"v":d(Ab,n="viewlog",n),e.preventDefault();break;case"n":d(Ab,n="notes",n),e.preventDefault();break;case"m":d(Wb,i=!i,i),e.preventDefault();break;case"t":d(Db,o=!o,o),e.preventDefault();break;case"p":d(Ab,n="preferences",n),e.preventDefault()}}]}return new class extends ae{constructor(e){super(),se(this,e,sk,ik,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
